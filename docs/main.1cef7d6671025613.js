"use strict";(self.webpackChunkszakdolgozat=self.webpackChunkszakdolgozat||[]).push([[179],{7128:(bn,xt,x)=>{x.d(xt,{nm:()=>Te});var m=x(4027),N=(x(4650),x(3692),x(5867),x(5861)),ze=x(9681),Ye=x(4859),ie=x(2090),qe=x(1877);const q=new Map,Pe={activated:!1,tokenObservers:[]},Ee={initialized:!1,enabled:!1};function Le(Vt){return q.get(Vt)||Pe}function gt(Vt,Bt){q.set(Vt,Bt)}function ht(){return Ee}class Qe{constructor(Bt,zt,yn,In,Zn){if(this.operation=Bt,this.retryPolicy=zt,this.getWaitDuration=yn,this.lowerBound=In,this.upperBound=Zn,this.pending=null,this.nextErrorWaitInterval=In,In>Zn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Bt){var zt=this;return(0,N.Z)(function*(){zt.stop();try{zt.pending=new ie.BH,yield function He(Vt){return new Promise(Bt=>{setTimeout(Bt,Vt)})}(zt.getNextRun(Bt)),zt.pending.resolve(),yield zt.pending.promise,zt.pending=new ie.BH,yield zt.operation(),zt.pending.resolve(),yield zt.pending.promise,zt.process(!0).catch(()=>{})}catch(yn){zt.retryPolicy(yn)?zt.process(!1).catch(()=>{}):zt.stop()}})()}getNextRun(Bt){if(Bt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const zt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),zt}}}const ke=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dt(Vt){if(!Le(Vt).activated)throw ke.create("use-before-activation",{appName:Vt.name})}function Rt(Vt,Bt){return It.apply(this,arguments)}function It(){return(It=(0,N.Z)(function*({url:Vt,body:Bt},zt){var yn,In;const Zn={"Content-Type":"application/json"},Ai=zt.getImmediate({optional:!0});if(Ai){const $r=yield Ai.getHeartbeatsHeader();$r&&(Zn["X-Firebase-Client"]=$r)}const mr={method:"POST",body:JSON.stringify(Bt),headers:Zn};let Ni,cr;try{Ni=yield fetch(Vt,mr)}catch($r){throw ke.create("fetch-network-error",{originalErrorMessage:null===(yn=$r)||void 0===yn?void 0:yn.message})}if(200!==Ni.status)throw ke.create("fetch-status-error",{httpStatus:Ni.status});try{cr=yield Ni.json()}catch($r){throw ke.create("fetch-parse-error",{originalErrorMessage:null===(In=$r)||void 0===In?void 0:In.message})}const so=cr.ttl.match(/^([\d.]+)(s)$/);if(!so||!so[2]||isNaN(Number(so[1])))throw ke.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${cr.ttl}`});const il=1e3*Number(so[1]),Ks=Date.now();return{token:cr.token,expireTimeMillis:Ks+il,issuedAtTimeMillis:Ks}})).apply(this,arguments)}function an(Vt,Bt){const{projectId:zt,appId:yn,apiKey:In}=Vt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${zt}/apps/${yn}:exchangeDebugToken?key=${In}`,body:{debug_token:Bt}}}const vt="firebase-app-check-store";let Yt=null;function nn(){return Yt||(Yt=new Promise((Vt,Bt)=>{var zt;try{const yn=indexedDB.open("firebase-app-check-database",1);yn.onsuccess=In=>{Vt(In.target.result)},yn.onerror=In=>{var Zn;Bt(ke.create("storage-open",{originalErrorMessage:null===(Zn=In.target.error)||void 0===Zn?void 0:Zn.message}))},yn.onupgradeneeded=In=>{0===In.oldVersion&&In.target.result.createObjectStore(vt,{keyPath:"compositeKey"})}}catch(yn){Bt(ke.create("storage-open",{originalErrorMessage:null===(zt=yn)||void 0===zt?void 0:zt.message}))}}),Yt)}function Un(){return(Un=(0,N.Z)(function*(Vt,Bt){const yn=(yield nn()).transaction(vt,"readwrite"),Zn=yn.objectStore(vt).put({compositeKey:Vt,value:Bt});return new Promise((Ai,mr)=>{Zn.onsuccess=Ni=>{Ai()},yn.onerror=Ni=>{var cr;mr(ke.create("storage-set",{originalErrorMessage:null===(cr=Ni.target.error)||void 0===cr?void 0:cr.message}))}})})).apply(this,arguments)}const Vn=new qe.Yd("@firebase/app-check");function _n(Vt,Bt){return(0,ie.hl)()?function Dn(Vt,Bt){return function An(Vt,Bt){return Un.apply(this,arguments)}(function $n(Vt){return`${Vt.options.appId}-${Vt.name}`}(Vt),Bt)}(Vt,Bt).catch(zt=>{Vn.warn(`Failed to write token to IndexedDB. Error: ${zt}`)}):Promise.resolve()}function ge(){return ht().enabled}function rt(){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,N.Z)(function*(){const Vt=ht();if(Vt.enabled&&Vt.token)return Vt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $t={error:"UNKNOWN_ERROR"};function un(Vt){return ie.US.encodeString(JSON.stringify(Vt),!1)}function jt(Vt){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*(Vt,Bt=!1){const zt=Vt.app;Dt(zt);const yn=Le(zt);let Zn,In=yn.token;if(In&&!vn(In)&&(gt(zt,Object.assign(Object.assign({},yn),{token:void 0})),In=void 0),!In){const Ni=yield yn.cachedTokenPromise;Ni&&(vn(Ni)?In=Ni:yield _n(zt,void 0))}if(!Bt&&In&&vn(In))return{token:In.token};let mr,Ai=!1;if(ge()){yn.exchangeTokenPromise||(yn.exchangeTokenPromise=Rt(an(zt,yield rt()),Vt.heartbeatServiceProvider).finally(()=>{yn.exchangeTokenPromise=void 0}),Ai=!0);const Ni=yield yn.exchangeTokenPromise;return yield _n(zt,Ni),gt(zt,Object.assign(Object.assign({},yn),{token:Ni})),{token:Ni.token}}try{yn.exchangeTokenPromise||(yn.exchangeTokenPromise=yn.provider.getToken().finally(()=>{yn.exchangeTokenPromise=void 0}),Ai=!0),In=yield yn.exchangeTokenPromise}catch(Ni){"appCheck/throttled"===Ni.code?Vn.warn(Ni.message):Vn.error(Ni),Zn=Ni}return In?Zn?mr=vn(In)?{token:In.token,internalError:Zn}:kt(Zn):(mr={token:In.token},gt(zt,Object.assign(Object.assign({},yn),{token:In})),yield _n(zt,In)):mr=kt(Zn),Ai&&Nn(zt,mr),mr})).apply(this,arguments)}function yt(Vt,Bt){const zt=Le(Vt),yn=zt.tokenObservers.filter(In=>In.next!==Bt);0===yn.length&&zt.tokenRefresher&&zt.tokenRefresher.isRunning()&&zt.tokenRefresher.stop(),gt(Vt,Object.assign(Object.assign({},zt),{tokenObservers:yn}))}function Ut(Vt){const{app:Bt}=Vt,zt=Le(Bt);let yn=zt.tokenRefresher;yn||(yn=function cn(Vt){const{app:Bt}=Vt;return new Qe((0,N.Z)(function*(){let yn;if(yn=Le(Bt).token?yield jt(Vt,!0):yield jt(Vt),yn.error)throw yn.error;if(yn.internalError)throw yn.internalError}),()=>!0,()=>{const zt=Le(Bt);if(zt.token){let yn=zt.token.issuedAtTimeMillis+.5*(zt.token.expireTimeMillis-zt.token.issuedAtTimeMillis)+3e5;return yn=Math.min(yn,zt.token.expireTimeMillis-3e5),Math.max(0,yn-Date.now())}return 0},3e4,96e4)}(Vt),gt(Bt,Object.assign(Object.assign({},zt),{tokenRefresher:yn}))),!yn.isRunning()&&zt.isTokenAutoRefreshEnabled&&yn.start()}function Nn(Vt,Bt){const zt=Le(Vt).tokenObservers;for(const yn of zt)try{"EXTERNAL"===yn.type&&null!=Bt.error?yn.error(Bt.error):yn.next(Bt)}catch{}}function vn(Vt){return Vt.expireTimeMillis-Date.now()>0}function kt(Vt){return{token:un($t),error:Vt}}class Ot{constructor(Bt,zt){this.app=Bt,this.heartbeatServiceProvider=zt}_delete(){const{tokenObservers:Bt}=Le(this.app);for(const zt of Bt)yt(this.app,zt.next);return Promise.resolve()}}const ue="app-check-internal";!function V(){(0,ze._registerComponent)(new Ye.wA("app-check",Vt=>function te(Vt,Bt){return new Ot(Vt,Bt)}(Vt.getProvider("app").getImmediate(),Vt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Vt,Bt,zt)=>{Vt.getProvider(ue).initialize()})),(0,ze._registerComponent)(new Ye.wA(ue,Vt=>function ae(Vt){return{getToken:Bt=>jt(Vt,Bt),addTokenListener:Bt=>function Ne(Vt,Bt,zt,yn){const{app:In}=Vt,Zn=Le(In),Ai={next:zt,error:yn,type:Bt};if(gt(In,Object.assign(Object.assign({},Zn),{tokenObservers:[...Zn.tokenObservers,Ai]})),Zn.token&&vn(Zn.token)){const mr=Zn.token;Promise.resolve().then(()=>{zt({token:mr.token}),Ut(Vt)}).catch(()=>{})}Zn.cachedTokenPromise.then(()=>Ut(Vt))}(Vt,"INTERNAL",Bt),removeTokenListener:Bt=>yt(Vt.app,Bt)}}(Vt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ze.registerVersion)("@firebase/app-check","0.5.15")}();class Te{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3692:(bn,xt,x)=>{x.d(xt,{Ot:()=>De,ZF:()=>Ge,hX:()=>Le,z6:()=>N});var m=x(5867),h=x(4650),A=x(4027);class De{constructor(Qe){return Qe}}class N{constructor(){return(0,m.C6)()}}const ie=new h.OlP("angularfire2._apps"),qe={provide:De,useFactory:function Ye(tt){return tt&&1===tt.length?tt[0]:new De((0,m.Mq)())},deps:[[new h.FiY,ie]]},q={provide:N,deps:[[new h.FiY,ie]]};function Pe(tt){return(Qe,He)=>{const Ke=Qe.runOutsideAngular(()=>tt(He));return new De(Ke)}}let Ee=(()=>{class tt{constructor(He){(0,m.KN)("angularfire",A.q4.full,"core"),(0,m.KN)("angularfire",A.q4.full,"app"),(0,m.KN)("angular",h.q4F.full,He.toString())}}return tt.\u0275fac=function(He){return new(He||tt)(h.LFG(h.Lbi))},tt.\u0275mod=h.oAB({type:tt}),tt.\u0275inj=h.cJS({providers:[qe,q]}),tt})();function Le(tt,...Qe){return{ngModule:Ee,providers:[{provide:ie,useFactory:Pe(tt),multi:!0,deps:[h.R0b,h.zs3,A.HU,...Qe]}]}}const Ge=(0,A.u3)(m.ZF,!0)},1205:(bn,xt,x)=>{x.d(xt,{zQ:()=>Jt,ww:()=>Kt,rT:()=>ot,f7:()=>Rt,L6:()=>$e,_Q:()=>Dt,lh:()=>dt,Qv:()=>ke,nw:()=>It});var m=x(4650),h=x(7579),A=x(9646),De=x(9751),N=x(8996),ze=x(6451),Ye=x(5363),ie=x(3900),qe=x(4004),q=x(6063);class Pe extends h.x{constructor(fn=1/0,sn=1/0,vt=q.l){super(),this._bufferSize=fn,this._windowTime=sn,this._timestampProvider=vt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=sn===1/0,this._bufferSize=Math.max(1,fn),this._windowTime=Math.max(1,sn)}next(fn){const{isStopped:sn,_buffer:vt,_infiniteTimeWindow:qt,_timestampProvider:Yt,_windowTime:nn}=this;sn||(vt.push(fn),!qt&&vt.push(Yt.now()+nn)),this._trimBuffer(),super.next(fn)}_subscribe(fn){this._throwIfClosed(),this._trimBuffer();const sn=this._innerSubscribe(fn),{_infiniteTimeWindow:vt,_buffer:qt}=this,Yt=qt.slice();for(let nn=0;nn<Yt.length&&!fn.closed;nn+=vt?1:2)fn.next(Yt[nn]);return this._checkFinalizedStatuses(fn),sn}_trimBuffer(){const{_bufferSize:fn,_timestampProvider:sn,_buffer:vt,_infiniteTimeWindow:qt}=this,Yt=(qt?1:2)*fn;if(fn<1/0&&Yt<vt.length&&vt.splice(0,vt.length-Yt),!qt){const nn=sn.now();let Qt=0;for(let Dn=1;Dn<vt.length&&vt[Dn]<=nn;Dn+=2)Qt=Dn;Qt&&vt.splice(0,Qt+1)}}}var Ee=x(3099);function Le(an,fn,sn){let vt,qt=!1;return an&&"object"==typeof an?({bufferSize:vt=1/0,windowTime:fn=1/0,refCount:qt=!1,scheduler:sn}=an):vt=an??1/0,(0,Ee.B)({connector:()=>new Pe(vt,fn,sn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qt})}var gt=x(590),ht=x(576);function St(an,fn){return(0,ht.m)(fn)?(0,ie.w)(()=>an,fn):(0,ie.w)(()=>an)}var Ge=x(9468),bt=x(9300),Ht=x(4027),Pt=x(2011),tt=x(6895),Qe=x(7128),He=x(127);const ke=new m.OlP("angularfire2.auth.use-emulator"),$e=new m.OlP("angularfire2.auth.settings"),Dt=new m.OlP("angularfire2.auth.tenant-id"),ot=new m.OlP("angularfire2.auth.langugage-code"),dt=new m.OlP("angularfire2.auth.use-device-language"),Rt=new m.OlP("angularfire.auth.persistence"),It=(an,fn,sn,vt,qt,Yt,nn,Qt)=>(0,Pt.cc)(`${an.name}.auth`,"AngularFireAuth",an.name,()=>{const Dn=fn.runOutsideAngular(()=>an.auth());if(sn&&Dn.useEmulator(...sn),vt&&(Dn.tenantId=vt),Dn.languageCode=qt,Yt&&Dn.useDeviceLanguage(),nn)for(const[Xt,mn]of Object.entries(nn))Dn.settings[Xt]=mn;return Qt&&Dn.setPersistence(Qt),Dn},[sn,vt,qt,Yt,nn,Qt]);let Jt=(()=>{class an{constructor(sn,vt,qt,Yt,nn,Qt,Dn,Xt,mn,An,Un,Rn){const zn=new h.x,$n=(0,A.of)(void 0).pipe((0,Ye.Q)(nn.outsideAngular),(0,ie.w)(()=>Yt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,qe.U)(()=>(0,Pt.on)(sn,Yt,vt)),(0,qe.U)(Vn=>It(Vn,Yt,Qt,Xt,mn,An,Dn,Un)),Le({bufferSize:1,refCount:!1}));if((0,tt.PM)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,A.of)(null);else{$n.pipe((0,gt.P)()).subscribe();const Gn=$n.pipe((0,ie.w)(Be=>Be.getRedirectResult().then(le=>le,()=>null)),Ht.iC,Le({bufferSize:1,refCount:!1})),qn=$n.pipe((0,ie.w)(Be=>new De.y(le=>({unsubscribe:Yt.runOutsideAngular(()=>Be.onAuthStateChanged(ge=>le.next(ge),ge=>le.error(ge),()=>le.complete()))})))),_n=$n.pipe((0,ie.w)(Be=>new De.y(le=>({unsubscribe:Yt.runOutsideAngular(()=>Be.onIdTokenChanged(ge=>le.next(ge),ge=>le.error(ge),()=>le.complete()))}))));this.authState=Gn.pipe(St(qn),(0,Ge.R)(nn.outsideAngular),(0,Ye.Q)(nn.insideAngular)),this.user=Gn.pipe(St(_n),(0,Ge.R)(nn.outsideAngular),(0,Ye.Q)(nn.insideAngular)),this.idToken=this.user.pipe((0,ie.w)(Be=>Be?(0,N.D)(Be.getIdToken()):(0,A.of)(null))),this.idTokenResult=this.user.pipe((0,ie.w)(Be=>Be?(0,N.D)(Be.getIdTokenResult()):(0,A.of)(null))),this.credential=(0,ze.T)(Gn,zn,this.authState.pipe((0,bt.h)(Be=>!Be))).pipe((0,qe.U)(Be=>Be?.user?Be:null),(0,Ge.R)(nn.outsideAngular),(0,Ye.Q)(nn.insideAngular))}return(0,Pt.pX)(this,$n,Yt,{spy:{apply:(Vn,Gn,qn)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&qn.then(_n=>zn.next(_n))}}})}}return an.\u0275fac=function(sn){return new(sn||an)(m.LFG(Pt.Dh),m.LFG(Pt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Ht.HU),m.LFG(ke,8),m.LFG($e,8),m.LFG(Dt,8),m.LFG(ot,8),m.LFG(dt,8),m.LFG(Rt,8),m.LFG(Qe.nm,8))},an.\u0275prov=m.Yz7({token:an,factory:an.\u0275fac,providedIn:"any"}),an})(),Kt=(()=>{class an{constructor(){He.Z.registerVersion("angularfire",Ht.q4.full,"auth-compat")}}return an.\u0275fac=function(sn){return new(sn||an)},an.\u0275mod=m.oAB({type:an}),an.\u0275inj=m.cJS({providers:[Jt]}),an})()},3290:(bn,xt,x)=>{x.d(xt,{ST:()=>te,yb:()=>ae});var m=x(4650),h=x(4986),A=x(9751),De=x(8996),N=x(9646),ze=x(4027),Ye=x(8675),ie=x(1520),qe=x(4004),q=x(5026),Pe=x(1884),Ee=x(9300),Le=x(2011),gt=x(6895),St=(x(5881),x(3942)),Ge=x(5525),bt=x(2090),Ht=x(4859);function Qe(K,z){if(void 0===z)return{merge:!1};if(void 0!==z.mergeFields&&void 0!==z.merge)throw new Ge.WA("invalid-argument",`Invalid options passed to function ${K}(): You cannot specify both "merge" and "mergeFields".`);return z}function He(){if(typeof Uint8Array>"u")throw new Ge.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ke(){if(!(0,Ge.Me)())throw new Ge.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ke{constructor(z){this._delegate=z}static fromBase64String(z){return Ke(),new ke(Ge.Jj.fromBase64String(z))}static fromUint8Array(z){return He(),new ke(Ge.Jj.fromUint8Array(z))}toBase64(){return Ke(),this._delegate.toBase64()}toUint8Array(){return He(),this._delegate.toUint8Array()}isEqual(z){return this._delegate.isEqual(z._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $e(K){return function Dt(K,z){if("object"!=typeof K||null===K)return!1;const de=K;for(const J of z)if(J in de&&"function"==typeof de[J])return!0;return!1}(K,["next","error","complete"])}class ot{enableIndexedDbPersistence(z,de){return(0,Ge.ST)(z._delegate,{forceOwnership:de})}enableMultiTabIndexedDbPersistence(z){return(0,Ge.fH)(z._delegate)}clearIndexedDbPersistence(z){return(0,Ge.Fc)(z._delegate)}}class dt{constructor(z,de,J){this._delegate=de,this._persistenceProvider=J,this.INTERNAL={delete:()=>this.terminate()},z instanceof Ge.l7||(this._appCompat=z)}get _databaseId(){return this._delegate._databaseId}settings(z){const de=this._delegate._getSettings();!z.merge&&de.host!==z.host&&(0,Ge.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),z.merge&&delete(z=Object.assign(Object.assign({},de),z)).merge,this._delegate._setSettings(z)}useEmulator(z,de,J={}){(0,Ge.at)(this._delegate,z,de,J)}enableNetwork(){return(0,Ge.Ix)(this._delegate)}disableNetwork(){return(0,Ge.TF)(this._delegate)}enablePersistence(z){let de=!1,J=!1;return z&&(de=!!z.synchronizeTabs,J=!!z.experimentalForceOwningTab,(0,Ge.Wi)("synchronizeTabs",de,"experimentalForceOwningTab",J)),de?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,J)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ge.Mx)(this._delegate)}onSnapshotsInSync(z){return(0,Ge.sc)(this._delegate,z)}get app(){if(!this._appCompat)throw new Ge.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(z){try{return new mn(this,(0,Ge.hJ)(this._delegate,z))}catch(de){throw sn(de,"collection()","Firestore.collection()")}}doc(z){try{return new fn(this,(0,Ge.JU)(this._delegate,z))}catch(de){throw sn(de,"doc()","Firestore.doc()")}}collectionGroup(z){try{return new Qt(this,(0,Ge.B$)(this._delegate,z))}catch(de){throw sn(de,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(z){return(0,Ge.i3)(this._delegate,de=>z(new Jt(this,de)))}batch(){return(0,Ge.qY)(this._delegate),new Kt(new Ge.PU(this._delegate,z=>(0,Ge.GL)(this._delegate,z)))}loadBundle(z){return(0,Ge.Pb)(this._delegate,z)}namedQuery(z){return(0,Ge.L$)(this._delegate,z).then(de=>de?new Qt(this,de):null)}}class Rt extends Ge.u7{constructor(z){super(),this.firestore=z}convertBytes(z){return new ke(new Ge.Jj(z))}convertReference(z){const de=this.convertDocumentKey(z,this.firestore._databaseId);return fn.forKey(de,this.firestore,null)}}class Jt{constructor(z,de){this._firestore=z,this._delegate=de,this._userDataWriter=new Rt(z)}get(z){const de=An(z);return this._delegate.get(de).then(J=>new Yt(this._firestore,new Ge.xU(this._firestore._delegate,this._userDataWriter,J._key,J._document,J.metadata,de.converter)))}set(z,de,J){const ct=An(z);return J?(Qe("Transaction.set",J),this._delegate.set(ct,de,J)):this._delegate.set(ct,de),this}update(z,de,J,...ct){const st=An(z);return 2===arguments.length?this._delegate.update(st,de):this._delegate.update(st,de,J,...ct),this}delete(z){const de=An(z);return this._delegate.delete(de),this}}class Kt{constructor(z){this._delegate=z}set(z,de,J){const ct=An(z);return J?(Qe("WriteBatch.set",J),this._delegate.set(ct,de,J)):this._delegate.set(ct,de),this}update(z,de,J,...ct){const st=An(z);return 2===arguments.length?this._delegate.update(st,de):this._delegate.update(st,de,J,...ct),this}delete(z){const de=An(z);return this._delegate.delete(de),this}commit(){return this._delegate.commit()}}class an{constructor(z,de,J){this._firestore=z,this._userDataWriter=de,this._delegate=J}fromFirestore(z,de){const J=new Ge.$q(this._firestore._delegate,this._userDataWriter,z._key,z._document,z.metadata,null);return this._delegate.fromFirestore(new nn(this._firestore,J),de??{})}toFirestore(z,de){return de?this._delegate.toFirestore(z,de):this._delegate.toFirestore(z)}static getInstance(z,de){const J=an.INSTANCES;let ct=J.get(z);ct||(ct=new WeakMap,J.set(z,ct));let st=ct.get(de);return st||(st=new an(z,new Rt(z),de),ct.set(de,st)),st}}an.INSTANCES=new WeakMap;class fn{constructor(z,de){this.firestore=z,this._delegate=de,this._userDataWriter=new Rt(z)}static forPath(z,de,J){if(z.length%2!=0)throw new Ge.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${z.canonicalString()} has ${z.length}`);return new fn(de,new Ge.my(de._delegate,J,new Ge.Ky(z)))}static forKey(z,de,J){return new fn(de,new Ge.my(de._delegate,J,z))}get id(){return this._delegate.id}get parent(){return new mn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(z){try{return new mn(this.firestore,(0,Ge.hJ)(this._delegate,z))}catch(de){throw sn(de,"collection()","DocumentReference.collection()")}}isEqual(z){return(z=(0,bt.m9)(z))instanceof Ge.my&&(0,Ge.Eo)(this._delegate,z)}set(z,de){de=Qe("DocumentReference.set",de);try{return de?(0,Ge.pl)(this._delegate,z,de):(0,Ge.pl)(this._delegate,z)}catch(J){throw sn(J,"setDoc()","DocumentReference.set()")}}update(z,de,...J){try{return 1===arguments.length?(0,Ge.r7)(this._delegate,z):(0,Ge.r7)(this._delegate,z,de,...J)}catch(ct){throw sn(ct,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ge.oe)(this._delegate)}onSnapshot(...z){const de=vt(z),J=qt(z,ct=>new Yt(this.firestore,new Ge.xU(this.firestore._delegate,this._userDataWriter,ct._key,ct._document,ct.metadata,this._delegate.converter)));return(0,Ge.cf)(this._delegate,de,J)}get(z){let de;return de="cache"===z?.source?(0,Ge.kl)(this._delegate):"server"===z?.source?(0,Ge.Xk)(this._delegate):(0,Ge.QT)(this._delegate),de.then(J=>new Yt(this.firestore,new Ge.xU(this.firestore._delegate,this._userDataWriter,J._key,J._document,J.metadata,this._delegate.converter)))}withConverter(z){return new fn(this.firestore,this._delegate.withConverter(z?an.getInstance(this.firestore,z):null))}}function sn(K,z,de){return K.message=K.message.replace(z,de),K}function vt(K){for(const z of K)if("object"==typeof z&&!$e(z))return z;return{}}function qt(K,z){var de,J;let ct;return ct=$e(K[0])?K[0]:$e(K[1])?K[1]:"function"==typeof K[0]?{next:K[0],error:K[1],complete:K[2]}:{next:K[1],error:K[2],complete:K[3]},{next:st=>{ct.next&&ct.next(z(st))},error:null===(de=ct.error)||void 0===de?void 0:de.bind(ct),complete:null===(J=ct.complete)||void 0===J?void 0:J.bind(ct)}}class Yt{constructor(z,de){this._firestore=z,this._delegate=de}get ref(){return new fn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(z){return this._delegate.data(z)}get(z,de){return this._delegate.get(z,de)}isEqual(z){return(0,Ge.qK)(this._delegate,z._delegate)}}class nn extends Yt{data(z){const de=this._delegate.data(z);return(0,Ge.K9)(void 0!==de,"Document in a QueryDocumentSnapshot should exist"),de}}class Qt{constructor(z,de){this.firestore=z,this._delegate=de,this._userDataWriter=new Rt(z)}where(z,de,J){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.ar)(z,de,J)))}catch(ct){throw sn(ct,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(z,de){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.Xo)(z,de)))}catch(J){throw sn(J,/(orderBy|where)\(\)/,"Query.$1()")}}limit(z){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.b9)(z)))}catch(de){throw sn(de,"limit()","Query.limit()")}}limitToLast(z){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.vh)(z)))}catch(de){throw sn(de,"limitToLast()","Query.limitToLast()")}}startAt(...z){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.e0)(...z)))}catch(de){throw sn(de,"startAt()","Query.startAt()")}}startAfter(...z){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.TQ)(...z)))}catch(de){throw sn(de,"startAfter()","Query.startAfter()")}}endBefore(...z){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.Lx)(...z)))}catch(de){throw sn(de,"endBefore()","Query.endBefore()")}}endAt(...z){try{return new Qt(this.firestore,(0,Ge.IO)(this._delegate,(0,Ge.Wu)(...z)))}catch(de){throw sn(de,"endAt()","Query.endAt()")}}isEqual(z){return(0,Ge.iE)(this._delegate,z._delegate)}get(z){let de;return de="cache"===z?.source?(0,Ge.UQ)(this._delegate):"server"===z?.source?(0,Ge.zN)(this._delegate):(0,Ge.PL)(this._delegate),de.then(J=>new Xt(this.firestore,new Ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,J._snapshot)))}onSnapshot(...z){const de=vt(z),J=qt(z,ct=>new Xt(this.firestore,new Ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,ct._snapshot)));return(0,Ge.cf)(this._delegate,de,J)}withConverter(z){return new Qt(this.firestore,this._delegate.withConverter(z?an.getInstance(this.firestore,z):null))}}class Dn{constructor(z,de){this._firestore=z,this._delegate=de}get type(){return this._delegate.type}get doc(){return new nn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xt{constructor(z,de){this._firestore=z,this._delegate=de}get query(){return new Qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(z=>new nn(this._firestore,z))}docChanges(z){return this._delegate.docChanges(z).map(de=>new Dn(this._firestore,de))}forEach(z,de){this._delegate.forEach(J=>{z.call(de,new nn(this._firestore,J))})}isEqual(z){return(0,Ge.qK)(this._delegate,z._delegate)}}class mn extends Qt{constructor(z,de){super(z,de),this.firestore=z,this._delegate=de}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const z=this._delegate.parent;return z?new fn(this.firestore,z):null}doc(z){try{return new fn(this.firestore,void 0===z?(0,Ge.JU)(this._delegate):(0,Ge.JU)(this._delegate,z))}catch(de){throw sn(de,"doc()","CollectionReference.doc()")}}add(z){return(0,Ge.ET)(this._delegate,z).then(de=>new fn(this.firestore,de))}isEqual(z){return(0,Ge.Eo)(this._delegate,z._delegate)}withConverter(z){return new mn(this.firestore,this._delegate.withConverter(z?an.getInstance(this.firestore,z):null))}}function An(K){return(0,Ge.Cf)(K,Ge.my)}class Un{constructor(...z){this._delegate=new Ge.Lz(...z)}static documentId(){return new Un(Ge.Xb.keyField().canonicalString())}isEqual(z){return(z=(0,bt.m9)(z))instanceof Ge.Lz&&this._delegate._internalPath.isEqual(z._internalPath)}}class Rn{constructor(z){this._delegate=z}static serverTimestamp(){const z=(0,Ge.Bt)();return z._methodName="FieldValue.serverTimestamp",new Rn(z)}static delete(){const z=(0,Ge.AK)();return z._methodName="FieldValue.delete",new Rn(z)}static arrayUnion(...z){const de=(0,Ge.vr)(...z);return de._methodName="FieldValue.arrayUnion",new Rn(de)}static arrayRemove(...z){const de=(0,Ge.Ab)(...z);return de._methodName="FieldValue.arrayRemove",new Rn(de)}static increment(z){const de=(0,Ge.nP)(z);return de._methodName="FieldValue.increment",new Rn(de)}isEqual(z){return this._delegate.isEqual(z._delegate)}}const zn={Firestore:dt,GeoPoint:Ge.F8,Timestamp:Ge.EK,Blob:ke,Transaction:Jt,WriteBatch:Kt,DocumentReference:fn,DocumentSnapshot:Yt,Query:Qt,QueryDocumentSnapshot:nn,QuerySnapshot:Xt,CollectionReference:mn,FieldPath:Un,FieldValue:Rn,setLogLevel:function It(K){(0,Ge.Ub)(K)},CACHE_SIZE_UNLIMITED:Ge.IX};!function Vn(K){(function $n(K,z){K.INTERNAL.registerComponent(new Ht.wA("firestore-compat",de=>{const J=de.getProvider("app-compat").getImmediate(),ct=de.getProvider("firestore").getImmediate();return z(J,ct)},"PUBLIC").setServiceProps(Object.assign({},zn)))})(K,(z,de)=>new dt(z,de,new ot)),K.registerVersion("@firebase/firestore-compat","0.2.1")}(St.Z);var Gn=x(1205),qn=x(7128),_n=x(127);function le(K,z){return function Be(K,z=h.z){return new A.y(de=>{let J;return null!=z?z.schedule(()=>{J=K.onSnapshot({includeMetadataChanges:!0},de)}):J=K.onSnapshot({includeMetadataChanges:!0},de),()=>{J?.()}})}(K,z)}function rt(K,z){return le(K,z).pipe((0,qe.U)(de=>({payload:de,type:"query"})))}function Xe(K,z){return rt(K,z).pipe((0,Ye.O)(void 0),(0,ie.G)(),(0,qe.U)(([de,J])=>{const ct=J.payload.docChanges(),st=ct.map(Mt=>({type:Mt.type,payload:Mt}));return de&&JSON.stringify(de.payload.metadata)!==JSON.stringify(J.payload.metadata)&&J.payload.docs.forEach((Mt,Lt)=>{const je=ct.find(ve=>ve.doc.ref.isEqual(Mt.ref)),nt=de?.payload.docs.find(ve=>ve.ref.isEqual(Mt.ref));je&&JSON.stringify(je.doc.metadata)===JSON.stringify(Mt.metadata)||!je&&nt&&JSON.stringify(nt.metadata)===JSON.stringify(Mt.metadata)||st.push({type:"modified",payload:{oldIndex:Lt,newIndex:Lt,type:"modified",doc:Mt}})}),st}))}function wt(K,z,de){return Xe(K,de).pipe((0,q.R)((J,ct)=>function $t(K,z,de){return z.forEach(J=>{de.indexOf(J.type)>-1&&(K=function jt(K,z){switch(z.type){case"added":if(!K[z.newIndex]||!K[z.newIndex].doc.ref.isEqual(z.doc.ref))return un(K,z.newIndex,0,z);break;case"modified":if(null==K[z.oldIndex]||K[z.oldIndex].doc.ref.isEqual(z.doc.ref)){if(z.oldIndex!==z.newIndex){const de=K.slice();return de.splice(z.oldIndex,1),de.splice(z.newIndex,0,z),de}return un(K,z.newIndex,1,z)}break;case"removed":if(K[z.oldIndex]&&K[z.oldIndex].doc.ref.isEqual(z.doc.ref))return un(K,z.oldIndex,1)}return K}(K,J))}),K}(J,ct.map(st=>st.payload),z),[]),(0,Pe.x)(),(0,qe.U)(J=>J.map(ct=>({type:ct.type,payload:ct}))))}function un(K,z,de,...J){const ct=K.slice();return ct.splice(z,de,...J),ct}function mt(K){return(!K||0===K.length)&&(K=["added","removed","modified"]),K}class Ne{constructor(z,de,J){this.ref=z,this.query=de,this.afs=J}stateChanges(z){let de=Xe(this.query,this.afs.schedulers.outsideAngular);return z&&z.length>0&&(de=de.pipe((0,qe.U)(J=>J.filter(ct=>z.indexOf(ct.type)>-1)))),de.pipe((0,Ye.O)(void 0),(0,ie.G)(),(0,Ee.h)(([J,ct])=>ct.length>0||!J),(0,qe.U)(([J,ct])=>ct),ze.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,q.R)((de,J)=>[...de,...J],[]))}snapshotChanges(z){const de=mt(z);return wt(this.query,de,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(z={}){return rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(de=>de.payload.docs.map(J=>z.idField?Object.assign(Object.assign({},J.data()),{[z.idField]:J.id}):J.data())),ze.iC)}get(z){return(0,De.D)(this.query.get(z)).pipe(ze.iC)}add(z){return this.ref.add(z)}doc(z){return new yt(this.ref.doc(z),this.afs)}}class yt{constructor(z,de){this.ref=z,this.afs=de}set(z,de){return this.ref.set(z,de)}update(z){return this.ref.update(z)}delete(){return this.ref.delete()}collection(z,de){const J=this.ref.collection(z),{ref:ct,query:st}=Ot(J,de);return new Ne(ct,st,this.afs)}snapshotChanges(){return function ge(K,z){return le(K,z).pipe((0,Ye.O)(void 0),(0,ie.G)(),(0,qe.U)(([de,J])=>J.exists?de?.exists?{payload:J,type:"modified"}:{payload:J,type:"added"}:{payload:J,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(z={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:de})=>z.idField?Object.assign(Object.assign({},de.data()),{[z.idField]:de.id}):de.data()))}get(z){return(0,De.D)(this.ref.get(z)).pipe(ze.iC)}}class Ut{constructor(z,de){this.query=z,this.afs=de}stateChanges(z){return z&&0!==z.length?Xe(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(de=>de.filter(J=>z.indexOf(J.type)>-1)),(0,Ee.h)(de=>de.length>0),ze.iC):Xe(this.query,this.afs.schedulers.outsideAngular).pipe(ze.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,q.R)((de,J)=>[...de,...J],[]))}snapshotChanges(z){const de=mt(z);return wt(this.query,de,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(z={}){return rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(J=>J.payload.docs.map(ct=>z.idField?Object.assign({[z.idField]:ct.id},ct.data()):ct.data())),ze.iC)}get(z){return(0,De.D)(this.query.get(z)).pipe(ze.iC)}}const cn=new m.OlP("angularfire2.enableFirestorePersistence"),Nn=new m.OlP("angularfire2.firestore.persistenceSettings"),vn=new m.OlP("angularfire2.firestore.settings"),kt=new m.OlP("angularfire2.firestore.use-emulator");function Ot(K,z=(de=>de)){return{query:z(K),ref:K}}let te=(()=>{class K{constructor(de,J,ct,st,Mt,Lt,je,nt,ve,Ce,ne,Oe,pt,Ze,We,Re,se){this.schedulers=je;const he=(0,Le.on)(de,Lt,J),me=ve;Ce&&(0,Gn.nw)(he,Lt,ne,pt,Ze,We,Oe,Re),[this.firestore,this.persistenceEnabled$]=(0,Le.cc)(`${he.name}.firestore`,"AngularFirestore",he.name,()=>{const Se=Lt.runOutsideAngular(()=>he.firestore());if(st&&Se.settings(st),me&&Se.useEmulator(...me),ct&&!(0,gt.PM)(Mt)){const _e=()=>{try{return(0,De.D)(Se.enablePersistence(nt||void 0).then(()=>!0,()=>!1))}catch(we){return typeof console<"u"&&console.warn(we),(0,N.of)(!1)}};return[Se,Lt.runOutsideAngular(_e)]}return[Se,(0,N.of)(!1)]},[st,me,ct])}collection(de,J){let ct;ct="string"==typeof de?this.firestore.collection(de):de;const{ref:st,query:Mt}=Ot(ct,J),Lt=this.schedulers.ngZone.run(()=>st);return new Ne(Lt,Mt,this)}collectionGroup(de,J){const ct=J||(Mt=>Mt),st=this.firestore.collectionGroup(de);return new Ut(ct(st),this)}doc(de){let J;J="string"==typeof de?this.firestore.doc(de):de;const ct=this.schedulers.ngZone.run(()=>J);return new yt(ct,this)}createId(){return this.firestore.collection("_").doc().id}}return K.\u0275fac=function(de){return new(de||K)(m.LFG(Le.Dh),m.LFG(Le.xv,8),m.LFG(cn,8),m.LFG(vn,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ze.HU),m.LFG(Nn,8),m.LFG(kt,8),m.LFG(Gn.zQ,8),m.LFG(Gn.Qv,8),m.LFG(Gn.L6,8),m.LFG(Gn._Q,8),m.LFG(Gn.rT,8),m.LFG(Gn.lh,8),m.LFG(Gn.f7,8),m.LFG(qn.nm,8))},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac,providedIn:"any"}),K})(),ae=(()=>{class K{constructor(){_n.Z.registerVersion("angularfire",ze.q4.full,"fst-compat")}static enablePersistence(de){return{ngModule:K,providers:[{provide:cn,useValue:!0},{provide:Nn,useValue:de}]}}}return K.\u0275fac=function(de){return new(de||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({providers:[te]}),K})()},2011:(bn,xt,x)=>{x.d(xt,{Dh:()=>ie,GT:()=>ze,cc:()=>gt,hO:()=>Le,on:()=>q,pX:()=>N,xv:()=>qe});var m=x(4650),h=x(127),A=x(4027);bn=x.hmd(bn);const De=["ngOnDestroy"],N=(bt,Ht,Pt,tt={})=>new Proxy(bt,{get:(Qe,He)=>Pt.runOutsideAngular(()=>{var Ke;if(bt[He])return!(null===(Ke=tt?.spy)||void 0===Ke)&&Ke.get&&tt.spy.get(He,bt[He]),bt[He];if(De.indexOf(He)>-1)return()=>{};const ke=Ht.toPromise().then($e=>{const Dt=$e&&$e[He];return"function"==typeof Dt?Dt.bind($e):Dt&&Dt.then?Dt.then(ot=>Pt.run(()=>ot)):Pt.run(()=>Dt)});return new Proxy(()=>{},{get:($e,Dt)=>ke[Dt],apply:($e,Dt,ot)=>ke.then(dt=>{var Rt;const It=dt&&dt(...ot);return!(null===(Rt=tt?.spy)||void 0===Rt)&&Rt.apply&&tt.spy.apply(He,ot,It),It})})})}),ze=(bt,Ht)=>{Ht.forEach(Pt=>{Object.getOwnPropertyNames(Pt.prototype||Pt).forEach(tt=>{Object.defineProperty(bt.prototype,tt,Object.getOwnPropertyDescriptor(Pt.prototype||Pt,tt))})})};class Ye{constructor(Ht){return Ht}}const ie=new m.OlP("angularfire2.app.options"),qe=new m.OlP("angularfire2.app.name");function q(bt,Ht,Pt){const Qe="object"==typeof Pt&&Pt||{};Qe.name=Qe.name||"string"==typeof Pt&&Pt||"[DEFAULT]";const Ke=h.Z.apps.filter(ke=>ke&&ke.name===Qe.name)[0]||Ht.runOutsideAngular(()=>h.Z.initializeApp(bt,Qe));try{JSON.stringify(bt)!==JSON.stringify(Ke.options)&&Pe("error",`${Ke.name} Firebase App already initialized with different options${bn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ye(Ke)}const Pe=(bt,...Ht)=>{(0,m.X6Q)()&&typeof console<"u"&&console[bt](...Ht)},Ee={provide:Ye,useFactory:q,deps:[ie,m.R0b,[new m.FiY,qe]]};let Le=(()=>{class bt{constructor(Pt){h.Z.registerVersion("angularfire",A.q4.full,"core"),h.Z.registerVersion("angularfire",A.q4.full,"app-compat"),h.Z.registerVersion("angular",m.q4F.full,Pt.toString())}static initializeApp(Pt,tt){return{ngModule:bt,providers:[{provide:ie,useValue:Pt},{provide:qe,useValue:tt}]}}}return bt.\u0275fac=function(Pt){return new(Pt||bt)(m.LFG(m.Lbi))},bt.\u0275mod=m.oAB({type:bt}),bt.\u0275inj=m.cJS({providers:[Ee]}),bt})();function gt(bt,Ht,Pt,tt,Qe){const[,He,Ke]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===bt)||[];if(He)return function ht(bt,Ht){try{return bt.toString()===Ht.toString()}catch{return bt===Ht}}(Qe,Ke)||(Ge("error",`${Ht} was already initialized on the ${Pt} Firebase App with different settings.${St?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:Qe,was:Ke})),He;{const ke=tt();return globalThis.\u0275AngularfireInstanceCache.push([bt,ke,Qe]),ke}}const St=!!bn.hot,Ge=(bt,...Ht)=>{(0,m.X6Q)()&&typeof console<"u"&&console[bt](...Ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4027:(bn,xt,x)=>{x.d(xt,{q4:()=>Ge,iC:()=>Yt,HU:()=>Kt,vb:()=>dt,JM:()=>ot,nk:()=>Dt,n1:()=>ke,_J:()=>$e,u3:()=>Dn});var m=x(4650),h=x(5867),A=x(3226),De=x(2375),N=x(6148),ze=x(4408),ie=x(7565);const q=new class qe extends ie.v{}(class Ye extends ze.o{constructor(mn,An){super(mn,An),this.scheduler=mn,this.work=An}schedule(mn,An=0){return An>0?super.schedule(mn,An):(this.delay=An,this.state=mn,this.scheduler.flush(this),this)}execute(mn,An){return An>0||this.closed?super.execute(mn,An):this._execute(mn,An)}requestAsyncId(mn,An,Un=0){return null!=Un&&Un>0||null==Un&&this.delay>0?super.requestAsyncId(mn,An,Un):mn.flush(this)}});var Ee=x(4986),Le=x(9751),gt=x(8505),ht=x(9468),St=x(5363);const Ge=new m.GfV("7.4.1"),bt="__angularfire_symbol__analyticsIsSupportedValue",Ht="__angularfire_symbol__analyticsIsSupported",Pt="__angularfire_symbol__remoteConfigIsSupportedValue",tt="__angularfire_symbol__remoteConfigIsSupported",Qe="__angularfire_symbol__messagingIsSupportedValue",He="__angularfire_symbol__messagingIsSupported";globalThis[Ht]||(globalThis[Ht]=(0,N.Gb)().then(Xt=>globalThis[bt]=Xt).catch(()=>globalThis[bt]=!1)),globalThis[He]||(globalThis[He]=(0,De.Gb)().then(Xt=>globalThis[Qe]=Xt).catch(()=>globalThis[Qe]=!1)),globalThis[tt]||(globalThis[tt]=(0,A.Gb)().then(Xt=>globalThis[Pt]=Xt).catch(()=>globalThis[Pt]=!1));const Ke=Xt=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${Xt} in the constructor, first ensure that ${Xt} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${Xt})\`.`,ke={async:()=>globalThis[He],sync:()=>{const Xt=globalThis[Qe];if(void 0===Xt)throw new Error(Ke("Messaging"));return Xt}},$e={async:()=>globalThis[tt],sync:()=>{const Xt=globalThis[Pt];if(void 0===Xt)throw new Error(Ke("RemoteConfig"));return Xt}},Dt={async:()=>globalThis[Ht],sync:()=>{const Xt=globalThis[bt];if(void 0===Xt)throw new Error(Ke("Analytics"));return Xt}};function ot(Xt,mn,An){if(mn){if(1===mn.length)return mn[0];const zn=mn.filter($n=>$n.app===An);if(1===zn.length)return zn[0]}return An.container.getProvider(Xt).getImmediate({optional:!0})}const dt=(Xt,mn)=>{const An=mn?[mn]:(0,h.C6)(),Un=[];return An.forEach(Rn=>{Rn.container.getProvider(Xt).instances.forEach($n=>{Un.includes($n)||Un.push($n)})}),Un};function Rt(){}class It{constructor(mn,An=q){this.zone=mn,this.delegate=An}now(){return this.delegate.now()}schedule(mn,An,Un){const Rn=this.zone;return this.delegate.schedule(function($n){Rn.runGuarded(()=>{mn.apply(this,[$n])})},An,Un)}}class Jt{constructor(mn){this.zone=mn,this.task=null}call(mn,An){const Un=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rt,{},Rt,Rt)),An.pipe((0,gt.b)({next:Un,complete:Un,error:Un})).subscribe(mn).add(Un)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kt=(()=>{class Xt{constructor(An){this.ngZone=An,this.outsideAngular=An.runOutsideAngular(()=>new It(Zone.current)),this.insideAngular=An.run(()=>new It(Zone.current,Ee.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Xt.\u0275fac=function(An){return new(An||Xt)(m.LFG(m.R0b))},Xt.\u0275prov=m.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"}),Xt})();function an(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function fn(Xt){return an().ngZone.runOutsideAngular(()=>Xt())}function sn(Xt){return an().ngZone.run(()=>Xt())}function Yt(Xt){return an(),function nn(Xt){return function(An){return(An=An.lift(new Jt(Xt.ngZone))).pipe((0,ht.R)(Xt.outsideAngular),(0,St.Q)(Xt.insideAngular))}}(an())(Xt)}const Qt=(Xt,mn)=>function(){const Un=arguments;return mn&&setTimeout(()=>{"scheduled"===mn.state&&mn.invoke()},10),sn(()=>Xt.apply(void 0,Un))},Dn=(Xt,mn)=>function(){let An;const Un=arguments;for(let zn=0;zn<arguments.length;zn++)"function"==typeof Un[zn]&&(mn&&(An||(An=sn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rt,{},Rt,Rt)))),Un[zn]=Qt(Un[zn],An));const Rn=fn(()=>Xt.apply(this,Un));if(!mn){if(Rn instanceof Le.y){const zn=an();return Rn.pipe((0,ht.R)(zn.outsideAngular),(0,St.Q)(zn.insideAngular))}return sn(()=>Rn)}return Rn instanceof Le.y?Rn.pipe(Yt):Rn instanceof Promise?sn(()=>new Promise((zn,$n)=>Rn.then(Vn=>sn(()=>zn(Vn)),Vn=>sn(()=>$n(Vn))))):"function"==typeof Rn&&An?function(){return setTimeout(()=>{An&&"scheduled"===An.state&&An.invoke()},10),Rn.apply(this,arguments)}:sn(()=>Rn)}},7573:(bn,xt,x)=>{x.d(xt,{$:()=>os,A:()=>Pe,B:()=>gt,G:()=>Et,H:()=>Me,J:()=>yo,L:()=>je,M:()=>Oo,N:()=>lo,P:()=>j,Q:()=>Es,R:()=>Is,T:()=>co,U:()=>Ji,V:()=>bo,W:()=>Pl,X:()=>Ro,Y:()=>uo,Z:()=>Di,_:()=>hs,a:()=>fl,a0:()=>Bl,a1:()=>Vr,a2:()=>Y,a3:()=>Ue,a4:()=>gi,a5:()=>xs,a6:()=>Mr,a7:()=>Ss,a8:()=>ja,a9:()=>wo,aA:()=>hu,aB:()=>id,aC:()=>nf,aD:()=>lm,aE:()=>Ve,aI:()=>ou,aL:()=>Yo,aa:()=>uc,ab:()=>Ko,ac:()=>za,af:()=>Ea,ag:()=>Co,ah:()=>U,ak:()=>No,al:()=>Zi,an:()=>Bn,ao:()=>Sp,ap:()=>me,aq:()=>Dt,ar:()=>he,as:()=>We,at:()=>Pt,au:()=>_l,av:()=>bc,aw:()=>tt,ax:()=>ke,ay:()=>dt,az:()=>nt,b:()=>$a,c:()=>ji,d:()=>Ms,e:()=>js,f:()=>fo,g:()=>cm,h:()=>Mp,i:()=>pc,j:()=>nd,k:()=>df,l:()=>Ci,m:()=>vl,n:()=>ch,o:()=>ie,r:()=>ya,s:()=>Sa,u:()=>R,v:()=>Dr});var m=x(5861),h=x(2090),A=x(9681),De=x(1877),N=x(655),ze=x(4859);const ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Pe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const gt=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},St=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new De.Yd("@firebase/auth");function Ht(k,...w){bt.logLevel<=De.in.ERROR&&bt.error(`Auth (${A.SDK_VERSION}): ${k}`,...w)}function Pt(k,...w){throw Ke(k,...w)}function tt(k,...w){return Ke(k,...w)}function Qe(k,w,D){const F=Object.assign(Object.assign({},ht()),{[w]:D});return new h.LL("auth","Firebase",F).create(w,{appName:k.name})}function He(k,w,D){if(!(w instanceof D))throw D.name!==w.constructor.name&&Pt(k,"argument-error"),Qe(k,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(k,...w){if("string"!=typeof k){const D=w[0],F=[...w.slice(1)];return F[0]&&(F[0].appName=k.name),k._errorFactory.create(D,...F)}return St.create(k,...w)}function ke(k,w,...D){if(!k)throw Ke(w,...D)}function $e(k){const w="INTERNAL ASSERTION FAILED: "+k;throw Ht(w),new Error(w)}function Dt(k,w){k||$e(w)}const ot=new Map;function dt(k){Dt(k instanceof Function,"Expected a class definition");let w=ot.get(k);return w?(Dt(w instanceof k,"Instance stored in cache mismatched with class"),w):(w=new k,ot.set(k,w),w)}function Jt(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.href)||""}function Kt(){return"http:"===an()||"https:"===an()}function an(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.protocol)||null}class vt{constructor(w,D){this.shortDelay=w,this.longDelay=D,Dt(D>w,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qt(k,w){Dt(k.emulator,"Emulator should always be set here");const{url:D}=k.emulator;return w?`${D}${w.startsWith("/")?w.slice(1):w}`:D}class Yt{static initialize(w,D,F){this.fetchImpl=w,D&&(this.headersImpl=D),F&&(this.responseImpl=F)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qt=new vt(3e4,6e4);function Dn(k,w){return k.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:k.tenantId}):w}function Xt(k,w,D,F){return mn.apply(this,arguments)}function mn(){return(mn=(0,m.Z)(function*(k,w,D,F,be={}){return An(k,be,(0,m.Z)(function*(){let Je={},Zt={};F&&("GET"===w?Zt=F:Je={body:JSON.stringify(F)});const wn=(0,h.xO)(Object.assign({key:k.config.apiKey},Zt)).slice(1),oi=yield k._getAdditionalHeaders();return oi["Content-Type"]="application/json",k.languageCode&&(oi["X-Firebase-Locale"]=k.languageCode),Yt.fetch()($n(k,k.config.apiHost,D,wn),Object.assign({method:w,headers:oi,referrerPolicy:"no-referrer"},Je))}))})).apply(this,arguments)}function An(k,w,D){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(k,w,D){k._canInitEmulator=!1;const F=Object.assign(Object.assign({},nn),w);try{const be=new Vn(k),Je=yield Promise.race([D(),be.promise]);be.clearNetworkTimeout();const Zt=yield Je.json();if("needConfirmation"in Zt)throw Gn(k,"account-exists-with-different-credential",Zt);if(Je.ok&&!("errorMessage"in Zt))return Zt;{const wn=Je.ok?Zt.errorMessage:Zt.error.message,[oi,ei]=wn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===oi)throw Gn(k,"credential-already-in-use",Zt);if("EMAIL_EXISTS"===oi)throw Gn(k,"email-already-in-use",Zt);if("USER_DISABLED"===oi)throw Gn(k,"user-disabled",Zt);const ti=F[oi]||oi.toLowerCase().replace(/[_\s]+/g,"-");if(ei)throw Qe(k,ti,ei);Pt(k,ti)}}catch(be){if(be instanceof h.ZR)throw be;Pt(k,"network-request-failed")}})).apply(this,arguments)}function Rn(k,w,D,F){return zn.apply(this,arguments)}function zn(){return(zn=(0,m.Z)(function*(k,w,D,F,be={}){const Je=yield Xt(k,w,D,F,be);return"mfaPendingCredential"in Je&&Pt(k,"multi-factor-auth-required",{_serverResponse:Je}),Je})).apply(this,arguments)}function $n(k,w,D,F){const be=`${w}${D}?${F}`;return k.config.emulator?qt(k.config,be):`${k.config.apiScheme}://${be}`}class Vn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((D,F)=>{this.timer=setTimeout(()=>F(tt(this.auth,"network-request-failed")),Qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(k,w,D){const F={appName:k.name};D.email&&(F.email=D.email),D.phoneNumber&&(F.phoneNumber=D.phoneNumber);const be=tt(k,w,F);return be.customData._tokenResponse=D,be}function _n(){return(_n=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Be(k,w){return le.apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function ge(k,w){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Xe(k){if(k)try{const w=new Date(Number(k));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function un(){return(un=(0,m.Z)(function*(k,w=!1){const D=(0,h.m9)(k),F=yield D.getIdToken(w),be=mt(F);ke(be&&be.exp&&be.auth_time&&be.iat,D.auth,"internal-error");const Je="object"==typeof be.firebase?be.firebase:void 0,Zt=Je?.sign_in_provider;return{claims:be,token:F,authTime:Xe(jt(be.auth_time)),issuedAtTime:Xe(jt(be.iat)),expirationTime:Xe(jt(be.exp)),signInProvider:Zt||null,signInSecondFactor:Je?.sign_in_second_factor||null}})).apply(this,arguments)}function jt(k){return 1e3*Number(k)}function mt(k){var w;const[D,F,be]=k.split(".");if(void 0===D||void 0===F||void 0===be)return Ht("JWT malformed, contained fewer than 3 sections"),null;try{const Je=(0,h.tV)(F);return Je?JSON.parse(Je):(Ht("Failed to decode base64 JWT payload"),null)}catch(Je){return Ht("Caught error parsing JWT payload as JSON",null===(w=Je)||void 0===w?void 0:w.toString()),null}}function yt(k,w){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,m.Z)(function*(k,w,D=!1){if(D)return w;try{return yield w}catch(F){throw F instanceof h.ZR&&cn(F)&&k.auth.currentUser===k&&(yield k.auth.signOut()),F}})).apply(this,arguments)}function cn({code:k}){return"auth/user-disabled"===k||"auth/user-token-expired"===k}class Nn{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var D;if(w){const F=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),F}{this.errorBackoff=3e4;const be=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,be)}}schedule(w=!1){var D=this;if(!this.isRunning)return;const F=this.getInterval(w);this.timerId=setTimeout((0,m.Z)(function*(){yield D.iteration()}),F)}iteration(){var w=this;return(0,m.Z)(function*(){var D;try{yield w.user.getIdToken(!0)}catch(F){return void("auth/network-request-failed"===(null===(D=F)||void 0===D?void 0:D.code)&&w.schedule(!0))}w.schedule()})()}}class vn{constructor(w,D){this.createdAt=w,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xe(this.lastLoginAt),this.creationTime=Xe(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kt(k){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,m.Z)(function*(k){var w;const D=k.auth,F=yield k.getIdToken(),be=yield yt(k,ge(D,{idToken:F}));ke(be?.users.length,D,"internal-error");const Je=be.users[0];k._notifyReloadListener(Je);const Zt=null!==(w=Je.providerUserInfo)&&void 0!==w&&w.length?z(Je.providerUserInfo):[],wn=K(k.providerData,Zt),ti=!!k.isAnonymous&&!(k.email&&Je.passwordHash||wn?.length),Tr={uid:Je.localId,displayName:Je.displayName||null,photoURL:Je.photoUrl||null,email:Je.email||null,emailVerified:Je.emailVerified||!1,phoneNumber:Je.phoneNumber||null,tenantId:Je.tenantId||null,providerData:wn,metadata:new vn(Je.createdAt,Je.lastLoginAt),isAnonymous:ti};Object.assign(k,Tr)})).apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(k){const w=(0,h.m9)(k);yield kt(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function K(k,w){return[...k.filter(F=>!w.some(be=>be.providerId===F.providerId)),...w]}function z(k){return k.map(w=>{var{providerId:D}=w,F=(0,N._T)(w,["providerId"]);return{providerId:D,uid:F.rawId||"",displayName:F.displayName||null,email:F.email||null,phoneNumber:F.phoneNumber||null,photoURL:F.photoUrl||null}})}function J(){return(J=(0,m.Z)(function*(k,w){const D=yield An(k,{},(0,m.Z)(function*(){const F=(0,h.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:be,apiKey:Je}=k.config,Zt=$n(k,be,"/v1/token",`key=${Je}`),wn=yield k._getAdditionalHeaders();return wn["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(Zt,{method:"POST",headers:wn,body:F})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ke(w.idToken,"internal-error"),ke(typeof w.idToken<"u","internal-error"),ke(typeof w.refreshToken<"u","internal-error");const D="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Ne(k){const w=mt(k);return ke(w,"internal-error"),ke(typeof w.exp<"u","internal-error"),ke(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,D)}getToken(w,D=!1){var F=this;return(0,m.Z)(function*(){return ke(!F.accessToken||F.refreshToken,w,"user-token-expired"),D||!F.accessToken||F.isExpired?F.refreshToken?(yield F.refresh(w,F.refreshToken),F.accessToken):null:F.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,D){var F=this;return(0,m.Z)(function*(){const{accessToken:be,refreshToken:Je,expiresIn:Zt}=yield function de(k,w){return J.apply(this,arguments)}(w,D);F.updateTokensAndExpiration(be,Je,Number(Zt))})()}updateTokensAndExpiration(w,D,F){this.refreshToken=D||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*F}static fromJSON(w,D){const{refreshToken:F,accessToken:be,expirationTime:Je}=D,Zt=new ct;return F&&(ke("string"==typeof F,"internal-error",{appName:w}),Zt.refreshToken=F),be&&(ke("string"==typeof be,"internal-error",{appName:w}),Zt.accessToken=be),Je&&(ke("number"==typeof Je,"internal-error",{appName:w}),Zt.expirationTime=Je),Zt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new ct,this.toJSON())}_performRefresh(){return $e("not implemented")}}function st(k,w){ke("string"==typeof k||typeof k>"u","internal-error",{appName:w})}class Mt{constructor(w){var{uid:D,auth:F,stsTokenManager:be}=w,Je=(0,N._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=F,this.stsTokenManager=be,this.accessToken=be.accessToken,this.displayName=Je.displayName||null,this.email=Je.email||null,this.emailVerified=Je.emailVerified||!1,this.phoneNumber=Je.phoneNumber||null,this.photoURL=Je.photoURL||null,this.isAnonymous=Je.isAnonymous||!1,this.tenantId=Je.tenantId||null,this.providerData=Je.providerData?[...Je.providerData]:[],this.metadata=new vn(Je.createdAt||void 0,Je.lastLoginAt||void 0)}getIdToken(w){var D=this;return(0,m.Z)(function*(){const F=yield yt(D,D.stsTokenManager.getToken(D.auth,w));return ke(F,D.auth,"internal-error"),D.accessToken!==F&&(D.accessToken=F,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),F})()}getIdTokenResult(w){return function $t(k){return un.apply(this,arguments)}(this,w)}reload(){return function te(k){return ae.apply(this,arguments)}(this)}_assign(w){this!==w&&(ke(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(D=>Object.assign({},D)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){return new Mt(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(w){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,D=!1){var F=this;return(0,m.Z)(function*(){let be=!1;w.idToken&&w.idToken!==F.stsTokenManager.accessToken&&(F.stsTokenManager.updateFromServerResponse(w),be=!0),D&&(yield kt(F)),yield F.auth._persistUserIfCurrent(F),be&&F.auth._notifyListenersIfCurrent(F)})()}delete(){var w=this;return(0,m.Z)(function*(){const D=yield w.getIdToken();return yield yt(w,function qn(k,w){return _n.apply(this,arguments)}(w.auth,{idToken:D})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,D){var F,be,Je,Zt,wn,oi,ei,ti;const Tr=null!==(F=D.displayName)&&void 0!==F?F:void 0,Wt=null!==(be=D.email)&&void 0!==be?be:void 0,er=null!==(Je=D.phoneNumber)&&void 0!==Je?Je:void 0,vu=null!==(Zt=D.photoURL)&&void 0!==Zt?Zt:void 0,Os=null!==(wn=D.tenantId)&&void 0!==wn?wn:void 0,uh=null!==(oi=D._redirectEventId)&&void 0!==oi?oi:void 0,yu=null!==(ei=D.createdAt)&&void 0!==ei?ei:void 0,Vp=null!==(ti=D.lastLoginAt)&&void 0!==ti?ti:void 0,{uid:ta,emailVerified:Ec,isAnonymous:na,providerData:ff,stsTokenManager:bu}=D;ke(ta&&bu,w,"internal-error");const Bi=ct.fromJSON(this.name,bu);ke("string"==typeof ta,w,"internal-error"),st(Tr,w.name),st(Wt,w.name),ke("boolean"==typeof Ec,w,"internal-error"),ke("boolean"==typeof na,w,"internal-error"),st(er,w.name),st(vu,w.name),st(Os,w.name),st(uh,w.name),st(yu,w.name),st(Vp,w.name);const Zr=new Mt({uid:ta,auth:w,email:Wt,emailVerified:Ec,displayName:Tr,isAnonymous:na,photoURL:vu,phoneNumber:er,tenantId:Os,stsTokenManager:Bi,createdAt:yu,lastLoginAt:Vp});return ff&&Array.isArray(ff)&&(Zr.providerData=ff.map(dh=>Object.assign({},dh))),uh&&(Zr._redirectEventId=uh),Zr}static _fromIdTokenResponse(w,D,F=!1){return(0,m.Z)(function*(){const be=new ct;be.updateFromServerResponse(D);const Je=new Mt({uid:D.localId,auth:w,stsTokenManager:be,isAnonymous:F});return yield kt(Je),Je})()}}const je=(()=>{class k{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(D,F){var be=this;return(0,m.Z)(function*(){be.storage[D]=F})()}_get(D){var F=this;return(0,m.Z)(function*(){const be=F.storage[D];return void 0===be?null:be})()}_remove(D){var F=this;return(0,m.Z)(function*(){delete F.storage[D]})()}_addListener(D,F){}_removeListener(D,F){}}return k.type="NONE",k})();function nt(k,w,D){return`firebase:${k}:${w}:${D}`}class ve{constructor(w,D,F){this.persistence=w,this.auth=D,this.userKey=F;const{config:be,name:Je}=this.auth;this.fullUserKey=nt(this.userKey,be.apiKey,Je),this.fullPersistenceKey=nt("persistence",be.apiKey,Je),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,m.Z)(function*(){const D=yield w.persistence._get(w.fullUserKey);return D?Mt._fromJSON(w.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var D=this;return(0,m.Z)(function*(){if(D.persistence===w)return;const F=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=w,F?D.setCurrentUser(F):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,D,F="authUser"){return(0,m.Z)(function*(){if(!D.length)return new ve(dt(je),w,F);const be=(yield Promise.all(D.map(function(){var ei=(0,m.Z)(function*(ti){if(yield ti._isAvailable())return ti});return function(ti){return ei.apply(this,arguments)}}()))).filter(ei=>ei);let Je=be[0]||dt(je);const Zt=nt(F,w.config.apiKey,w.name);let wn=null;for(const ei of D)try{const ti=yield ei._get(Zt);if(ti){const Tr=Mt._fromJSON(w,ti);ei!==Je&&(wn=Tr),Je=ei;break}}catch{}const oi=be.filter(ei=>ei._shouldAllowMigration);return Je._shouldAllowMigration&&oi.length?(Je=oi[0],wn&&(yield Je._set(Zt,wn.toJSON())),yield Promise.all(D.map(function(){var ei=(0,m.Z)(function*(ti){if(ti!==Je)try{yield ti._remove(Zt)}catch{}});return function(ti){return ei.apply(this,arguments)}}())),new ve(Je,w,F)):new ve(Je,w,F)})()}}function Ce(k){const w=k.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Ze(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(ne(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(Re(w))return"Blackberry";if(se(w))return"Webos";if(Oe(w))return"Safari";if((w.includes("chrome/")||pt(w))&&!w.includes("edge/"))return"Chrome";if(We(w))return"Android";{const F=k.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===F?.length)return F[1]}return"Other"}function ne(k=(0,h.z$)()){return/firefox\//i.test(k)}function Oe(k=(0,h.z$)()){const w=k.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function pt(k=(0,h.z$)()){return/crios\//i.test(k)}function Ze(k=(0,h.z$)()){return/iemobile/i.test(k)}function We(k=(0,h.z$)()){return/android/i.test(k)}function Re(k=(0,h.z$)()){return/blackberry/i.test(k)}function se(k=(0,h.z$)()){return/webos/i.test(k)}function he(k=(0,h.z$)()){return/iphone|ipad|ipod/i.test(k)||/macintosh/i.test(k)&&/mobile/i.test(k)}function me(k=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(k)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(k)}function we(k=(0,h.z$)()){return he(k)||We(k)||se(k)||Re(k)||/windows phone/i.test(k)||Ze(k)}function ue(k,w=[]){let D;switch(k){case"Browser":D=Ce((0,h.z$)());break;case"Worker":D=`${Ce((0,h.z$)())}-${k}`;break;default:D=k}const F=w.length?w.join(","):"FirebaseCore-web";return`${D}/JsCore/${A.SDK_VERSION}/${F}`}class V{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,D){const F=Je=>new Promise((Zt,wn)=>{try{Zt(w(Je))}catch(oi){wn(oi)}});F.onAbort=D,this.queue.push(F);const be=this.queue.length-1;return()=>{this.queue[be]=()=>Promise.resolve()}}runMiddleware(w){var D=this;return(0,m.Z)(function*(){var F;if(D.auth.currentUser===w)return;const be=[];try{for(const Je of D.queue)yield Je(w),Je.onAbort&&be.push(Je.onAbort)}catch(Je){be.reverse();for(const Zt of be)try{Zt()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:null===(F=Je)||void 0===F?void 0:F.message})}})()}}class ce{constructor(w,D,F){this.app=w,this.heartbeatServiceProvider=D,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Te(this),this.idTokenSubscription=new Te(this),this.beforeStateQueue=new V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=St,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(w,D){var F=this;return D&&(this._popupRedirectResolver=dt(D)),this._initializationPromise=this.queue((0,m.Z)(function*(){var be,Je;if(!F._deleted&&(F.persistenceManager=yield ve.create(F,w),!F._deleted)){if(null!==(be=F._popupRedirectResolver)&&void 0!==be&&be._shouldInitProactively)try{yield F._popupRedirectResolver._initialize(F)}catch{}yield F.initializeCurrentUser(D),F.lastNotifiedUid=(null===(Je=F.currentUser)||void 0===Je?void 0:Je.uid)||null,!F._deleted&&(F._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,m.Z)(function*(){if(w._deleted)return;const D=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||D){if(w.currentUser&&D&&w.currentUser.uid===D.uid)return w._currentUser._assign(D),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(D,!0)}})()}initializeCurrentUser(w){var D=this;return(0,m.Z)(function*(){var F;const be=yield D.assertedPersistence.getCurrentUser();let Je=be,Zt=!1;if(w&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const wn=null===(F=D.redirectUser)||void 0===F?void 0:F._redirectEventId,oi=Je?._redirectEventId,ei=yield D.tryRedirectSignIn(w);(!wn||wn===oi)&&ei?.user&&(Je=ei.user,Zt=!0)}if(!Je)return D.directlySetCurrentUser(null);if(!Je._redirectEventId){if(Zt)try{yield D.beforeStateQueue.runMiddleware(Je)}catch(wn){Je=be,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(wn))}return Je?D.reloadAndSetCurrentUserOrClear(Je):D.directlySetCurrentUser(null)}return ke(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===Je._redirectEventId?D.directlySetCurrentUser(Je):D.reloadAndSetCurrentUserOrClear(Je)})()}tryRedirectSignIn(w){var D=this;return(0,m.Z)(function*(){let F=null;try{F=yield D._popupRedirectResolver._completeRedirectFn(D,w,!0)}catch{yield D._setRedirectUser(null)}return F})()}reloadAndSetCurrentUserOrClear(w){var D=this;return(0,m.Z)(function*(){var F;try{yield kt(w)}catch(be){if("auth/network-request-failed"!==(null===(F=be)||void 0===F?void 0:F.code))return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function sn(){if(typeof navigator>"u")return null;const k=navigator;return k.languages&&k.languages[0]||k.language||null}()}_delete(){var w=this;return(0,m.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var D=this;return(0,m.Z)(function*(){const F=w?(0,h.m9)(w):null;return F&&ke(F.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(F&&F._clone(D))})()}_updateCurrentUser(w,D=!1){var F=this;return(0,m.Z)(function*(){if(!F._deleted)return w&&ke(F.tenantId===w.tenantId,F,"tenant-id-mismatch"),D||(yield F.beforeStateQueue.runMiddleware(w)),F.queue((0,m.Z)(function*(){yield F.directlySetCurrentUser(w),F.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,m.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var D=this;return this.queue((0,m.Z)(function*(){yield D.assertedPersistence.setPersistence(dt(w))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new h.LL("auth","Firebase",w())}onAuthStateChanged(w,D,F){return this.registerStateListener(this.authStateSubscription,w,D,F)}beforeAuthStateChanged(w,D){return this.beforeStateQueue.pushCallback(w,D)}onIdTokenChanged(w,D,F){return this.registerStateListener(this.idTokenSubscription,w,D,F)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,D){var F=this;return(0,m.Z)(function*(){const be=yield F.getOrInitRedirectPersistenceManager(D);return null===w?be.removeCurrentUser():be.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var D=this;return(0,m.Z)(function*(){if(!D.redirectPersistenceManager){const F=w&&dt(w)||D._popupRedirectResolver;ke(F,D,"argument-error"),D.redirectPersistenceManager=yield ve.create(D,[dt(F._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(w){var D=this;return(0,m.Z)(function*(){var F,be;return D._isInitialized&&(yield D.queue((0,m.Z)(function*(){}))),(null===(F=D._currentUser)||void 0===F?void 0:F._redirectEventId)===w?D._currentUser:(null===(be=D.redirectUser)||void 0===be?void 0:be._redirectEventId)===w?D.redirectUser:null})()}_persistUserIfCurrent(w){var D=this;return(0,m.Z)(function*(){if(w===D.currentUser)return D.queue((0,m.Z)(function*(){return D.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const F=null!==(D=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==F&&(this.lastNotifiedUid=F,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,D,F,be){if(this._deleted)return()=>{};const Je="function"==typeof D?D:D.next.bind(D),Zt=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(Zt,this,"internal-error"),Zt.then(()=>Je(this.currentUser)),"function"==typeof D?w.addObserver(D,F,be):w.addObserver(D)}directlySetCurrentUser(w){var D=this;return(0,m.Z)(function*(){D.currentUser&&D.currentUser!==w&&D._currentUser._stopProactiveRefresh(),w&&D.isProactiveRefreshEnabled&&w._startProactiveRefresh(),D.currentUser=w,w?yield D.assertedPersistence.setCurrentUser(w):yield D.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,m.Z)(function*(){var D;const F={"X-Client-Version":w.clientVersion};w.app.options.appId&&(F["X-Firebase-gmpid"]=w.app.options.appId);const be=yield null===(D=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return be&&(F["X-Firebase-Client"]=be),F})()}}function Ve(k){return(0,h.m9)(k)}class Te{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,h.ne)(D=>this.observer=D)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Et(k,w,D){const F=Ve(k);ke(F._canInitEmulator,F,"emulator-config-failed"),ke(/^https?:\/\//.test(w),F,"invalid-emulator-scheme");const be=!!D?.disableWarnings,Je=ye(w),{host:Zt,port:wn}=function ut(k){const w=ye(k),D=/(\/\/)?([^?#/]+)/.exec(k.substr(w.length));if(!D)return{host:"",port:null};const F=D[2].split("@").pop()||"",be=/^(\[[^\]]+\])(:|$)/.exec(F);if(be){const Je=be[1];return{host:Je,port:O(F.substr(Je.length+1))}}{const[Je,Zt]=F.split(":");return{host:Je,port:O(Zt)}}}(w);F.config.emulator={url:`${Je}//${Zt}${null===wn?"":`:${wn}`}/`},F.settings.appVerificationDisabledForTesting=!0,F.emulatorConfig=Object.freeze({host:Zt,port:wn,protocol:Je.replace(":",""),options:Object.freeze({disableWarnings:be})}),be||function re(){function k(){const w=document.createElement("p"),D=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",k):k())}()}function ye(k){const w=k.indexOf(":");return w<0?"":k.substr(0,w+1)}function O(k){if(!k)return null;const w=Number(k);return isNaN(w)?null:w}class Me{constructor(w,D){this.providerId=w,this.signInMethod=D}toJSON(){return $e("not implemented")}_getIdTokenResponse(w){return $e("not implemented")}_linkToIdToken(w,D){return $e("not implemented")}_getReauthenticationResolver(w){return $e("not implemented")}}function _t(k,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:resetPassword",Dn(k,w))})).apply(this,arguments)}function di(k,w){return wi.apply(this,arguments)}function wi(){return(wi=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function ro(k,w){return tr.apply(this,arguments)}function tr(){return(tr=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",Dn(k,w))})).apply(this,arguments)}function is(){return(is=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithPassword",Dn(k,w))})).apply(this,arguments)}function Xr(k,w){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:sendOobCode",Dn(k,w))})).apply(this,arguments)}function Bt(k,w){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(k,w){return Xr(k,w)})).apply(this,arguments)}function yn(k,w){return In.apply(this,arguments)}function In(){return(In=(0,m.Z)(function*(k,w){return Xr(k,w)})).apply(this,arguments)}function Zn(k,w){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(k,w){return Xr(k,w)})).apply(this,arguments)}function mr(k,w){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(k,w){return Xr(k,w)})).apply(this,arguments)}function so(){return(so=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithEmailLink",Dn(k,w))})).apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithEmailLink",Dn(k,w))})).apply(this,arguments)}class $r extends Me{constructor(w,D,F,be=null){super("password",F),this._email=w,this._password=D,this._tenantId=be}static _fromEmailAndPassword(w,D){return new $r(w,D,"password")}static _fromEmailAndCode(w,D,F=null){return new $r(w,D,"emailLink",F)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const D="string"==typeof w?JSON.parse(w):w;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(w){var D=this;return(0,m.Z)(function*(){switch(D.signInMethod){case"password":return function ys(k,w){return is.apply(this,arguments)}(w,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function cr(k,w){return so.apply(this,arguments)}(w,{email:D._email,oobCode:D._password});default:Pt(w,"internal-error")}})()}_linkToIdToken(w,D){var F=this;return(0,m.Z)(function*(){switch(F.signInMethod){case"password":return di(w,{idToken:D,returnSecureToken:!0,email:F._email,password:F._password});case"emailLink":return function il(k,w){return Ks.apply(this,arguments)}(w,{idToken:D,email:F._email,oobCode:F._password});default:Pt(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function vo(k,w){return rs.apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithIdp",Dn(k,w))})).apply(this,arguments)}class yo extends Me{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const D=new yo(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(D.idToken=w.idToken),w.accessToken&&(D.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(D.nonce=w.nonce),w.pendingToken&&(D.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(D.accessToken=w.oauthToken,D.secret=w.oauthTokenSecret):Pt("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const D="string"==typeof w?JSON.parse(w):w,{providerId:F,signInMethod:be}=D,Je=(0,N._T)(D,["providerId","signInMethod"]);if(!F||!be)return null;const Zt=new yo(F,be);return Zt.idToken=Je.idToken||void 0,Zt.accessToken=Je.accessToken||void 0,Zt.secret=Je.secret,Zt.nonce=Je.nonce,Zt.pendingToken=Je.pendingToken||null,Zt}_getIdTokenResponse(w){return vo(w,this.buildRequest())}_linkToIdToken(w,D){const F=this.buildRequest();return F.idToken=D,vo(w,F)}_getReauthenticationResolver(w){const D=this.buildRequest();return D.autoCreate=!1,vo(w,D)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),w.postBody=(0,h.xO)(D)}return w}}function Nl(k,w){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:sendVerificationCode",Dn(k,w))})).apply(this,arguments)}function bs(){return(bs=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithPhoneNumber",Dn(k,w))})).apply(this,arguments)}function ws(){return(ws=(0,m.Z)(function*(k,w){const D=yield Rn(k,"POST","/v1/accounts:signInWithPhoneNumber",Dn(k,w));if(D.temporaryProof)throw Gn(k,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const Zs={USER_NOT_FOUND:"user-not-found"};function ao(){return(ao=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithPhoneNumber",Dn(k,Object.assign(Object.assign({},w),{operation:"REAUTH"})),Zs)})).apply(this,arguments)}class Cs extends Me{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,D){return new Cs({verificationId:w,verificationCode:D})}static _fromTokenResponse(w,D){return new Cs({phoneNumber:w,temporaryProof:D})}_getIdTokenResponse(w){return function Ha(k,w){return bs.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,D){return function oo(k,w){return ws.apply(this,arguments)}(w,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function rl(k,w){return ao.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:D,verificationId:F,verificationCode:be}=this.params;return w&&D?{temporaryProof:w,phoneNumber:D}:{sessionInfo:F,code:be}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:D,verificationCode:F,phoneNumber:be,temporaryProof:Je}=w;return F||D||be||Je?new Cs({verificationId:D,verificationCode:F,phoneNumber:be,temporaryProof:Je}):null}}class Fs{constructor(w){var D,F,be,Je,Zt,wn;const oi=(0,h.zd)((0,h.pd)(w)),ei=null!==(D=oi.apiKey)&&void 0!==D?D:null,ti=null!==(F=oi.oobCode)&&void 0!==F?F:null,Tr=function ca(k){switch(k){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(be=oi.mode)&&void 0!==be?be:null);ke(ei&&ti&&Tr,"argument-error"),this.apiKey=ei,this.operation=Tr,this.code=ti,this.continueUrl=null!==(Je=oi.continueUrl)&&void 0!==Je?Je:null,this.languageCode=null!==(Zt=oi.languageCode)&&void 0!==Zt?Zt:null,this.tenantId=null!==(wn=oi.tenantId)&&void 0!==wn?wn:null}static parseLink(w){const D=function kr(k){const w=(0,h.zd)((0,h.pd)(k)).link,D=w?(0,h.zd)((0,h.pd)(w)).deep_link_id:null,F=(0,h.zd)((0,h.pd)(k)).deep_link_id;return(F?(0,h.zd)((0,h.pd)(F)).link:null)||F||D||w||k}(w);try{return new Fs(D)}catch{return null}}}let Oo=(()=>{class k{constructor(){this.providerId=k.PROVIDER_ID}static credential(D,F){return $r._fromEmailAndPassword(D,F)}static credentialWithLink(D,F){const be=Fs.parseLink(F);return ke(be,"argument-error"),$r._fromEmailAndCode(D,be.code,be.tenantId)}}return k.PROVIDER_ID="password",k.EMAIL_PASSWORD_SIGN_IN_METHOD="password",k.EMAIL_LINK_SIGN_IN_METHOD="emailLink",k})();class wr{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Ls extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Ji extends Ls{static credentialFromJSON(w){const D="string"==typeof w?JSON.parse(w):w;return ke("providerId"in D&&"signInMethod"in D,"argument-error"),yo._fromParams(D)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ke(w.idToken||w.accessToken,"argument-error"),yo._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Ji.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Ji.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:D,oauthAccessToken:F,oauthTokenSecret:be,pendingToken:Je,nonce:Zt,providerId:wn}=w;if(!F&&!be&&!D&&!Je||!wn)return null;try{return new Ji(wn)._credential({idToken:D,accessToken:F,nonce:Zt,pendingToken:Je})}catch{return null}}}let lo=(()=>{class k extends Ls{constructor(){super("facebook.com")}static credential(D){return yo._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return k.credential(D.oauthAccessToken)}catch{return null}}}return k.FACEBOOK_SIGN_IN_METHOD="facebook.com",k.PROVIDER_ID="facebook.com",k})(),Es=(()=>{class k extends Ls{constructor(){super("google.com"),this.addScope("profile")}static credential(D,F){return yo._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:F})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:F,oauthAccessToken:be}=D;if(!F&&!be)return null;try{return k.credential(F,be)}catch{return null}}}return k.GOOGLE_SIGN_IN_METHOD="google.com",k.PROVIDER_ID="google.com",k})(),co=(()=>{class k extends Ls{constructor(){super("github.com")}static credential(D){return yo._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return k.credential(D.oauthAccessToken)}catch{return null}}}return k.GITHUB_SIGN_IN_METHOD="github.com",k.PROVIDER_ID="github.com",k})();class Yo extends Me{constructor(w,D){super(w,w),this.pendingToken=D}_getIdTokenResponse(w){return vo(w,this.buildRequest())}_linkToIdToken(w,D){const F=this.buildRequest();return F.idToken=D,vo(w,F)}_getReauthenticationResolver(w){const D=this.buildRequest();return D.autoCreate=!1,vo(w,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const D="string"==typeof w?JSON.parse(w):w,{providerId:F,signInMethod:be,pendingToken:Je}=D;return F&&be&&Je&&F===be?new Yo(F,Je):null}static _create(w,D){return new Yo(w,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bo extends wr{constructor(w){ke(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return bo.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return bo.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const D=Yo.fromJSON(w);return ke(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:D,providerId:F}=w;if(!D||!F)return null;try{return Yo._create(F,D)}catch{return null}}}let Pl=(()=>{class k extends Ls{constructor(){super("twitter.com")}static credential(D,F){return yo._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:F})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:F,oauthTokenSecret:be}=D;if(!F||!be)return null;try{return k.credential(F,be)}catch{return null}}}return k.TWITTER_SIGN_IN_METHOD="twitter.com",k.PROVIDER_ID="twitter.com",k})();function cs(k,w){return us.apply(this,arguments)}function us(){return(us=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signUp",Dn(k,w))})).apply(this,arguments)}class sr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,D,F,be=!1){return(0,m.Z)(function*(){const Je=yield Mt._fromIdTokenResponse(w,F,be),Zt=ko(F);return new sr({user:Je,providerId:Zt,_tokenResponse:F,operationType:D})})()}static _forOperation(w,D,F){return(0,m.Z)(function*(){yield w._updateTokensIfNecessary(F,!0);const be=ko(F);return new sr({user:w,providerId:be,_tokenResponse:F,operationType:D})})()}}function ko(k){return k.providerId?k.providerId:"phoneNumber"in k?"phone":null}function Ro(k){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,m.Z)(function*(k){var w;const D=Ve(k);if(yield D._initializationPromise,null!==(w=D.currentUser)&&void 0!==w&&w.isAnonymous)return new sr({user:D.currentUser,providerId:null,operationType:"signIn"});const F=yield cs(D,{returnSecureToken:!0}),be=yield sr._fromIdTokenResponse(D,"signIn",F,!0);return yield D._updateCurrentUser(be.user),be})).apply(this,arguments)}class Ui extends h.ZR{constructor(w,D,F,be){var Je;super(D.code,D.message),this.operationType=F,this.user=be,Object.setPrototypeOf(this,Ui.prototype),this.customData={appName:w.name,tenantId:null!==(Je=w.tenantId)&&void 0!==Je?Je:void 0,_serverResponse:D.customData._serverResponse,operationType:F}}static _fromErrorAndOperation(w,D,F,be){return new Ui(w,D,F,be)}}function ua(k,w,D,F){return("reauthenticate"===w?D._getReauthenticationResolver(k):D._getIdTokenResponse(k)).catch(Je=>{throw"auth/multi-factor-auth-required"===Je.code?Ui._fromErrorAndOperation(k,Je,w,F):Je})}function Ga(k){return new Set(k.map(({providerId:w})=>w).filter(w=>!!w))}function No(k,w){return ds.apply(this,arguments)}function ds(){return(ds=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k);yield Bs(!0,D,w);const{providerUserInfo:F}=yield Be(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[w]}),be=Ga(F||[]);return D.providerData=D.providerData.filter(Je=>be.has(Je.providerId)),be.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function da(k,w){return Br.apply(this,arguments)}function Br(){return(Br=(0,m.Z)(function*(k,w,D=!1){const F=yield yt(k,w._linkToIdToken(k.auth,yield k.getIdToken()),D);return sr._forOperation(k,"link",F)})).apply(this,arguments)}function Bs(k,w,D){return Li.apply(this,arguments)}function Li(){return(Li=(0,m.Z)(function*(k,w,D){yield kt(w);const be=!1===k?"provider-already-linked":"no-such-provider";ke(Ga(w.providerData).has(D)===k,w.auth,be)})).apply(this,arguments)}function Ll(k,w){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,m.Z)(function*(k,w,D=!1){var F;const{auth:be}=k,Je="reauthenticate";try{const Zt=yield yt(k,ua(be,Je,w,k),D);ke(Zt.idToken,be,"internal-error");const wn=mt(Zt.idToken);ke(wn,be,"internal-error");const{sub:oi}=wn;return ke(k.uid===oi,be,"user-mismatch"),sr._forOperation(k,Je,Zt)}catch(Zt){throw"auth/user-not-found"===(null===(F=Zt)||void 0===F?void 0:F.code)&&Pt(be,"user-mismatch"),Zt}})).apply(this,arguments)}function ss(k,w){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,m.Z)(function*(k,w,D=!1){const F="signIn",be=yield ua(k,F,w),Je=yield sr._fromIdTokenResponse(k,F,be);return D||(yield k._updateCurrentUser(Je.user)),Je})).apply(this,arguments)}function uo(k,w){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,m.Z)(function*(k,w){return ss(Ve(k),w)})).apply(this,arguments)}function Di(k,w){return Po.apply(this,arguments)}function Po(){return(Po=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k);return yield Bs(!1,D,w.providerId),da(D,w)})).apply(this,arguments)}function hs(k,w){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,m.Z)(function*(k,w){return Ll((0,h.m9)(k),w)})).apply(this,arguments)}function ha(k,w){return Us.apply(this,arguments)}function Us(){return(Us=(0,m.Z)(function*(k,w){return Rn(k,"POST","/v1/accounts:signInWithCustomToken",Dn(k,w))})).apply(this,arguments)}function os(k,w){return ol.apply(this,arguments)}function ol(){return(ol=(0,m.Z)(function*(k,w){const D=Ve(k),F=yield ha(D,{token:w,returnSecureToken:!0}),be=yield sr._fromIdTokenResponse(D,"signIn",F);return yield D._updateCurrentUser(be.user),be})).apply(this,arguments)}class nr{constructor(w,D){this.factorId=w,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(w,D){return"phoneInfo"in D?En._fromServerResponse(w,D):Pt(w,"internal-error")}}class En extends nr{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,D){return new En(D)}}function ki(k,w,D){var F;ke((null===(F=D.url)||void 0===F?void 0:F.length)>0,k,"invalid-continue-uri"),ke(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,k,"invalid-dynamic-link-domain"),w.continueUrl=D.url,w.dynamicLinkDomain=D.dynamicLinkDomain,w.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(ke(D.iOS.bundleId.length>0,k,"missing-ios-bundle-id"),w.iOSBundleId=D.iOS.bundleId),D.android&&(ke(D.android.packageName.length>0,k,"missing-android-pkg-name"),w.androidInstallApp=D.android.installApp,w.androidMinimumVersionCode=D.android.minimumVersion,w.androidPackageName=D.android.packageName)}function Bl(k,w,D){return al.apply(this,arguments)}function al(){return(al=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),be={requestType:"PASSWORD_RESET",email:w};D&&ki(F,be,D),yield yn(F,be)})).apply(this,arguments)}function Vr(k,w,D){return Q.apply(this,arguments)}function Q(){return(Q=(0,m.Z)(function*(k,w,D){yield _t((0,h.m9)(k),{oobCode:w,newPassword:D})})).apply(this,arguments)}function Y(k,w){return $.apply(this,arguments)}function $(){return($=(0,m.Z)(function*(k,w){yield ro((0,h.m9)(k),{oobCode:w})})).apply(this,arguments)}function Ue(k,w){return dn.apply(this,arguments)}function dn(){return(dn=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k),F=yield _t(D,{oobCode:w}),be=F.requestType;switch(ke(be,D,"internal-error"),be){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(F.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(F.mfaInfo,D,"internal-error");default:ke(F.email,D,"internal-error")}let Je=null;return F.mfaInfo&&(Je=nr._fromServerResponse(Ve(D),F.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.newEmail:F.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.email:F.newEmail)||null,multiFactorInfo:Je},operation:be}})).apply(this,arguments)}function gi(k,w){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(k,w){const{data:D}=yield Ue((0,h.m9)(k),w);return D.email})).apply(this,arguments)}function xs(k,w,D){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(k,w,D){const F=Ve(k),be=yield cs(F,{returnSecureToken:!0,email:w,password:D}),Je=yield sr._fromIdTokenResponse(F,"signIn",be);return yield F._updateCurrentUser(Je.user),Je})).apply(this,arguments)}function Mr(k,w,D){return uo((0,h.m9)(k),Oo.credential(w,D))}function Ss(k,w,D){return fa.apply(this,arguments)}function fa(){return(fa=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),be={requestType:"EMAIL_SIGNIN",email:w};ke(D.handleCodeInApp,F,"argument-error"),D&&ki(F,be,D),yield Zn(F,be)})).apply(this,arguments)}function ja(k,w){return"EMAIL_SIGNIN"===Fs.parseLink(w)?.operation}function wo(k,w,D){return ll.apply(this,arguments)}function ll(){return(ll=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),be=Oo.credentialWithLink(w,D||Jt());return ke(be._tenantId===(F.tenantId||null),F,"tenant-id-mismatch"),uo(F,be)})).apply(this,arguments)}function cl(k,w){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:createAuthUri",Dn(k,w))})).apply(this,arguments)}function uc(k,w){return ul.apply(this,arguments)}function ul(){return(ul=(0,m.Z)(function*(k,w){const F={identifier:w,continueUri:Kt()?Jt():"http://localhost"},{signinMethods:be}=yield cl((0,h.m9)(k),F);return be||[]})).apply(this,arguments)}function Ko(k,w){return Da.apply(this,arguments)}function Da(){return(Da=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k),be={requestType:"VERIFY_EMAIL",idToken:yield k.getIdToken()};w&&ki(D.auth,be,w);const{email:Je}=yield Bt(D.auth,be);Je!==k.email&&(yield k.reload())})).apply(this,arguments)}function za(k,w,D){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),Je={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield k.getIdToken(),newEmail:w};D&&ki(F.auth,Je,D);const{email:Zt}=yield mr(F.auth,Je);Zt!==k.email&&(yield k.reload())})).apply(this,arguments)}function nu(k,w){return dl.apply(this,arguments)}function dl(){return(dl=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Ea(k,w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,m.Z)(function*(k,{displayName:w,photoURL:D}){if(void 0===w&&void 0===D)return;const F=(0,h.m9)(k),Je={idToken:yield F.getIdToken(),displayName:w,photoUrl:D,returnSecureToken:!0},Zt=yield yt(F,nu(F.auth,Je));F.displayName=Zt.displayName||null,F.photoURL=Zt.photoUrl||null;const wn=F.providerData.find(({providerId:oi})=>"password"===oi);wn&&(wn.displayName=F.displayName,wn.photoURL=F.photoURL),yield F._updateTokensIfNecessary(Zt)})).apply(this,arguments)}function Co(k,w){return fe((0,h.m9)(k),w,null)}function U(k,w){return fe((0,h.m9)(k),null,w)}function fe(k,w,D){return W.apply(this,arguments)}function W(){return(W=(0,m.Z)(function*(k,w,D){const{auth:F}=k,Je={idToken:yield k.getIdToken(),returnSecureToken:!0};w&&(Je.email=w),D&&(Je.password=D);const Zt=yield yt(k,di(F,Je));yield k._updateTokensIfNecessary(Zt,!0)})).apply(this,arguments)}class Tt{constructor(w,D,F={}){this.isNewUser=w,this.providerId=D,this.profile=F}}class ln extends Tt{constructor(w,D,F,be){super(w,D,F),this.username=be}}class pn extends Tt{constructor(w,D){super(w,"facebook.com",D)}}class li extends ln{constructor(w,D){super(w,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class Ki extends Tt{constructor(w,D){super(w,"google.com",D)}}class Wi extends ln{constructor(w,D,F){super(w,"twitter.com",D,F)}}function Zi(k){const{user:w,_tokenResponse:D}=k;return w.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function Ie(k){var w,D;if(!k)return null;const{providerId:F}=k,be=k.rawUserInfo?JSON.parse(k.rawUserInfo):{},Je=k.isNewUser||"identitytoolkit#SignupNewUserResponse"===k.kind;if(!F&&k?.idToken){const Zt=null===(D=null===(w=mt(k.idToken))||void 0===w?void 0:w.firebase)||void 0===D?void 0:D.sign_in_provider;if(Zt)return new Tt(Je,"anonymous"!==Zt&&"custom"!==Zt?Zt:null)}if(!F)return null;switch(F){case"facebook.com":return new pn(Je,be);case"github.com":return new li(Je,be);case"google.com":return new Ki(Je,be);case"twitter.com":return new Wi(Je,be,k.screenName||null);case"custom":case"anonymous":return new Tt(Je,null);default:return new Tt(Je,F,be)}}(D)}function Dr(k,w,D,F){return(0,h.m9)(k).onAuthStateChanged(w,D,F)}class fs{constructor(w,D,F){this.type=w,this.credential=D,this.auth=F}static _fromIdtoken(w,D){return new fs("enroll",w,D)}static _fromMfaPendingCredential(w){return new fs("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var D,F;if(w?.multiFactorSession){if(null!==(D=w.multiFactorSession)&&void 0!==D&&D.pendingCredential)return fs._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(F=w.multiFactorSession)&&void 0!==F&&F.idToken)return fs._fromIdtoken(w.multiFactorSession.idToken)}return null}}class hl{constructor(w,D,F){this.session=w,this.hints=D,this.signInResolver=F}static _fromError(w,D){const F=Ve(w),be=D.customData._serverResponse,Je=(be.mfaInfo||[]).map(wn=>nr._fromServerResponse(F,wn));ke(be.mfaPendingCredential,F,"internal-error");const Zt=fs._fromMfaPendingCredential(be.mfaPendingCredential);return new hl(Zt,Je,function(){var wn=(0,m.Z)(function*(oi){const ei=yield oi._process(F,Zt);delete be.mfaInfo,delete be.mfaPendingCredential;const ti=Object.assign(Object.assign({},be),{idToken:ei.idToken,refreshToken:ei.refreshToken});switch(D.operationType){case"signIn":const Tr=yield sr._fromIdTokenResponse(F,D.operationType,ti);return yield F._updateCurrentUser(Tr.user),Tr;case"reauthenticate":return ke(D.user,F,"internal-error"),sr._forOperation(D.user,D.operationType,ti);default:Pt(F,"internal-error")}});return function(oi){return wn.apply(this,arguments)}}())}resolveSignIn(w){var D=this;return(0,m.Z)(function*(){return D.signInResolver(w)})()}}function Bn(k,w){var D;const F=(0,h.m9)(k),be=w;return ke(w.customData.operationType,F,"argument-error"),ke(null===(D=be.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,F,"argument-error"),hl._fromError(F,be)}function _r(k,w){return Xt(k,"POST","/v2/accounts/mfaEnrollment:start",Dn(k,w))}class ci{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(F=>nr._fromServerResponse(w.auth,F)))})}static _fromUser(w){return new ci(w)}getSession(){var w=this;return(0,m.Z)(function*(){return fs._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,D){var F=this;return(0,m.Z)(function*(){const be=w,Je=yield F.getSession(),Zt=yield yt(F.user,be._process(F.user.auth,Je,D));return yield F.user._updateTokensIfNecessary(Zt),F.user.reload()})()}unenroll(w){var D=this;return(0,m.Z)(function*(){var F;const be="string"==typeof w?w:w.uid,Je=yield D.user.getIdToken(),Zt=yield yt(D.user,function iu(k,w){return Xt(k,"POST","/v2/accounts/mfaEnrollment:withdraw",Dn(k,w))}(D.user.auth,{idToken:Je,mfaEnrollmentId:be}));D.enrolledFactors=D.enrolledFactors.filter(({uid:wn})=>wn!==be),yield D.user._updateTokensIfNecessary(Zt);try{yield D.user.reload()}catch(wn){if("auth/user-token-expired"!==(null===(F=wn)||void 0===F?void 0:F.code))throw wn}})()}}const Ei=new WeakMap;function Sp(k){const w=(0,h.m9)(k);return Ei.has(w)||Ei.set(w,ci._fromUser(w)),Ei.get(w)}const Kn="__sak";class hn{constructor(w,D){this.storageRetriever=w,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(Kn,"1"),this.storage.removeItem(Kn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,D){return this.storage.setItem(w,JSON.stringify(D)),Promise.resolve()}_get(w){const D=this.storage.getItem(w);return Promise.resolve(D?JSON.parse(D):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const $a=(()=>{class k extends hn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,F)=>this.onStorageEvent(D,F),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kn(){const k=(0,h.z$)();return Oe(k)||he(k)}()&&function H(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const F of Object.keys(this.listeners)){const be=this.storage.getItem(F),Je=this.localCache[F];be!==Je&&D(F,Je,be)}}onStorageEvent(D,F=!1){if(!D.key)return void this.forAllChangedKeys((wn,oi,ei)=>{this.notifyListeners(wn,ei)});const be=D.key;if(F?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const wn=this.storage.getItem(be);if(D.newValue!==wn)null!==D.newValue?this.storage.setItem(be,D.newValue):this.storage.removeItem(be);else if(this.localCache[be]===D.newValue&&!F)return}const Je=()=>{const wn=this.storage.getItem(be);!F&&this.localCache[be]===wn||this.notifyListeners(be,wn)},Zt=this.storage.getItem(be);!function _e(){return(0,h.w1)()&&10===document.documentMode}()||Zt===D.newValue||D.newValue===D.oldValue?Je():setTimeout(Je,10)}notifyListeners(D,F){this.localCache[D]=F;const be=this.listeners[D];if(be)for(const Je of Array.from(be))Je(F&&JSON.parse(F))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,F,be)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:F,newValue:be}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,F){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(F)}_removeListener(D,F){this.listeners[D]&&(this.listeners[D].delete(F),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,F){var be=()=>super._set,Je=this;return(0,m.Z)(function*(){yield be().call(Je,D,F),Je.localCache[D]=JSON.stringify(F)})()}_get(D){var F=()=>super._get,be=this;return(0,m.Z)(function*(){const Je=yield F().call(be,D);return be.localCache[D]=JSON.stringify(Je),Je})()}_remove(D){var F=()=>super._remove,be=this;return(0,m.Z)(function*(){yield F().call(be,D),delete be.localCache[D]})()}}return k.type="LOCAL",k})(),fl=(()=>{class k extends hn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,F){}_removeListener(D,F){}}return k.type="SESSION",k})();let dc=(()=>{class k{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const F=this.receivers.find(Je=>Je.isListeningto(D));if(F)return F;const be=new k(D);return this.receivers.push(be),be}isListeningto(D){return this.eventTarget===D}handleEvent(D){var F=this;return(0,m.Z)(function*(){const be=D,{eventId:Je,eventType:Zt,data:wn}=be.data,oi=F.handlersMap[Zt];if(!oi?.size)return;be.ports[0].postMessage({status:"ack",eventId:Je,eventType:Zt});const ei=Array.from(oi).map(function(){var Tr=(0,m.Z)(function*(Wt){return Wt(be.origin,wn)});return function(Wt){return Tr.apply(this,arguments)}}()),ti=yield function Ju(k){return Promise.all(k.map(function(){var w=(0,m.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(F){return{fulfilled:!1,reason:F}}});return function(D){return w.apply(this,arguments)}}()))}(ei);be.ports[0].postMessage({status:"done",eventId:Je,eventType:Zt,response:ti})})()}_subscribe(D,F){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(F)}_unsubscribe(D,F){this.handlersMap[D]&&F&&this.handlersMap[D].delete(F),(!F||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return k.receivers=[],k})();function ou(k="",w=10){let D="";for(let F=0;F<w;F++)D+=Math.floor(10*Math.random());return k+D}class qd{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,D,F=50){var be=this;return(0,m.Z)(function*(){const Je=typeof MessageChannel<"u"?new MessageChannel:null;if(!Je)throw new Error("connection_unavailable");let Zt,wn;return new Promise((oi,ei)=>{const ti=ou("",20);Je.port1.start();const Tr=setTimeout(()=>{ei(new Error("unsupported_event"))},F);wn={messageChannel:Je,onMessage(Wt){const er=Wt;if(er.data.eventId===ti)switch(er.data.status){case"ack":clearTimeout(Tr),Zt=setTimeout(()=>{ei(new Error("timeout"))},3e3);break;case"done":clearTimeout(Zt),oi(er.data.response);break;default:clearTimeout(Tr),clearTimeout(Zt),ei(new Error("invalid_response"))}}},be.handlers.add(wn),Je.port1.addEventListener("message",wn.onMessage),be.target.postMessage({eventType:w,eventId:ti,data:D},[Je.port2])}).finally(()=>{wn&&be.removeMessageHandler(wn)})})()}}function Fr(){return window}function mi(){return typeof Fr().WorkerGlobalScope<"u"&&"function"==typeof Fr().importScripts}function pa(){return(pa=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qo="firebaseLocalStorageDb",au="firebaseLocalStorage",vr="fbase_key";class Yn{constructor(w){this.request=w}toPromise(){return new Promise((w,D)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function ga(k,w){return k.transaction([au],w?"readwrite":"readonly").objectStore(au)}function ma(){const k=indexedDB.open(Qo,1);return new Promise((w,D)=>{k.addEventListener("error",()=>{D(k.error)}),k.addEventListener("upgradeneeded",()=>{const F=k.result;try{F.createObjectStore(au,{keyPath:vr})}catch(be){D(be)}}),k.addEventListener("success",(0,m.Z)(function*(){const F=k.result;F.objectStoreNames.contains(au)?w(F):(F.close(),yield function Gr(){const k=indexedDB.deleteDatabase(Qo);return new Yn(k).toPromise()}(),w(yield ma()))}))})}function As(k,w,D){return ps.apply(this,arguments)}function ps(){return(ps=(0,m.Z)(function*(k,w,D){const F=ga(k,!0).put({[vr]:w,value:D});return new Yn(F).toPromise()})).apply(this,arguments)}function Wa(){return(Wa=(0,m.Z)(function*(k,w){const D=ga(k,!1).get(w),F=yield new Yn(D).toPromise();return void 0===F?null:F.value})).apply(this,arguments)}function hc(k,w){const D=ga(k,!0).delete(w);return new Yn(D).toPromise()}const pc=(()=>{class k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,m.Z)(function*(){return D.db||(D.db=yield ma()),D.db})()}_withRetries(D){var F=this;return(0,m.Z)(function*(){let be=0;for(;;)try{const Je=yield F._openDb();return yield D(Je)}catch(Je){if(be++>3)throw Je;F.db&&(F.db.close(),F.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,m.Z)(function*(){return mi()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,m.Z)(function*(){D.receiver=dc._getInstance(function bi(){return mi()?self:null}()),D.receiver._subscribe("keyChanged",function(){var F=(0,m.Z)(function*(be,Je){return{keyProcessed:(yield D._poll()).includes(Je.key)}});return function(be,Je){return F.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var F=(0,m.Z)(function*(be,Je){return["keyChanged"]});return function(be,Je){return F.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,m.Z)(function*(){var F,be;if(D.activeServiceWorker=yield function Fo(){return pa.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new qd(D.activeServiceWorker);const Je=yield D.sender._send("ping",{},800);!Je||(null===(F=Je[0])||void 0===F?void 0:F.fulfilled)&&(null===(be=Je[0])||void 0===be?void 0:be.value.includes("keyChanged"))&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var F=this;return(0,m.Z)(function*(){if(F.sender&&F.activeServiceWorker&&function Er(){var k;return(null===(k=navigator?.serviceWorker)||void 0===k?void 0:k.controller)||null}()===F.activeServiceWorker)try{yield F.sender._send("keyChanged",{key:D},F.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const D=yield ma();return yield As(D,Kn,"1"),yield hc(D,Kn),!0}catch{}return!1})()}_withPendingWrite(D){var F=this;return(0,m.Z)(function*(){F.pendingWrites++;try{yield D()}finally{F.pendingWrites--}})()}_set(D,F){var be=this;return(0,m.Z)(function*(){return be._withPendingWrite((0,m.Z)(function*(){return yield be._withRetries(Je=>As(Je,D,F)),be.localCache[D]=F,be.notifyServiceWorker(D)}))})()}_get(D){var F=this;return(0,m.Z)(function*(){const be=yield F._withRetries(Je=>function lu(k,w){return Wa.apply(this,arguments)}(Je,D));return F.localCache[D]=be,be})()}_remove(D){var F=this;return(0,m.Z)(function*(){return F._withPendingWrite((0,m.Z)(function*(){return yield F._withRetries(be=>hc(be,D)),delete F.localCache[D],F.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,m.Z)(function*(){const F=yield D._withRetries(Zt=>{const wn=ga(Zt,!1).getAll();return new Yn(wn).toPromise()});if(!F)return[];if(0!==D.pendingWrites)return[];const be=[],Je=new Set;for(const{fbase_key:Zt,value:wn}of F)Je.add(Zt),JSON.stringify(D.localCache[Zt])!==JSON.stringify(wn)&&(D.notifyListeners(Zt,wn),be.push(Zt));for(const Zt of Object.keys(D.localCache))D.localCache[Zt]&&!Je.has(Zt)&&(D.notifyListeners(Zt,null),be.push(Zt));return be})()}notifyListeners(D,F){this.localCache[D]=F;const be=this.listeners[D];if(be)for(const Je of Array.from(be))Je(F)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,F){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(F)}_removeListener(D,F){this.listeners[D]&&(this.listeners[D].delete(F),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return k.type="LOCAL",k})();function cu(k,w){return Xt(k,"POST","/v2/accounts/mfaSignIn:start",Dn(k,w))}function on(){return(on=(0,m.Z)(function*(k){return(yield Xt(k,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jr(k){return new Promise((w,D)=>{const F=document.createElement("script");F.setAttribute("src",k),F.onload=w,F.onerror=be=>{const Je=tt("internal-error");Je.customData=be,D(Je)},F.type="text/javascript",F.charset="UTF-8",function _a(){var k,w;return null!==(w=null===(k=document.getElementsByTagName("head"))||void 0===k?void 0:k[0])&&void 0!==w?w:document}().appendChild(F)})}function gc(k){return`__${k}${Math.floor(1e6*Math.random())}`}const pl=1e12;class va{constructor(w){this.auth=w,this.counter=pl,this._widgets=new Map}render(w,D){const F=this.counter;return this._widgets.set(F,new hr(w,this.auth.name,D||{})),this.counter++,F}reset(w){var D;const F=w||pl;null===(D=this._widgets.get(F))||void 0===D||D.delete(),this._widgets.delete(F)}getResponse(w){var D;return(null===(D=this._widgets.get(w||pl))||void 0===D?void 0:D.getResponse())||""}execute(w){var D=this;return(0,m.Z)(function*(){var F;return null===(F=D._widgets.get(w||pl))||void 0===F||F.execute(),""})()}}class hr{constructor(w,D,F){this.params=F,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const be="string"==typeof w?document.getElementById(w):w;ke(be,"argument-error",{appName:D}),this.container=be,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ed(k){const w=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<k;F++)w.push(D.charAt(Math.floor(Math.random()*D.length)));return w.join("")}(50);const{callback:w,"expired-callback":D}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qd=gc("rcb"),ef=new vt(3e4,6e4);class Ap{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Fr().grecaptcha)||void 0===w||!w.render)}load(w,D=""){return ke(function xa(k){return k.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(k)}(D),w,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(Fr().grecaptcha):new Promise((F,be)=>{const Je=Fr().setTimeout(()=>{be(tt(w,"network-request-failed"))},ef.get());Fr()[Qd]=()=>{Fr().clearTimeout(Je),delete Fr()[Qd];const wn=Fr().grecaptcha;if(!wn)return void be(tt(w,"internal-error"));const oi=wn.render;wn.render=(ei,ti)=>{const Tr=oi(ei,ti);return this.counter++,Tr},this.hostLanguage=D,F(wn)},jr(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Qd,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(Je),be(tt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var D;return!(null===(D=Fr().grecaptcha)||void 0===D||!D.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ip{load(w){return(0,m.Z)(function*(){return new va(w)})()}clearedOneInstance(){}}const or="recaptcha",mc={theme:"light",type:"image"};class Is{constructor(w,D=Object.assign({},mc),F){this.parameters=D,this.type=or,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ve(F),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const be="string"==typeof w?document.getElementById(w):w;ke(be,this.auth,"argument-error"),this.container=be,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ip:new Ap,this.validateStartingState()}verify(){var w=this;return(0,m.Z)(function*(){w.assertNotDestroyed();const D=yield w.render(),F=w.getAssertedRecaptcha();return F.getResponse(D)||new Promise(Je=>{const Zt=wn=>{!wn||(w.tokenChangeListeners.delete(Zt),Je(wn))};w.tokenChangeListeners.add(Zt),w.isInvisible&&F.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return D=>{if(this.tokenChangeListeners.forEach(F=>F(D)),"function"==typeof w)w(D);else if("string"==typeof w){const F=Fr()[w];"function"==typeof F&&F(D)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,m.Z)(function*(){if(yield w.init(),!w.widgetId){let D=w.container;if(!w.isInvisible){const F=document.createElement("div");D.appendChild(F),D=F}w.widgetId=w.getAssertedRecaptcha().render(D,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,m.Z)(function*(){ke(Kt()&&!mi(),w.auth,"internal-error"),yield function Ii(){let k=null;return new Promise(w=>{"complete"!==document.readyState?(k=()=>w(),window.addEventListener("load",k)):w()}).catch(w=>{throw k&&window.removeEventListener("load",k),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const D=yield function Ka(k){return on.apply(this,arguments)}(w.auth);ke(D,w.auth,"internal-error"),w.parameters.sitekey=D})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _c{constructor(w,D){this.verificationId=w,this.onConfirmation=D}confirm(w){const D=Cs._fromVerification(this.verificationId,w);return this.onConfirmation(D)}}function Sa(k,w,D){return So.apply(this,arguments)}function So(){return(So=(0,m.Z)(function*(k,w,D){const F=Ve(k),be=yield yr(F,w,(0,h.m9)(D));return new _c(be,Je=>uo(F,Je))})).apply(this,arguments)}function Ci(k,w,D){return qi.apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);yield Bs(!1,F,"phone");const be=yield yr(F.auth,w,(0,h.m9)(D));return new _c(be,Je=>Di(F,Je))})).apply(this,arguments)}function ya(k,w,D){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),be=yield yr(F.auth,w,(0,h.m9)(D));return new _c(be,Je=>hs(F,Je))})).apply(this,arguments)}function yr(k,w,D){return M.apply(this,arguments)}function M(){return(M=(0,m.Z)(function*(k,w,D){var F;const be=yield D.verify();try{let Je;if(ke("string"==typeof be,k,"argument-error"),ke(D.type===or,k,"argument-error"),Je="string"==typeof w?{phoneNumber:w}:w,"session"in Je){const Zt=Je.session;if("phoneNumber"in Je)return ke("enroll"===Zt.type,k,"internal-error"),(yield _r(k,{idToken:Zt.credential,phoneEnrollmentInfo:{phoneNumber:Je.phoneNumber,recaptchaToken:be}})).phoneSessionInfo.sessionInfo;{ke("signin"===Zt.type,k,"internal-error");const wn=(null===(F=Je.multiFactorHint)||void 0===F?void 0:F.uid)||Je.multiFactorUid;return ke(wn,k,"missing-multi-factor-info"),(yield cu(k,{mfaPendingCredential:Zt.credential,mfaEnrollmentId:wn,phoneSignInInfo:{recaptchaToken:be}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Zt}=yield Nl(k,{phoneNumber:Je.phoneNumber,recaptchaToken:be});return Zt}}finally{D._reset()}})).apply(this,arguments)}function R(k,w){return S.apply(this,arguments)}function S(){return(S=(0,m.Z)(function*(k,w){yield da((0,h.m9)(k),w)})).apply(this,arguments)}let j=(()=>{class k{constructor(D){this.providerId=k.PROVIDER_ID,this.auth=Ve(D)}verifyPhoneNumber(D,F){return yr(this.auth,D,(0,h.m9)(F))}static credential(D,F){return Cs._fromVerification(D,F)}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:F,temporaryProof:be}=D;return F&&be?Cs._fromTokenResponse(F,be):null}}return k.PROVIDER_ID="phone",k.PHONE_SIGN_IN_METHOD="phone",k})();function Z(k,w){return w?dt(w):(ke(k._popupRedirectResolver,k,"argument-error"),k._popupRedirectResolver)}class Ae extends Me{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return vo(w,this._buildIdpRequest())}_linkToIdToken(w,D){return vo(w,this._buildIdpRequest(D))}_getReauthenticationResolver(w){return vo(w,this._buildIdpRequest())}_buildIdpRequest(w){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(D.idToken=w),D}}function ft(k){return ss(k.auth,new Ae(k),k.bypassAuthState)}function Ct(k){const{auth:w,user:D}=k;return ke(D,w,"internal-error"),Ll(D,new Ae(k),k.bypassAuthState)}function gn(k){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,m.Z)(function*(k){const{auth:w,user:D}=k;return ke(D,w,"internal-error"),da(D,new Ae(k),k.bypassAuthState)})).apply(this,arguments)}class Ri{constructor(w,D,F,be,Je=!1){this.auth=w,this.resolver=F,this.user=be,this.bypassAuthState=Je,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var w=this;return new Promise(function(){var D=(0,m.Z)(function*(F,be){w.pendingPromise={resolve:F,reject:be};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(Je){w.reject(Je)}});return function(F,be){return D.apply(this,arguments)}}())}onAuthEvent(w){var D=this;return(0,m.Z)(function*(){const{urlResponse:F,sessionId:be,postBody:Je,tenantId:Zt,error:wn,type:oi}=w;if(wn)return void D.reject(wn);const ei={auth:D.auth,requestUri:F,sessionId:be,tenantId:Zt||void 0,postBody:Je||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(oi)(ei))}catch(ti){D.reject(ti)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return ft;case"linkViaPopup":case"linkViaRedirect":return gn;case"reauthViaPopup":case"reauthViaRedirect":return Ct;default:Pt(this.auth,"internal-error")}}resolve(w){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new vt(2e3,1e4);function ji(k,w,D){return es.apply(this,arguments)}function es(){return(es=(0,m.Z)(function*(k,w,D){const F=Ve(k);He(k,w,wr);const be=Z(F,D);return new Qs(F,"signInViaPopup",w,be).executeNotNull()})).apply(this,arguments)}function js(k,w,D){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);He(F.auth,w,wr);const be=Z(F.auth,D);return new Qs(F.auth,"reauthViaPopup",w,be,F).executeNotNull()})).apply(this,arguments)}function Ms(k,w,D){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);He(F.auth,w,wr);const be=Z(F.auth,D);return new Qs(F.auth,"linkViaPopup",w,be,F).executeNotNull()})).apply(this,arguments)}let Qs=(()=>{class k extends Ri{constructor(D,F,be,Je,Zt){super(D,F,Je,Zt),this.provider=be,this.authWindow=null,this.pollId=null,k.currentPopupAction&&k.currentPopupAction.cancel(),k.currentPopupAction=this}executeNotNull(){var D=this;return(0,m.Z)(function*(){const F=yield D.execute();return ke(F,D.auth,"internal-error"),F})()}onExecution(){var D=this;return(0,m.Z)(function*(){Dt(1===D.filter.length,"Popup operations only handle one event");const F=ou();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],F),D.authWindow.associatedEvent=F,D.resolver._originValidation(D.auth).catch(be=>{D.reject(be)}),D.resolver._isIframeWebStorageSupported(D.auth,be=>{be||D.reject(tt(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,k.currentPopupAction=null}pollUserCancellation(){const D=()=>{var F,be;this.pollId=null!==(be=null===(F=this.authWindow)||void 0===F?void 0:F.window)&&void 0!==be&&be.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,ii.get())};D()}}return k.currentPopupAction=null,k})();const jl=new Map;class uu extends Ri{constructor(w,D,F=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,F),this.eventId=null}execute(){var w=()=>super.execute,D=this;return(0,m.Z)(function*(){let F=jl.get(D.auth._key());if(!F){try{const Je=(yield function tf(k,w){return gl.apply(this,arguments)}(D.resolver,D.auth))?yield w().call(D):null;F=()=>Promise.resolve(Je)}catch(be){F=()=>Promise.reject(be)}jl.set(D.auth._key(),F)}return D.bypassAuthState||jl.set(D.auth._key(),()=>Promise.resolve(null)),F()})()}onAuthEvent(w){var D=()=>super.onAuthEvent,F=this;return(0,m.Z)(function*(){if("signInViaRedirect"===w.type)return D().call(F,w);if("unknown"!==w.type){if(w.eventId){const be=yield F.auth._redirectUserForId(w.eventId);if(be)return F.user=be,D().call(F,w);F.resolve(null)}}else F.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function gl(){return(gl=(0,m.Z)(function*(k,w){const D=zl(w),F=yc(k);if(!(yield F._isAvailable()))return!1;const be="true"===(yield F._get(D));return yield F._remove(D),be})).apply(this,arguments)}function vc(k,w){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,m.Z)(function*(k,w){return yc(k)._set(zl(w),"true")})).apply(this,arguments)}function lm(){jl.clear()}function nf(k,w){jl.set(k._key(),w)}function yc(k){return dt(k._redirectPersistence)}function zl(k){return nt("pendingRedirect",k.config.apiKey,k.name)}function fo(k,w,D){return function as(k,w,D){return br.apply(this,arguments)}(k,w,D)}function br(){return(br=(0,m.Z)(function*(k,w,D){const F=Ve(k);He(k,w,wr);const be=Z(F,D);return yield vc(be,F),be._openRedirect(F,w,"signInViaRedirect")})).apply(this,arguments)}function Mp(k,w,D){return function Jd(k,w,D){return ea.apply(this,arguments)}(k,w,D)}function ea(){return(ea=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);He(F.auth,w,wr);const be=Z(F.auth,D);yield vc(be,F.auth);const Je=yield Op(F);return be._openRedirect(F.auth,w,"reauthViaRedirect",Je)})).apply(this,arguments)}function cm(k,w,D){return function td(k,w,D){return du.apply(this,arguments)}(k,w,D)}function du(){return(du=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);He(F.auth,w,wr);const be=Z(F.auth,D);yield Bs(!1,F,w.providerId),yield vc(be,F.auth);const Je=yield Op(F);return be._openRedirect(F.auth,w,"linkViaRedirect",Je)})).apply(this,arguments)}function nd(k,w){return $l.apply(this,arguments)}function $l(){return($l=(0,m.Z)(function*(k,w){return yield Ve(k)._initializationPromise,id(k,w,!1)})).apply(this,arguments)}function id(k,w){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(k,w,D=!1){const F=Ve(k),be=Z(F,w),Zt=yield new uu(F,be,D).execute();return Zt&&!D&&(delete Zt.user._redirectEventId,yield F._persistUserIfCurrent(Zt.user),yield F._setRedirectUser(null,w)),Zt})).apply(this,arguments)}function Op(k){return eh.apply(this,arguments)}function eh(){return(eh=(0,m.Z)(function*(k){const w=ou(`${k.uid}:::`);return k._redirectEventId=w,yield k.auth._setRedirectUser(k),yield k.auth._persistUserIfCurrent(k),w})).apply(this,arguments)}class hu{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let D=!1;return this.consumers.forEach(F=>{this.isEventForConsumer(w,F)&&(D=!0,this.sendToConsumer(w,F),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function um(k){switch(k.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rp(k);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=w,D=!0)),D}sendToConsumer(w,D){var F;if(w.error&&!Rp(w)){const be=(null===(F=w.error.code)||void 0===F?void 0:F.split("auth/")[1])||"internal-error";D.onError(tt(this.auth,be))}else D.onAuthEvent(w)}isEventForConsumer(w,D){const F=null===D.eventId||!!w.eventId&&w.eventId===D.eventId;return D.filter.includes(w.type)&&F}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kp(w))}saveEventToCache(w){this.cachedEventUids.add(kp(w)),this.lastProcessedEventTime=Date.now()}}function kp(k){return[k.type,k.eventId,k.sessionId,k.tenantId].filter(w=>w).join("-")}function Rp({type:k,error:w}){return"unknown"===k&&"auth/no-auth-event"===w?.code}function bc(k){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(k,w={}){return Xt(k,"GET","/v1/projects",w)})).apply(this,arguments)}const fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z_=/^https?/;function th(){return(th=(0,m.Z)(function*(k){if(k.config.emulator)return;const{authorizedDomains:w}=yield bc(k);for(const D of w)try{if(Wl(D))return}catch{}Pt(k,"unauthorized-domain")})).apply(this,arguments)}function Wl(k){const w=Jt(),{protocol:D,hostname:F}=new URL(w);if(k.startsWith("chrome-extension://")){const Zt=new URL(k);return""===Zt.hostname&&""===F?"chrome-extension:"===D&&k.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===D&&Zt.hostname===F}if(!z_.test(D))return!1;if(fu.test(k))return F===k;const be=k.replace(/\./g,"\\.");return new RegExp("^(.+\\."+be+"|"+be+")$","i").test(F)}const rf=new vt(3e4,6e4);function wc(){const k=Fr().___jsl;if(k?.H)for(const w of Object.keys(k.H))if(k.H[w].r=k.H[w].r||[],k.H[w].L=k.H[w].L||[],k.H[w].r=[...k.H[w].L],k.CP)for(let D=0;D<k.CP.length;D++)k.CP[D]=null}let ml=null;function nh(k){return ml=ml||function Pp(k){return new Promise((w,D)=>{var F,be,Je;function Zt(){wc(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{wc(),D(tt(k,"network-request-failed"))},timeout:rf.get()})}if(null!==(be=null===(F=Fr().gapi)||void 0===F?void 0:F.iframes)&&void 0!==be&&be.Iframe)w(gapi.iframes.getContext());else{if(null===(Je=Fr().gapi)||void 0===Je||!Je.load){const wn=gc("iframefcb");return Fr()[wn]=()=>{gapi.load?Zt():D(tt(k,"network-request-failed"))},jr(`https://apis.google.com/js/api.js?onload=${wn}`).catch(oi=>D(oi))}Zt()}}).catch(w=>{throw ml=null,w})}(k),ml}const sf=new vt(5e3,15e3),sd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ih=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rh(k){const w=k.config;ke(w.authDomain,k,"auth-domain-config-required");const D=w.emulator?qt(w,"emulator/auth/iframe"):`https://${k.config.authDomain}/__/auth/iframe`,F={apiKey:w.apiKey,appName:k.name,v:A.SDK_VERSION},be=ih.get(k.config.apiHost);be&&(F.eid=be);const Je=k._getFrameworks();return Je.length&&(F.fw=Je.join(",")),`${D}?${(0,h.xO)(F).slice(1)}`}function gu(){return gu=(0,m.Z)(function*(k){const w=yield nh(k),D=Fr().gapi;return ke(D,k,"internal-error"),w.open({where:document.body,url:rh(k),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sd,dontclear:!0},F=>new Promise(function(){var be=(0,m.Z)(function*(Je,Zt){yield F.restyle({setHideOnLeave:!1});const wn=tt(k,"network-request-failed"),oi=Fr().setTimeout(()=>{Zt(wn)},sf.get());function ei(){Fr().clearTimeout(oi),Je(F)}F.ping(ei).then(ei,()=>{Zt(wn)})});return function(Je,Zt){return be.apply(this,arguments)}}()))}),gu.apply(this,arguments)}const od={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bp{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _l(k,w,D,F,be,Je){ke(k.config.authDomain,k,"auth-domain-config-required"),ke(k.config.apiKey,k,"invalid-api-key");const Zt={apiKey:k.config.apiKey,appName:k.name,authType:D,redirectUrl:F,v:A.SDK_VERSION,eventId:be};if(w instanceof wr){w.setDefaultLanguage(k.languageCode),Zt.providerId=w.providerId||"",(0,h.xb)(w.getCustomParameters())||(Zt.customParameters=JSON.stringify(w.getCustomParameters()));for(const[oi,ei]of Object.entries(Je||{}))Zt[oi]=ei}if(w instanceof Ls){const oi=w.getScopes().filter(ei=>""!==ei);oi.length>0&&(Zt.scopes=oi.join(","))}k.tenantId&&(Zt.tid=k.tenantId);const wn=Zt;for(const oi of Object.keys(wn))void 0===wn[oi]&&delete wn[oi];return`${function Ho({config:k}){return k.emulator?qt(k,"emulator/auth/handler"):`https://${k.authDomain}/__/auth/handler`}(k)}?${(0,h.xO)(wn).slice(1)}`}const sh="webStorageSupport",df=class Dc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fl,this._completeRedirectFn=id,this._overrideRedirectResult=nf}_openPopup(w,D,F,be){var Je=this;return(0,m.Z)(function*(){var Zt;Dt(null===(Zt=Je.eventManagers[w._key()])||void 0===Zt?void 0:Zt.manager,"_initialize() not called before _openPopup()");const wn=_l(w,D,F,Jt(),be);return function Cc(k,w,D,F=500,be=600){const Je=Math.max((window.screen.availHeight-be)/2,0).toString(),Zt=Math.max((window.screen.availWidth-F)/2,0).toString();let wn="";const oi=Object.assign(Object.assign({},od),{width:F.toString(),height:be.toString(),top:Je,left:Zt}),ei=(0,h.z$)().toLowerCase();D&&(wn=pt(ei)?"_blank":D),ne(ei)&&(w=w||"http://localhost",oi.scrollbars="yes");const ti=Object.entries(oi).reduce((Wt,[er,vu])=>`${Wt}${er}=${vu},`,"");if(function Se(k=(0,h.z$)()){var w;return he(k)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(ei)&&"_self"!==wn)return function cf(k,w){const D=document.createElement("a");D.href=k,D.target=w;const F=document.createEvent("MouseEvent");F.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(F)}(w||"",wn),new Bp(null);const Tr=window.open(w||"",wn,ti);ke(Tr,k,"popup-blocked");try{Tr.focus()}catch{}return new Bp(Tr)}(w,wn,ou())})()}_openRedirect(w,D,F,be){var Je=this;return(0,m.Z)(function*(){return yield Je._originValidation(w),function ho(k){Fr().location.href=k}(_l(w,D,F,Jt(),be)),new Promise(()=>{})})()}_initialize(w){const D=w._key();if(this.eventManagers[D]){const{manager:be,promise:Je}=this.eventManagers[D];return be?Promise.resolve(be):(Dt(Je,"If manager is not set, promise should be"),Je)}const F=this.initAndGetManager(w);return this.eventManagers[D]={promise:F},F.catch(()=>{delete this.eventManagers[D]}),F}initAndGetManager(w){var D=this;return(0,m.Z)(function*(){const F=yield function af(k){return gu.apply(this,arguments)}(w),be=new hu(w);return F.register("authEvent",Je=>(ke(Je?.authEvent,w,"invalid-auth-event"),{status:be.onEvent(Je.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[w._key()]={manager:be},D.iframes[w._key()]=F,be})()}_isIframeWebStorageSupported(w,D){this.iframes[w._key()].send(sh,{type:sh},be=>{var Je;const Zt=null===(Je=be?.[0])||void 0===Je?void 0:Je[sh];void 0!==Zt&&D(!!Zt),Pt(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const D=w._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Np(k){return th.apply(this,arguments)}(w)),this.originValidationPromises[D]}get _shouldInitProactively(){return we()||Oe()||he()}};class oh extends class _u{constructor(w){this.factorId=w}_process(w,D,F){switch(D.type){case"enroll":return this._finalizeEnroll(w,D.credential,F);case"signin":return this._finalizeSignIn(w,D.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new oh(w)}_finalizeEnroll(w,D,F){return function Ta(k,w){return Xt(k,"POST","/v2/accounts/mfaEnrollment:finalize",Dn(k,w))}(w,{idToken:D,displayName:F,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,D){return function Lo(k,w){return Xt(k,"POST","/v2/accounts/mfaSignIn:finalize",Dn(k,w))}(w,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vl=(()=>{class k{constructor(){}static assertion(D){return oh._fromCredential(D)}}return k.FACTOR_ID="phone",k})();var Aa="@firebase/auth",hm="0.20.10";class hf{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var D=this;return(0,m.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const D=this.auth.onIdTokenChanged(F=>{var be;w((null===(be=F)||void 0===be?void 0:be.stsTokenManager.accessToken)||null)});this.internalListeners.set(w,D),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const D=this.internalListeners.get(w);!D||(this.internalListeners.delete(w),D(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lh=(0,h.Pz)("authIdTokenMaxAge")||300;let fi=null;const Ia=k=>function(){var w=(0,m.Z)(function*(D){const F=D&&(yield D.getIdTokenResult()),be=F&&((new Date).getTime()-Date.parse(F.issuedAtTime))/1e3;if(be&&be>lh)return;const Je=F?.token;fi!==Je&&(fi=Je,yield fetch(k,{method:Je?"POST":"DELETE",headers:Je?{Authorization:`Bearer ${Je}`}:{}}))});return function(D){return w.apply(this,arguments)}}();function ch(k=(0,A.getApp)()){const w=(0,A._getProvider)(k,"auth");if(w.isInitialized())return w.getImmediate();const D=function Rt(k,w){const D=(0,A._getProvider)(k,"auth");if(D.isInitialized()){const be=D.getImmediate(),Je=D.getOptions();if((0,h.vZ)(Je,w??{}))return be;Pt(be,"already-initialized")}return D.initialize({options:w})}(k,{popupRedirectResolver:df,persistence:[pc,$a,fl]}),F=(0,h.Pz)("authTokenSyncURL");if(F){const Je=Ia(F);(function ir(k,w,D){(0,h.m9)(k).beforeAuthStateChanged(w,D)})(D,Je,()=>Je(D.currentUser)),function ur(k,w,D,F){(0,h.m9)(k).onIdTokenChanged(w,D,F)}(D,Zt=>Je(Zt))}const be=(0,h.q4)("auth");return be&&Et(D,`http://${be}`),D}!function ah(k){(0,A._registerComponent)(new ze.wA("auth",(w,{options:D})=>{const F=w.getProvider("app").getImmediate(),be=w.getProvider("heartbeat"),{apiKey:Je,authDomain:Zt}=F.options;return((wn,oi)=>{ke(Je&&!Je.includes(":"),"invalid-api-key",{appName:wn.name}),ke(!Zt?.includes(":"),"argument-error",{appName:wn.name});const ei={apiKey:Je,authDomain:Zt,clientPlatform:k,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(k)},ti=new ce(wn,oi,ei);return function It(k,w){const D=w?.persistence||[],F=(Array.isArray(D)?D:[D]).map(dt);w?.errorMap&&k._updateErrorMap(w.errorMap),k._initializeWithPersistence(F,w?.popupRedirectResolver)}(ti,D),ti})(F,be)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,D,F)=>{w.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new ze.wA("auth-internal",w=>{const D=Ve(w.getProvider("auth").getImmediate());return new hf(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(Aa,hm,function Yr(k){switch(k){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(k)),(0,A.registerVersion)(Aa,hm,"esm2017")}("Browser")},5525:(bn,xt,x)=>{x.d(xt,{u7:()=>hp,Jj:()=>$s,IX:()=>_0,my:()=>ts,xU:()=>Yu,Lz:()=>tc,WA:()=>kn,F8:()=>zo,$q:()=>Ku,W:()=>Zc,EK:()=>Er,PU:()=>el,l7:()=>Ae,Ky:()=>Yn,Xb:()=>vr,Cf:()=>Xi,K9:()=>Sp,Me:()=>Ci,yq:()=>Ta,Wi:()=>e_,ET:()=>__,Ab:()=>Zv,vr:()=>Kv,Fc:()=>y0,hJ:()=>Jf,B$:()=>f0,at:()=>El,oe:()=>Hd,AK:()=>tl,TF:()=>Tl,JU:()=>Pv,ST:()=>sw,fH:()=>Rh,Ix:()=>Vg,Wu:()=>up,Lx:()=>Yg,qY:()=>ns,GL:()=>Gh,QT:()=>C0,kl:()=>gp,Xk:()=>$v,PL:()=>D0,UQ:()=>Hh,zN:()=>ic,ad:()=>v0,nP:()=>qv,b9:()=>zg,vh:()=>Gv,Pb:()=>jo,L$:()=>Rd,cf:()=>mp,sc:()=>Kg,Xo:()=>m_,IO:()=>p_,iE:()=>ep,Eo:()=>p0,i3:()=>rc,Bt:()=>xl,pl:()=>Uh,Ub:()=>hl,qK:()=>zv,TQ:()=>b0,e0:()=>jv,r7:()=>Wv,Mx:()=>Bg,ar:()=>Uv});var ie,m=x(5861),h=x(9681),A=x(4859),De=x(1877),N=x(2090),ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ye={},qe=qe||{},q=ze||self;function Pe(){}function Ee(l){var i=typeof l;return"array"==(i="object"!=i?i:l?Array.isArray(l)?"array":i:"null")||"object"==i&&"number"==typeof l.length}function Le(l){var i=typeof l;return"object"==i&&null!=l||"function"==i}var ht="closure_uid_"+(1e9*Math.random()>>>0),St=0;function Ge(l,i,o){return l.call.apply(l.bind,arguments)}function bt(l,i,o){if(!l)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),l.apply(i,g)}}return function(){return l.apply(i,arguments)}}function Ht(l,i,o){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ge:bt).apply(null,arguments)}function Pt(l,i){var o=Array.prototype.slice.call(arguments,1);return function(){var d=o.slice();return d.push.apply(d,arguments),l.apply(this,d)}}function tt(l,i){function o(){}o.prototype=i.prototype,l.X=i.prototype,l.prototype=new o,l.prototype.constructor=l,l.Wb=function(d,g,y){for(var E=Array(arguments.length-2),L=2;L<arguments.length;L++)E[L-2]=arguments[L];return i.prototype[g].apply(d,E)}}function Qe(){this.s=this.s,this.o=this.o}var Ke={};Qe.prototype.s=!1,Qe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function gt(l){return Object.prototype.hasOwnProperty.call(l,ht)&&l[ht]||(l[ht]=++St)}(this);delete Ke[l]}},Qe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ke=Array.prototype.indexOf?function(l,i){return Array.prototype.indexOf.call(l,i,void 0)}:function(l,i){if("string"==typeof l)return"string"!=typeof i||1!=i.length?-1:l.indexOf(i,0);for(let o=0;o<l.length;o++)if(o in l&&l[o]===i)return o;return-1};function $e(l){const i=l.length;if(0<i){const o=Array(i);for(let d=0;d<i;d++)o[d]=l[d];return o}return[]}function Dt(l,i){for(let o=1;o<arguments.length;o++){const d=arguments[o];if(Ee(d)){const g=l.length||0,y=d.length||0;l.length=g+y;for(let E=0;E<y;E++)l[g+E]=d[E]}else l.push(d)}}function ot(l,i){this.type=l,this.g=this.target=i,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var l=!1,i=Object.defineProperty({},"passive",{get:function(){l=!0}});try{q.addEventListener("test",Pe,i),q.removeEventListener("test",Pe,i)}catch{}return l}();function Rt(l){return/^[\s\xa0]*$/.test(l)}var It=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function Jt(l,i){return l<i?-1:l>i?1:0}function Kt(){var l=q.navigator;return l&&(l=l.userAgent)?l:""}function an(l){return-1!=Kt().indexOf(l)}function fn(l){return fn[" "](l),l}fn[" "]=Pe;var mn,l,vt=an("Opera"),qt=an("Trident")||an("MSIE"),Yt=an("Edge"),nn=Yt||qt,Qt=an("Gecko")&&!(-1!=Kt().toLowerCase().indexOf("webkit")&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),Dn=-1!=Kt().toLowerCase().indexOf("webkit")&&!an("Edge");function Xt(){var l=q.document;return l?l.documentMode:void 0}e:{var An="",Un=(l=Kt(),Qt?/rv:([^\);]+)(\)|;)/.exec(l):Yt?/Edge\/([\d\.]+)/.exec(l):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Dn?/WebKit\/(\S+)/.exec(l):vt?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Un&&(An=Un?Un[1]:""),qt){var Rn=Xt();if(null!=Rn&&Rn>parseFloat(An)){mn=String(Rn);break e}}mn=An}var zn={};var qn=q.document&&qt&&(Xt()||parseInt(mn,10))||void 0;function _n(l,i){if(ot.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var o=this.type=l.type,d=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=i,i=l.relatedTarget){if(Qt){e:{try{fn(i.nodeName);var g=!0;break e}catch{}g=!1}g||(i=null)}}else"mouseover"==o?i=l.fromElement:"mouseout"==o&&(i=l.toElement);this.relatedTarget=i,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Be[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_n.X.h.call(this)}}tt(_n,ot);var Be={2:"touch",3:"pen",4:"mouse"};_n.prototype.h=function(){_n.X.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ge=0;function rt(l,i,o,d,g){this.listener=l,this.proxy=null,this.src=i,this.type=o,this.capture=!!d,this.ha=g,this.key=++ge,this.ba=this.ea=!1}function Xe(l){l.ba=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function wt(l,i,o){for(const d in l)i.call(o,l[d],d,l)}function $t(l){const i={};for(const o in l)i[o]=l[o];return i}const un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(l,i){let o,d;for(let g=1;g<arguments.length;g++){for(o in d=arguments[g],d)l[o]=d[o];for(let y=0;y<un.length;y++)o=un[y],Object.prototype.hasOwnProperty.call(d,o)&&(l[o]=d[o])}}function mt(l){this.src=l,this.g={},this.h=0}function Ne(l,i){var o=i.type;if(o in l.g){var y,d=l.g[o],g=ke(d,i);(y=0<=g)&&Array.prototype.splice.call(d,g,1),y&&(Xe(i),0==l.g[o].length&&(delete l.g[o],l.h--))}}function yt(l,i,o,d){for(var g=0;g<l.length;++g){var y=l[g];if(!y.ba&&y.listener==i&&y.capture==!!o&&y.ha==d)return g}return-1}mt.prototype.add=function(l,i,o,d,g){var y=l.toString();(l=this.g[y])||(l=this.g[y]=[],this.h++);var E=yt(l,i,d,g);return-1<E?(i=l[E],o||(i.ea=!1)):((i=new rt(i,this.src,y,!!d,g)).ea=o,l.push(i)),i};var Ut="closure_lm_"+(1e6*Math.random()|0),cn={};function Nn(l,i,o,d,g){if(d&&d.once)return Ot(l,i,o,d,g);if(Array.isArray(i)){for(var y=0;y<i.length;y++)Nn(l,i[y],o,d,g);return null}return o=ct(o),l&&l[le]?l.N(i,o,Le(d)?!!d.capture:!!d,g):vn(l,i,o,!1,d,g)}function vn(l,i,o,d,g,y){if(!i)throw Error("Invalid event type");var E=Le(g)?!!g.capture:!!g,L=de(l);if(L||(l[Ut]=L=new mt(l)),(o=L.add(i,o,d,E,y)).proxy)return o;if(d=function kt(){const i=z;return function l(o){return i.call(l.src,l.listener,o)}}(),o.proxy=d,d.src=l,d.listener=o,l.addEventListener)dt||(g=E),void 0===g&&(g=!1),l.addEventListener(i.toString(),d,g);else if(l.attachEvent)l.attachEvent(K(i.toString()),d);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(d)}return o}function Ot(l,i,o,d,g){if(Array.isArray(i)){for(var y=0;y<i.length;y++)Ot(l,i[y],o,d,g);return null}return o=ct(o),l&&l[le]?l.O(i,o,Le(d)?!!d.capture:!!d,g):vn(l,i,o,!0,d,g)}function te(l,i,o,d,g){if(Array.isArray(i))for(var y=0;y<i.length;y++)te(l,i[y],o,d,g);else d=Le(d)?!!d.capture:!!d,o=ct(o),l&&l[le]?(l=l.i,(i=String(i).toString())in l.g&&-1<(o=yt(y=l.g[i],o,d,g))&&(Xe(y[o]),Array.prototype.splice.call(y,o,1),0==y.length&&(delete l.g[i],l.h--))):l&&(l=de(l))&&(i=l.g[i.toString()],l=-1,i&&(l=yt(i,o,d,g)),(o=-1<l?i[l]:null)&&ae(o))}function ae(l){if("number"!=typeof l&&l&&!l.ba){var i=l.src;if(i&&i[le])Ne(i.i,l);else{var o=l.type,d=l.proxy;i.removeEventListener?i.removeEventListener(o,d,l.capture):i.detachEvent?i.detachEvent(K(o),d):i.addListener&&i.removeListener&&i.removeListener(d),(o=de(i))?(Ne(o,l),0==o.h&&(o.src=null,i[Ut]=null)):Xe(l)}}}function K(l){return l in cn?cn[l]:cn[l]="on"+l}function z(l,i){if(l.ba)l=!0;else{i=new _n(i,this);var o=l.listener,d=l.ha||l.src;l.ea&&ae(l),l=o.call(d,i)}return l}function de(l){return(l=l[Ut])instanceof mt?l:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(l){return"function"==typeof l?l:(l[J]||(l[J]=function(i){return l.handleEvent(i)}),l[J])}function st(){Qe.call(this),this.i=new mt(this),this.P=this,this.I=null}function Mt(l,i){var o,d=l.I;if(d)for(o=[];d;d=d.I)o.push(d);if(l=l.P,d=i.type||i,"string"==typeof i)i=new ot(i,l);else if(i instanceof ot)i.target=i.target||l;else{var g=i;jt(i=new ot(d,l),g)}if(g=!0,o)for(var y=o.length-1;0<=y;y--){var E=i.g=o[y];g=Lt(E,d,!0,i)&&g}if(g=Lt(E=i.g=l,d,!0,i)&&g,g=Lt(E,d,!1,i)&&g,o)for(y=0;y<o.length;y++)g=Lt(E=i.g=o[y],d,!1,i)&&g}function Lt(l,i,o,d){if(!(i=l.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,y=0;y<i.length;++y){var E=i[y];if(E&&!E.ba&&E.capture==o){var L=E.listener,ee=E.ha||E.src;E.ea&&Ne(l.i,E),g=!1!==L.call(ee,d)&&g}}return g&&!d.defaultPrevented}tt(st,Qe),st.prototype[le]=!0,st.prototype.removeEventListener=function(l,i,o,d){te(this,l,i,o,d)},st.prototype.M=function(){if(st.X.M.call(this),this.i){var i,l=this.i;for(i in l.g){for(var o=l.g[i],d=0;d<o.length;d++)Xe(o[d]);delete l.g[i],l.h--}}this.I=null},st.prototype.N=function(l,i,o,d){return this.i.add(String(l),i,!1,o,d)},st.prototype.O=function(l,i,o,d){return this.i.add(String(l),i,!0,o,d)};var je=q.JSON.stringify;function nt(){var l=se;let i=null;return l.g&&(i=l.g,l.g=l.g.next,l.g||(l.h=null),i.next=null),i}var Ze,Ce=new class{constructor(l,i){this.i=l,this.j=i,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new ne,l=>l.reset());class ne{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Oe(l){q.setTimeout(()=>{throw l},0)}function pt(l,i){Ze||function We(){var l=q.Promise.resolve(void 0);Ze=function(){l.then(he)}}(),Re||(Ze(),Re=!0),se.add(l,i)}var Re=!1,se=new class ve{constructor(){this.h=this.g=null}add(i,o){const d=Ce.get();d.set(i,o),this.h?this.h.next=d:this.g=d,this.h=d}};function he(){for(var l;l=nt();){try{l.h.call(l.g)}catch(o){Oe(o)}var i=Ce;i.j(l),100>i.h&&(i.h++,l.next=i.g,i.g=l)}Re=!1}function me(l,i){st.call(this),this.h=l||1,this.g=i||q,this.j=Ht(this.lb,this),this.l=Date.now()}function Se(l){l.ca=!1,l.R&&(l.g.clearTimeout(l.R),l.R=null)}function _e(l,i,o){if("function"==typeof l)o&&(l=Ht(l,o));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ht(l.handleEvent,l)}return 2147483647<Number(i)?-1:q.setTimeout(l,i||0)}function we(l){l.g=_e(()=>{l.g=null,l.i&&(l.i=!1,we(l))},l.j);const i=l.h;l.h=null,l.m.apply(null,i)}tt(me,st),(ie=me.prototype).ca=!1,ie.R=null,ie.lb=function(){if(this.ca){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-l):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mt(this,"tick"),this.ca&&(Se(this),this.start()))}},ie.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.M=function(){me.X.M.call(this),Se(this),delete this.g};class H extends Qe{constructor(i,o){super(),this.m=i,this.j=o,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:we(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(l){Qe.call(this),this.h=l,this.g={}}tt(ue,Qe);var V=[];function ce(l,i,o,d){Array.isArray(o)||(o&&(V[0]=o.toString()),o=V);for(var g=0;g<o.length;g++){var y=Nn(i,o[g],d||l.handleEvent,!1,l.h||l);if(!y)break;l.g[y.key]=y}}function Ve(l){wt(l.g,function(i,o){this.g.hasOwnProperty(o)&&ae(i)},l),l.g={}}function Te(){this.g=!0}function ut(l,i,o,d){l.info(function(){return"XMLHTTP TEXT ("+i+"): "+function re(l,i){if(!l.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o)for(l=0;l<o.length;l++)if(Array.isArray(o[l])){var d=o[l];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var y=g[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var E=1;E<g.length;E++)g[E]=""}}}return je(o)}catch{return i}}(l,o)+(d?" "+d:"")})}ue.prototype.M=function(){ue.X.M.call(this),Ve(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Te.prototype.Aa=function(){this.g=!1},Te.prototype.info=function(){};var Me={},_t=null;function Sn(){return _t=_t||new st}function di(l){ot.call(this,Me.Pa,l)}function wi(l){const i=Sn();Mt(i,new di(i,l))}function ro(l,i){ot.call(this,Me.STAT_EVENT,l),this.stat=i}function tr(l){const i=Sn();Mt(i,new ro(i,l))}function ys(l,i){ot.call(this,Me.Qa,l),this.size=i}function is(l,i){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){l()},i)}Me.Pa="serverreachability",tt(di,ot),Me.STAT_EVENT="statevent",tt(ro,ot),Me.Qa="timingevent",tt(ys,ot);var Xr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Vt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Bt(){}function yn(){}Bt.prototype.h=null;var mr,In={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zn(){ot.call(this,"d")}function Ai(){ot.call(this,"c")}function Ni(){}function cr(l,i,o,d){this.l=l,this.j=i,this.m=o,this.U=d||1,this.S=new ue(this),this.O=il,this.T=new me(l=nn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}tt(Zn,ot),tt(Ai,ot),tt(Ni,Bt),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},mr=new Ni;var il=45e3,Ks={},$r={};function vo(l,i,o){l.K=1,l.v=lo(Ds(i)),l.s=o,l.P=!0,rs(l,null)}function rs(l,i){l.F=Date.now(),Wo(l),l.A=Ds(l.v);var o=l.A,d=l.U;Array.isArray(d)||(d=[String(d)]),Fl(o.i,"t",d),l.C=0,o=l.l.H,l.h=new so,l.g=U(l.l,o?i:null,!l.s),0<l.N&&(l.L=new H(Ht(l.La,l,l.g),l.N)),ce(l.S,l.g,"readystatechange",l.ib),i=l.H?$t(l.H):{},l.s?(l.u||(l.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",l.g.da(l.A,l.u,l.s,i)):(l.u="GET",l.g.da(l.A,l.u,null,i)),wi(1),function Et(l,i,o,d,g,y){l.info(function(){if(l.g)if(y)for(var E="",L=y.split("&"),ee=0;ee<L.length;ee++){var pe=L[ee].split("=");if(1<pe.length){var et=pe[0];pe=pe[1];var At=et.split("_");E=2<=At.length&&"type"==At[1]?E+(et+"=")+pe+"&":E+(et+"=redacted&")}}else E=null;else E=y;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+i+"\n"+o+"\n"+E})}(l.j,l.u,l.A,l.m,l.U,l.s)}function Rl(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Da}function yo(l,i,o){let g,d=!0;for(;!l.I&&l.C<o.length;){if(g=Nl(l,o),g==$r){4==i&&(l.o=4,tr(14),d=!1),ut(l.j,l.m,null,"[Incomplete Response]");break}if(g==Ks){l.o=4,tr(15),ut(l.j,l.m,o,"[Invalid Chunk]"),d=!1;break}ut(l.j,l.m,g,null),Zs(l,g)}Rl(l)&&g!=$r&&g!=Ks&&(l.h.g="",l.C=0),4!=i||0!=o.length||l.h.h||(l.o=1,tr(16),d=!1),l.i=l.i&&d,d?0<o.length&&!l.$&&(l.$=!0,(i=l.l).g==l&&i.$&&!i.K&&(i.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),Da(i),i.K=!0,tr(11))):(ut(l.j,l.m,o,"[Invalid Chunked Response]"),ws(l),oo(l))}function Nl(l,i){var o=l.C,d=i.indexOf("\n",o);return-1==d?$r:(o=Number(i.substring(o,d)),isNaN(o)?Ks:(d+=1)+o>i.length?$r:(i=i.substr(d,o),l.C=d+o,i))}function Wo(l){l.V=Date.now()+l.O,Ha(l,l.O)}function Ha(l,i){if(null!=l.B)throw Error("WatchDog timer not null");l.B=is(Ht(l.gb,l),i)}function bs(l){l.B&&(q.clearTimeout(l.B),l.B=null)}function oo(l){0==l.l.G||l.I||nu(l.l,l)}function ws(l){bs(l);var i=l.L;i&&"function"==typeof i.na&&i.na(),l.L=null,Se(l.T),Ve(l.S),l.g&&(i=l.g,l.g=null,i.abort(),i.na())}function Zs(l,i){try{var o=l.l;if(0!=o.G&&(o.g==l||Bs(o.h,l)))if(!l.J&&Bs(o.h,l)&&3==o.G){try{var d=o.Fa.g.parse(i)}catch{d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0]){e:if(!o.u){if(o.g){if(!(o.g.F+3e3<l.F))break e;Zo(o),fa(o)}Ko(o),tr(18)}}else o.Ba=g[1],0<o.Ba-o.T&&37500>g[2]&&o.L&&0==o.A&&!o.v&&(o.v=is(Ht(o.cb,o),6e3));if(1>=Br(o.h)&&o.ja){try{o.ja()}catch{}o.ja=void 0}}else Ea(o,11)}else if((l.J||o.g==l)&&Zo(o),!Rt(i))for(g=o.Fa.g.parse(i),i=0;i<g.length;i++){let pe=g[i];if(o.T=pe[0],pe=pe[1],2==o.G)if("c"==pe[0]){o.I=pe[1],o.ka=pe[2];const et=pe[3];null!=et&&(o.ma=et,o.j.info("VER="+o.ma));const At=pe[4];null!=At&&(o.Ca=At,o.j.info("SVER="+o.Ca));const rn=pe[5];null!=rn&&"number"==typeof rn&&0<rn&&(o.J=d=1.5*rn,o.j.info("backChannelRequestTimeoutMs_="+d)),d=o;const Cn=l.g;if(Cn){const Mn=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mn){var y=d.h;y.g||-1==Mn.indexOf("spdy")&&-1==Mn.indexOf("quic")&&-1==Mn.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(Li(y,y.h),y.h=null))}if(d.D){const Xn=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xn&&(d.za=Xn,Ji(d.F,d.D,Xn))}}o.G=3,o.l&&o.l.xa(),o.$&&(o.P=Date.now()-l.F,o.j.info("Handshake RTT: "+o.P+"ms"));var E=l;if((d=o).sa=Co(d,d.H?d.ka:null,d.V),E.J){Ll(d.h,E);var L=E,ee=d.J;ee&&L.setTimeout(ee),L.B&&(bs(L),Wo(L)),d.g=E}else ul(d);0<o.i.length&&wo(o)}else"stop"!=pe[0]&&"close"!=pe[0]||Ea(o,7);else 3==o.G&&("stop"==pe[0]||"close"==pe[0]?"stop"==pe[0]?Ea(o,7):Ss(o):"noop"!=pe[0]&&o.l&&o.l.wa(pe),o.A=0)}wi(4)}catch{}}function Cs(l,i){if(l.forEach&&"function"==typeof l.forEach)l.forEach(i,void 0);else if(Ee(l)||"string"==typeof l)Array.prototype.forEach.call(l,i,void 0);else for(var o=function ao(l){if(l.oa&&"function"==typeof l.oa)return l.oa();if(!l.W||"function"!=typeof l.W){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(Ee(l)||"string"==typeof l){var i=[];l=l.length;for(var o=0;o<l;o++)i.push(o);return i}i=[],o=0;for(const d in l)i[o++]=d;return i}}}(l),d=function rl(l){if(l.W&&"function"==typeof l.W)return l.W();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(Ee(l)){for(var i=[],o=l.length,d=0;d<o;d++)i.push(l[d]);return i}for(d in i=[],o=0,l)i[o++]=l[d];return i}(l),g=d.length,y=0;y<g;y++)i.call(void 0,d[y],o&&o[y],l)}(ie=cr.prototype).setTimeout=function(l){this.O=l},ie.ib=function(l){l=l.target;const i=this.L;i&&3==dn(l)?i.l():this.La(l)},ie.La=function(l){try{if(l==this.g)e:{const et=dn(this.g);var i=this.g.Ea();const At=this.g.aa();if(!(3>et)&&(3!=et||nn||this.g&&(this.h.h||this.g.fa()||gi(this.g)))){this.I||4!=et||7==i||wi(8==i||0>=At?3:2),bs(this);var o=this.g.aa();this.Y=o;t:if(Rl(this)){var d=gi(this.g);l="";var g=d.length,y=4==dn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),oo(this);var E="";break t}this.h.i=new q.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,l+=this.h.i.decode(d[i],{stream:y&&i==g-1});d.splice(0,g),this.h.g+=l,this.C=0,E=this.h.g}else E=this.g.fa();if(this.i=200==o,function ye(l,i,o,d,g,y,E){l.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+i+"\n"+o+"\n"+y+" "+E})}(this.j,this.u,this.A,this.m,this.U,et,o),this.i){if(this.Z&&!this.J){t:{if(this.g){var L,ee=this.g;if((L=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rt(L)){var pe=L;break t}}pe=null}if(!(o=pe)){this.i=!1,this.o=3,tr(12),ws(this),oo(this);break e}ut(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zs(this,o)}this.P?(yo(this,et,E),nn&&this.i&&3==et&&(ce(this.S,this.T,"tick",this.hb),this.T.start())):(ut(this.j,this.m,E,null),Zs(this,E)),4==et&&ws(this),this.i&&!this.I&&(4==et?nu(this.l,this):(this.i=!1,Wo(this)))}else 400==o&&0<E.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),ws(this),oo(this)}}}catch{}},ie.hb=function(){if(this.g){var l=dn(this.g),i=this.g.fa();this.C<i.length&&(bs(this),yo(this,l,i),this.i&&4!=l&&Wo(this))}},ie.cancel=function(){this.I=!0,ws(this)},ie.gb=function(){this.B=null;const l=Date.now();0<=l-this.V?(function O(l,i){l.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(wi(3),tr(17)),ws(this),this.o=2,oo(this)):Ha(this,this.V-l)};var ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(l,i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof Fs){this.h=void 0!==i?i:l.h,Oo(this,l.j),this.s=l.s,this.g=l.g,wr(this,l.m),this.l=l.l,i=l.i;var o=new us;o.i=i.i,i.g&&(o.g=new Map(i.g),o.h=i.h),Ls(this,o),this.o=l.o}else l&&(o=String(l).match(ca))?(this.h=!!i,Oo(this,o[1]||"",!0),this.s=Es(o[2]||""),this.g=Es(o[3]||"",!0),wr(this,o[4]),this.l=Es(o[5]||"",!0),Ls(this,o[6]||"",!0),this.o=Es(o[7]||"")):(this.h=!!i,this.i=new us(null,this.h))}function Ds(l){return new Fs(l)}function Oo(l,i,o){l.j=o?Es(i,!0):i,l.j&&(l.j=l.j.replace(/:$/,""))}function wr(l,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);l.m=i}else l.m=null}function Ls(l,i,o){i instanceof us?(l.i=i,function ua(l,i){i&&!l.j&&(sr(l),l.i=null,l.g.forEach(function(o,d){var g=d.toLowerCase();d!=g&&(ko(this,d),Fl(this,g,o))},l)),l.j=i}(l.i,l.h)):(o||(i=co(i,Pl)),l.i=new us(i,l.h))}function Ji(l,i,o){l.i.set(i,o)}function lo(l){return Ji(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Es(l,i){return l?i?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function co(l,i,o){return"string"==typeof l?(l=encodeURI(l).replace(i,Ua),o&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ua(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Fs.prototype.toString=function(){var l=[],i=this.j;i&&l.push(co(i,Yo,!0),":");var o=this.g;return(o||"file"==i)&&(l.push("//"),(i=this.s)&&l.push(co(i,Yo,!0),"@"),l.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&l.push(":",String(o))),(o=this.l)&&(this.g&&"/"!=o.charAt(0)&&l.push("/"),l.push(co(o,"/"==o.charAt(0)?bo:sl,!0))),(o=this.i.toString())&&l.push("?",o),(o=this.o)&&l.push("#",co(o,cs)),l.join("")};var Yo=/[#\/\?@]/g,sl=/[#\?:]/g,bo=/[#\?]/g,Pl=/[#\?@]/g,cs=/#/g;function us(l,i){this.h=this.g=null,this.i=l||null,this.j=!!i}function sr(l){l.g||(l.g=new Map,l.h=0,l.i&&function kr(l,i){if(l){l=l.split("&");for(var o=0;o<l.length;o++){var d=l[o].indexOf("="),g=null;if(0<=d){var y=l[o].substring(0,d);g=l[o].substring(d+1)}else y=l[o];i(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(i,o){l.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}function ko(l,i){sr(l),i=Ui(l,i),l.g.has(i)&&(l.i=null,l.h-=l.g.get(i).length,l.g.delete(i))}function Ro(l,i){return sr(l),i=Ui(l,i),l.g.has(i)}function Fl(l,i,o){ko(l,i),0<o.length&&(l.i=null,l.g.set(Ui(l,i),$e(o)),l.h+=o.length)}function Ui(l,i){return i=String(i),l.j&&(i=i.toLowerCase()),i}function No(l){this.l=l||ds,l=q.PerformanceNavigationTiming?0<(l=q.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=us.prototype).add=function(l,i){sr(this),this.i=null,l=Ui(this,l);var o=this.g.get(l);return o||this.g.set(l,o=[]),o.push(i),this.h+=1,this},ie.forEach=function(l,i){sr(this),this.g.forEach(function(o,d){o.forEach(function(g){l.call(i,g,d,this)},this)},this)},ie.oa=function(){sr(this);const l=Array.from(this.g.values()),i=Array.from(this.g.keys()),o=[];for(let d=0;d<i.length;d++){const g=l[d];for(let y=0;y<g.length;y++)o.push(i[d])}return o},ie.W=function(l){sr(this);let i=[];if("string"==typeof l)Ro(this,l)&&(i=i.concat(this.g.get(Ui(this,l))));else{l=Array.from(this.g.values());for(let o=0;o<l.length;o++)i=i.concat(l[o])}return i},ie.set=function(l,i){return sr(this),this.i=null,Ro(this,l=Ui(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[i]),this.h+=1,this},ie.get=function(l,i){return l&&0<(l=this.W(l)).length?String(l[0]):i},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],i=Array.from(this.g.keys());for(var o=0;o<i.length;o++){var d=i[o];const y=encodeURIComponent(String(d)),E=this.W(d);for(d=0;d<E.length;d++){var g=y;""!==E[d]&&(g+="="+encodeURIComponent(String(E[d]))),l.push(g)}}return this.i=l.join("&")};var ds=10;function da(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Br(l){return l.h?1:l.g?l.g.size:0}function Bs(l,i){return l.h?l.h==i:!!l.g&&l.g.has(i)}function Li(l,i){l.g?l.g.add(i):l.h=i}function Ll(l,i){l.h&&l.h==i?l.h=null:l.g&&l.g.has(i)&&l.g.delete(i)}function Jr(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let i=l.i;for(const o of l.g.values())i=i.concat(o.D);return i}return $e(l.i)}function ss(){}function Vs(){this.g=new ss}function uo(l,i,o){const d=o||"";try{Cs(l,function(g,y){let E=g;Le(g)&&(E=je(g)),i.push(d+y+"="+encodeURIComponent(E))})}catch(g){throw i.push(d+"type="+encodeURIComponent("_badmap")),g}}function Di(l,i,o,d,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(d)}catch{}}function Po(l){this.l=l.ac||null,this.j=l.jb||!1}function hs(l,i){st.call(this),this.D=l,this.u=i,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}No.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},ss.prototype.stringify=function(l){return q.JSON.stringify(l,void 0)},ss.prototype.parse=function(l){return q.JSON.parse(l,void 0)},tt(Po,Bt),Po.prototype.g=function(){return new hs(this.l,this.j)},Po.prototype.i=function(l){return function(){return l}}({}),tt(hs,st);var Hs=0;function ha(l){l.j.read().then(l.Ta.bind(l)).catch(l.ga.bind(l))}function Us(l){l.readyState=4,l.l=null,l.j=null,l.A=null,os(l)}function os(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(ie=hs.prototype).open=function(l,i){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=i,this.readyState=1,os(this)},ie.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(i.body=l),(this.D||q).fetch(new Request(this.B,i)).then(this.Wa.bind(this),this.ga.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Us(this)),this.readyState=Hs},ie.Wa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ha(this)}else l.text().then(this.Va.bind(this),this.ga.bind(this))},ie.Ta=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var i=l.value?l.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!l.done}))&&(this.response=this.responseText+=i)}l.done?Us(this):os(this),3==this.readyState&&ha(this)}},ie.Va=function(l){this.g&&(this.response=this.responseText=l,Us(this))},ie.Ua=function(l){this.g&&(this.response=l,Us(this))},ie.ga=function(){this.g&&Us(this)},ie.setRequestHeader=function(l,i){this.v.append(l,i)},ie.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],i=this.h.entries();for(var o=i.next();!o.done;)l.push((o=o.value)[0]+": "+o[1]),o=i.next();return l.join("\r\n")},Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var ol=q.JSON.parse;function nr(l){st.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=En,this.K=this.L=!1}tt(nr,st);var En="",ki=/^https?$/i,Bl=["POST","PUT"];function Vr(l,i){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=i,l.m=5,Q(l),$(l)}function Q(l){l.D||(l.D=!0,Mt(l,"complete"),Mt(l,"error"))}function Y(l){if(l.h&&typeof qe<"u"&&(!l.C[1]||4!=dn(l)||2!=l.aa()))if(l.v&&4==dn(l))_e(l.Ha,0,l);else if(Mt(l,"readystatechange"),4==dn(l)){l.h=!1;try{const L=l.aa();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var d;if(d=0===L){var g=String(l.H).match(ca)[1]||null;if(!g&&q.self&&q.self.location){var y=q.self.location.protocol;g=y.substr(0,y.length-1)}d=!ki.test(g?g.toLowerCase():"")}o=d}if(o)Mt(l,"complete"),Mt(l,"success");else{l.m=6;try{var E=2<dn(l)?l.g.statusText:""}catch{E=""}l.j=E+" ["+l.aa()+"]",Q(l)}}finally{$(l)}}}function $(l,i){if(l.g){Ue(l);const o=l.g,d=l.C[0]?Pe:null;l.g=null,l.C=null,i||Mt(l,"ready");try{o.onreadystatechange=d}catch{}}}function Ue(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(q.clearTimeout(l.A),l.A=null)}function dn(l){return l.g?l.g.readyState:0}function gi(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case En:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Cr(l){let i="";return wt(l,function(o,d){i+=d,i+=":",i+=o,i+="\r\n"}),i}function xs(l,i,o){e:{for(d in o){var d=!1;break e}d=!0}d||(o=Cr(o),"string"==typeof l?null!=o&&encodeURIComponent(String(o)):Ji(l,i,o))}function Gs(l,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[l]||i}function Mr(l){this.Ca=0,this.i=[],this.j=new Te,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gs("failFast",!1,l),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gs("baseRetryDelayMs",5e3,l),this.bb=Gs("retryDelaySeedMs",1e4,l),this.$a=Gs("forwardChannelMaxRetries",2,l),this.ta=Gs("forwardChannelRequestTimeoutMs",2e4,l),this.ra=l&&l.xmlHttpFactory||void 0,this.Da=l&&l.Zb||!1,this.J=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.I="",this.h=new No(l&&l.concurrentRequestLimit),this.Fa=new Vs,this.O=l&&l.fastHandshake||!1,this.N=l&&l.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=l&&l.Xb||!1,l&&l.Aa&&this.j.Aa(),l&&l.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&l&&l.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ss(l){if(ja(l),3==l.G){var i=l.U++,o=Ds(l.F);Ji(o,"SID",l.I),Ji(o,"RID",i),Ji(o,"TYPE","terminate"),Ca(l,o),(i=new cr(l,l.j,i,void 0)).K=2,i.v=lo(Ds(o)),o=!1,q.navigator&&q.navigator.sendBeacon&&(o=q.navigator.sendBeacon(i.v.toString(),"")),!o&&q.Image&&((new Image).src=i.v,o=!0),o||(i.g=U(i.l,null),i.g.da(i.v)),i.F=Date.now(),Wo(i)}Vl(l)}function fa(l){l.g&&(Da(l),l.g.cancel(),l.g=null)}function ja(l){fa(l),l.u&&(q.clearTimeout(l.u),l.u=null),Zo(l),l.h.cancel(),l.m&&("number"==typeof l.m&&q.clearTimeout(l.m),l.m=null)}function wo(l){da(l.h)||l.m||(l.m=!0,pt(l.Ja,l),l.C=0)}function cl(l,i){var o;o=i?i.m:l.U++;const d=Ds(l.F);Ji(d,"SID",l.I),Ji(d,"RID",o),Ji(d,"AID",l.T),Ca(l,d),l.o&&l.s&&xs(d,l.o,l.s),o=new cr(l,l.j,o,l.C+1),null===l.o&&(o.H=l.s),i&&(l.i=i.D.concat(l.i)),i=uc(l,o,1e3),o.setTimeout(Math.round(.5*l.ta)+Math.round(.5*l.ta*Math.random())),Li(l.h,o),vo(o,d,i)}function Ca(l,i){l.ia&&wt(l.ia,function(o,d){Ji(i,d,o)}),l.l&&Cs({},function(o,d){Ji(i,d,o)})}function uc(l,i,o){o=Math.min(l.i.length,o);var d=l.l?Ht(l.l.Ra,l.l,l):null;e:{var g=l.i;let y=-1;for(;;){const E=["count="+o];-1==y?0<o?(y=g[0].h,E.push("ofs="+y)):y=0:E.push("ofs="+y);let L=!0;for(let ee=0;ee<o;ee++){let pe=g[ee].h;const et=g[ee].g;if(pe-=y,0>pe)y=Math.max(0,g[ee].h-100),L=!1;else try{uo(et,E,"req"+pe+"_")}catch{d&&d(et)}}if(L){d=E.join("&");break e}}}return l=l.i.splice(0,o),i.D=l,d}function ul(l){l.g||l.u||(l.Z=1,pt(l.Ia,l),l.A=0)}function Ko(l){return!(l.g||l.u||3<=l.A||(l.Z++,l.u=is(Ht(l.Ia,l),dl(l,l.A)),l.A++,0))}function Da(l){null!=l.B&&(q.clearTimeout(l.B),l.B=null)}function za(l){l.g=new cr(l,l.j,"rpc",l.Z),null===l.o&&(l.g.H=l.s),l.g.N=0;var i=Ds(l.sa);Ji(i,"RID","rpc"),Ji(i,"SID",l.I),Ji(i,"CI",l.L?"0":"1"),Ji(i,"AID",l.T),Ji(i,"TYPE","xmlhttp"),Ca(l,i),l.o&&l.s&&xs(i,l.o,l.s),l.J&&l.g.setTimeout(l.J);var o=l.g;l=l.ka,o.K=1,o.v=lo(Ds(i)),o.s=null,o.P=!0,rs(o,l)}function Zo(l){null!=l.v&&(q.clearTimeout(l.v),l.v=null)}function nu(l,i){var o=null;if(l.g==i){Zo(l),Da(l),l.g=null;var d=2}else{if(!Bs(l.h,i))return;o=i.D,Ll(l.h,i),d=1}if(0!=l.G)if(l.pa=i.Y,i.i)if(1==d){o=i.s?i.s.length:0,i=Date.now()-i.F;var g=l.C;Mt(d=Sn(),new ys(d,o,i,g)),wo(l)}else ul(l);else if(3==(g=i.o)||0==g&&0<l.pa||!(1==d&&function ll(l,i){return!(Br(l.h)>=l.h.j-(l.m?1:0)||(l.m?(l.i=i.D.concat(l.i),0):1==l.G||2==l.G||l.C>=(l.Za?0:l.$a)||(l.m=is(Ht(l.Ja,l,i),dl(l,l.C)),l.C++,0)))}(l,i)||2==d&&Ko(l)))switch(o&&0<o.length&&(i=l.h,i.i=i.i.concat(o)),g){case 1:Ea(l,5);break;case 4:Ea(l,10);break;case 3:Ea(l,6);break;default:Ea(l,2)}}function dl(l,i){let o=l.Xa+Math.floor(Math.random()*l.bb);return l.l||(o*=2),o*i}function Ea(l,i){if(l.j.info("Error code "+i),2==i){var o=null;l.l&&(o=null);var d=Ht(l.kb,l);o||(o=new Fs("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Oo(o,"https"),lo(o)),function Ts(l,i){const o=new Te;if(q.Image){const d=new Image;d.onload=Pt(Di,o,d,"TestLoadImage: loaded",!0,i),d.onerror=Pt(Di,o,d,"TestLoadImage: error",!1,i),d.onabort=Pt(Di,o,d,"TestLoadImage: abort",!1,i),d.ontimeout=Pt(Di,o,d,"TestLoadImage: timeout",!1,i),q.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=l}else i(!1)}(o.toString(),d)}else tr(2);l.G=0,l.l&&l.l.va(i),Vl(l),ja(l)}function Vl(l){if(l.G=0,l.la=[],l.l){const i=Jr(l.h);(0!=i.length||0!=l.i.length)&&(Dt(l.la,i),Dt(l.la,l.i),l.h.i.length=0,$e(l.i),l.i.length=0),l.l.ua()}}function Co(l,i,o){var d=o instanceof Fs?Ds(o):new Fs(o,void 0);if(""!=d.g)i&&(d.g=i+"."+d.g),wr(d,d.m);else{var g=q.location;d=g.protocol,i=i?i+"."+g.hostname:g.hostname,g=+g.port;var y=new Fs(null,void 0);d&&Oo(y,d),i&&(y.g=i),g&&wr(y,g),o&&(y.l=o),d=y}return i=l.za,(o=l.D)&&i&&Ji(d,o,i),Ji(d,"VER",l.ma),Ca(l,d),d}function U(l,i,o){if(i&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new nr(o&&l.Da&&!l.ra?new Po({jb:!0}):l.ra)).Ka(l.H),i}function fe(){}function W(){if(qt&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function Ie(l,i){st.call(this),this.g=new Mr(i),this.l=l,this.h=i&&i.messageUrlParams||null,l=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(l?l["X-WebChannel-Content-Type"]=i.messageContentType:l={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(l?l["X-WebChannel-Client-Profile"]=i.ya:l={"X-WebChannel-Client-Profile":i.ya}),this.g.S=l,(l=i&&i.Yb)&&!Rt(l)&&(this.g.o=l),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Rt(i)&&(this.g.D=i,null!==(l=this.h)&&i in l&&i in(l=this.h)&&delete l[i]),this.j=new pn(this)}function Tt(l){Zn.call(this);var i=l.__sm__;if(i){e:{for(const o in i){l=o;break e}l=void 0}(this.i=l)&&(l=this.i,i=null!==i&&l in i?i[l]:void 0),this.data=i}else this.data=l}function ln(){Ai.call(this),this.status=1}function pn(l){this.g=l}(ie=nr.prototype).Ka=function(l){this.L=l},ie.da=function(l,i,o,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);i=i?i.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mr.g(),this.C=function zt(l){return l.h||(l.h=l.i())}(this.u?this.u:mr),this.g.onreadystatechange=Ht(this.Ha,this);try{this.F=!0,this.g.open(i,String(l),!0),this.F=!1}catch(y){return void Vr(this,y)}if(l=o||"",o=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var g in d)o.set(g,d[g]);else{if("function"!=typeof d.keys||"function"!=typeof d.get)throw Error("Unknown input type for opt_headers: "+String(d));for(const y of d.keys())o.set(y,d.get(y))}d=Array.from(o.keys()).find(y=>"content-type"==y.toLowerCase()),g=q.FormData&&l instanceof q.FormData,!(0<=ke(Bl,i))||d||g||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,E]of o)this.g.setRequestHeader(y,E);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ue(this),0<this.B&&((this.K=function al(l){return qt&&function $n(){return function sn(l){var i=zn;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=l(9)}(function(){let l=0;const i=It(String(mn)).split("."),o=It("9").split("."),d=Math.max(i.length,o.length);for(let E=0;0==l&&E<d;E++){var g=i[E]||"",y=o[E]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==g[0].length&&0==y[0].length)break;l=Jt(0==g[1].length?0:parseInt(g[1],10),0==y[1].length?0:parseInt(y[1],10))||Jt(0==g[2].length,0==y[2].length)||Jt(g[2],y[2]),g=g[3],y=y[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.qa,this)):this.A=_e(this.qa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(y){Vr(this,y)}},ie.qa=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},ie.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,Mt(this,"complete"),Mt(this,"abort"),$(this))},ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$(this,!0)),nr.X.M.call(this)},ie.Ha=function(){this.s||(this.F||this.v||this.l?Y(this):this.fb())},ie.fb=function(){Y(this)},ie.aa=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},ie.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Sa=function(l){if(this.g){var i=this.g.responseText;return l&&0==i.indexOf(l)&&(i=i.substring(l.length)),ol(i)}},ie.Ea=function(){return this.m},ie.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=Mr.prototype).ma=8,ie.G=1,ie.Ja=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const g=new cr(this,this.j,l,void 0);let y=this.s;if(this.S&&(y?(y=$t(y),jt(y,this.S)):y=this.S),null!==this.o||this.N||(g.H=y,y=null),this.O)e:{for(var i=0,o=0;o<this.i.length;o++){var d=this.i[o];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(i+=d)){i=o;break e}if(4096===i||o===this.i.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=uc(this,g,i),Ji(o=Ds(this.F),"RID",l),Ji(o,"CVER",22),this.D&&Ji(o,"X-HTTP-Session-Id",this.D),Ca(this,o),y&&(this.N?i="headers="+encodeURIComponent(String(Cr(y)))+"&"+i:this.o&&xs(o,this.o,y)),Li(this.h,g),this.Ya&&Ji(o,"TYPE","init"),this.O?(Ji(o,"$req",i),Ji(o,"SID","null"),g.Z=!0,vo(g,o,null)):vo(g,o,i),this.G=2}}else 3==this.G&&(l?cl(this,l):0==this.i.length||da(this.h)||cl(this))},ie.Ia=function(){if(this.u=null,za(this),this.$&&!(this.K||null==this.g||0>=this.P)){var l=2*this.P;this.j.info("BP detection timer enabled: "+l),this.B=is(Ht(this.eb,this),l)}},ie.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,tr(10),fa(this),za(this))},ie.cb=function(){null!=this.v&&(this.v=null,fa(this),Ko(this),tr(19))},ie.kb=function(l){l?(this.j.info("Successfully pinged google.com"),tr(2)):(this.j.info("Failed to ping google.com"),tr(1))},(ie=fe.prototype).xa=function(){},ie.wa=function(){},ie.va=function(){},ie.ua=function(){},ie.Ra=function(){},W.prototype.g=function(l,i){return new Ie(l,i)},tt(Ie,st),Ie.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var l=this.g,i=this.l,o=this.h||void 0;tr(0),l.V=i,l.ia=o||{},l.L=l.Y,l.F=Co(l,null,l.V),wo(l)},Ie.prototype.close=function(){Ss(this.g)},Ie.prototype.u=function(l){var i=this.g;if("string"==typeof l){var o={};o.__data__=l,l=o}else this.v&&((o={}).__data__=je(l),l=o);i.i.push(new class{constructor(l,i){this.h=l,this.g=i}}(i.ab++,l)),3==i.G&&wo(i)},Ie.prototype.M=function(){this.g.l=null,delete this.j,Ss(this.g),delete this.g,Ie.X.M.call(this)},tt(Tt,Zn),tt(ln,Ai),tt(pn,fe),pn.prototype.xa=function(){Mt(this.g,"a")},pn.prototype.wa=function(l){Mt(this.g,new Tt(l))},pn.prototype.va=function(l){Mt(this.g,new ln(l))},pn.prototype.ua=function(){Mt(this.g,"b")},W.prototype.createWebChannel=W.prototype.g,Ie.prototype.send=Ie.prototype.u,Ie.prototype.open=Ie.prototype.m,Ie.prototype.close=Ie.prototype.close,Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Vt.COMPLETE="complete",yn.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",st.prototype.listen=st.prototype.N,nr.prototype.listenOnce=nr.prototype.O,nr.prototype.getLastError=nr.prototype.Oa,nr.prototype.getLastErrorCode=nr.prototype.Ea,nr.prototype.getStatus=nr.prototype.aa,nr.prototype.getResponseJson=nr.prototype.Sa,nr.prototype.getResponseText=nr.prototype.fa,nr.prototype.send=nr.prototype.da,nr.prototype.setWithCredentials=nr.prototype.Ka;var li=Ye.createWebChannelTransport=function(){return new W},Ki=Ye.getStatEventTarget=function(){return Sn()},Wi=Ye.ErrorCode=Xr,Zi=Ye.EventType=Vt,Hi=Ye.Event=Me,ur=Ye.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ir=Ye.FetchXmlHttpFactory=Po,Dr=Ye.WebChannel=yn,qo=Ye.XhrIo=nr;const Do="@firebase/firestore";class dr{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let Eo="9.12.1";const Hr=new De.Yd("@firebase/firestore");function fs(){return Hr.logLevel}function hl(l){Hr.setLogLevel(l)}function Bn(l,...i){if(Hr.logLevel<=De.in.DEBUG){const o=i.map(iu);Hr.debug(`Firestore (${Eo}): ${l}`,...o)}}function _r(l,...i){if(Hr.logLevel<=De.in.ERROR){const o=i.map(iu);Hr.error(`Firestore (${Eo}): ${l}`,...o)}}function Ta(l,...i){if(Hr.logLevel<=De.in.WARN){const o=i.map(iu);Hr.warn(`Firestore (${Eo}): ${l}`,...o)}}function iu(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function ci(l="Unexpected state"){const i=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+l;throw _r(i),new Error(i)}function Ei(l,i){l||ci()}function Sp(l,i){l||ci()}function Kn(l,i){return l}const hn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kn extends N.ZR{constructor(i,o){super(i,o),this.code=i,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}}class ru{constructor(i,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,o){i.enqueueRetryable(()=>o(dr.UNAUTHENTICATED))}shutdown(){}}class $a{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,o){this.changeListener=o,i.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Xu{constructor(i){this.t=i,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,o){var d=this;let g=this.i;const y=pe=>this.i!==g?(g=this.i,o(pe)):Promise.resolve();let E=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ur,i.enqueueRetryable(()=>y(this.currentUser))};const L=()=>{const pe=E;i.enqueueRetryable((0,m.Z)(function*(){yield pe.promise,yield y(d.currentUser)}))},ee=pe=>{Bn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=pe,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(pe=>ee(pe)),setTimeout(()=>{if(!this.auth){const pe=this.t.getImmediate({optional:!0});pe?ee(pe):(Bn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ur)}},0),L()}getToken(){const i=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(d=>this.i!==i?(Bn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(Ei("string"==typeof d.accessToken),new ru(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Ei(null===i||"string"==typeof i),new dr(i)}}class fl{constructor(i,o,d,g){this.h=i,this.l=o,this.m=d,this.g=g,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ei(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const i=this.I();return i&&this.p.set("Authorization",i),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ju{constructor(i,o,d,g){this.h=i,this.l=o,this.m=d,this.g=g}getToken(){return Promise.resolve(new fl(this.h,this.l,this.m,this.g))}start(i,o){i.enqueueRetryable(()=>o(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dc{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ou{constructor(i){this.T=i,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(i,o){const d=y=>{null!=y.error&&Bn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const E=y.token!==this.A;return this.A=y.token,Bn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?o(y.token):Promise.resolve()};this.o=y=>{i.enqueueRetryable(()=>d(y))};const g=y=>{Bn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>g(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?g(y):Bn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(o=>o?(Ei("string"==typeof o.token),this.A=o.token,new dc(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fr(l){const i=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(o);else for(let d=0;d<l;d++)o[d]=Math.floor(256*Math.random());return o}class ho{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/i.length)*i.length;let d="";for(;d.length<20;){const g=Fr(40);for(let y=0;y<g.length;++y)d.length<20&&g[y]<o&&(d+=i.charAt(g[y]%i.length))}return d}}function mi(l,i){return l<i?-1:l>i?1:0}function Fo(l,i,o){return l.length===i.length&&l.every((d,g)=>o(d,i[g]))}function pa(l){return l+"\0"}class Er{constructor(i,o){if(this.seconds=i,this.nanoseconds=o,o<0)throw new kn(hn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new kn(hn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(i<-62135596800)throw new kn(hn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new kn(hn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Er.fromMillis(Date.now())}static fromDate(i){return Er.fromMillis(i.getTime())}static fromMillis(i){const o=Math.floor(i/1e3),d=Math.floor(1e6*(i-1e3*o));return new Er(o,d)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?mi(this.nanoseconds,i.nanoseconds):mi(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bi{constructor(i){this.timestamp=i}static fromTimestamp(i){return new bi(i)}static min(){return new bi(new Er(0,0))}static max(){return new bi(new Er(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qo{constructor(i,o,d){void 0===o?o=0:o>i.length&&ci(),void 0===d?d=i.length-o:d>i.length-o&&ci(),this.segments=i,this.offset=o,this.len=d}get length(){return this.len}isEqual(i){return 0===Qo.comparator(this,i)}child(i){const o=this.segments.slice(this.offset,this.limit());return i instanceof Qo?i.forEach(d=>{o.push(d)}):o.push(i),this.construct(o)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}forEach(i){for(let o=this.offset,d=this.limit();o<d;o++)i(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,o){const d=Math.min(i.length,o.length);for(let g=0;g<d;g++){const y=i.get(g),E=o.get(g);if(y<E)return-1;if(y>E)return 1}return i.length<o.length?-1:i.length>o.length?1:0}}class Gi extends Qo{construct(i,o,d){return new Gi(i,o,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const o=[];for(const d of i){if(d.indexOf("//")>=0)throw new kn(hn.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);o.push(...d.split("/").filter(g=>g.length>0))}return new Gi(o)}static emptyPath(){return new Gi([])}}const au=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Qo{construct(i,o,d){return new vr(i,o,d)}static isValidIdentifier(i){return au.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(i){const o=[];let d="",g=0;const y=()=>{if(0===d.length)throw new kn(hn.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(d),d=""};let E=!1;for(;g<i.length;){const L=i[g];if("\\"===L){if(g+1===i.length)throw new kn(hn.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const ee=i[g+1];if("\\"!==ee&&"."!==ee&&"`"!==ee)throw new kn(hn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);d+=ee,g+=2}else"`"===L?(E=!E,g++):"."!==L||E?(d+=L,g++):(y(),g++)}if(y(),E)throw new kn(hn.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new vr(o)}static emptyPath(){return new vr([])}}class Yn{constructor(i){this.path=i}static fromPath(i){return new Yn(Gi.fromString(i))}static fromName(i){return new Yn(Gi.fromString(i).popFirst(5))}static empty(){return new Yn(Gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Gi.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,o){return Gi.comparator(i.path,o.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Yn(new Gi(i.slice()))}}class ga{constructor(i,o,d,g){this.indexId=i,this.collectionGroup=o,this.fields=d,this.indexState=g}}function Gr(l){return l.fields.find(i=>2===i.kind)}function ma(l){return l.fields.filter(i=>2!==i.kind)}ga.UNKNOWN_ID=-1;class ps{constructor(i,o){this.fieldPath=i,this.kind=o}}class Wa{constructor(i,o){this.sequenceNumber=i,this.offset=o}static empty(){return new Wa(0,To.min())}}function hc(l,i){const o=l.toTimestamp().seconds,d=l.toTimestamp().nanoseconds+1,g=bi.fromTimestamp(1e9===d?new Er(o+1,0):new Er(o,d));return new To(g,Yn.empty(),i)}function Ya(l){return new To(l.readTime,l.key,-1)}class To{constructor(i,o,d){this.readTime=i,this.documentKey=o,this.largestBatchId=d}static min(){return new To(bi.min(),Yn.empty(),-1)}static max(){return new To(bi.max(),Yn.empty(),-1)}}function fc(l,i){let o=l.readTime.compareTo(i.readTime);return 0!==o?o:(o=Yn.comparator(l.documentKey,i.documentKey),0!==o?o:mi(l.largestBatchId,i.largestBatchId))}const pc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function Lo(l){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,m.Z)(function*(l){if(l.code!==hn.FAILED_PRECONDITION||l.message!==pc)throw l;Bn("LocalStore","Unexpectedly lost primary lease")}),Ka.apply(this,arguments)}class on{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(i){return this.next(void 0,i)}next(i,o){return this.callbackAttached&&ci(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(i,this.result):new on((d,g)=>{this.nextCallback=y=>{this.wrapSuccess(i,y).next(d,g)},this.catchCallback=y=>{this.wrapFailure(o,y).next(d,g)}})}toPromise(){return new Promise((i,o)=>{this.next(i,o)})}wrapUserFunction(i){try{const o=i();return o instanceof on?o:on.resolve(o)}catch(o){return on.reject(o)}}wrapSuccess(i,o){return i?this.wrapUserFunction(()=>i(o)):on.resolve(o)}wrapFailure(i,o){return i?this.wrapUserFunction(()=>i(o)):on.reject(o)}static resolve(i){return new on((o,d)=>{o(i)})}static reject(i){return new on((o,d)=>{d(i)})}static waitFor(i){return new on((o,d)=>{let g=0,y=0,E=!1;i.forEach(L=>{++g,L.next(()=>{++y,E&&y===g&&o()},ee=>d(ee))}),E=!0,y===g&&o()})}static or(i){let o=on.resolve(!1);for(const d of i)o=o.next(g=>g?on.resolve(g):d());return o}static forEach(i,o){const d=[];return i.forEach((g,y)=>{d.push(o.call(this,g,y))}),this.waitFor(d)}static mapArray(i,o){return new on((d,g)=>{const y=i.length,E=new Array(y);let L=0;for(let ee=0;ee<y;ee++){const pe=ee;o(i[pe]).next(et=>{E[pe]=et,++L,L===y&&d(E)},et=>g(et))}})}static doWhile(i,o){return new on((d,g)=>{const y=()=>{!0===i()?o().next(()=>{y()},g):d()};y()})}}class _a{constructor(i,o){this.action=i,this.transaction=o,this.aborted=!1,this.P=new Ur,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{o.error?this.P.reject(new Hl(i,o.error)):this.P.resolve()},this.transaction.onerror=d=>{const g=ed(d.target.error);this.P.reject(new Hl(i,g))}}static open(i,o,d,g){try{return new _a(o,i.transaction(g,d))}catch(y){throw new Hl(o,y)}}get v(){return this.P.promise}abort(i){i&&this.P.reject(i),this.aborted||(Bn("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const i=this.transaction;this.aborted||"function"!=typeof i.commit||i.commit()}store(i){const o=this.transaction.objectStore(i);return new pl(o)}}class jr{constructor(i,o,d){this.name=i,this.version=o,this.S=d,12.2===jr.D((0,N.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Bn("SimpleDb","Removing database:",i),va(window.indexedDB.deleteDatabase(i)).toPromise()}static C(){if(!(0,N.hl)())return!1;if(jr.N())return!0;const i=(0,N.z$)(),o=jr.D(i),d=0<o&&o<10,g=jr.k(i),y=0<g&&g<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||d||y)}static N(){var i;return typeof process<"u"&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.O)}static M(i,o){return i.store(o)}static D(i){const o=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(d)}static k(i){const o=i.match(/Android ([\d.]+)/i),d=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(d)}F(i){var o=this;return(0,m.Z)(function*(){return o.db||(Bn("SimpleDb","Opening database:",o.name),o.db=yield new Promise((d,g)=>{const y=indexedDB.open(o.name,o.version);y.onsuccess=E=>{d(E.target.result)},y.onblocked=()=>{g(new Hl(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=E=>{const L=E.target.error;g("VersionError"===L.name?new kn(hn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===L.name?new kn(hn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+L):new Hl(i,L))},y.onupgradeneeded=E=>{Bn("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',E.oldVersion),o.S.$(E.target.result,y.transaction,E.oldVersion,o.version).next(()=>{Bn("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.B&&(o.db.onversionchange=d=>o.B(d)),o.db})()}L(i){this.B=i,this.db&&(this.db.onversionchange=o=>i(o))}runTransaction(i,o,d,g){var y=this;return(0,m.Z)(function*(){const E="readonly"===o;let L=0;for(;;){++L;try{y.db=yield y.F(i);const ee=_a.open(y.db,i,E?"readonly":"readwrite",d),pe=g(ee).next(et=>(ee.V(),et)).catch(et=>(ee.abort(et),on.reject(et))).toPromise();return pe.catch(()=>{}),yield ee.v,pe}catch(ee){const pe=ee,et="FirebaseError"!==pe.name&&L<3;if(Bn("SimpleDb","Transaction failed with error:",pe.message,"Retrying:",et),y.close(),!et)return Promise.reject(pe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gc{constructor(i){this.U=i,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(i){this.U=i}done(){this.q=!0}j(i){this.K=i}delete(){return va(this.U.delete())}}class Hl extends kn{constructor(i,o){super(hn.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function qs(l){return"IndexedDbTransactionError"===l.name}class pl{constructor(i){this.store=i}put(i,o){let d;return void 0!==o?(Bn("SimpleDb","PUT",this.store.name,i,o),d=this.store.put(o,i)):(Bn("SimpleDb","PUT",this.store.name,"<auto-key>",i),d=this.store.put(i)),va(d)}add(i){return Bn("SimpleDb","ADD",this.store.name,i,i),va(this.store.add(i))}get(i){return va(this.store.get(i)).next(o=>(void 0===o&&(o=null),Bn("SimpleDb","GET",this.store.name,i,o),o))}delete(i){return Bn("SimpleDb","DELETE",this.store.name,i),va(this.store.delete(i))}count(){return Bn("SimpleDb","COUNT",this.store.name),va(this.store.count())}W(i,o){const d=this.options(i,o);if(d.index||"function"!=typeof this.store.getAll){const g=this.cursor(d),y=[];return this.H(g,(E,L)=>{y.push(L)}).next(()=>y)}{const g=this.store.getAll(d.range);return new on((y,E)=>{g.onerror=L=>{E(L.target.error)},g.onsuccess=L=>{y(L.target.result)}})}}J(i,o){const d=this.store.getAll(i,null===o?void 0:o);return new on((g,y)=>{d.onerror=E=>{y(E.target.error)},d.onsuccess=E=>{g(E.target.result)}})}Y(i,o){Bn("SimpleDb","DELETE ALL",this.store.name);const d=this.options(i,o);d.X=!1;const g=this.cursor(d);return this.H(g,(y,E,L)=>L.delete())}Z(i,o){let d;o?d=i:(d={},o=i);const g=this.cursor(d);return this.H(g,o)}tt(i){const o=this.cursor({});return new on((d,g)=>{o.onerror=y=>{const E=ed(y.target.error);g(E)},o.onsuccess=y=>{const E=y.target.result;E?i(E.primaryKey,E.value).next(L=>{L?E.continue():d()}):d()}})}H(i,o){const d=[];return new on((g,y)=>{i.onerror=E=>{y(E.target.error)},i.onsuccess=E=>{const L=E.target.result;if(!L)return void g();const ee=new gc(L),pe=o(L.primaryKey,L.value,ee);if(pe instanceof on){const et=pe.catch(At=>(ee.done(),on.reject(At)));d.push(et)}ee.isDone?g():null===ee.G?L.continue():L.continue(ee.G)}}).next(()=>on.waitFor(d))}options(i,o){let d;return void 0!==i&&("string"==typeof i?d=i:o=i),{index:d,range:o}}cursor(i){let o="next";if(i.reverse&&(o="prev"),i.index){const d=this.store.index(i.index);return i.X?d.openKeyCursor(i.range,o):d.openCursor(i.range,o)}return this.store.openCursor(i.range,o)}}function va(l){return new on((i,o)=>{l.onsuccess=d=>{i(d.target.result)},l.onerror=d=>{const g=ed(d.target.error);o(g)}})}let hr=!1;function ed(l){const i=jr.D((0,N.z$)());if(i>=12.2&&i<13){const o="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(o)>=0){const d=new kn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hr||(hr=!0,setTimeout(()=>{throw d},0)),d}}return l}class Qd{constructor(i,o){this.asyncQueue=i,this.et=o,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(i){var o=this;Bn("IndexBackiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,(0,m.Z)(function*(){o.task=null;try{Bn("IndexBackiller",`Documents written: ${yield o.et.st()}`)}catch(d){qs(d)?Bn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",d):yield Lo(d)}yield o.nt(6e4)}))}}class ef{constructor(i,o){this.localStore=i,this.persistence=o}st(i=50){var o=this;return(0,m.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",d=>o.it(d,i))})()}it(i,o){const d=new Set;let g=o,y=!0;return on.doWhile(()=>!0===y&&g>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(E=>{if(null!==E&&!d.has(E))return Bn("IndexBackiller",`Processing collection: ${E}`),this.rt(i,E,g).next(L=>{g-=L,d.add(E)});y=!1})).next(()=>o-g)}rt(i,o,d){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,o).next(g=>this.localStore.localDocuments.getNextDocuments(i,o,g,d).next(y=>{const E=y.changes;return this.localStore.indexManager.updateIndexEntries(i,E).next(()=>this.ot(g,y)).next(L=>(Bn("IndexBackiller",`Updating offset: ${L}`),this.localStore.indexManager.updateCollectionGroup(i,o,L))).next(()=>E.size)}))}ot(i,o){let d=i;return o.changes.forEach((g,y)=>{const E=Ya(y);fc(E,d)>0&&(d=E)}),new To(d.readTime,d.documentKey,Math.max(o.batchId,i.largestBatchId))}}class xo{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=d=>this.ut(d),this.ct=d=>o.writeSequenceNumber(d))}ut(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ct&&this.ct(i),i}}function Ap(l){let i=0;for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&i++;return i}function xa(l,i){for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&i(o,l[o])}function Ip(l){for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}xo.at=-1;class or{constructor(i,o){this.comparator=i,this.root=o||Is.EMPTY}insert(i,o){return new or(this.comparator,this.root.insert(i,o,this.comparator).copy(null,null,Is.BLACK,null,null))}remove(i){return new or(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Is.BLACK,null,null))}get(i){let o=this.root;for(;!o.isEmpty();){const d=this.comparator(i,o.key);if(0===d)return o.value;d<0?o=o.left:d>0&&(o=o.right)}return null}indexOf(i){let o=0,d=this.root;for(;!d.isEmpty();){const g=this.comparator(i,d.key);if(0===g)return o+d.left.size;g<0?d=d.left:(o+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((o,d)=>(i(o,d),!1))}toString(){const i=[];return this.inorderTraversal((o,d)=>(i.push(`${o}:${d}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new mc(this.root,i,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new mc(this.root,i,this.comparator,!0)}}class mc{constructor(i,o,d,g){this.isReverse=g,this.nodeStack=[];let y=1;for(;!i.isEmpty();)if(y=o?d(i.key,o):1,o&&g&&(y*=-1),y<0)i=this.isReverse?i.left:i.right;else{if(0===y){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const o={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Is{constructor(i,o,d,g,y){this.key=i,this.value=o,this.color=d??Is.RED,this.left=g??Is.EMPTY,this.right=y??Is.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,o,d,g,y){return new Is(i??this.key,o??this.value,d??this.color,g??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,d){let g=this;const y=d(i,g.key);return g=y<0?g.copy(null,null,null,g.left.insert(i,o,d),null):0===y?g.copy(null,o,null,null,null):g.copy(null,null,null,null,g.right.insert(i,o,d)),g.fixUp()}removeMin(){if(this.left.isEmpty())return Is.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,o){let d,g=this;if(o(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,o),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===o(i,g.key)){if(g.right.isEmpty())return Is.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,o))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Is.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ci();const i=this.left.check();if(i!==this.right.check())throw ci();return i+(this.isRed()?0:1)}}Is.EMPTY=null,Is.RED=!0,Is.BLACK=!1,Is.EMPTY=new class{constructor(){this.size=0}get key(){throw ci()}get value(){throw ci()}get color(){throw ci()}get left(){throw ci()}get right(){throw ci()}copy(l,i,o,d,g){return this}insert(l,i,o){return new Is(l,i)}remove(l,i){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(i){this.comparator=i,this.data=new or(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((o,d)=>(i(o),!1))}forEachInRange(i,o){const d=this.data.getIteratorFrom(i[0]);for(;d.hasNext();){const g=d.getNext();if(this.comparator(g.key,i[1])>=0)return;o(g.key)}}forEachWhile(i,o){let d;for(d=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();d.hasNext();)if(!i(d.getNext().key))return}firstAfterOrEqual(i){const o=this.data.getIteratorFrom(i);return o.hasNext()?o.getNext().key:null}getIterator(){return new _c(this.data.getIterator())}getIteratorFrom(i){return new _c(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let o=this;return o.size<i.size&&(o=i,i=this),i.forEach(d=>{o=o.add(d)}),o}isEqual(i){if(!(i instanceof Ii)||this.size!==i.size)return!1;const o=this.data.getIterator(),d=i.data.getIterator();for(;o.hasNext();){const g=o.getNext().key,y=d.getNext().key;if(0!==this.comparator(g,y))return!1}return!0}toArray(){const i=[];return this.forEach(o=>{i.push(o)}),i}toString(){const i=[];return this.forEach(o=>i.push(o)),"SortedSet("+i.toString()+")"}copy(i){const o=new Ii(this.comparator);return o.data=i,o}}class _c{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sa(l){return l.hasNext()?l.getNext():void 0}class So{constructor(i){this.fields=i,i.sort(vr.comparator)}static empty(){return new So([])}unionWith(i){let o=new Ii(vr.comparator);for(const d of this.fields)o=o.add(d);for(const d of i)o=o.add(d);return new So(o.toArray())}covers(i){for(const o of this.fields)if(o.isPrefixOf(i))return!0;return!1}isEqual(i){return Fo(this.fields,i.fields,(o,d)=>o.isEqual(d))}}function Ci(){return typeof atob<"u"}class qi{constructor(i){this.binaryString=i}static fromBase64String(i){const o=atob(i);return new qi(o)}static fromUint8Array(i){const o=function(d){let g="";for(let y=0;y<d.length;++y)g+=String.fromCharCode(d[y]);return g}(i);return new qi(o)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let d=0;d<i.length;d++)o[d]=i.charCodeAt(d);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return mi(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const ya=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(l){if(Ei(!!l),"string"==typeof l){let i=0;const o=ya.exec(l);if(Ei(!!o),o[1]){let g=o[1];g=(g+"000000000").substr(0,9),i=Number(g)}const d=new Date(l);return{seconds:Math.floor(d.getTime()/1e3),nanos:i}}return{seconds:yr(l.seconds),nanos:yr(l.nanos)}}function yr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function M(l){return"string"==typeof l?qi.fromBase64String(l):qi.fromUint8Array(l)}function R(l){var i,o;return"server_timestamp"===(null===(o=((null===(i=l?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function S(l){const i=l.mapValue.fields.__previous_value__;return R(i)?S(i):i}function j(l){const i=Xo(l.mapValue.fields.__local_write_time__.timestampValue);return new Er(i.seconds,i.nanos)}class Z{constructor(i,o,d,g,y,E,L,ee){this.databaseId=i,this.appId=o,this.persistenceKey=d,this.host=g,this.ssl=y,this.forceLongPolling=E,this.autoDetectLongPolling=L,this.useFetchStreams=ee}}class Ae{constructor(i,o){this.projectId=i,this.database=o||"(default)"}static empty(){return new Ae("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Ae&&i.projectId===this.projectId&&i.database===this.database}}function ft(l){return null==l}function Ct(l){return 0===l&&1/l==-1/0}function gn(l){return"number"==typeof l&&Number.isInteger(l)&&!Ct(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}const Hn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ri={nullValue:"NULL_VALUE"};function ii(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?R(l)?4:Xd(l)?9007199254740991:10:ci()}function ji(l,i){if(l===i)return!0;const o=ii(l);if(o!==ii(i))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return j(l).isEqual(j(i));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;const y=Xo(d.timestampValue),E=Xo(g.timestampValue);return y.seconds===E.seconds&&y.nanos===E.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return g=i,M(l.bytesValue).isEqual(M(g.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(d,g){return yr(d.geoPointValue.latitude)===yr(g.geoPointValue.latitude)&&yr(d.geoPointValue.longitude)===yr(g.geoPointValue.longitude)}(l,i);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return yr(d.integerValue)===yr(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){const y=yr(d.doubleValue),E=yr(g.doubleValue);return y===E?Ct(y)===Ct(E):isNaN(y)&&isNaN(E)}return!1}(l,i);case 9:return Fo(l.arrayValue.values||[],i.arrayValue.values||[],ji);case 10:return function(d,g){const y=d.mapValue.fields||{},E=g.mapValue.fields||{};if(Ap(y)!==Ap(E))return!1;for(const L in y)if(y.hasOwnProperty(L)&&(void 0===E[L]||!ji(y[L],E[L])))return!1;return!0}(l,i);default:return ci()}var g}function es(l,i){return void 0!==(l.values||[]).find(o=>ji(o,i))}function js(l,i){if(l===i)return 0;const o=ii(l),d=ii(i);if(o!==d)return mi(o,d);switch(o){case 0:case 9007199254740991:return 0;case 1:return mi(l.booleanValue,i.booleanValue);case 2:return function(g,y){const E=yr(g.integerValue||g.doubleValue),L=yr(y.integerValue||y.doubleValue);return E<L?-1:E>L?1:E===L?0:isNaN(E)?isNaN(L)?0:-1:1}(l,i);case 3:return Jo(l.timestampValue,i.timestampValue);case 4:return Jo(j(l),j(i));case 5:return mi(l.stringValue,i.stringValue);case 6:return function(g,y){const E=M(g),L=M(y);return E.compareTo(L)}(l.bytesValue,i.bytesValue);case 7:return function(g,y){const E=g.split("/"),L=y.split("/");for(let ee=0;ee<E.length&&ee<L.length;ee++){const pe=mi(E[ee],L[ee]);if(0!==pe)return pe}return mi(E.length,L.length)}(l.referenceValue,i.referenceValue);case 8:return function(g,y){const E=mi(yr(g.latitude),yr(y.latitude));return 0!==E?E:mi(yr(g.longitude),yr(y.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(g,y){const E=g.values||[],L=y.values||[];for(let ee=0;ee<E.length&&ee<L.length;++ee){const pe=js(E[ee],L[ee]);if(pe)return pe}return mi(E.length,L.length)}(l.arrayValue,i.arrayValue);case 10:return function(g,y){if(g===Hn.mapValue&&y===Hn.mapValue)return 0;if(g===Hn.mapValue)return 1;if(y===Hn.mapValue)return-1;const E=g.fields||{},L=Object.keys(E),ee=y.fields||{},pe=Object.keys(ee);L.sort(),pe.sort();for(let et=0;et<L.length&&et<pe.length;++et){const At=mi(L[et],pe[et]);if(0!==At)return At;const rn=js(E[L[et]],ee[pe[et]]);if(0!==rn)return rn}return mi(L.length,pe.length)}(l.mapValue,i.mapValue);default:throw ci()}}function Jo(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return mi(l,i);const o=Xo(l),d=Xo(i),g=mi(o.seconds,d.seconds);return 0!==g?g:mi(o.nanos,d.nanos)}function Ms(l){return Ul(l)}function Ul(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(d){const g=Xo(d);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?M(l.bytesValue).toBase64():"referenceValue"in l?Yn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(i=l.geoPointValue).latitude},${i.longitude})`:"arrayValue"in l?function(d){let g="[",y=!0;for(const E of d.values||[])y?y=!1:g+=",",g+=Ul(E);return g+"]"}(l.arrayValue):"mapValue"in l?function(d){const g=Object.keys(d.fields||{}).sort();let y="{",E=!0;for(const L of g)E?E=!1:y+=",",y+=`${L}:${Ul(d.fields[L])}`;return y+"}"}(l.mapValue):ci();var i}function Qs(l,i){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`}}function Gl(l){return!!l&&"integerValue"in l}function jl(l){return!!l&&"arrayValue"in l}function uu(l){return!!l&&"nullValue"in l}function tf(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function gl(l){return!!l&&"mapValue"in l}function vc(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const i={mapValue:{fields:{}}};return xa(l.mapValue.fields,(o,d)=>i.mapValue.fields[o]=vc(d)),i}if(l.arrayValue){const i={arrayValue:{values:[]}};for(let o=0;o<(l.arrayValue.values||[]).length;++o)i.arrayValue.values[o]=vc(l.arrayValue.values[o]);return i}return Object.assign({},l)}function Xd(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function lm(l){return"nullValue"in l?Ri:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Qs(Ae.empty(),Yn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:ci()}function nf(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Qs(Ae.empty(),Yn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?Hn:ci()}function yc(l,i){const o=js(l.value,i.value);return 0!==o?o:l.inclusive&&!i.inclusive?-1:!l.inclusive&&i.inclusive?1:0}function zl(l,i){const o=js(l.value,i.value);return 0!==o?o:l.inclusive&&!i.inclusive?1:!l.inclusive&&i.inclusive?-1:0}class fo{constructor(i){this.value=i}static empty(){return new fo({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let o=this.value;for(let d=0;d<i.length-1;++d)if(o=(o.mapValue.fields||{})[i.get(d)],!gl(o))return null;return o=(o.mapValue.fields||{})[i.lastSegment()],o||null}}set(i,o){this.getFieldsMap(i.popLast())[i.lastSegment()]=vc(o)}setAll(i){let o=vr.emptyPath(),d={},g=[];i.forEach((E,L)=>{if(!o.isImmediateParentOf(L)){const ee=this.getFieldsMap(o);this.applyChanges(ee,d,g),d={},g=[],o=L.popLast()}E?d[L.lastSegment()]=vc(E):g.push(L.lastSegment())});const y=this.getFieldsMap(o);this.applyChanges(y,d,g)}delete(i){const o=this.field(i.popLast());gl(o)&&o.mapValue.fields&&delete o.mapValue.fields[i.lastSegment()]}isEqual(i){return ji(this.value,i.value)}getFieldsMap(i){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let d=0;d<i.length;++d){let g=o.mapValue.fields[i.get(d)];gl(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},o.mapValue.fields[i.get(d)]=g),o=g}return o.mapValue.fields}applyChanges(i,o,d){xa(o,(g,y)=>i[g]=y);for(const g of d)delete i[g]}clone(){return new fo(vc(this.value))}}function as(l){const i=[];return xa(l.fields,(o,d)=>{const g=new vr([o]);if(gl(d)){const y=as(d.mapValue).fields;if(0===y.length)i.push(g);else for(const E of y)i.push(g.child(E))}else i.push(g)}),new So(i)}class br{constructor(i,o,d,g,y,E){this.key=i,this.documentType=o,this.version=d,this.readTime=g,this.data=y,this.documentState=E}static newInvalidDocument(i){return new br(i,0,bi.min(),bi.min(),fo.empty(),0)}static newFoundDocument(i,o,d){return new br(i,1,o,bi.min(),d,0)}static newNoDocument(i,o){return new br(i,2,o,bi.min(),fo.empty(),0)}static newUnknownDocument(i,o){return new br(i,3,o,bi.min(),fo.empty(),2)}convertToFoundDocument(i,o){return this.version=i,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bi.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof br&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mp{constructor(i,o=null,d=[],g=[],y=null,E=null,L=null){this.path=i,this.collectionGroup=o,this.orderBy=d,this.filters=g,this.limit=y,this.startAt=E,this.endAt=L,this.ht=null}}function Jd(l,i=null,o=[],d=[],g=null,y=null,E=null){return new Mp(l,i,o,d,g,y,E)}function ea(l){const i=Kn(l);if(null===i.ht){let o=i.path.canonicalString();null!==i.collectionGroup&&(o+="|cg:"+i.collectionGroup),o+="|f:",o+=i.filters.map(d=>{return(g=d).field.canonicalString()+g.op.toString()+Ms(g.value);var g}).join(","),o+="|ob:",o+=i.orderBy.map(d=>{return(g=d).field.canonicalString()+g.dir;var g}).join(","),ft(i.limit)||(o+="|l:",o+=i.limit),i.startAt&&(o+="|lb:",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(d=>Ms(d)).join(",")),i.endAt&&(o+="|ub:",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(d=>Ms(d)).join(",")),i.ht=o}return i.ht}function td(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!z_(l.orderBy[g],i.orderBy[g]))return!1;if(l.filters.length!==i.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((o=l.filters[g]).op!==(d=i.filters[g]).op||!o.field.isEqual(d.field)||!ji(o.value,d.value))return!1;var o,d;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!th(l.startAt,i.startAt)&&th(l.endAt,i.endAt)}function du(l){return Yn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function nd(l,i){return l.filters.filter(o=>o instanceof Wr&&o.field.isEqual(i))}function $l(l,i,o){let d=Ri,g=!0;for(const y of nd(l,i)){let E=Ri,L=!0;switch(y.op){case"<":case"<=":E=lm(y.value);break;case"==":case"in":case">=":E=y.value;break;case">":E=y.value,L=!1;break;case"!=":case"not-in":E=Ri}yc({value:d,inclusive:g},{value:E,inclusive:L})<0&&(d=E,g=L)}if(null!==o)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(i)){const E=o.position[y];yc({value:d,inclusive:g},{value:E,inclusive:o.inclusive})<0&&(d=E,g=o.inclusive);break}return{value:d,inclusive:g}}function id(l,i,o){let d=Hn,g=!0;for(const y of nd(l,i)){let E=Hn,L=!0;switch(y.op){case">=":case">":E=nf(y.value),L=!1;break;case"==":case"in":case"<=":E=y.value;break;case"<":E=y.value,L=!1;break;case"!=":case"not-in":E=Hn}zl({value:d,inclusive:g},{value:E,inclusive:L})>0&&(d=E,g=L)}if(null!==o)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(i)){const E=o.position[y];zl({value:d,inclusive:g},{value:E,inclusive:o.inclusive})>0&&(d=E,g=o.inclusive);break}return{value:d,inclusive:g}}class Wr extends class{}{constructor(i,o,d){super(),this.field=i,this.op=o,this.value=d}static create(i,o,d){return i.isKeyField()?"in"===o||"not-in"===o?this.lt(i,o,d):new Op(i,o,d):"array-contains"===o?new kp(i,d):"in"===o?new Rp(i,d):"not-in"===o?new um(i,d):"array-contains-any"===o?new bc(i,d):new Wr(i,o,d)}static lt(i,o,d){return"in"===o?new eh(i,d):new rd(i,d)}matches(i){const o=i.data.field(this.field);return"!="===this.op?null!==o&&this.ft(js(o,this.value)):null!==o&&ii(this.value)===ii(o)&&this.ft(js(o,this.value))}ft(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return ci()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Op extends Wr{constructor(i,o,d){super(i,o,d),this.key=Yn.fromName(d.referenceValue)}matches(i){const o=Yn.comparator(i.key,this.key);return this.ft(o)}}class eh extends Wr{constructor(i,o){super(i,"in",o),this.keys=hu(0,o)}matches(i){return this.keys.some(o=>o.isEqual(i.key))}}class rd extends Wr{constructor(i,o){super(i,"not-in",o),this.keys=hu(0,o)}matches(i){return!this.keys.some(o=>o.isEqual(i.key))}}function hu(l,i){var o;return((null===(o=i.arrayValue)||void 0===o?void 0:o.values)||[]).map(d=>Yn.fromName(d.referenceValue))}class kp extends Wr{constructor(i,o){super(i,"array-contains",o)}matches(i){const o=i.data.field(this.field);return jl(o)&&es(o.arrayValue,this.value)}}class Rp extends Wr{constructor(i,o){super(i,"in",o)}matches(i){const o=i.data.field(this.field);return null!==o&&es(this.value.arrayValue,o)}}class um extends Wr{constructor(i,o){super(i,"not-in",o)}matches(i){if(es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=i.data.field(this.field);return null!==o&&!es(this.value.arrayValue,o)}}class bc extends Wr{constructor(i,o){super(i,"array-contains-any",o)}matches(i){const o=i.data.field(this.field);return!(!jl(o)||!o.arrayValue.values)&&o.arrayValue.values.some(d=>es(this.value.arrayValue,d))}}class Bo{constructor(i,o){this.position=i,this.inclusive=o}}class fu{constructor(i,o="asc"){this.field=i,this.dir=o}}function z_(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}function Np(l,i,o){let d=0;for(let g=0;g<l.position.length;g++){const y=i[g],E=l.position[g];if(d=y.field.isKeyField()?Yn.comparator(Yn.fromName(E.referenceValue),o.key):js(E,o.data.field(y.field)),"desc"===y.dir&&(d*=-1),0!==d)break}return d}function th(l,i){if(null===l)return null===i;if(null===i||l.inclusive!==i.inclusive||l.position.length!==i.position.length)return!1;for(let o=0;o<l.position.length;o++)if(!ji(l.position[o],i.position[o]))return!1;return!0}class Wl{constructor(i,o=null,d=[],g=[],y=null,E="F",L=null,ee=null){this.path=i,this.collectionGroup=o,this.explicitOrderBy=d,this.filters=g,this.limit=y,this.limitType=E,this.startAt=L,this.endAt=ee,this._t=null,this.wt=null}}function rf(l,i,o,d,g,y,E,L){return new Wl(l,i,o,d,g,y,E,L)}function wc(l){return new Wl(l)}function Pp(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function ml(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}function nh(l){for(const i of l.filters)if(i.dt())return i.field;return null}function sf(l){return null!==l.collectionGroup}function pu(l){const i=Kn(l);if(null===i._t){i._t=[];const o=nh(i),d=ml(i);if(null!==o&&null===d)o.isKeyField()||i._t.push(new fu(o)),i._t.push(new fu(vr.keyField(),"asc"));else{let g=!1;for(const y of i.explicitOrderBy)i._t.push(y),y.field.isKeyField()&&(g=!0);if(!g){const y=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i._t.push(new fu(vr.keyField(),y))}}}return i._t}function Vo(l){const i=Kn(l);if(!i.wt)if("F"===i.limitType)i.wt=Jd(i.path,i.collectionGroup,pu(i),i.filters,i.limit,i.startAt,i.endAt);else{const o=[];for(const y of pu(i))o.push(new fu(y.field,"desc"===y.dir?"asc":"desc"));const d=i.endAt?new Bo(i.endAt.position,i.endAt.inclusive):null,g=i.startAt?new Bo(i.startAt.position,i.startAt.inclusive):null;i.wt=Jd(i.path,i.collectionGroup,o,i.filters,i.limit,d,g)}return i.wt}function sd(l,i,o){return new Wl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),i,o,l.startAt,l.endAt)}function ih(l,i){return td(Vo(l),Vo(i))&&l.limitType===i.limitType}function rh(l){return`${ea(Vo(l))}|lt:${l.limitType}`}function af(l){return`Query(target=${function cm(l){let i=l.path.canonicalString();return null!==l.collectionGroup&&(i+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(i+=`, filters: [${l.filters.map(o=>{return`${(d=o).field.canonicalString()} ${d.op} ${Ms(d.value)}`;var d}).join(", ")}]`),ft(l.limit)||(i+=", limit: "+l.limit),l.orderBy.length>0&&(i+=`, orderBy: [${l.orderBy.map(o=>{return`${(d=o).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),l.startAt&&(i+=", startAt: ",i+=l.startAt.inclusive?"b:":"a:",i+=l.startAt.position.map(o=>Ms(o)).join(",")),l.endAt&&(i+=", endAt: ",i+=l.endAt.inclusive?"a:":"b:",i+=l.endAt.position.map(o=>Ms(o)).join(",")),`Target(${i})`}(Vo(l))}; limitType=${l.limitType})`}function gu(l,i){return i.isFoundDocument()&&function(o,d){const g=d.key.path;return null!==o.collectionGroup?d.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(g):Yn.isDocumentKey(o.path)?o.path.isEqual(g):o.path.isImmediateParentOf(g)}(l,i)&&function(o,d){for(const g of o.explicitOrderBy)if(!g.field.isKeyField()&&null===d.data.field(g.field))return!1;return!0}(l,i)&&function(o,d){for(const g of o.filters)if(!g.matches(d))return!1;return!0}(l,i)&&(d=i,!((o=l).startAt&&!function(g,y,E){const L=Np(g,y,E);return g.inclusive?L<=0:L<0}(o.startAt,pu(o),d)||o.endAt&&!function(g,y,E){const L=Np(g,y,E);return g.inclusive?L>=0:L>0}(o.endAt,pu(o),d)));var o,d}function od(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function lf(l){return(i,o)=>{let d=!1;for(const g of pu(l)){const y=mu(g,i,o);if(0!==y)return y;d=d||g.field.isKeyField()}return 0}}function mu(l,i,o){const d=l.field.isKeyField()?Yn.comparator(i.key,o.key):function(g,y,E){const L=y.data.field(g),ee=E.data.field(g);return null!==L&&null!==ee?js(L,ee):ci()}(l.field,i,o);switch(l.dir){case"asc":return d;case"desc":return-1*d;default:return ci()}}function Fp(l,i){if(l.gt){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ct(i)?"-0":i}}function Lp(l){return{integerValue:""+l}}function Bp(l,i){return gn(i)?Lp(i):Fp(l,i)}class Cc{constructor(){this._=void 0}}function cf(l,i,o){return l instanceof _l?function(d,g){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return g&&(y.fields.__previous_value__=g),{mapValue:y}}(o,i):l instanceof Ho?sh(l,i):l instanceof Dc?df(l,i):function(d,g){const y=uf(d,g),E=oh(y)+oh(d.yt);return Gl(y)&&Gl(d.yt)?Lp(E):Fp(d.It,E)}(l,i)}function dm(l,i,o){return l instanceof Ho?sh(l,i):l instanceof Dc?df(l,i):o}function uf(l,i){return l instanceof _u?Gl(o=i)||(d=o)&&"doubleValue"in d?i:{integerValue:0}:null;var d,o}class _l extends Cc{}class Ho extends Cc{constructor(i){super(),this.elements=i}}function sh(l,i){const o=vl(i);for(const d of l.elements)o.some(g=>ji(g,d))||o.push(d);return{arrayValue:{values:o}}}class Dc extends Cc{constructor(i){super(),this.elements=i}}function df(l,i){let o=vl(i);for(const d of l.elements)o=o.filter(g=>!ji(g,d));return{arrayValue:{values:o}}}class _u extends Cc{constructor(i,o){super(),this.It=i,this.yt=o}}function oh(l){return yr(l.integerValue||l.doubleValue)}function vl(l){return jl(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Aa{constructor(i,o){this.field=i,this.transform=o}}class hf{constructor(i,o){this.version=i,this.transformResults=o}}class Yr{constructor(i,o){this.updateTime=i,this.exists=o}static none(){return new Yr}static exists(i){return new Yr(void 0,i)}static updateTime(i){return new Yr(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function ah(l,i){return void 0!==l.updateTime?i.isFoundDocument()&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i.isFoundDocument()}class Kr{}function lh(l,i){if(!l.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return l.isNoDocument()?new Zt(l.key,Yr.none()):new w(l.key,l.data,Yr.none());{const o=l.data,d=fo.empty();let g=new Ii(vr.comparator);for(let y of i.fields)if(!g.has(y)){let E=o.field(y);null===E&&y.length>1&&(y=y.popLast(),E=o.field(y)),null===E?d.delete(y):d.set(y,E),g=g.add(y)}return new D(l.key,d,new So(g.toArray()),Yr.none())}}function fi(l,i,o){l instanceof w?function(d,g,y){const E=d.value.clone(),L=be(d.fieldTransforms,g,y.transformResults);E.setAll(L),g.convertToFoundDocument(y.version,E).setHasCommittedMutations()}(l,i,o):l instanceof D?function(d,g,y){if(!ah(d.precondition,g))return void g.convertToUnknownDocument(y.version);const E=be(d.fieldTransforms,g,y.transformResults),L=g.data;L.setAll(F(d)),L.setAll(E),g.convertToFoundDocument(y.version,L).setHasCommittedMutations()}(l,i,o):i.convertToNoDocument(o.version).setHasCommittedMutations()}function Ia(l,i,o,d){return l instanceof w?function(g,y,E,L){if(!ah(g.precondition,y))return E;const ee=g.value.clone(),pe=Je(g.fieldTransforms,L,y);return ee.setAll(pe),y.convertToFoundDocument(y.version,ee).setHasLocalMutations(),null}(l,i,o,d):l instanceof D?function(g,y,E,L){if(!ah(g.precondition,y))return E;const ee=Je(g.fieldTransforms,L,y),pe=y.data;return pe.setAll(F(g)),pe.setAll(ee),y.convertToFoundDocument(y.version,pe).setHasLocalMutations(),null===E?null:E.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(et=>et.field))}(l,i,o,d):(E=o,ah(l.precondition,y=i)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):E);var y,E}function ch(l,i){let o=null;for(const d of l.fieldTransforms){const g=i.data.field(d.field),y=uf(d.transform,g||null);null!=y&&(null===o&&(o=fo.empty()),o.set(d.field,y))}return o||null}function k(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.precondition.isEqual(i.precondition)&&(d=i.fieldTransforms,!!(void 0===(o=l.fieldTransforms)&&void 0===d||o&&d&&Fo(o,d,(g,y)=>function hm(l,i){return l.field.isEqual(i.field)&&(d=i.transform,(o=l.transform)instanceof Ho&&d instanceof Ho||o instanceof Dc&&d instanceof Dc?Fo(o.elements,d.elements,ji):o instanceof _u&&d instanceof _u?ji(o.yt,d.yt):o instanceof _l&&d instanceof _l);var o,d}(g,y))))&&(0===l.type?l.value.isEqual(i.value):1!==l.type||l.data.isEqual(i.data)&&l.fieldMask.isEqual(i.fieldMask));var o,d}class w extends Kr{constructor(i,o,d,g=[]){super(),this.key=i,this.value=o,this.precondition=d,this.fieldTransforms=g,this.type=0}getFieldMask(){return null}}class D extends Kr{constructor(i,o,d,g,y=[]){super(),this.key=i,this.data=o,this.fieldMask=d,this.precondition=g,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function F(l){const i=new Map;return l.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const d=l.data.field(o);i.set(o,d)}}),i}function be(l,i,o){const d=new Map;Ei(l.length===o.length);for(let g=0;g<o.length;g++){const y=l[g],E=y.transform,L=i.data.field(y.field);d.set(y.field,dm(E,L,o[g]))}return d}function Je(l,i,o){const d=new Map;for(const g of l){const y=g.transform,E=o.data.field(g.field);d.set(g.field,cf(y,E,i))}return d}class Zt extends Kr{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wn extends Kr{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oi{constructor(i){this.count=i}}var ei,ti;function Tr(l){switch(l){default:return ci();case hn.CANCELLED:case hn.UNKNOWN:case hn.DEADLINE_EXCEEDED:case hn.RESOURCE_EXHAUSTED:case hn.INTERNAL:case hn.UNAVAILABLE:case hn.UNAUTHENTICATED:return!1;case hn.INVALID_ARGUMENT:case hn.NOT_FOUND:case hn.ALREADY_EXISTS:case hn.PERMISSION_DENIED:case hn.FAILED_PRECONDITION:case hn.ABORTED:case hn.OUT_OF_RANGE:case hn.UNIMPLEMENTED:case hn.DATA_LOSS:return!0}}function Wt(l){if(void 0===l)return _r("GRPC error has no .code"),hn.UNKNOWN;switch(l){case ei.OK:return hn.OK;case ei.CANCELLED:return hn.CANCELLED;case ei.UNKNOWN:return hn.UNKNOWN;case ei.DEADLINE_EXCEEDED:return hn.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return hn.RESOURCE_EXHAUSTED;case ei.INTERNAL:return hn.INTERNAL;case ei.UNAVAILABLE:return hn.UNAVAILABLE;case ei.UNAUTHENTICATED:return hn.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return hn.INVALID_ARGUMENT;case ei.NOT_FOUND:return hn.NOT_FOUND;case ei.ALREADY_EXISTS:return hn.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return hn.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return hn.FAILED_PRECONDITION;case ei.ABORTED:return hn.ABORTED;case ei.OUT_OF_RANGE:return hn.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return hn.UNIMPLEMENTED;case ei.DATA_LOSS:return hn.DATA_LOSS;default:return ci()}}(ti=ei||(ei={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class er{constructor(i,o){this.mapKeyFn=i,this.equalsFn=o,this.inner={},this.innerSize=0}get(i){const o=this.mapKeyFn(i),d=this.inner[o];if(void 0!==d)for(const[g,y]of d)if(this.equalsFn(g,i))return y}has(i){return void 0!==this.get(i)}set(i,o){const d=this.mapKeyFn(i),g=this.inner[d];if(void 0===g)return this.inner[d]=[[i,o]],void this.innerSize++;for(let y=0;y<g.length;y++)if(this.equalsFn(g[y][0],i))return void(g[y]=[i,o]);g.push([i,o]),this.innerSize++}delete(i){const o=this.mapKeyFn(i),d=this.inner[o];if(void 0===d)return!1;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],i))return 1===d.length?delete this.inner[o]:d.splice(g,1),this.innerSize--,!0;return!1}forEach(i){xa(this.inner,(o,d)=>{for(const[g,y]of d)i(g,y)})}isEmpty(){return Ip(this.inner)}size(){return this.innerSize}}const vu=new or(Yn.comparator);function Os(){return vu}const uh=new or(Yn.comparator);function yu(...l){let i=uh;for(const o of l)i=i.insert(o.key,o);return i}function Vp(l){let i=uh;return l.forEach((o,d)=>i=i.insert(o,d.overlayedDocument)),i}function ta(){return na()}function Ec(){return na()}function na(){return new er(l=>l.toString(),(l,i)=>l.isEqual(i))}const ff=new or(Yn.comparator),bu=new Ii(Yn.comparator);function Bi(...l){let i=bu;for(const o of l)i=i.add(o);return i}const Zr=new Ii(mi);function dh(){return Zr}class pf{constructor(i,o,d,g,y){this.snapshotVersion=i,this.targetChanges=o,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(i,o,d){const g=new Map;return g.set(i,ad.createSynthesizedTargetChangeForCurrentChange(i,o,d)),new pf(bi.min(),g,dh(),Os(),Bi())}}class ad{constructor(i,o,d,g,y){this.resumeToken=i,this.current=o,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(i,o,d){return new ad(d,o,Bi(),Bi(),Bi())}}class gf{constructor(i,o,d,g){this.Tt=i,this.removedTargetIds=o,this.key=d,this.Et=g}}class $_{constructor(i,o){this.targetId=i,this.At=o}}class Hy{constructor(i,o,d=qi.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=o,this.resumeToken=d,this.cause=g}}class Uy{constructor(){this.Rt=0,this.bt=zb(),this.Pt=qi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(i){i.approximateByteSize()>0&&(this.Vt=!0,this.Pt=i)}xt(){let i=Bi(),o=Bi(),d=Bi();return this.bt.forEach((g,y)=>{switch(y){case 0:i=i.add(g);break;case 2:o=o.add(g);break;case 1:d=d.add(g);break;default:ci()}}),new ad(this.Pt,this.vt,i,o,d)}Nt(){this.Vt=!1,this.bt=zb()}kt(i,o){this.Vt=!0,this.bt=this.bt.insert(i,o)}Ot(i){this.Vt=!0,this.bt=this.bt.remove(i)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class jb{constructor(i){this.Bt=i,this.Lt=new Map,this.Ut=Os(),this.qt=Gy(),this.Kt=new Ii(mi)}Gt(i){for(const o of i.Tt)i.Et&&i.Et.isFoundDocument()?this.Qt(o,i.Et):this.jt(o,i.key,i.Et);for(const o of i.removedTargetIds)this.jt(o,i.key,i.Et)}Wt(i){this.forEachTarget(i,o=>{const d=this.zt(o);switch(i.state){case 0:this.Ht(o)&&d.Ct(i.resumeToken);break;case 1:d.Ft(),d.St||d.Nt(),d.Ct(i.resumeToken);break;case 2:d.Ft(),d.St||this.removeTarget(o);break;case 3:this.Ht(o)&&(d.$t(),d.Ct(i.resumeToken));break;case 4:this.Ht(o)&&(this.Jt(o),d.Ct(i.resumeToken));break;default:ci()}})}forEachTarget(i,o){i.targetIds.length>0?i.targetIds.forEach(o):this.Lt.forEach((d,g)=>{this.Ht(g)&&o(g)})}Yt(i){const o=i.targetId,d=i.At.count,g=this.Xt(o);if(g){const y=g.target;if(du(y))if(0===d){const E=new Yn(y.path);this.jt(o,E,br.newNoDocument(E,bi.min()))}else Ei(1===d);else this.Zt(o)!==d&&(this.Jt(o),this.Kt=this.Kt.add(o))}}te(i){const o=new Map;this.Lt.forEach((y,E)=>{const L=this.Xt(E);if(L){if(y.current&&du(L.target)){const ee=new Yn(L.target.path);null!==this.Ut.get(ee)||this.ee(E,ee)||this.jt(E,ee,br.newNoDocument(ee,i))}y.Dt&&(o.set(E,y.xt()),y.Nt())}});let d=Bi();this.qt.forEach((y,E)=>{let L=!0;E.forEachWhile(ee=>{const pe=this.Xt(ee);return!pe||2===pe.purpose||(L=!1,!1)}),L&&(d=d.add(y))}),this.Ut.forEach((y,E)=>E.setReadTime(i));const g=new pf(i,o,this.Kt,this.Ut,d);return this.Ut=Os(),this.qt=Gy(),this.Kt=new Ii(mi),g}Qt(i,o){if(!this.Ht(i))return;const d=this.ee(i,o.key)?2:0;this.zt(i).kt(o.key,d),this.Ut=this.Ut.insert(o.key,o),this.qt=this.qt.insert(o.key,this.ne(o.key).add(i))}jt(i,o,d){if(!this.Ht(i))return;const g=this.zt(i);this.ee(i,o)?g.kt(o,1):g.Ot(o),this.qt=this.qt.insert(o,this.ne(o).delete(i)),d&&(this.Ut=this.Ut.insert(o,d))}removeTarget(i){this.Lt.delete(i)}Zt(i){const o=this.zt(i).xt();return this.Bt.getRemoteKeysForTarget(i).size+o.addedDocuments.size-o.removedDocuments.size}Mt(i){this.zt(i).Mt()}zt(i){let o=this.Lt.get(i);return o||(o=new Uy,this.Lt.set(i,o)),o}ne(i){let o=this.qt.get(i);return o||(o=new Ii(mi),this.qt=this.qt.insert(i,o)),o}Ht(i){const o=null!==this.Xt(i);return o||Bn("WatchChangeAggregator","Detected inactive target",i),o}Xt(i){const o=this.Lt.get(i);return o&&o.St?null:this.Bt.se(i)}Jt(i){this.Lt.set(i,new Uy),this.Bt.getRemoteKeysForTarget(i).forEach(o=>{this.jt(i,o,null)})}ee(i,o){return this.Bt.getRemoteKeysForTarget(i).has(o)}}function Gy(){return new or(Yn.comparator)}function zb(){return new or(Yn.comparator)}const sD={asc:"ASCENDING",desc:"DESCENDING"},Hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class W_{constructor(i,o){this.databaseId=i,this.gt=o}}function mf(l,i){return l.gt?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Y_(l,i){return l.gt?i.toBase64():i.toUint8Array()}function jy(l,i){return mf(l,i.toTimestamp())}function po(l){return Ei(!!l),bi.fromTimestamp(function(i){const o=Xo(i);return new Er(o.seconds,o.nanos)}(l))}function fm(l,i){return(o=l,new Gi(["projects",o.projectId,"databases",o.database])).child("documents").child(i).canonicalString();var o}function K_(l){const i=Gi.fromString(l);return Ei(Yy(i)),i}function hh(l,i){return fm(l.databaseId,i.path)}function wu(l,i){const o=K_(i);if(o.get(1)!==l.databaseId.projectId)throw new kn(hn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+l.databaseId.projectId);if(o.get(3)!==l.databaseId.database)throw new kn(hn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+l.databaseId.database);return new Yn(q_(o))}function Z_(l,i){return fm(l.databaseId,i)}function pm(l){const i=K_(l);return 4===i.length?Gi.emptyPath():q_(i)}function _f(l){return new Gi(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function q_(l){return Ei(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function ld(l,i,o){return{name:hh(l,i),fields:o.value.mapValue.fields}}function zy(l,i,o){const d=wu(l,i.name),g=po(i.updateTime),y=new fo({mapValue:{fields:i.fields}}),E=br.newFoundDocument(d,g,y);return o&&E.setHasCommittedMutations(),o?E.setHasCommittedMutations():E}function Up(l,i){let o;if(i instanceof w)o={update:ld(l,i.key,i.value)};else if(i instanceof Zt)o={delete:hh(l,i.key)};else if(i instanceof D)o={update:ld(l,i.key,i.data),updateMask:X_(i.fieldMask)};else{if(!(i instanceof wn))return ci();o={verify:hh(l,i.key)}}return i.fieldTransforms.length>0&&(o.updateTransforms=i.fieldTransforms.map(d=>function(g,y){const E=y.transform;if(E instanceof _l)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Ho)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Dc)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof _u)return{fieldPath:y.field.canonicalString(),increment:E.yt};throw ci()}(0,d))),i.precondition.isNone||(o.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:jy(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:ci()),o;var g}function Gp(l,i){const o=i.currentDocument?void 0!==(g=i.currentDocument).updateTime?Yr.updateTime(po(g.updateTime)):void 0!==g.exists?Yr.exists(g.exists):Yr.none():Yr.none(),d=i.updateTransforms?i.updateTransforms.map(g=>function(y,E){let L=null;"setToServerValue"in E?(Ei("REQUEST_TIME"===E.setToServerValue),L=new _l):"appendMissingElements"in E?L=new Ho(E.appendMissingElements.values||[]):"removeAllFromArray"in E?L=new Dc(E.removeAllFromArray.values||[]):"increment"in E?L=new _u(y,E.increment):ci();const ee=vr.fromServerFormat(E.fieldPath);return new Aa(ee,L)}(l,g)):[];var g;if(i.update){const g=wu(l,i.update.name),y=new fo({mapValue:{fields:i.update.fields}});if(i.updateMask){const E=new So((i.updateMask.fieldPaths||[]).map(pe=>vr.fromServerFormat(pe)));return new D(g,y,E,o,d)}return new w(g,y,o,d)}if(i.delete){const g=wu(l,i.delete);return new Zt(g,o)}if(i.verify){const g=wu(l,i.verify);return new wn(g,o)}return ci()}function cd(l,i){return{documents:[Z_(l,i.path)]}}function _m(l,i){const o={structuredQuery:{}},d=i.path;null!==i.collectionGroup?(o.parent=Z_(l,d),o.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o.parent=Z_(l,d.popLast()),o.structuredQuery.from=[{collectionId:d.lastSegment()}]);const g=function(ee){if(0===ee.length)return;const pe=ee.map(et=>function(At){if("=="===At.op){if(tf(At.value))return{unaryFilter:{field:yf(At.field),op:"IS_NAN"}};if(uu(At.value))return{unaryFilter:{field:yf(At.field),op:"IS_NULL"}}}else if("!="===At.op){if(tf(At.value))return{unaryFilter:{field:yf(At.field),op:"IS_NOT_NAN"}};if(uu(At.value))return{unaryFilter:{field:yf(At.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yf(At.field),op:vf(At.op),value:At.value}}}(et));return 1===pe.length?pe[0]:{compositeFilter:{op:"AND",filters:pe}}}(i.filters);g&&(o.structuredQuery.where=g);const y=function(ee){if(0!==ee.length)return ee.map(pe=>{return{field:yf((et=pe).field),direction:Wy(et.dir)};var et})}(i.orderBy);y&&(o.structuredQuery.orderBy=y);const E=(pe=i.limit,l.gt||ft(pe)?pe:{value:pe});var pe,L,ee;return null!==E&&(o.structuredQuery.limit=E),i.startAt&&(o.structuredQuery.startAt={before:(L=i.startAt).inclusive,values:L.position}),i.endAt&&(o.structuredQuery.endAt={before:!(ee=i.endAt).inclusive,values:ee.position}),o}function vm(l){let i=pm(l.parent);const o=l.structuredQuery,d=o.from?o.from.length:0;let g=null;if(d>0){Ei(1===d);const et=o.from[0];et.allDescendants?g=et.collectionId:i=i.child(et.collectionId)}let y=[];o.where&&(y=$y(o.where));let E=[];o.orderBy&&(E=o.orderBy.map(et=>{return new fu(bf((At=et).field),function(rn){switch(rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(At.direction));var At}));let L=null;o.limit&&(L=function(et){let At;return At="object"==typeof et?et.value:et,ft(At)?null:At}(o.limit));let ee=null;var et;o.startAt&&(ee=new Bo((et=o.startAt).values||[],!!et.before));let pe=null;return o.endAt&&(pe=function(et){return new Bo(et.values||[],!et.before)}(o.endAt)),rf(i,g,E,y,L,"F",ee,pe)}function $y(l){return l?void 0!==l.unaryFilter?[Yb(l)]:void 0!==l.fieldFilter?[Wb(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(i=>$y(i)).reduce((i,o)=>i.concat(o)):ci():[]}function Wy(l){return sD[l]}function vf(l){return Hp[l]}function yf(l){return{fieldPath:l.canonicalString()}}function bf(l){return vr.fromServerFormat(l.fieldPath)}function Wb(l){return Wr.create(bf(l.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ci()}}(l.fieldFilter.op),l.fieldFilter.value)}function Yb(l){switch(l.unaryFilter.op){case"IS_NAN":const i=bf(l.unaryFilter.field);return Wr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=bf(l.unaryFilter.field);return Wr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=bf(l.unaryFilter.field);return Wr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=bf(l.unaryFilter.field);return Wr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ci()}}function X_(l){const i=[];return l.fields.forEach(o=>i.push(o.canonicalString())),{fieldPaths:i}}function Yy(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}function ia(l){let i="";for(let o=0;o<l.length;o++)i.length>0&&(i=J_(i)),i=Kb(l.get(o),i);return J_(i)}function Kb(l,i){let o=i;const d=l.length;for(let g=0;g<d;g++){const y=l.charAt(g);switch(y){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=y}}return o}function J_(l){return l+"\x01\x01"}function Cu(l){const i=l.length;if(Ei(i>=2),2===i)return Ei("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Gi.emptyPath();const o=i-2,d=[];let g="";for(let y=0;y<i;){const E=l.indexOf("\x01",y);switch((E<0||E>o)&&ci(),l.charAt(E+1)){case"\x01":const L=l.substring(y,E);let ee;0===g.length?ee=L:(g+=L,ee=g,g=""),d.push(ee);break;case"\x10":g+=l.substring(y,E),g+="\0";break;case"\x11":g+=l.substring(y,E+1);break;default:ci()}y=E+2}return new Gi(d)}const Ky=["userId","batchId"];function ud(l,i){return[l,ia(i)]}function Zy(l,i,o){return[l,ia(i),o]}const wf={},jp=["prefixPath","collectionGroup","readTime","documentId"],Zb=["prefixPath","collectionGroup","documentId"],oD=["collectionGroup","readTime","prefixPath","documentId"],qy=["canonicalId","targetId"],qb=["targetId","path"],Cf=["path","targetId"],ev=["collectionId","parent"],tv=["indexId","uid"],Qy=["uid","sequenceNumber"],zp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xy=["indexId","uid","orderedDocumentKey"],Qb=["userId","collectionPath","documentId"],ym=["userId","collectionPath","largestBatchId"],aD=["userId","collectionGroup","largestBatchId"],Xb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nv=[...Xb,"documentOverlays"],Jy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jb=Jy,iv=[...Jb,"indexConfiguration","indexState","indexEntries"];class rv extends cu{constructor(i,o){super(),this.ie=i,this.currentSequenceNumber=o}}function Ao(l,i){const o=Kn(l);return jr.M(o.ie,i)}class bm{constructor(i,o,d,g){this.batchId=i,this.localWriteTime=o,this.baseMutations=d,this.mutations=g}applyToRemoteDocument(i,o){const d=o.mutationResults;for(let g=0;g<this.mutations.length;g++){const y=this.mutations[g];y.key.isEqual(i.key)&&fi(y,i,d[g])}}applyToLocalView(i,o){for(const d of this.baseMutations)d.key.isEqual(i.key)&&(o=Ia(d,i,o,this.localWriteTime));for(const d of this.mutations)d.key.isEqual(i.key)&&(o=Ia(d,i,o,this.localWriteTime));return o}applyToLocalDocumentSet(i,o){const d=Ec();return this.mutations.forEach(g=>{const y=i.get(g.key),E=y.overlayedDocument;let L=this.applyToLocalView(E,y.mutatedFields);L=o.has(g.key)?null:L;const ee=lh(E,L);null!==ee&&d.set(g.key,ee),E.isValidDocument()||E.convertToNoDocument(bi.min())}),d}keys(){return this.mutations.reduce((i,o)=>i.add(o.key),Bi())}isEqual(i){return this.batchId===i.batchId&&Fo(this.mutations,i.mutations,(o,d)=>k(o,d))&&Fo(this.baseMutations,i.baseMutations,(o,d)=>k(o,d))}}class $p{constructor(i,o,d,g){this.batch=i,this.commitVersion=o,this.mutationResults=d,this.docVersions=g}static from(i,o,d){Ei(i.mutations.length===d.length);let g=ff;const y=i.mutations;for(let E=0;E<y.length;E++)g=g.insert(y[E].key,d[E].version);return new $p(i,o,d,g)}}class Df{constructor(i,o){this.largestBatchId=i,this.mutation=o}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yl{constructor(i,o,d,g,y=bi.min(),E=bi.min(),L=qi.EMPTY_BYTE_STRING){this.target=i,this.targetId=o,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=L}withSequenceNumber(i){return new Yl(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,o){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class wm{constructor(i){this.re=i}}function Yp(l,i){const o=i.key,d={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Kp(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())d.document={name:hh(g=l.re,(y=i).key),fields:y.data.value.mapValue.fields,updateTime:mf(g,y.version.toTimestamp())};else if(i.isNoDocument())d.noDocument={path:o.path.toArray(),readTime:Ma(i.version)};else{if(!i.isUnknownDocument())return ci();d.unknownDocument={path:o.path.toArray(),version:Ma(i.version)}}var g,y;return d}function Kp(l){const i=l.toTimestamp();return[i.seconds,i.nanoseconds]}function Ma(l){const i=l.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function Za(l){const i=new Er(l.seconds,l.nanoseconds);return bi.fromTimestamp(i)}function dd(l,i){const o=(i.baseMutations||[]).map(y=>Gp(l.re,y));for(let y=0;y<i.mutations.length-1;++y){const E=i.mutations[y];y+1<i.mutations.length&&void 0!==i.mutations[y+1].transform&&(E.updateTransforms=i.mutations[y+1].transform.fieldTransforms,i.mutations.splice(y+1,1),++y)}const d=i.mutations.map(y=>Gp(l.re,y)),g=Er.fromMillis(i.localWriteTimeMs);return new bm(i.batchId,g,o,d)}function Ef(l){const i=Za(l.readTime),o=void 0!==l.lastLimboFreeSnapshotVersion?Za(l.lastLimboFreeSnapshotVersion):bi.min();let d;var g;return void 0!==l.query.documents?(Ei(1===(g=l.query).documents.length),d=Vo(wc(pm(g.documents[0])))):d=Vo(vm(l.query)),new Yl(d,l.targetId,0,l.lastListenSequenceNumber,i,o,qi.fromBase64String(l.resumeToken))}function sv(l,i){const o=Ma(i.snapshotVersion),d=Ma(i.lastLimboFreeSnapshotVersion);let g;g=du(i.target)?cd(l.re,i.target):_m(l.re,i.target);const y=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:ea(i.target),readTime:o,resumeToken:y,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:d,query:g}}function Zp(l){const i=vm({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?sd(i,i.limit,"L"):i}function Tf(l,i){return new Df(i.largestBatchId,Gp(l.re,i.overlayMutation))}function ov(l,i){const o=i.path.lastSegment();return[l,ia(i.path.popLast()),o]}function av(l,i,o,d){return{indexId:l,uid:i.uid||"",sequenceNumber:o,readTime:Ma(d.readTime),documentKey:ia(d.documentKey.path),largestBatchId:d.largestBatchId}}class lv{getBundleMetadata(i,o){return fh(i).get(o).next(d=>{if(d)return{id:(g=d).bundleId,createTime:Za(g.createTime),version:g.version};var g})}saveBundleMetadata(i,o){return fh(i).put({bundleId:(d=o).id,createTime:Ma(po(d.createTime)),version:d.version});var d}getNamedQuery(i,o){return cv(i).get(o).next(d=>{if(d)return{name:(g=d).name,query:Zp(g.bundledQuery),readTime:Za(g.readTime)};var g})}saveNamedQuery(i,o){return cv(i).put({name:(d=o).name,readTime:Ma(po(d.readTime)),bundledQuery:d.bundledQuery});var d}}function fh(l){return Ao(l,"bundles")}function cv(l){return Ao(l,"namedQueries")}class qp{constructor(i,o){this.It=i,this.userId=o}static oe(i,o){return new qp(i,o.uid||"")}getOverlay(i,o){return xf(i).get(ov(this.userId,o)).next(d=>d?Tf(this.It,d):null)}getOverlays(i,o){const d=ta();return on.forEach(o,g=>this.getOverlay(i,g).next(y=>{null!==y&&d.set(g,y)})).next(()=>d)}saveOverlays(i,o,d){const g=[];return d.forEach((y,E)=>{const L=new Df(o,E);g.push(this.ue(i,L))}),on.waitFor(g)}removeOverlaysForBatchId(i,o,d){const g=new Set;o.forEach(E=>g.add(ia(E.getCollectionPath())));const y=[];return g.forEach(E=>{const L=IDBKeyRange.bound([this.userId,E,d],[this.userId,E,d+1],!1,!0);y.push(xf(i).Y("collectionPathOverlayIndex",L))}),on.waitFor(y)}getOverlaysForCollection(i,o,d){const g=ta(),y=ia(o),E=IDBKeyRange.bound([this.userId,y,d],[this.userId,y,Number.POSITIVE_INFINITY],!0);return xf(i).W("collectionPathOverlayIndex",E).next(L=>{for(const ee of L){const pe=Tf(this.It,ee);g.set(pe.getKey(),pe)}return g})}getOverlaysForCollectionGroup(i,o,d,g){const y=ta();let E;const L=IDBKeyRange.bound([this.userId,o,d],[this.userId,o,Number.POSITIVE_INFINITY],!0);return xf(i).Z({index:"collectionGroupOverlayIndex",range:L},(ee,pe,et)=>{const At=Tf(this.It,pe);y.size()<g||At.largestBatchId===E?(y.set(At.getKey(),At),E=At.largestBatchId):et.done()}).next(()=>y)}ue(i,o){return xf(i).put(function(d,g,y){const[E,L,ee]=ov(g,y.mutation.key);return{userId:g,collectionPath:L,documentId:ee,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Up(d.re,y.mutation)}}(this.It,this.userId,o))}}function xf(l){return Ao(l,"documentOverlays")}class Du{constructor(){}ce(i,o){this.ae(i,o),o.he()}ae(i,o){if("nullValue"in i)this.le(o,5);else if("booleanValue"in i)this.le(o,10),o.fe(i.booleanValue?1:0);else if("integerValue"in i)this.le(o,15),o.fe(yr(i.integerValue));else if("doubleValue"in i){const d=yr(i.doubleValue);isNaN(d)?this.le(o,13):(this.le(o,15),Ct(d)?o.fe(0):o.fe(d))}else if("timestampValue"in i){const d=i.timestampValue;this.le(o,20),"string"==typeof d?o.de(d):(o.de(`${d.seconds||""}`),o.fe(d.nanos||0))}else if("stringValue"in i)this._e(i.stringValue,o),this.we(o);else if("bytesValue"in i)this.le(o,30),o.me(M(i.bytesValue)),this.we(o);else if("referenceValue"in i)this.ge(i.referenceValue,o);else if("geoPointValue"in i){const d=i.geoPointValue;this.le(o,45),o.fe(d.latitude||0),o.fe(d.longitude||0)}else"mapValue"in i?Xd(i)?this.le(o,Number.MAX_SAFE_INTEGER):(this.ye(i.mapValue,o),this.we(o)):"arrayValue"in i?(this.pe(i.arrayValue,o),this.we(o)):ci()}_e(i,o){this.le(o,25),this.Ie(i,o)}Ie(i,o){o.de(i)}ye(i,o){const d=i.fields||{};this.le(o,55);for(const g of Object.keys(d))this._e(g,o),this.ae(d[g],o)}pe(i,o){const d=i.values||[];this.le(o,50);for(const g of d)this.ae(g,o)}ge(i,o){this.le(o,37),Yn.fromName(i).path.forEach(d=>{this.le(o,60),this.Ie(d,o)})}le(i,o){i.fe(o)}we(i){i.fe(2)}}function e0(l){if(0===l)return 8;let i=0;return l>>4==0&&(i+=4,l<<=4),l>>6==0&&(i+=2,l<<=2),l>>7==0&&(i+=1),i}function uv(l){const i=64-function(o){let d=0;for(let g=0;g<8;++g){const y=e0(255&o[g]);if(d+=y,8!==y)break}return d}(l);return Math.ceil(i/8)}Du.Te=new Du;class gs{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(i){const o=i[Symbol.iterator]();let d=o.next();for(;!d.done;)this.Ae(d.value),d=o.next();this.Re()}be(i){const o=i[Symbol.iterator]();let d=o.next();for(;!d.done;)this.Pe(d.value),d=o.next();this.ve()}Ve(i){for(const o of i){const d=o.charCodeAt(0);if(d<128)this.Ae(d);else if(d<2048)this.Ae(960|d>>>6),this.Ae(128|63&d);else if(o<"\ud800"||"\udbff"<o)this.Ae(480|d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d);else{const g=o.codePointAt(0);this.Ae(240|g>>>18),this.Ae(128|63&g>>>12),this.Ae(128|63&g>>>6),this.Ae(128|63&g)}}this.Re()}Se(i){for(const o of i){const d=o.charCodeAt(0);if(d<128)this.Pe(d);else if(d<2048)this.Pe(960|d>>>6),this.Pe(128|63&d);else if(o<"\ud800"||"\udbff"<o)this.Pe(480|d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d);else{const g=o.codePointAt(0);this.Pe(240|g>>>18),this.Pe(128|63&g>>>12),this.Pe(128|63&g>>>6),this.Pe(128|63&g)}}this.ve()}De(i){const o=this.Ce(i),d=uv(o);this.xe(1+d),this.buffer[this.position++]=255&d;for(let g=o.length-d;g<o.length;++g)this.buffer[this.position++]=255&o[g]}Ne(i){const o=this.Ce(i),d=uv(o);this.xe(1+d),this.buffer[this.position++]=~(255&d);for(let g=o.length-d;g<o.length;++g)this.buffer[this.position++]=~(255&o[g])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(i){this.xe(i.length),this.buffer.set(i,this.position),this.position+=i.length}$e(){return this.buffer.slice(0,this.position)}Ce(i){const o=function(g){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,g,!1),new Uint8Array(y.buffer)}(i),d=0!=(128&o[0]);o[0]^=d?255:128;for(let g=1;g<o.length;++g)o[g]^=d?255:0;return o}Ae(i){const o=255&i;0===o?(this.Oe(0),this.Oe(255)):255===o?(this.Oe(255),this.Oe(0)):this.Oe(o)}Pe(i){const o=255&i;0===o?(this.Fe(0),this.Fe(255)):255===o?(this.Fe(255),this.Fe(0)):this.Fe(i)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(i){this.xe(1),this.buffer[this.position++]=i}Fe(i){this.xe(1),this.buffer[this.position++]=~i}xe(i){const o=i+this.position;if(o<=this.buffer.length)return;let d=2*this.buffer.length;d<o&&(d=o);const g=new Uint8Array(d);g.set(this.buffer),this.buffer=g}}class Qp{constructor(i){this.Be=i}me(i){this.Be.Ee(i)}de(i){this.Be.Ve(i)}fe(i){this.Be.De(i)}he(){this.Be.ke()}}class Cm{constructor(i){this.Be=i}me(i){this.Be.be(i)}de(i){this.Be.Se(i)}fe(i){this.Be.Ne(i)}he(){this.Be.Me()}}class Tc{constructor(){this.Be=new gs,this.Le=new Qp(this.Be),this.Ue=new Cm(this.Be)}seed(i){this.Be.seed(i)}qe(i){return 0===i?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ms{constructor(i,o,d,g){this.indexId=i,this.documentKey=o,this.arrayValue=d,this.directionalValue=g}Ke(){const i=this.directionalValue.length,o=0===i||255===this.directionalValue[i-1]?i+1:i,d=new Uint8Array(o);return d.set(this.directionalValue,0),o!==i?d.set([0],this.directionalValue.length):++d[d.length-1],new ms(this.indexId,this.documentKey,this.arrayValue,d)}}function yl(l,i){let o=l.indexId-i.indexId;return 0!==o?o:(o=Dm(l.arrayValue,i.arrayValue),0!==o?o:(o=Dm(l.directionalValue,i.directionalValue),0!==o?o:Yn.comparator(l.documentKey,i.documentKey)))}function Dm(l,i){for(let o=0;o<l.length&&o<i.length;++o){const d=l[o]-i[o];if(0!==d)return d}return l.length-i.length}class dv{constructor(i){this.collectionId=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment(),this.Ge=i.orderBy,this.Qe=[];for(const o of i.filters){const d=o;d.dt()?this.je=d:this.Qe.push(d)}}We(i){const o=Gr(i);if(void 0!==o&&!this.ze(o))return!1;const d=ma(i);let g=0,y=0;for(;g<d.length&&this.ze(d[g]);++g);if(g===d.length)return!0;if(void 0!==this.je){const E=d[g];if(!this.He(this.je,E)||!this.Je(this.Ge[y++],E))return!1;++g}for(;g<d.length;++g){const E=d[g];if(y>=this.Ge.length||!this.Je(this.Ge[y++],E))return!1}return!0}ze(i){for(const o of this.Qe)if(this.He(o,i))return!0;return!1}He(i,o){return!(void 0===i||!i.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===i.op||"array-contains-any"===i.op)}Je(i,o){return!!i.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===i.dir||1===o.kind&&"desc"===i.dir)}}class hd{constructor(){this.Ye=new ph}addToCollectionParentIndex(i,o){return this.Ye.add(o),on.resolve()}getCollectionParents(i,o){return on.resolve(this.Ye.getEntries(o))}addFieldIndex(i,o){return on.resolve()}deleteFieldIndex(i,o){return on.resolve()}getDocumentsMatchingTarget(i,o){return on.resolve(null)}getIndexType(i,o){return on.resolve(0)}getFieldIndexes(i,o){return on.resolve([])}getNextCollectionGroupToUpdate(i){return on.resolve(null)}getMinOffset(i,o){return on.resolve(To.min())}getMinOffsetFromCollectionGroup(i,o){return on.resolve(To.min())}updateCollectionGroup(i,o,d){return on.resolve()}updateIndexEntries(i,o){return on.resolve()}}class ph{constructor(){this.index={}}add(i){const o=i.lastSegment(),d=i.popLast(),g=this.index[o]||new Ii(Gi.comparator),y=!g.has(d);return this.index[o]=g.add(d),y}has(i){const o=i.lastSegment(),d=i.popLast(),g=this.index[o];return g&&g.has(d)}getEntries(i){return(this.index[i]||new Ii(Gi.comparator)).toArray()}}const xc=new Uint8Array(0);class Em{constructor(i,o){this.user=i,this.databaseId=o,this.Xe=new ph,this.Ze=new er(d=>ea(d),(d,g)=>td(d,g)),this.uid=i.uid||""}addToCollectionParentIndex(i,o){if(!this.Xe.has(o)){const d=o.lastSegment(),g=o.popLast();i.addOnCommittedListener(()=>{this.Xe.add(o)});const y={collectionId:d,parent:ia(g)};return Tm(i).put(y)}return on.resolve()}getCollectionParents(i,o){const d=[],g=IDBKeyRange.bound([o,""],[pa(o),""],!1,!0);return Tm(i).W(g).next(y=>{for(const E of y){if(E.collectionId!==o)break;d.push(Cu(E.parent))}return d})}addFieldIndex(i,o){const d=Zl(i),g={indexId:(E=o).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var E;delete g.indexId;const y=d.add(g);if(o.indexState){const E=gh(i);return y.next(L=>{E.put(av(L,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return y.next()}deleteFieldIndex(i,o){const d=Zl(i),g=gh(i),y=Kl(i);return d.delete(o.indexId).next(()=>g.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(i,o){const d=Kl(i);let g=!0;const y=new Map;return on.forEach(this.tn(o),E=>this.en(i,E).next(L=>{g&&(g=!!L),y.set(E,L)})).next(()=>{if(g){let E=Bi();const L=[];return on.forEach(y,(ee,pe)=>{var et;Bn("IndexedDbIndexManager",`Using index ${et=ee,`id=${et.indexId}|cg=${et.collectionGroup}|f=${et.fields.map(ar=>`${ar.fieldPath}:${ar.kind}`).join(",")}`} to execute ${ea(o)}`);const At=function(ar,no){const gr=Gr(no);if(void 0===gr)return null;for(const Sr of nd(ar,gr.fieldPath))switch(Sr.op){case"array-contains-any":return Sr.value.arrayValue.values||[];case"array-contains":return[Sr.value]}return null}(pe,ee),rn=function(ar,no){const gr=new Map;for(const Sr of ma(no))for(const _o of nd(ar,Sr.fieldPath))switch(_o.op){case"==":case"in":gr.set(Sr.fieldPath.canonicalString(),_o.value);break;case"not-in":case"!=":return gr.set(Sr.fieldPath.canonicalString(),_o.value),Array.from(gr.values())}return null}(pe,ee),Cn=function(ar,no){const gr=[];let Sr=!0;for(const _o of ma(no)){const zh=0===_o.kind?$l(ar,_o.fieldPath,ar.startAt):id(ar,_o.fieldPath,ar.startAt);gr.push(zh.value),Sr&&(Sr=zh.inclusive)}return new Bo(gr,Sr)}(pe,ee),Mn=function(ar,no){const gr=[];let Sr=!0;for(const _o of ma(no)){const zh=0===_o.kind?id(ar,_o.fieldPath,ar.endAt):$l(ar,_o.fieldPath,ar.endAt);gr.push(zh.value),Sr&&(Sr=zh.inclusive)}return new Bo(gr,Sr)}(pe,ee),Xn=this.nn(ee,pe,Cn),ai=this.nn(ee,pe,Mn),pr=this.sn(ee,pe,rn),Or=this.rn(ee.indexId,At,Xn,Cn.inclusive,ai,Mn.inclusive,pr);return on.forEach(Or,ar=>d.J(ar,o.limit).next(no=>{no.forEach(gr=>{const Sr=Yn.fromSegments(gr.documentKey);E.has(Sr)||(E=E.add(Sr),L.push(Sr))})}))}).next(()=>L)}return on.resolve(null)})}tn(i){let o=this.Ze.get(i);return o||(o=[i],this.Ze.set(i,o),o)}rn(i,o,d,g,y,E,L){const ee=(null!=o?o.length:1)*Math.max(d.length,y.length),pe=ee/(null!=o?o.length:1),et=[];for(let At=0;At<ee;++At){const rn=o?this.on(o[At/pe]):xc,Cn=this.un(i,rn,d[At%pe],g),Mn=this.cn(i,rn,y[At%pe],E),Xn=L.map(ai=>this.un(i,rn,ai,!0));et.push(...this.createRange(Cn,Mn,Xn))}return et}un(i,o,d,g){const y=new ms(i,Yn.empty(),o,d);return g?y:y.Ke()}cn(i,o,d,g){const y=new ms(i,Yn.empty(),o,d);return g?y.Ke():y}en(i,o){const d=new dv(o),g=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(i,g).next(y=>{let E=null;for(const L of y)d.We(L)&&(!E||L.fields.length>E.fields.length)&&(E=L);return E})}getIndexType(i,o){let d=2;return on.forEach(this.tn(o),g=>this.en(i,g).next(y=>{y?0!==d&&y.fields.length<function(E){let L=new Ii(vr.comparator),ee=!1;for(const pe of E.filters){const et=pe;et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?ee=!0:L=L.add(et.field))}for(const pe of E.orderBy)pe.field.isKeyField()||(L=L.add(pe.field));return L.size+(ee?1:0)}(g)&&(d=1):d=0})).next(()=>d)}an(i,o){const d=new Tc;for(const g of ma(i)){const y=o.data.field(g.fieldPath);if(null==y)return null;const E=d.qe(g.kind);Du.Te.ce(y,E)}return d.$e()}on(i){const o=new Tc;return Du.Te.ce(i,o.qe(0)),o.$e()}hn(i,o){const d=new Tc;return Du.Te.ce(Qs(this.databaseId,o),d.qe(function(g){const y=ma(g);return 0===y.length?0:y[y.length-1].kind}(i))),d.$e()}sn(i,o,d){if(null===d)return[];let g=[];g.push(new Tc);let y=0;for(const E of ma(i)){const L=d[y++];for(const ee of g)if(this.ln(o,E.fieldPath)&&jl(L))g=this.fn(g,E,L);else{const pe=ee.qe(E.kind);Du.Te.ce(L,pe)}}return this.dn(g)}nn(i,o,d){return this.sn(i,o,d.position)}dn(i){const o=[];for(let d=0;d<i.length;++d)o[d]=i[d].$e();return o}fn(i,o,d){const g=[...i],y=[];for(const E of d.arrayValue.values||[])for(const L of g){const ee=new Tc;ee.seed(L.$e()),Du.Te.ce(E,ee.qe(o.kind)),y.push(ee)}return y}ln(i,o){return!!i.filters.find(d=>d instanceof Wr&&d.field.isEqual(o)&&("in"===d.op||"not-in"===d.op))}getFieldIndexes(i,o){const d=Zl(i),g=gh(i);return(o?d.W("collectionGroupIndex",IDBKeyRange.bound(o,o)):d.W()).next(y=>{const E=[];return on.forEach(y,L=>g.get([L.indexId,this.uid]).next(ee=>{E.push(function(pe,et){const At=et?new Wa(et.sequenceNumber,new To(Za(et.readTime),new Yn(Cu(et.documentKey)),et.largestBatchId)):Wa.empty(),rn=pe.fields.map(([Cn,Mn])=>new ps(vr.fromServerFormat(Cn),Mn));return new ga(pe.indexId,pe.collectionGroup,rn,At)}(L,ee))})).next(()=>E)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(o=>0===o.length?null:(o.sort((d,g)=>{const y=d.indexState.sequenceNumber-g.indexState.sequenceNumber;return 0!==y?y:mi(d.collectionGroup,g.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(i,o,d){const g=Zl(i),y=gh(i);return this._n(i).next(E=>g.W("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(L=>on.forEach(L,ee=>y.put(av(ee.indexId,this.user,E,d)))))}updateIndexEntries(i,o){const d=new Map;return on.forEach(o,(g,y)=>{const E=d.get(g.collectionGroup);return(E?on.resolve(E):this.getFieldIndexes(i,g.collectionGroup)).next(L=>(d.set(g.collectionGroup,L),on.forEach(L,ee=>this.wn(i,g,ee).next(pe=>{const et=this.mn(y,ee);return pe.isEqual(et)?on.resolve():this.gn(i,y,ee,pe,et)}))))})}yn(i,o,d,g){return Kl(i).put({indexId:g.indexId,uid:this.uid,arrayValue:g.arrayValue,directionalValue:g.directionalValue,orderedDocumentKey:this.hn(d,o.key),documentKey:o.key.path.toArray()})}pn(i,o,d,g){return Kl(i).delete([g.indexId,this.uid,g.arrayValue,g.directionalValue,this.hn(d,o.key),o.key.path.toArray()])}wn(i,o,d){const g=Kl(i);let y=new Ii(yl);return g.Z({index:"documentKeyIndex",range:IDBKeyRange.only([d.indexId,this.uid,this.hn(d,o)])},(E,L)=>{y=y.add(new ms(d.indexId,o,L.arrayValue,L.directionalValue))}).next(()=>y)}mn(i,o){let d=new Ii(yl);const g=this.an(o,i);if(null==g)return d;const y=Gr(o);if(null!=y){const E=i.data.field(y.fieldPath);if(jl(E))for(const L of E.arrayValue.values||[])d=d.add(new ms(o.indexId,i.key,this.on(L),g))}else d=d.add(new ms(o.indexId,i.key,xc,g));return d}gn(i,o,d,g,y){Bn("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const E=[];return function(L,ee,pe,et,At){const rn=L.getIterator(),Cn=ee.getIterator();let Mn=Sa(rn),Xn=Sa(Cn);for(;Mn||Xn;){let ai=!1,pr=!1;if(Mn&&Xn){const Or=pe(Mn,Xn);Or<0?pr=!0:Or>0&&(ai=!0)}else null!=Mn?pr=!0:ai=!0;ai?(et(Xn),Xn=Sa(Cn)):pr?(At(Mn),Mn=Sa(rn)):(Mn=Sa(rn),Xn=Sa(Cn))}}(g,y,yl,L=>{E.push(this.yn(i,o,d,L))},L=>{E.push(this.pn(i,o,d,L))}),on.waitFor(E)}_n(i){let o=1;return gh(i).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(d,g,y)=>{y.done(),o=g.sequenceNumber+1}).next(()=>o)}createRange(i,o,d){d=d.sort((E,L)=>yl(E,L)).filter((E,L,ee)=>!L||0!==yl(E,ee[L-1]));const g=[];g.push(i);for(const E of d){const L=yl(E,i),ee=yl(E,o);if(0===L)g[0]=i.Ke();else if(L>0&&ee<0)g.push(E),g.push(E.Ke());else if(ee>0)break}g.push(o);const y=[];for(let E=0;E<g.length;E+=2)y.push(IDBKeyRange.bound([g[E].indexId,this.uid,g[E].arrayValue,g[E].directionalValue,xc,[]],[g[E+1].indexId,this.uid,g[E+1].arrayValue,g[E+1].directionalValue,xc,[]]));return y}getMinOffsetFromCollectionGroup(i,o){return this.getFieldIndexes(i,o).next(xm)}getMinOffset(i,o){return on.mapArray(this.tn(o),d=>this.en(i,d).next(g=>g||ci())).next(xm)}}function Tm(l){return Ao(l,"collectionParents")}function Kl(l){return Ao(l,"indexEntries")}function Zl(l){return Ao(l,"indexConfiguration")}function gh(l){return Ao(l,"indexState")}function xm(l){Ei(0!==l.length);let i=l[0].indexState.offset,o=i.largestBatchId;for(let d=1;d<l.length;d++){const g=l[d].indexState.offset;fc(g,i)<0&&(i=g),o<g.largestBatchId&&(o=g.largestBatchId)}return new To(i.readTime,i.documentKey,o)}const Xs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class go{constructor(i,o,d){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=d}static withCacheSize(i){return new go(i,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sc(l,i,o){const d=l.store("mutations"),g=l.store("documentMutations"),y=[],E=IDBKeyRange.only(o.batchId);let L=0;const ee=d.Z({range:E},(et,At,rn)=>(L++,rn.delete()));y.push(ee.next(()=>{Ei(1===L)}));const pe=[];for(const et of o.mutations){const At=Zy(i,et.key.path,o.batchId);y.push(g.delete(At)),pe.push(et.key)}return on.waitFor(y).next(()=>pe)}function ks(l){if(!l)return 0;let i;if(l.document)i=l.document;else if(l.unknownDocument)i=l.unknownDocument;else{if(!l.noDocument)throw ci();i=l.noDocument}return JSON.stringify(i).length}go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);class Js{constructor(i,o,d,g){this.userId=i,this.It=o,this.indexManager=d,this.referenceDelegate=g,this.In={}}static oe(i,o,d,g){Ei(""!==i.uid);const y=i.isAuthenticated()?i.uid:"";return new Js(y,o,d,g)}checkEmpty(i){let o=!0;const d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ql(i).Z({index:"userMutationsIndex",range:d},(g,y,E)=>{o=!1,E.done()}).next(()=>o)}addMutationBatch(i,o,d,g){const y=Sf(i),E=ql(i);return E.add({}).next(L=>{Ei("number"==typeof L);const ee=new bm(L,o,d,g),pe=function(rn,Cn,Mn){const Xn=Mn.baseMutations.map(pr=>Up(rn.re,pr)),ai=Mn.mutations.map(pr=>Up(rn.re,pr));return{userId:Cn,batchId:Mn.batchId,localWriteTimeMs:Mn.localWriteTime.toMillis(),baseMutations:Xn,mutations:ai}}(this.It,this.userId,ee),et=[];let At=new Ii((rn,Cn)=>mi(rn.canonicalString(),Cn.canonicalString()));for(const rn of g){const Cn=Zy(this.userId,rn.key.path,L);At=At.add(rn.key.path.popLast()),et.push(E.put(pe)),et.push(y.put(Cn,wf))}return At.forEach(rn=>{et.push(this.indexManager.addToCollectionParentIndex(i,rn))}),i.addOnCommittedListener(()=>{this.In[L]=ee.keys()}),on.waitFor(et).next(()=>ee)})}lookupMutationBatch(i,o){return ql(i).get(o).next(d=>d?(Ei(d.userId===this.userId),dd(this.It,d)):null)}Tn(i,o){return this.In[o]?on.resolve(this.In[o]):this.lookupMutationBatch(i,o).next(d=>{if(d){const g=d.keys();return this.In[o]=g,g}return null})}getNextMutationBatchAfterBatchId(i,o){const d=o+1,g=IDBKeyRange.lowerBound([this.userId,d]);let y=null;return ql(i).Z({index:"userMutationsIndex",range:g},(E,L,ee)=>{L.userId===this.userId&&(Ei(L.batchId>=d),y=dd(this.It,L)),ee.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(i){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let d=-1;return ql(i).Z({index:"userMutationsIndex",range:o,reverse:!0},(g,y,E)=>{d=y.batchId,E.done()}).next(()=>d)}getAllMutationBatches(i){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ql(i).W("userMutationsIndex",o).next(d=>d.map(g=>dd(this.It,g)))}getAllMutationBatchesAffectingDocumentKey(i,o){const d=ud(this.userId,o.path),g=IDBKeyRange.lowerBound(d),y=[];return Sf(i).Z({range:g},(E,L,ee)=>{const[pe,et,At]=E,rn=Cu(et);if(pe===this.userId&&o.path.isEqual(rn))return ql(i).get(At).next(Cn=>{if(!Cn)throw ci();Ei(Cn.userId===this.userId),y.push(dd(this.It,Cn))});ee.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(i,o){let d=new Ii(mi);const g=[];return o.forEach(y=>{const E=ud(this.userId,y.path),L=IDBKeyRange.lowerBound(E),ee=Sf(i).Z({range:L},(pe,et,At)=>{const[rn,Cn,Mn]=pe,Xn=Cu(Cn);rn===this.userId&&y.path.isEqual(Xn)?d=d.add(Mn):At.done()});g.push(ee)}),on.waitFor(g).next(()=>this.En(i,d))}getAllMutationBatchesAffectingQuery(i,o){const d=o.path,g=d.length+1,y=ud(this.userId,d),E=IDBKeyRange.lowerBound(y);let L=new Ii(mi);return Sf(i).Z({range:E},(ee,pe,et)=>{const[At,rn,Cn]=ee,Mn=Cu(rn);At===this.userId&&d.isPrefixOf(Mn)?Mn.length===g&&(L=L.add(Cn)):et.done()}).next(()=>this.En(i,L))}En(i,o){const d=[],g=[];return o.forEach(y=>{g.push(ql(i).get(y).next(E=>{if(null===E)throw ci();Ei(E.userId===this.userId),d.push(dd(this.It,E))}))}),on.waitFor(g).next(()=>d)}removeMutationBatch(i,o){return Sc(i.ie,this.userId,o).next(d=>(i.addOnCommittedListener(()=>{this.An(o.batchId)}),on.forEach(d,g=>this.referenceDelegate.markPotentiallyOrphaned(i,g))))}An(i){delete this.In[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(o=>{if(!o)return on.resolve();const d=IDBKeyRange.lowerBound([this.userId]),g=[];return Sf(i).Z({range:d},(y,E,L)=>{if(y[0]===this.userId){const ee=Cu(y[1]);g.push(ee)}else L.done()}).next(()=>{Ei(0===g.length)})})}containsKey(i,o){return hv(i,this.userId,o)}Rn(i){return bl(i).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hv(l,i,o){const d=ud(i,o.path),g=d[1],y=IDBKeyRange.lowerBound(d);let E=!1;return Sf(l).Z({range:y,X:!0},(L,ee,pe)=>{const[et,At,rn]=L;et===i&&At===g&&(E=!0),pe.done()}).next(()=>E)}function ql(l){return Ao(l,"mutations")}function Sf(l){return Ao(l,"documentMutations")}function bl(l){return Ao(l,"mutationQueues")}class ra{constructor(i){this.bn=i}next(){return this.bn+=2,this.bn}static Pn(){return new ra(0)}static vn(){return new ra(-1)}}class Uo{constructor(i,o){this.referenceDelegate=i,this.It=o}allocateTargetId(i){return this.Vn(i).next(o=>{const d=new ra(o.highestTargetId);return o.highestTargetId=d.next(),this.Sn(i,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.Vn(i).next(o=>bi.fromTimestamp(new Er(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.Vn(i).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(i,o,d){return this.Vn(i).next(g=>(g.highestListenSequenceNumber=o,d&&(g.lastRemoteSnapshotVersion=d.toTimestamp()),o>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=o),this.Sn(i,g)))}addTargetData(i,o){return this.Dn(i,o).next(()=>this.Vn(i).next(d=>(d.targetCount+=1,this.Cn(o,d),this.Sn(i,d))))}updateTargetData(i,o){return this.Dn(i,o)}removeTargetData(i,o){return this.removeMatchingKeysForTargetId(i,o.targetId).next(()=>Eu(i).delete(o.targetId)).next(()=>this.Vn(i)).next(d=>(Ei(d.targetCount>0),d.targetCount-=1,this.Sn(i,d)))}removeTargets(i,o,d){let g=0;const y=[];return Eu(i).Z((E,L)=>{const ee=Ef(L);ee.sequenceNumber<=o&&null===d.get(ee.targetId)&&(g++,y.push(this.removeTargetData(i,ee)))}).next(()=>on.waitFor(y)).next(()=>g)}forEachTarget(i,o){return Eu(i).Z((d,g)=>{const y=Ef(g);o(y)})}Vn(i){return Tu(i).get("targetGlobalKey").next(o=>(Ei(null!==o),o))}Sn(i,o){return Tu(i).put("targetGlobalKey",o)}Dn(i,o){return Eu(i).put(sv(this.It,o))}Cn(i,o){let d=!1;return i.targetId>o.highestTargetId&&(o.highestTargetId=i.targetId,d=!0),i.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=i.sequenceNumber,d=!0),d}getTargetCount(i){return this.Vn(i).next(o=>o.targetCount)}getTargetData(i,o){const d=ea(o),g=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]);let y=null;return Eu(i).Z({range:g,index:"queryTargetsIndex"},(E,L,ee)=>{const pe=Ef(L);td(o,pe.target)&&(y=pe,ee.done())}).next(()=>y)}addMatchingKeys(i,o,d){const g=[],y=Ql(i);return o.forEach(E=>{const L=ia(E.path);g.push(y.put({targetId:d,path:L})),g.push(this.referenceDelegate.addReference(i,d,E))}),on.waitFor(g)}removeMatchingKeys(i,o,d){const g=Ql(i);return on.forEach(o,y=>{const E=ia(y.path);return on.waitFor([g.delete([d,E]),this.referenceDelegate.removeReference(i,d,y)])})}removeMatchingKeysForTargetId(i,o){const d=Ql(i),g=IDBKeyRange.bound([o],[o+1],!1,!0);return d.delete(g)}getMatchingKeysForTargetId(i,o){const d=IDBKeyRange.bound([o],[o+1],!1,!0),g=Ql(i);let y=Bi();return g.Z({range:d,X:!0},(E,L,ee)=>{const pe=Cu(E[1]),et=new Yn(pe);y=y.add(et)}).next(()=>y)}containsKey(i,o){const d=ia(o.path),g=IDBKeyRange.bound([d],[pa(d)],!1,!0);let y=0;return Ql(i).Z({index:"documentTargetsIndex",X:!0,range:g},([E,L],ee,pe)=>{0!==E&&(y++,pe.done())}).next(()=>y>0)}se(i,o){return Eu(i).get(o).next(d=>d?Ef(d):null)}}function Eu(l){return Ao(l,"targets")}function Tu(l){return Ao(l,"targetGlobal")}function Ql(l){return Ao(l,"targetDocuments")}function Xp([l,i],[o,d]){const g=mi(l,o);return 0===g?mi(i,d):g}class mo{constructor(i){this.xn=i,this.buffer=new Ii(Xp),this.Nn=0}kn(){return++this.Nn}On(i){const o=[i,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(o);else{const d=this.buffer.last();Xp(o,d)<0&&(this.buffer=this.buffer.delete(d).add(o))}}get maxValue(){return this.buffer.last()[0]}}class mh{constructor(i,o,d){this.garbageCollector=i,this.asyncQueue=o,this.localStore=d,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(i){var o=this;Bn("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,m.Z)(function*(){o.Mn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(d){qs(d)?Bn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Lo(d)}yield o.Fn(3e5)}))}}class t0{constructor(i,o){this.$n=i,this.params=o}calculateTargetCount(i,o){return this.$n.Bn(i).next(d=>Math.floor(o/100*d))}nthSequenceNumber(i,o){if(0===o)return on.resolve(xo.at);const d=new mo(o);return this.$n.forEachTarget(i,g=>d.On(g.sequenceNumber)).next(()=>this.$n.Ln(i,g=>d.On(g))).next(()=>d.maxValue)}removeTargets(i,o,d){return this.$n.removeTargets(i,o,d)}removeOrphanedDocuments(i,o){return this.$n.removeOrphanedDocuments(i,o)}collect(i,o){return-1===this.params.cacheSizeCollectionThreshold?(Bn("LruGarbageCollector","Garbage collection skipped; disabled"),on.resolve(Xs)):this.getCacheSize(i).next(d=>d<this.params.cacheSizeCollectionThreshold?(Bn("LruGarbageCollector",`Garbage collection skipped; Cache size ${d} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xs):this.Un(i,o))}getCacheSize(i){return this.$n.getCacheSize(i)}Un(i,o){let d,g,y,E,L,ee,pe;const et=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(At=>(At>this.params.maximumSequenceNumbersToCollect?(Bn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${At}`),g=this.params.maximumSequenceNumbersToCollect):g=At,E=Date.now(),this.nthSequenceNumber(i,g))).next(At=>(d=At,L=Date.now(),this.removeTargets(i,d,o))).next(At=>(y=At,ee=Date.now(),this.removeOrphanedDocuments(i,d))).next(At=>(pe=Date.now(),fs()<=De.in.DEBUG&&Bn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-et}ms\n\tDetermined least recently used ${g} in `+(L-E)+`ms\n\tRemoved ${y} targets in `+(ee-L)+`ms\n\tRemoved ${At} documents in `+(pe-ee)+`ms\nTotal Duration: ${pe-et}ms`),on.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:y,documentsRemoved:At})))}}class n0{constructor(i,o){this.db=i,this.garbageCollector=new t0(this,o)}Bn(i){const o=this.qn(i);return this.db.getTargetCache().getTargetCount(i).next(d=>o.next(g=>d+g))}qn(i){let o=0;return this.Ln(i,d=>{o++}).next(()=>o)}forEachTarget(i,o){return this.db.getTargetCache().forEachTarget(i,o)}Ln(i,o){return this.Kn(i,(d,g)=>o(g))}addReference(i,o,d){return _h(i,d)}removeReference(i,o,d){return _h(i,d)}removeTargets(i,o,d){return this.db.getTargetCache().removeTargets(i,o,d)}markPotentiallyOrphaned(i,o){return _h(i,o)}Gn(i,o){return function(d,g){let y=!1;return bl(d).tt(E=>hv(d,E,g).next(L=>(L&&(y=!0),on.resolve(!L)))).next(()=>y)}(i,o)}removeOrphanedDocuments(i,o){const d=this.db.getRemoteDocumentCache().newChangeBuffer(),g=[];let y=0;return this.Kn(i,(E,L)=>{if(L<=o){const ee=this.Gn(i,E).next(pe=>{if(!pe)return y++,d.getEntry(i,E).next(()=>(d.removeEntry(E,bi.min()),Ql(i).delete([0,ia(E.path)])))});g.push(ee)}}).next(()=>on.waitFor(g)).next(()=>d.apply(i)).next(()=>y)}removeTarget(i,o){const d=o.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,d)}updateLimboDocument(i,o){return _h(i,o)}Kn(i,o){const d=Ql(i);let g,y=xo.at;return d.Z({index:"documentTargetsIndex"},([E,L],{path:ee,sequenceNumber:pe})=>{0===E?(y!==xo.at&&o(new Yn(Cu(g)),y),y=pe,g=ee):y=xo.at}).next(()=>{y!==xo.at&&o(new Yn(Cu(g)),y)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function _h(l,i){return Ql(l).put((d=l.currentSequenceNumber,{targetId:0,path:ia(i.path),sequenceNumber:d}));var d}class Jp{constructor(){this.changes=new er(i=>i.toString(),(i,o)=>i.isEqual(o)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,o){this.assertNotApplied(),this.changes.set(i,br.newInvalidDocument(i).setReadTime(o))}getEntry(i,o){this.assertNotApplied();const d=this.changes.get(o);return void 0!==d?on.resolve(d):this.getFromCache(i,o)}getEntries(i,o){return this.getAllFromCache(i,o)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class Sm{constructor(i){this.It=i}setIndexManager(i){this.indexManager=i}addEntry(i,o,d){return xu(i).put(d)}removeEntry(i,o,d){return xu(i).delete(function(g,y){const E=g.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Kp(y),E[E.length-1]]}(o,d))}updateMetadata(i,o){return this.getMetadata(i).next(d=>(d.byteSize+=o,this.Qn(i,d)))}getEntry(i,o){let d=br.newInvalidDocument(o);return xu(i).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(o))},(g,y)=>{d=this.jn(o,y)}).next(()=>d)}Wn(i,o){let d={size:0,document:br.newInvalidDocument(o)};return xu(i).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(o))},(g,y)=>{d={document:this.jn(o,y),size:ks(y)}}).next(()=>d)}getEntries(i,o){let d=Os();return this.zn(i,o,(g,y)=>{const E=this.jn(g,y);d=d.insert(g,E)}).next(()=>d)}Hn(i,o){let d=Os(),g=new or(Yn.comparator);return this.zn(i,o,(y,E)=>{const L=this.jn(y,E);d=d.insert(y,L),g=g.insert(y,ks(E))}).next(()=>({documents:d,Jn:g}))}zn(i,o,d){if(o.isEmpty())return on.resolve();let g=new Ii(fv);o.forEach(ee=>g=g.add(ee));const y=IDBKeyRange.bound(Mc(g.first()),Mc(g.last())),E=g.getIterator();let L=E.getNext();return xu(i).Z({index:"documentKeyIndex",range:y},(ee,pe,et)=>{const At=Yn.fromSegments([...pe.prefixPath,pe.collectionGroup,pe.documentId]);for(;L&&fv(L,At)<0;)d(L,null),L=E.getNext();L&&L.isEqual(At)&&(d(L,pe),L=E.hasNext()?E.getNext():null),L?et.j(Mc(L)):et.done()}).next(()=>{for(;L;)d(L,null),L=E.hasNext()?E.getNext():null})}getAllFromCollection(i,o,d){const g=[o.popLast().toArray(),o.lastSegment(),Kp(d.readTime),d.documentKey.path.isEmpty()?"":d.documentKey.path.lastSegment()],y=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xu(i).W(IDBKeyRange.bound(g,y,!0)).next(E=>{let L=Os();for(const ee of E){const pe=this.jn(Yn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);L=L.insert(pe.key,pe)}return L})}getAllFromCollectionGroup(i,o,d,g){let y=Os();const E=eg(o,d),L=eg(o,To.max());return xu(i).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,L,!0)},(ee,pe,et)=>{const At=this.jn(Yn.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);y=y.insert(At.key,At),y.size===g&&et.done()}).next(()=>y)}newChangeBuffer(i){return new Ac(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(o=>o.byteSize)}getMetadata(i){return Ic(i).get("remoteDocumentGlobalKey").next(o=>(Ei(!!o),o))}Qn(i,o){return Ic(i).put("remoteDocumentGlobalKey",o)}jn(i,o){if(o){const d=function Wp(l,i){let o;if(i.document)o=zy(l.re,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const d=Yn.fromSegments(i.noDocument.path),g=Za(i.noDocument.readTime);o=br.newNoDocument(d,g),i.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!i.unknownDocument)return ci();{const d=Yn.fromSegments(i.unknownDocument.path),g=Za(i.unknownDocument.version);o=br.newUnknownDocument(d,g)}}return i.readTime&&o.setReadTime(function(d){const g=new Er(d[0],d[1]);return bi.fromTimestamp(g)}(i.readTime)),o}(this.It,o);if(!d.isNoDocument()||!d.version.isEqual(bi.min()))return d}return br.newInvalidDocument(i)}}function Am(l){return new Sm(l)}class Ac extends Jp{constructor(i,o){super(),this.Yn=i,this.trackRemovals=o,this.Xn=new er(d=>d.toString(),(d,g)=>d.isEqual(g))}applyChanges(i){const o=[];let d=0,g=new Ii((y,E)=>mi(y.canonicalString(),E.canonicalString()));return this.changes.forEach((y,E)=>{const L=this.Xn.get(y);if(o.push(this.Yn.removeEntry(i,y,L.readTime)),E.isValidDocument()){const ee=Yp(this.Yn.It,E);g=g.add(y.path.popLast()),d+=ks(ee)-L.size,o.push(this.Yn.addEntry(i,y,ee))}else if(d-=L.size,this.trackRemovals){const ee=Yp(this.Yn.It,E.convertToNoDocument(bi.min()));o.push(this.Yn.addEntry(i,y,ee))}}),g.forEach(y=>{o.push(this.Yn.indexManager.addToCollectionParentIndex(i,y))}),o.push(this.Yn.updateMetadata(i,d)),on.waitFor(o)}getFromCache(i,o){return this.Yn.Wn(i,o).next(d=>(this.Xn.set(o,{size:d.size,readTime:d.document.readTime}),d.document))}getAllFromCache(i,o){return this.Yn.Hn(i,o).next(({documents:d,Jn:g})=>(g.forEach((y,E)=>{this.Xn.set(y,{size:E,readTime:d.get(y).readTime})}),d))}}function Ic(l){return Ao(l,"remoteDocumentGlobal")}function xu(l){return Ao(l,"remoteDocumentsV14")}function Mc(l){const i=l.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function eg(l,i){const o=i.documentKey.path.toArray();return[l,Kp(i.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function fv(l,i){const o=l.path.toArray(),d=i.path.toArray();let g=0;for(let y=0;y<o.length-2&&y<d.length-2;++y)if(g=mi(o[y],d[y]),g)return g;return g=mi(o.length,d.length),g||(g=mi(o[o.length-2],d[d.length-2]),g||mi(o[o.length-1],d[d.length-1]))}class Af{constructor(i,o){this.overlayedDocument=i,this.mutatedFields=o}}class If{constructor(i,o,d,g){this.remoteDocumentCache=i,this.mutationQueue=o,this.documentOverlayCache=d,this.indexManager=g}getDocument(i,o){let d=null;return this.documentOverlayCache.getOverlay(i,o).next(g=>(d=g,this.getBaseDocument(i,o,d))).next(g=>(null!==d&&Ia(d.mutation,g,So.empty(),Er.now()),g))}getDocuments(i,o){return this.remoteDocumentCache.getEntries(i,o).next(d=>this.getLocalViewOfDocuments(i,d,Bi()).next(()=>d))}getLocalViewOfDocuments(i,o,d=Bi()){const g=ta();return this.populateOverlays(i,g,o).next(()=>this.computeViews(i,o,g,d).next(y=>{let E=yu();return y.forEach((L,ee)=>{E=E.insert(L,ee.overlayedDocument)}),E}))}getOverlayedDocuments(i,o){const d=ta();return this.populateOverlays(i,d,o).next(()=>this.computeViews(i,o,d,Bi()))}populateOverlays(i,o,d){const g=[];return d.forEach(y=>{o.has(y)||g.push(y)}),this.documentOverlayCache.getOverlays(i,g).next(y=>{y.forEach((E,L)=>{o.set(E,L)})})}computeViews(i,o,d,g){let y=Os();const E=na(),L=na();return o.forEach((ee,pe)=>{const et=d.get(pe.key);g.has(pe.key)&&(void 0===et||et.mutation instanceof D)?y=y.insert(pe.key,pe):void 0!==et&&(E.set(pe.key,et.mutation.getFieldMask()),Ia(et.mutation,pe,et.mutation.getFieldMask(),Er.now()))}),this.recalculateAndSaveOverlays(i,y).next(ee=>(ee.forEach((pe,et)=>E.set(pe,et)),o.forEach((pe,et)=>{var At;return L.set(pe,new Af(et,null!==(At=E.get(pe))&&void 0!==At?At:null))}),L))}recalculateAndSaveOverlays(i,o){const d=na();let g=new or((E,L)=>E-L),y=Bi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,o).next(E=>{for(const L of E)L.keys().forEach(ee=>{const pe=o.get(ee);if(null===pe)return;let et=d.get(ee)||So.empty();et=L.applyToLocalView(pe,et),d.set(ee,et);const At=(g.get(L.batchId)||Bi()).add(ee);g=g.insert(L.batchId,At)})}).next(()=>{const E=[],L=g.getReverseIterator();for(;L.hasNext();){const ee=L.getNext(),pe=ee.key,et=ee.value,At=Ec();et.forEach(rn=>{if(!y.has(rn)){const Cn=lh(o.get(rn),d.get(rn));null!==Cn&&At.set(rn,Cn),y=y.add(rn)}}),E.push(this.documentOverlayCache.saveOverlays(i,pe,At))}return on.waitFor(E)}).next(()=>d)}recalculateAndSaveOverlaysForDocumentKeys(i,o){return this.remoteDocumentCache.getEntries(i,o).next(d=>this.recalculateAndSaveOverlays(i,d))}getDocumentsMatchingQuery(i,o,d){return Yn.isDocumentKey((g=o).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(i,o.path):sf(o)?this.getDocumentsMatchingCollectionGroupQuery(i,o,d):this.getDocumentsMatchingCollectionQuery(i,o,d);var g}getNextDocuments(i,o,d,g){return this.remoteDocumentCache.getAllFromCollectionGroup(i,o,d,g).next(y=>{const E=g-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,o,d.largestBatchId,g-y.size):on.resolve(ta());let L=-1,ee=y;return E.next(pe=>on.forEach(pe,(et,At)=>(L<At.largestBatchId&&(L=At.largestBatchId),y.get(et)?on.resolve():this.getBaseDocument(i,et,At).next(rn=>{ee=ee.insert(et,rn)}))).next(()=>this.populateOverlays(i,pe,y)).next(()=>this.computeViews(i,ee,pe,Bi())).next(et=>({batchId:L,changes:Vp(et)})))})}getDocumentsMatchingDocumentQuery(i,o){return this.getDocument(i,new Yn(o)).next(d=>{let g=yu();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})}getDocumentsMatchingCollectionGroupQuery(i,o,d){const g=o.collectionGroup;let y=yu();return this.indexManager.getCollectionParents(i,g).next(E=>on.forEach(E,L=>{const ee=(pe=o,et=L.child(g),new Wl(et,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,et;return this.getDocumentsMatchingCollectionQuery(i,ee,d).next(pe=>{pe.forEach((et,At)=>{y=y.insert(et,At)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(i,o,d){let g;return this.remoteDocumentCache.getAllFromCollection(i,o.path,d).next(y=>(g=y,this.documentOverlayCache.getOverlaysForCollection(i,o.path,d.largestBatchId))).next(y=>{y.forEach((L,ee)=>{const pe=ee.getKey();null===g.get(pe)&&(g=g.insert(pe,br.newInvalidDocument(pe)))});let E=yu();return g.forEach((L,ee)=>{const pe=y.get(L);void 0!==pe&&Ia(pe.mutation,ee,So.empty(),Er.now()),gu(o,ee)&&(E=E.insert(L,ee))}),E})}getBaseDocument(i,o,d){return null===d||1===d.mutation.type?this.remoteDocumentCache.getEntry(i,o):on.resolve(br.newInvalidDocument(o))}}class pv{constructor(i){this.It=i,this.Zn=new Map,this.ts=new Map}getBundleMetadata(i,o){return on.resolve(this.Zn.get(o))}saveBundleMetadata(i,o){var d;return this.Zn.set(o.id,{id:(d=o).id,version:d.version,createTime:po(d.createTime)}),on.resolve()}getNamedQuery(i,o){return on.resolve(this.ts.get(o))}saveNamedQuery(i,o){return this.ts.set(o.name,{name:(d=o).name,query:Zp(d.bundledQuery),readTime:po(d.readTime)}),on.resolve();var d}}class gv{constructor(){this.overlays=new or(Yn.comparator),this.es=new Map}getOverlay(i,o){return on.resolve(this.overlays.get(o))}getOverlays(i,o){const d=ta();return on.forEach(o,g=>this.getOverlay(i,g).next(y=>{null!==y&&d.set(g,y)})).next(()=>d)}saveOverlays(i,o,d){return d.forEach((g,y)=>{this.ue(i,o,y)}),on.resolve()}removeOverlaysForBatchId(i,o,d){const g=this.es.get(d);return void 0!==g&&(g.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(d)),on.resolve()}getOverlaysForCollection(i,o,d){const g=ta(),y=o.length+1,E=new Yn(o.child("")),L=this.overlays.getIteratorFrom(E);for(;L.hasNext();){const ee=L.getNext().value,pe=ee.getKey();if(!o.isPrefixOf(pe.path))break;pe.path.length===y&&ee.largestBatchId>d&&g.set(ee.getKey(),ee)}return on.resolve(g)}getOverlaysForCollectionGroup(i,o,d,g){let y=new or((pe,et)=>pe-et);const E=this.overlays.getIterator();for(;E.hasNext();){const pe=E.getNext().value;if(pe.getKey().getCollectionGroup()===o&&pe.largestBatchId>d){let et=y.get(pe.largestBatchId);null===et&&(et=ta(),y=y.insert(pe.largestBatchId,et)),et.set(pe.getKey(),pe)}}const L=ta(),ee=y.getIterator();for(;ee.hasNext()&&(ee.getNext().value.forEach((pe,et)=>L.set(pe,et)),!(L.size()>=g)););return on.resolve(L)}ue(i,o,d){const g=this.overlays.get(d.key);if(null!==g){const E=this.es.get(g.largestBatchId).delete(d.key);this.es.set(g.largestBatchId,E)}this.overlays=this.overlays.insert(d.key,new Df(o,d));let y=this.es.get(o);void 0===y&&(y=Bi(),this.es.set(o,y)),this.es.set(o,y.add(d.key))}}class tg{constructor(){this.ns=new Ii(zs.ss),this.rs=new Ii(zs.os)}isEmpty(){return this.ns.isEmpty()}addReference(i,o){const d=new zs(i,o);this.ns=this.ns.add(d),this.rs=this.rs.add(d)}us(i,o){i.forEach(d=>this.addReference(d,o))}removeReference(i,o){this.cs(new zs(i,o))}hs(i,o){i.forEach(d=>this.removeReference(d,o))}ls(i){const o=new Yn(new Gi([])),d=new zs(o,i),g=new zs(o,i+1),y=[];return this.rs.forEachInRange([d,g],E=>{this.cs(E),y.push(E.key)}),y}fs(){this.ns.forEach(i=>this.cs(i))}cs(i){this.ns=this.ns.delete(i),this.rs=this.rs.delete(i)}ds(i){const o=new Yn(new Gi([])),d=new zs(o,i),g=new zs(o,i+1);let y=Bi();return this.rs.forEachInRange([d,g],E=>{y=y.add(E.key)}),y}containsKey(i){const o=new zs(i,0),d=this.ns.firstAfterOrEqual(o);return null!==d&&i.isEqual(d.key)}}class zs{constructor(i,o){this.key=i,this._s=o}static ss(i,o){return Yn.comparator(i.key,o.key)||mi(i._s,o._s)}static os(i,o){return mi(i._s,o._s)||Yn.comparator(i.key,o.key)}}class ng{constructor(i,o){this.indexManager=i,this.referenceDelegate=o,this.mutationQueue=[],this.ws=1,this.gs=new Ii(zs.ss)}checkEmpty(i){return on.resolve(0===this.mutationQueue.length)}addMutationBatch(i,o,d,g){const y=this.ws;this.ws++;const E=new bm(y,o,d,g);this.mutationQueue.push(E);for(const L of g)this.gs=this.gs.add(new zs(L.key,y)),this.indexManager.addToCollectionParentIndex(i,L.key.path.popLast());return on.resolve(E)}lookupMutationBatch(i,o){return on.resolve(this.ys(o))}getNextMutationBatchAfterBatchId(i,o){const g=this.ps(o+1),y=g<0?0:g;return on.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return on.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(i){return on.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,o){const d=new zs(o,0),g=new zs(o,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([d,g],E=>{const L=this.ys(E._s);y.push(L)}),on.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(i,o){let d=new Ii(mi);return o.forEach(g=>{const y=new zs(g,0),E=new zs(g,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,E],L=>{d=d.add(L._s)})}),on.resolve(this.Is(d))}getAllMutationBatchesAffectingQuery(i,o){const d=o.path,g=d.length+1;let y=d;Yn.isDocumentKey(y)||(y=y.child(""));const E=new zs(new Yn(y),0);let L=new Ii(mi);return this.gs.forEachWhile(ee=>{const pe=ee.key.path;return!!d.isPrefixOf(pe)&&(pe.length===g&&(L=L.add(ee._s)),!0)},E),on.resolve(this.Is(L))}Is(i){const o=[];return i.forEach(d=>{const g=this.ys(d);null!==g&&o.push(g)}),o}removeMutationBatch(i,o){Ei(0===this.Ts(o.batchId,"removed")),this.mutationQueue.shift();let d=this.gs;return on.forEach(o.mutations,g=>{const y=new zs(g.key,o.batchId);return d=d.delete(y),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.gs=d})}An(i){}containsKey(i,o){const d=new zs(o,0),g=this.gs.firstAfterOrEqual(d);return on.resolve(o.isEqual(g&&g.key))}performConsistencyCheck(i){return on.resolve()}Ts(i,o){return this.ps(i)}ps(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}ys(i){const o=this.ps(i);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class Im{constructor(i){this.Es=i,this.docs=new or(Yn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,o){const d=o.key,g=this.docs.get(d),y=g?g.size:0,E=this.Es(o);return this.docs=this.docs.insert(d,{document:o.mutableCopy(),size:E}),this.size+=E-y,this.indexManager.addToCollectionParentIndex(i,d.path.popLast())}removeEntry(i){const o=this.docs.get(i);o&&(this.docs=this.docs.remove(i),this.size-=o.size)}getEntry(i,o){const d=this.docs.get(o);return on.resolve(d?d.document.mutableCopy():br.newInvalidDocument(o))}getEntries(i,o){let d=Os();return o.forEach(g=>{const y=this.docs.get(g);d=d.insert(g,y?y.document.mutableCopy():br.newInvalidDocument(g))}),on.resolve(d)}getAllFromCollection(i,o,d){let g=Os();const y=new Yn(o.child("")),E=this.docs.getIteratorFrom(y);for(;E.hasNext();){const{key:L,value:{document:ee}}=E.getNext();if(!o.isPrefixOf(L.path))break;L.path.length>o.length+1||fc(Ya(ee),d)<=0||(g=g.insert(ee.key,ee.mutableCopy()))}return on.resolve(g)}getAllFromCollectionGroup(i,o,d,g){ci()}As(i,o){return on.forEach(this.docs,d=>o(d))}newChangeBuffer(i){return new ig(this)}getSize(i){return on.resolve(this.size)}}class ig extends Jp{constructor(i){super(),this.Yn=i}applyChanges(i){const o=[];return this.changes.forEach((d,g)=>{g.isValidDocument()?o.push(this.Yn.addEntry(i,g)):this.Yn.removeEntry(d)}),on.waitFor(o)}getFromCache(i,o){return this.Yn.getEntry(i,o)}getAllFromCache(i,o){return this.Yn.getEntries(i,o)}}class Mm{constructor(i){this.persistence=i,this.Rs=new er(o=>ea(o),td),this.lastRemoteSnapshotVersion=bi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new tg,this.targetCount=0,this.vs=ra.Pn()}forEachTarget(i,o){return this.Rs.forEach((d,g)=>o(g)),on.resolve()}getLastRemoteSnapshotVersion(i){return on.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return on.resolve(this.bs)}allocateTargetId(i){return this.highestTargetId=this.vs.next(),on.resolve(this.highestTargetId)}setTargetsMetadata(i,o,d){return d&&(this.lastRemoteSnapshotVersion=d),o>this.bs&&(this.bs=o),on.resolve()}Dn(i){this.Rs.set(i.target,i);const o=i.targetId;o>this.highestTargetId&&(this.vs=new ra(o),this.highestTargetId=o),i.sequenceNumber>this.bs&&(this.bs=i.sequenceNumber)}addTargetData(i,o){return this.Dn(o),this.targetCount+=1,on.resolve()}updateTargetData(i,o){return this.Dn(o),on.resolve()}removeTargetData(i,o){return this.Rs.delete(o.target),this.Ps.ls(o.targetId),this.targetCount-=1,on.resolve()}removeTargets(i,o,d){let g=0;const y=[];return this.Rs.forEach((E,L)=>{L.sequenceNumber<=o&&null===d.get(L.targetId)&&(this.Rs.delete(E),y.push(this.removeMatchingKeysForTargetId(i,L.targetId)),g++)}),on.waitFor(y).next(()=>g)}getTargetCount(i){return on.resolve(this.targetCount)}getTargetData(i,o){const d=this.Rs.get(o)||null;return on.resolve(d)}addMatchingKeys(i,o,d){return this.Ps.us(o,d),on.resolve()}removeMatchingKeys(i,o,d){this.Ps.hs(o,d);const g=this.persistence.referenceDelegate,y=[];return g&&o.forEach(E=>{y.push(g.markPotentiallyOrphaned(i,E))}),on.waitFor(y)}removeMatchingKeysForTargetId(i,o){return this.Ps.ls(o),on.resolve()}getMatchingKeysForTargetId(i,o){const d=this.Ps.ds(o);return on.resolve(d)}containsKey(i,o){return on.resolve(this.Ps.containsKey(o))}}class Om{constructor(i,o){this.Vs={},this.overlays={},this.Ss=new xo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=i(this),this.Cs=new Mm(this),this.indexManager=new hd,this.remoteDocumentCache=new Im(d=>this.referenceDelegate.xs(d)),this.It=new wm(o),this.Ns=new pv(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let o=this.overlays[i.toKey()];return o||(o=new gv,this.overlays[i.toKey()]=o),o}getMutationQueue(i,o){let d=this.Vs[i.toKey()];return d||(d=new ng(o,this.referenceDelegate),this.Vs[i.toKey()]=d),d}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(i,o,d){Bn("MemoryPersistence","Starting transaction:",i);const g=new km(this.Ss.next());return this.referenceDelegate.ks(),d(g).next(y=>this.referenceDelegate.Os(g).next(()=>y)).toPromise().then(y=>(g.raiseOnCommittedEvent(),y))}Ms(i,o){return on.or(Object.values(this.Vs).map(d=>()=>d.containsKey(i,o)))}}class km extends cu{constructor(i){super(),this.currentSequenceNumber=i}}class fd{constructor(i){this.persistence=i,this.Fs=new tg,this.$s=null}static Bs(i){return new fd(i)}get Ls(){if(this.$s)return this.$s;throw ci()}addReference(i,o,d){return this.Fs.addReference(d,o),this.Ls.delete(d.toString()),on.resolve()}removeReference(i,o,d){return this.Fs.removeReference(d,o),this.Ls.add(d.toString()),on.resolve()}markPotentiallyOrphaned(i,o){return this.Ls.add(o.toString()),on.resolve()}removeTarget(i,o){this.Fs.ls(o.targetId).forEach(g=>this.Ls.add(g.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(i,o.targetId).next(g=>{g.forEach(y=>this.Ls.add(y.toString()))}).next(()=>d.removeTargetData(i,o))}ks(){this.$s=new Set}Os(i){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return on.forEach(this.Ls,d=>{const g=Yn.fromPath(d);return this.Us(i,g).next(y=>{y||o.removeEntry(g,bi.min())})}).next(()=>(this.$s=null,o.apply(i)))}updateLimboDocument(i,o){return this.Us(i,o).next(d=>{d?this.Ls.delete(o.toString()):this.Ls.add(o.toString())})}xs(i){return 0}Us(i,o){return on.or([()=>on.resolve(this.Fs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(i,o),()=>this.persistence.Ms(i,o)])}}class pd{constructor(i){this.It=i}$(i,o,d,g){const y=new _a("createOrUpgrade",o);var L;d<1&&g>=1&&(i.createObjectStore("owner"),(L=i).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ky,{unique:!0}),L.createObjectStore("documentMutations"),rg(i),function(L){L.createObjectStore("remoteDocuments")}(i));let E=on.resolve();return d<3&&g>=3&&(0!==d&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(i),rg(i)),E=E.next(()=>function(L){const ee=L.store("targetGlobal"),pe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bi.min().toTimestamp(),targetCount:0};return ee.put("targetGlobalKey",pe)}(y))),d<4&&g>=4&&(0!==d&&(E=E.next(()=>function(L,ee){return ee.store("mutations").W().next(pe=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ky,{unique:!0});const et=ee.store("mutations"),At=pe.map(rn=>et.put(rn));return on.waitFor(At)})}(i,y))),E=E.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(i)})),d<5&&g>=5&&(E=E.next(()=>this.qs(y))),d<6&&g>=6&&(E=E.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(i),this.Ks(y)))),d<7&&g>=7&&(E=E.next(()=>this.Gs(y))),d<8&&g>=8&&(E=E.next(()=>this.Qs(i,y))),d<9&&g>=9&&(E=E.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(i)})),d<10&&g>=10&&(E=E.next(()=>this.js(y))),d<11&&g>=11&&(E=E.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),d<12&&g>=12&&(E=E.next(()=>{!function(L){const ee=L.createObjectStore("documentOverlays",{keyPath:Qb});ee.createIndex("collectionPathOverlayIndex",ym,{unique:!1}),ee.createIndex("collectionGroupOverlayIndex",aD,{unique:!1})}(i)})),d<13&&g>=13&&(E=E.next(()=>function(L){const ee=L.createObjectStore("remoteDocumentsV14",{keyPath:jp});ee.createIndex("documentKeyIndex",Zb),ee.createIndex("collectionGroupIndex",oD)}(i)).next(()=>this.Ws(i,y)).next(()=>i.deleteObjectStore("remoteDocuments"))),d<14&&g>=14&&(E=E.next(()=>this.zs(i,y))),d<15&&g>=15&&(E=E.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:tv}).createIndex("sequenceNumberIndex",Qy,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:zp}).createIndex("documentKeyIndex",Xy,{unique:!1})}(i))),E}Ks(i){let o=0;return i.store("remoteDocuments").Z((d,g)=>{o+=ks(g)}).next(()=>{const d={byteSize:o};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",d)})}qs(i){const o=i.store("mutationQueues"),d=i.store("mutations");return o.W().next(g=>on.forEach(g,y=>{const E=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return d.W("userMutationsIndex",E).next(L=>on.forEach(L,ee=>{Ei(ee.userId===y.userId);const pe=dd(this.It,ee);return Sc(i,y.userId,pe).next(()=>{})}))}))}Gs(i){const o=i.store("targetDocuments"),d=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(g=>{const y=[];return d.Z((E,L)=>{const ee=new Gi(E),pe=[0,ia(ee)];y.push(o.get(pe).next(et=>et?on.resolve():o.put({targetId:0,path:ia(ee),sequenceNumber:g.highestListenSequenceNumber})))}).next(()=>on.waitFor(y))})}Qs(i,o){i.createObjectStore("collectionParents",{keyPath:ev});const d=o.store("collectionParents"),g=new ph,y=E=>{if(g.add(E)){const L=E.lastSegment(),ee=E.popLast();return d.put({collectionId:L,parent:ia(ee)})}};return o.store("remoteDocuments").Z({X:!0},(E,L)=>{const ee=new Gi(E);return y(ee.popLast())}).next(()=>o.store("documentMutations").Z({X:!0},([E,L,ee],pe)=>{const et=Cu(L);return y(et.popLast())}))}js(i){const o=i.store("targets");return o.Z((d,g)=>{const y=Ef(g),E=sv(this.It,y);return o.put(E)})}Ws(i,o){const d=o.store("remoteDocuments"),g=[];return d.Z((y,E)=>{const L=o.store("remoteDocumentsV14"),ee=(pe=E,pe.document?new Yn(Gi.fromString(pe.document.name).popFirst(5)):pe.noDocument?Yn.fromSegments(pe.noDocument.path):pe.unknownDocument?Yn.fromSegments(pe.unknownDocument.path):ci()).path.toArray();var pe;const et={prefixPath:ee.slice(0,ee.length-2),collectionGroup:ee[ee.length-2],documentId:ee[ee.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};g.push(L.put(et))}).next(()=>on.waitFor(g))}zs(i,o){const d=o.store("mutations"),g=Am(this.It),y=new Om(fd.Bs,this.It.re);return d.W().next(E=>{const L=new Map;return E.forEach(ee=>{var pe;let et=null!==(pe=L.get(ee.userId))&&void 0!==pe?pe:Bi();dd(this.It,ee).keys().forEach(At=>et=et.add(At)),L.set(ee.userId,et)}),on.forEach(L,(ee,pe)=>{const et=new dr(pe),At=qp.oe(this.It,et),rn=y.getIndexManager(et),Cn=Js.oe(et,this.It,rn,y.referenceDelegate);return new If(g,Cn,At,rn).recalculateAndSaveOverlaysForDocumentKeys(new rv(o,xo.at),ee).next()})})}}function rg(l){l.createObjectStore("targetDocuments",{keyPath:qb}).createIndex("documentTargetsIndex",Cf,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qy,{unique:!0}),l.createObjectStore("targetGlobal")}const sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mf{constructor(i,o,d,g,y,E,L,ee,pe,et,At=15){if(this.allowTabSynchronization=i,this.persistenceKey=o,this.clientId=d,this.Hs=y,this.window=E,this.document=L,this.Js=pe,this.Ys=et,this.Xs=At,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=rn=>Promise.resolve(),!Mf.C())throw new kn(hn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n0(this,g),this.ii=o+"main",this.It=new wm(ee),this.ri=new jr(this.ii,this.Xs,new pd(this.It)),this.Cs=new Uo(this.referenceDelegate,this.It),this.remoteDocumentCache=Am(this.It),this.Ns=new lv,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===et&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kn(hn.FAILED_PRECONDITION,sg);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Cs.getHighestSequenceNumber(i))}).then(i=>{this.Ss=new xo(i,this.Js)}).then(()=>{this.Ds=!0}).catch(i=>(this.ri&&this.ri.close(),Promise.reject(i)))}li(i){var o=this;return this.si=function(){var d=(0,m.Z)(function*(g){if(o.started)return i(g)});return function(g){return d.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.ri.L(function(){var o=(0,m.Z)(function*(d){null===d.newVersion&&(yield i())});return function(d){return o.apply(this,arguments)}}())}setNetworkEnabled(i){var o=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Hs.enqueueAndForget((0,m.Z)(function*(){o.started&&(yield o.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Oc(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(i).next(o=>{o||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(i)).next(o=>this.isPrimary&&!o?this._i(i).next(()=>!1):!!o&&this.wi(i).next(()=>!0))).catch(i=>{if(qs(i))return Bn("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Bn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Hs.enqueueRetryable(()=>this.si(i)),this.isPrimary=i})}fi(i){return vh(i).get("owner").next(o=>on.resolve(this.mi(o)))}gi(i){return Oc(i).delete(this.clientId)}yi(){var i=this;return(0,m.Z)(function*(){if(i.isPrimary&&!i.pi(i.ni,18e5)){i.ni=Date.now();const o=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",d=>{const g=Ao(d,"clientMetadata");return g.W().next(y=>{const E=i.Ii(y,18e5),L=y.filter(ee=>-1===E.indexOf(ee));return on.forEach(L,ee=>g.delete(ee.clientId)).next(()=>L)})}).catch(()=>[]);if(i.oi)for(const d of o)i.oi.removeItem(i.Ti(d.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(i){return!!i&&i.ownerId===this.clientId}di(i){return this.Ys?on.resolve(!0):vh(i).get("owner").next(o=>{if(null!==o&&this.pi(o.leaseTimestampMs,5e3)&&!this.Ei(o.ownerId)){if(this.mi(o)&&this.networkEnabled)return!0;if(!this.mi(o)){if(!o.allowTabSynchronization)throw new kn(hn.FAILED_PRECONDITION,sg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oc(i).W().next(d=>void 0===this.Ii(d,5e3).find(g=>{if(this.clientId!==g.clientId){const E=!this.inForeground&&g.inForeground,L=this.networkEnabled===g.networkEnabled;if(!this.networkEnabled&&g.networkEnabled||E&&L)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&Bn("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var i=this;return(0,m.Z)(function*(){i.Ds=!1,i.Ai(),i.ei&&(i.ei.cancel(),i.ei=null),i.Ri(),i.bi(),yield i.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const d=new rv(o,xo.at);return i._i(d).next(()=>i.gi(d))}),i.ri.close(),i.Pi()})()}Ii(i,o){return i.filter(d=>this.pi(d.updateTimeMs,o)&&!this.Ei(d.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",i=>Oc(i).W().next(o=>this.Ii(o,18e5).map(d=>d.clientId)))}get started(){return this.Ds}getMutationQueue(i,o){return Js.oe(i,this.It,o,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new Em(i,this.It.re.databaseId)}getDocumentOverlayCache(i){return qp.oe(this.It,i)}getBundleCache(){return this.Ns}runTransaction(i,o,d){Bn("IndexedDbPersistence","Starting transaction:",i);const g="readonly"===o?"readonly":"readwrite",y=15===(E=this.Xs)?iv:14===E?Jb:13===E?Jy:12===E?nv:11===E?Xb:void ci();var E;let L;return this.ri.runTransaction(i,g,y,ee=>(L=new rv(ee,this.Ss?this.Ss.next():xo.at),"readwrite-primary"===o?this.fi(L).next(pe=>!!pe||this.di(L)).next(pe=>{if(!pe)throw _r(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new kn(hn.FAILED_PRECONDITION,pc);return d(L)}).next(pe=>this.wi(L).next(()=>pe)):this.Vi(L).next(()=>d(L)))).then(ee=>(L.raiseOnCommittedEvent(),ee))}Vi(i){return vh(i).get("owner").next(o=>{if(null!==o&&this.pi(o.leaseTimestampMs,5e3)&&!this.Ei(o.ownerId)&&!this.mi(o)&&!(this.Ys||this.allowTabSynchronization&&o.allowTabSynchronization))throw new kn(hn.FAILED_PRECONDITION,sg)})}wi(i){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vh(i).put("owner",o)}static C(){return jr.C()}_i(i){const o=vh(i);return o.get("owner").next(d=>this.mi(d)?(Bn("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):on.resolve())}pi(i,o){const d=Date.now();return!(i<d-o||i>d&&(_r(`Detected an update time that is in the future: ${i} > ${d}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(i){var o;try{const d=null!==(null===(o=this.oi)||void 0===o?void 0:o.getItem(this.Ti(i)));return Bn("IndexedDbPersistence",`Client '${i}' ${d?"is":"is not"} zombied in LocalStorage`),d}catch(d){return _r("IndexedDbPersistence","Failed to get zombied client id.",d),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(i){_r("Failed to set zombie client id.",i)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function vh(l){return Ao(l,"owner")}function Oc(l){return Ao(l,"clientMetadata")}function Rm(l,i){let o=l.projectId;return l.isDefaultDatabase||(o+="."+l.database),"firestore/"+i+"/"+o+"/"}class og{constructor(i,o,d,g){this.targetId=i,this.fromCache=o,this.Si=d,this.Di=g}static Ci(i,o){let d=Bi(),g=Bi();for(const y of o.docChanges)switch(y.type){case 0:d=d.add(y.doc.key);break;case 1:g=g.add(y.doc.key)}return new og(i,o.fromCache,d,g)}}class ag{constructor(){this.xi=!1}initialize(i,o){this.Ni=i,this.indexManager=o,this.xi=!0}getDocumentsMatchingQuery(i,o,d,g){return this.ki(i,o).next(y=>y||this.Oi(i,o,g,d)).next(y=>y||this.Mi(i,o))}ki(i,o){if(Pp(o))return on.resolve(null);let d=Vo(o);return this.indexManager.getIndexType(i,d).next(g=>0===g?null:(null!==o.limit&&1===g&&(o=sd(o,null,"F"),d=Vo(o)),this.indexManager.getDocumentsMatchingTarget(i,d).next(y=>{const E=Bi(...y);return this.Ni.getDocuments(i,E).next(L=>this.indexManager.getMinOffset(i,d).next(ee=>{const pe=this.Fi(o,L);return this.$i(o,pe,E,ee.readTime)?this.ki(i,sd(o,null,"F")):this.Bi(i,pe,o,ee)}))})))}Oi(i,o,d,g){return Pp(o)||g.isEqual(bi.min())?this.Mi(i,o):this.Ni.getDocuments(i,d).next(y=>{const E=this.Fi(o,y);return this.$i(o,E,d,g)?this.Mi(i,o):(fs()<=De.in.DEBUG&&Bn("QueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),af(o)),this.Bi(i,E,o,hc(g,-1)))})}Fi(i,o){let d=new Ii(lf(i));return o.forEach((g,y)=>{gu(i,y)&&(d=d.add(y))}),d}$i(i,o,d,g){if(null===i.limit)return!1;if(d.size!==o.size)return!0;const y="F"===i.limitType?o.last():o.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(g)>0)}Mi(i,o){return fs()<=De.in.DEBUG&&Bn("QueryEngine","Using full collection scan to execute query:",af(o)),this.Ni.getDocumentsMatchingQuery(i,o,To.min())}Bi(i,o,d,g){return this.Ni.getDocumentsMatchingQuery(i,d,g).next(y=>(o.forEach(E=>{y=y.insert(E.key,E)}),y))}}class mv{constructor(i,o,d,g){this.persistence=i,this.Li=o,this.It=g,this.Ui=new or(mi),this.qi=new er(y=>ea(y),td),this.Ki=new Map,this.Gi=i.getRemoteDocumentCache(),this.Cs=i.getTargetCache(),this.Ns=i.getBundleCache(),this.Qi(d)}Qi(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new If(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>i.collect(o,this.Ui))}}function lg(l,i,o,d){return new mv(l,i,o,d)}function Nm(l,i){return gd.apply(this,arguments)}function gd(){return gd=(0,m.Z)(function*(l,i){const o=Kn(l);return yield o.persistence.runTransaction("Handle user change","readonly",d=>{let g;return o.mutationQueue.getAllMutationBatches(d).next(y=>(g=y,o.Qi(i),o.mutationQueue.getAllMutationBatches(d))).next(y=>{const E=[],L=[];let ee=Bi();for(const pe of g){E.push(pe.batchId);for(const et of pe.mutations)ee=ee.add(et.key)}for(const pe of y){L.push(pe.batchId);for(const et of pe.mutations)ee=ee.add(et.key)}return o.localDocuments.getDocuments(d,ee).next(pe=>({ji:pe,removedBatchIds:E,addedBatchIds:L}))})})}),gd.apply(this,arguments)}function Of(l,i){const o=Kn(l);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const g=i.batch.keys(),y=o.Gi.newChangeBuffer({trackRemovals:!0});return function(E,L,ee,pe){const et=ee.batch,At=et.keys();let rn=on.resolve();return At.forEach(Cn=>{rn=rn.next(()=>pe.getEntry(L,Cn)).next(Mn=>{const Xn=ee.docVersions.get(Cn);Ei(null!==Xn),Mn.version.compareTo(Xn)<0&&(et.applyToRemoteDocument(Mn,ee),Mn.isValidDocument()&&(Mn.setReadTime(ee.commitVersion),pe.addEntry(Mn)))})}),rn.next(()=>E.mutationQueue.removeMutationBatch(L,et))}(o,d,i,y).next(()=>y.apply(d)).next(()=>o.mutationQueue.performConsistencyCheck(d)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(d,g,i.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,function(E){let L=Bi();for(let ee=0;ee<E.mutationResults.length;++ee)E.mutationResults[ee].transformResults.length>0&&(L=L.add(E.batch.mutations[ee].key));return L}(i))).next(()=>o.localDocuments.getDocuments(d,g))})}function cg(l){const i=Kn(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",o=>i.Cs.getLastRemoteSnapshotVersion(o))}function Pm(l,i){const o=Kn(l),d=i.snapshotVersion;let g=o.Ui;return o.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const E=o.Gi.newChangeBuffer({trackRemovals:!0});g=o.Ui;const L=[];i.targetChanges.forEach((et,At)=>{const rn=g.get(At);if(!rn)return;L.push(o.Cs.removeMatchingKeys(y,et.removedDocuments,At).next(()=>o.Cs.addMatchingKeys(y,et.addedDocuments,At)));let Cn=rn.withSequenceNumber(y.currentSequenceNumber);var Mn,Xn,ai;i.targetMismatches.has(At)?Cn=Cn.withResumeToken(qi.EMPTY_BYTE_STRING,bi.min()).withLastLimboFreeSnapshotVersion(bi.min()):et.resumeToken.approximateByteSize()>0&&(Cn=Cn.withResumeToken(et.resumeToken,d)),g=g.insert(At,Cn),Xn=Cn,ai=et,(0===(Mn=rn).resumeToken.approximateByteSize()||Xn.snapshotVersion.toMicroseconds()-Mn.snapshotVersion.toMicroseconds()>=3e8||ai.addedDocuments.size+ai.modifiedDocuments.size+ai.removedDocuments.size>0)&&L.push(o.Cs.updateTargetData(y,Cn))});let ee=Os(),pe=Bi();if(i.documentUpdates.forEach(et=>{i.resolvedLimboDocuments.has(et)&&L.push(o.persistence.referenceDelegate.updateLimboDocument(y,et))}),L.push(Fm(y,E,i.documentUpdates).next(et=>{ee=et.Wi,pe=et.zi})),!d.isEqual(bi.min())){const et=o.Cs.getLastRemoteSnapshotVersion(y).next(At=>o.Cs.setTargetsMetadata(y,y.currentSequenceNumber,d));L.push(et)}return on.waitFor(L).next(()=>E.apply(y)).next(()=>o.localDocuments.getLocalViewOfDocuments(y,ee,pe)).next(()=>ee)}).then(y=>(o.Ui=g,y))}function Fm(l,i,o){let d=Bi(),g=Bi();return o.forEach(y=>d=d.add(y)),i.getEntries(l,d).next(y=>{let E=Os();return o.forEach((L,ee)=>{const pe=y.get(L);ee.isFoundDocument()!==pe.isFoundDocument()&&(g=g.add(L)),ee.isNoDocument()&&ee.version.isEqual(bi.min())?(i.removeEntry(L,ee.readTime),E=E.insert(L,ee)):!pe.isValidDocument()||ee.version.compareTo(pe.version)>0||0===ee.version.compareTo(pe.version)&&pe.hasPendingWrites?(i.addEntry(ee),E=E.insert(L,ee)):Bn("LocalStore","Ignoring outdated watch update for ",L,". Current version:",pe.version," Watch version:",ee.version)}),{Wi:E,zi:g}})}function Lm(l,i){const o=Kn(l);return o.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===i&&(i=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(d,i)))}function Xl(l,i){const o=Kn(l);return o.persistence.runTransaction("Allocate target","readwrite",d=>{let g;return o.Cs.getTargetData(d,i).next(y=>y?(g=y,on.resolve(g)):o.Cs.allocateTargetId(d).next(E=>(g=new Yl(i,E,0,d.currentSequenceNumber),o.Cs.addTargetData(d,g).next(()=>g))))}).then(d=>{const g=o.Ui.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(o.Ui=o.Ui.insert(d.targetId,d),o.qi.set(i,d.targetId)),d})}function yh(l,i,o){return kf.apply(this,arguments)}function kf(){return kf=(0,m.Z)(function*(l,i,o){const d=Kn(l),g=d.Ui.get(i),y=o?"readwrite":"readwrite-primary";try{o||(yield d.persistence.runTransaction("Release target",y,E=>d.persistence.referenceDelegate.removeTarget(E,g)))}catch(E){if(!qs(E))throw E;Bn("LocalStore",`Failed to update sequence numbers for target ${i}: ${E}`)}d.Ui=d.Ui.remove(i),d.qi.delete(g.target)}),kf.apply(this,arguments)}function Rf(l,i,o){const d=Kn(l);let g=bi.min(),y=Bi();return d.persistence.runTransaction("Execute query","readonly",E=>function(L,ee,pe){const et=Kn(L),At=et.qi.get(pe);return void 0!==At?on.resolve(et.Ui.get(At)):et.Cs.getTargetData(ee,pe)}(d,E,Vo(i)).next(L=>{if(L)return g=L.lastLimboFreeSnapshotVersion,d.Cs.getMatchingKeysForTargetId(E,L.targetId).next(ee=>{y=ee})}).next(()=>d.Li.getDocumentsMatchingQuery(E,i,o?g:bi.min(),o?y:Bi())).next(L=>(ug(d,od(i),L),{documents:L,Hi:y})))}function _v(l,i){const o=Kn(l),d=Kn(o.Cs),g=o.Ui.get(i);return g?Promise.resolve(g.target):o.persistence.runTransaction("Get target data","readonly",y=>d.se(y,i).next(E=>E?E.target:null))}function Bm(l,i){const o=Kn(l),d=o.Ki.get(i)||bi.min();return o.persistence.runTransaction("Get new document changes","readonly",g=>o.Gi.getAllFromCollectionGroup(g,i,hc(d,-1),Number.MAX_SAFE_INTEGER)).then(g=>(ug(o,i,g),g))}function ug(l,i,o){let d=l.Ki.get(i)||bi.min();o.forEach((g,y)=>{y.readTime.compareTo(d)>0&&(d=y.readTime)}),l.Ki.set(i,d)}function dg(){return dg=(0,m.Z)(function*(l,i,o,d){const g=Kn(l);let y=Bi(),E=Os();for(const pe of o){const et=i.Ji(pe.metadata.name);pe.document&&(y=y.add(et));const At=i.Yi(pe);At.setReadTime(i.Xi(pe.metadata.readTime)),E=E.insert(et,At)}const L=g.Gi.newChangeBuffer({trackRemovals:!0}),ee=yield Xl(g,(pe=d,Vo(wc(Gi.fromString(`__bundle__/docs/${pe}`)))));var pe;return g.persistence.runTransaction("Apply bundle documents","readwrite",pe=>Fm(pe,L,E).next(et=>(L.apply(pe),et)).next(et=>g.Cs.removeMatchingKeysForTargetId(pe,ee.targetId).next(()=>g.Cs.addMatchingKeys(pe,y,ee.targetId)).next(()=>g.localDocuments.getLocalViewOfDocuments(pe,et.Wi,et.zi)).next(()=>et.Wi)))}),dg.apply(this,arguments)}function vv(l,i){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,m.Z)(function*(l,i,o=Bi()){const d=yield Xl(l,Vo(Zp(i.bundledQuery))),g=Kn(l);return g.persistence.runTransaction("Save named query","readwrite",y=>{const E=po(i.readTime);if(d.snapshotVersion.compareTo(E)>=0)return g.Ns.saveNamedQuery(y,i);const L=d.withResumeToken(qi.EMPTY_BYTE_STRING,E);return g.Ui=g.Ui.insert(L.targetId,L),g.Cs.updateTargetData(y,L).next(()=>g.Cs.removeMatchingKeysForTargetId(y,d.targetId)).next(()=>g.Cs.addMatchingKeys(y,o,d.targetId)).next(()=>g.Ns.saveNamedQuery(y,i))})}),Vm.apply(this,arguments)}function bh(l,i){return`firestore_clients_${l}_${i}`}function md(l,i,o){let d=`firestore_mutations_${l}_${o}`;return i.isAuthenticated()&&(d+=`_${i.uid}`),d}function hg(l,i){return`firestore_targets_${l}_${i}`}class ba{constructor(i,o,d,g){this.user=i,this.batchId=o,this.state=d,this.error=g}static Zi(i,o,d){const g=JSON.parse(d);let y,E="object"==typeof g&&-1!==["pending","acknowledged","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return E&&g.error&&(E="string"==typeof g.error.message&&"string"==typeof g.error.code,E&&(y=new kn(g.error.code,g.error.message))),E?new ba(i,o,g.state,y):(_r("SharedClientState",`Failed to parse mutation state for ID '${o}': ${d}`),null)}tr(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Nf{constructor(i,o,d){this.targetId=i,this.state=o,this.error=d}static Zi(i,o){const d=JSON.parse(o);let g,y="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return y&&d.error&&(y="string"==typeof d.error.message&&"string"==typeof d.error.code,y&&(g=new kn(d.error.code,d.error.message))),y?new Nf(i,d.state,g):(_r("SharedClientState",`Failed to parse target state for ID '${i}': ${o}`),null)}tr(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Pf{constructor(i,o){this.clientId=i,this.activeTargetIds=o}static Zi(i,o){const d=JSON.parse(o);let g="object"==typeof d&&d.activeTargetIds instanceof Array,y=dh();for(let E=0;g&&E<d.activeTargetIds.length;++E)g=gn(d.activeTargetIds[E]),y=y.add(d.activeTargetIds[E]);return g?new Pf(i,y):(_r("SharedClientState",`Failed to parse client data for instance '${i}': ${o}`),null)}}class Hm{constructor(i,o){this.clientId=i,this.onlineState=o}static Zi(i){const o=JSON.parse(i);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Hm(o.clientId,o.onlineState):(_r("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Ff{constructor(){this.activeTargetIds=dh()}er(i){this.activeTargetIds=this.activeTargetIds.add(i)}nr(i){this.activeTargetIds=this.activeTargetIds.delete(i)}tr(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class fg{constructor(i,o,d,g,y){this.window=i,this.Hs=o,this.persistenceKey=d,this.sr=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new or(mi),this.started=!1,this.cr=[];const E=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=bh(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ff),this.lr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,m.Z)(function*(){const o=yield i.syncEngine.vi();for(const g of o){if(g===i.sr)continue;const y=i.getItem(bh(i.persistenceKey,g));if(y){const E=Pf.Zi(g,y);E&&(i.ur=i.ur.insert(E.clientId,E))}}i.gr();const d=i.storage.getItem(i.wr);if(d){const g=i.yr(d);g&&i.pr(g)}for(const g of i.cr)i.rr(g);i.cr=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.hr,JSON.stringify(i))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(i){let o=!1;return this.ur.forEach((d,g)=>{g.activeTargetIds.has(i)&&(o=!0)}),o}addPendingMutation(i){this.Tr(i,"pending")}updateMutationState(i,o,d){this.Tr(i,o,d),this.Er(i)}addLocalQueryTarget(i){let o="not-current";if(this.isActiveQueryTarget(i)){const d=this.storage.getItem(hg(this.persistenceKey,i));if(d){const g=Nf.Zi(i,d);g&&(o=g.state)}}return this.Ar.er(i),this.gr(),o}removeLocalQueryTarget(i){this.Ar.nr(i),this.gr()}isLocalQueryTarget(i){return this.Ar.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(hg(this.persistenceKey,i))}updateQueryState(i,o,d){this.Rr(i,o,d)}handleUserChange(i,o,d){o.forEach(g=>{this.Er(g)}),this.currentUser=i,d.forEach(g=>{this.addPendingMutation(g)})}setOnlineState(i){this.br(i)}notifyBundleLoaded(i){this.Pr(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(i){const o=this.storage.getItem(i);return Bn("SharedClientState","READ",i,o),o}setItem(i,o){Bn("SharedClientState","SET",i,o),this.storage.setItem(i,o)}removeItem(i){Bn("SharedClientState","REMOVE",i),this.storage.removeItem(i)}rr(i){var o=this;const d=i;if(d.storageArea===this.storage){if(Bn("SharedClientState","EVENT",d.key,d.newValue),d.key===this.ar)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,m.Z)(function*(){if(o.started){if(null!==d.key)if(o.lr.test(d.key)){if(null==d.newValue){const g=o.vr(d.key);return o.Vr(g,null)}{const g=o.Sr(d.key,d.newValue);if(g)return o.Vr(g.clientId,g)}}else if(o.dr.test(d.key)){if(null!==d.newValue){const g=o.Dr(d.key,d.newValue);if(g)return o.Cr(g)}}else if(o._r.test(d.key)){if(null!==d.newValue){const g=o.Nr(d.key,d.newValue);if(g)return o.kr(g)}}else if(d.key===o.wr){if(null!==d.newValue){const g=o.yr(d.newValue);if(g)return o.pr(g)}}else if(d.key===o.hr){const g=function(y){let E=xo.at;if(null!=y)try{const L=JSON.parse(y);Ei("number"==typeof L),E=L}catch(L){_r("SharedClientState","Failed to read sequence number from WebStorage",L)}return E}(d.newValue);g!==xo.at&&o.sequenceNumberHandler(g)}else if(d.key===o.mr){const g=o.Or(d.newValue);yield Promise.all(g.map(y=>o.syncEngine.Mr(y)))}}else o.cr.push(d)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(i,o,d){const g=new ba(this.currentUser,i,o,d),y=md(this.persistenceKey,this.currentUser,i);this.setItem(y,g.tr())}Er(i){const o=md(this.persistenceKey,this.currentUser,i);this.removeItem(o)}br(i){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:i}))}Rr(i,o,d){const g=hg(this.persistenceKey,i),y=new Nf(i,o,d);this.setItem(g,y.tr())}Pr(i){const o=JSON.stringify(Array.from(i));this.setItem(this.mr,o)}vr(i){const o=this.lr.exec(i);return o?o[1]:null}Sr(i,o){const d=this.vr(i);return Pf.Zi(d,o)}Dr(i,o){const d=this.dr.exec(i),g=Number(d[1]);return ba.Zi(new dr(void 0!==d[2]?d[2]:null),g,o)}Nr(i,o){const d=this._r.exec(i),g=Number(d[1]);return Nf.Zi(g,o)}yr(i){return Hm.Zi(i)}Or(i){return JSON.parse(i)}Cr(i){var o=this;return(0,m.Z)(function*(){if(i.user.uid===o.currentUser.uid)return o.syncEngine.Fr(i.batchId,i.state,i.error);Bn("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}kr(i){return this.syncEngine.$r(i.targetId,i.state,i.error)}Vr(i,o){const d=o?this.ur.insert(i,o):this.ur.remove(i),g=this.Ir(this.ur),y=this.Ir(d),E=[],L=[];return y.forEach(ee=>{g.has(ee)||E.push(ee)}),g.forEach(ee=>{y.has(ee)||L.push(ee)}),this.syncEngine.Br(E,L).then(()=>{this.ur=d})}pr(i){this.ur.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}Ir(i){let o=dh();return i.forEach((d,g)=>{o=o.unionWith(g.activeTargetIds)}),o}}class yv{constructor(){this.Lr=new Ff,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,o,d){}addLocalQueryTarget(i){return this.Lr.er(i),this.Ur[i]||"not-current"}updateQueryState(i,o,d){this.Ur[i]=o}removeLocalQueryTarget(i){this.Lr.nr(i)}isLocalQueryTarget(i){return this.Lr.activeTargetIds.has(i)}clearQueryState(i){delete this.Ur[i]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(i){return this.Lr.activeTargetIds.has(i)}start(){return this.Lr=new Ff,Promise.resolve()}handleUserChange(i,o,d){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class Um{qr(i){}shutdown(){}}class bv{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(i){this.Wr.push(i)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Bn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Wr)i(0)}jr(){Bn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Wr)i(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cv{constructor(i){this.Hr=i.Hr,this.Jr=i.Jr}Yr(i){this.Xr=i}Zr(i){this.eo=i}onMessage(i){this.no=i}close(){this.Jr()}send(i){this.Hr(i)}so(){this.Xr()}io(i){this.eo(i)}ro(i){this.no(i)}}class Pi extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.oo=(i.ssl?"https":"http")+"://"+i.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(i,o,d,g,y){const E=this.ho(i,o);Bn("RestConnection","Sending: ",E,d);const L={};return this.lo(L,g,y),this.fo(i,E,L,d).then(ee=>(Bn("RestConnection","Received: ",ee),ee),ee=>{throw Ta("RestConnection",`${i} failed with error: `,ee,"url: ",E,"request:",d),ee})}_o(i,o,d,g,y,E){return this.ao(i,o,d,g,y)}lo(i,o,d){i["X-Goog-Api-Client"]="gl-js/ fire/"+Eo,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((g,y)=>i[y]=g),d&&d.headers.forEach((g,y)=>i[y]=g)}ho(i,o){return`${this.oo}/v1/${o}:${wv[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}fo(i,o,d,g){return new Promise((y,E)=>{const L=new qo;L.setWithCredentials(!0),L.listenOnce(Zi.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Wi.NO_ERROR:const pe=L.getResponseJson();Bn("Connection","XHR received:",JSON.stringify(pe)),y(pe);break;case Wi.TIMEOUT:Bn("Connection",'RPC "'+i+'" timed out'),E(new kn(hn.DEADLINE_EXCEEDED,"Request time out"));break;case Wi.HTTP_ERROR:const et=L.getStatus();if(Bn("Connection",'RPC "'+i+'" failed with status:',et,"response text:",L.getResponseText()),et>0){const At=L.getResponseJson().error;if(At&&At.status&&At.message){const rn=function(Cn){const Mn=Cn.toLowerCase().replace(/_/g,"-");return Object.values(hn).indexOf(Mn)>=0?Mn:hn.UNKNOWN}(At.status);E(new kn(rn,At.message))}else E(new kn(hn.UNKNOWN,"Server responded with status "+L.getStatus()))}else E(new kn(hn.UNAVAILABLE,"Connection failed."));break;default:ci()}}finally{Bn("Connection",'RPC "'+i+'" completed.')}});const ee=JSON.stringify(g);L.send(o,"POST",ee,d,15)})}wo(i,o,d){const g=[this.oo,"/","google.firestore.v1.Firestore","/",i,"/channel"],y=li(),E=Ki(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new ir({})),this.lo(L.initMessageHeaders,o,d),L.encodeInitMessageHeaders=!0;const ee=g.join("");Bn("Connection","Creating WebChannel: "+ee,L);const pe=y.createWebChannel(ee,L);let et=!1,At=!1;const rn=new Cv({Hr:Mn=>{At?Bn("Connection","Not sending because WebChannel is closed:",Mn):(et||(Bn("Connection","Opening WebChannel transport."),pe.open(),et=!0),Bn("Connection","WebChannel sending:",Mn),pe.send(Mn))},Jr:()=>pe.close()}),Cn=(Mn,Xn,ai)=>{Mn.listen(Xn,pr=>{try{ai(pr)}catch(Or){setTimeout(()=>{throw Or},0)}})};return Cn(pe,Dr.EventType.OPEN,()=>{At||Bn("Connection","WebChannel transport opened.")}),Cn(pe,Dr.EventType.CLOSE,()=>{At||(At=!0,Bn("Connection","WebChannel transport closed"),rn.io())}),Cn(pe,Dr.EventType.ERROR,Mn=>{At||(At=!0,Ta("Connection","WebChannel transport errored:",Mn),rn.io(new kn(hn.UNAVAILABLE,"The operation could not be completed")))}),Cn(pe,Dr.EventType.MESSAGE,Mn=>{var Xn;if(!At){const ai=Mn.data[0];Ei(!!ai);const pr=ai,Or=pr.error||(null===(Xn=pr[0])||void 0===Xn?void 0:Xn.error);if(Or){Bn("Connection","WebChannel received error:",Or);const ar=Or.status;let no=function(Sr){const _o=ei[Sr];if(void 0!==_o)return Wt(_o)}(ar),gr=Or.message;void 0===no&&(no=hn.INTERNAL,gr="Unknown error status: "+ar+" with message "+Or.message),At=!0,rn.io(new kn(no,gr)),pe.close()}else Bn("Connection","WebChannel received:",ai),rn.ro(ai)}}),Cn(E,Hi.STAT_EVENT,Mn=>{Mn.stat===ur.PROXY?Bn("Connection","Detected buffering proxy"):Mn.stat===ur.NOPROXY&&Bn("Connection","Detected no buffering proxy")}),setTimeout(()=>{rn.so()},0),rn}}function pg(){return typeof window<"u"?window:null}function Lf(){return typeof document<"u"?document:null}function _d(l){return new W_(l,!0)}class gg{constructor(i,o,d=1e3,g=1.5,y=6e4){this.Hs=i,this.timerId=o,this.mo=d,this.yo=g,this.po=y,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(i){this.cancel();const o=Math.floor(this.Io+this.bo()),d=Math.max(0,Date.now()-this.Eo),g=Math.max(0,o-d);g>0&&Bn("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this.Io} ms, delay with jitter: ${o} ms, last attempt: ${d} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,g,()=>(this.Eo=Date.now(),i())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Gm{constructor(i,o,d,g,y,E,L,ee){this.Hs=i,this.vo=d,this.Vo=g,this.So=y,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=L,this.listener=ee,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new gg(i,o)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var i=this;return(0,m.Z)(function*(){i.ko()&&(yield i.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(i){this.Uo(),this.stream.send(i)}Bo(){var i=this;return(0,m.Z)(function*(){if(i.Oo())return i.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(i,o){var d=this;return(0,m.Z)(function*(){d.Uo(),d.qo(),d.No.cancel(),d.Do++,4!==i?d.No.reset():o&&o.code===hn.RESOURCE_EXHAUSTED?(_r(o.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),d.No.Ao()):o&&o.code===hn.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.Ko(),d.stream.close(),d.stream=null),d.state=i,yield d.listener.Zr(o)})()}Ko(){}auth(){this.state=1;const i=this.Go(this.Do),o=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,g])=>{this.Do===o&&this.Qo(d,g)},d=>{i(()=>{const g=new kn(hn.UNKNOWN,"Fetching auth token failed: "+d.message);return this.jo(g)})})}Qo(i,o){const d=this.Go(this.Do);this.stream=this.Wo(i,o),this.stream.Yr(()=>{d(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(g=>{d(()=>this.jo(g))}),this.stream.onMessage(g=>{d(()=>this.onMessage(g))})}Mo(){var i=this;this.state=5,this.No.Ro((0,m.Z)(function*(){i.state=0,i.start()}))}jo(i){return Bn("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Go(i){return o=>{this.Hs.enqueueAndForget(()=>this.Do===i?o():(Bn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bf extends Gm{constructor(i,o,d,g,y,E){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,d,g,E),this.It=y}Wo(i,o){return this.So.wo("Listen",i,o)}onMessage(i){this.No.reset();const o=function gm(l,i){let o;if("targetChange"in i){const d="NO_CHANGE"===(ee=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:ci(),g=i.targetChange.targetIds||[],y=function(ee,pe){return ee.gt?(Ei(void 0===pe||"string"==typeof pe),qi.fromBase64String(pe||"")):(Ei(void 0===pe||pe instanceof Uint8Array),qi.fromUint8Array(pe||new Uint8Array))}(l,i.targetChange.resumeToken),E=i.targetChange.cause,L=E&&function(ee){const pe=void 0===ee.code?hn.UNKNOWN:Wt(ee.code);return new kn(pe,ee.message||"")}(E);o=new Hy(d,g,y,L||null)}else if("documentChange"in i){const d=i.documentChange,g=wu(l,d.document.name),y=po(d.document.updateTime),E=new fo({mapValue:{fields:d.document.fields}}),L=br.newFoundDocument(g,y,E);o=new gf(d.targetIds||[],d.removedTargetIds||[],L.key,L)}else if("documentDelete"in i){const d=i.documentDelete,g=wu(l,d.document),y=d.readTime?po(d.readTime):bi.min(),E=br.newNoDocument(g,y);o=new gf([],d.removedTargetIds||[],E.key,E)}else if("documentRemove"in i){const d=i.documentRemove,g=wu(l,d.document);o=new gf([],d.removedTargetIds||[],g,null)}else{if(!("filter"in i))return ci();{const d=i.filter,y=new oi(d.count||0);o=new $_(d.targetId,y)}}var ee;return o}(this.It,i),d=function(g){if(!("targetChange"in g))return bi.min();const y=g.targetChange;return y.targetIds&&y.targetIds.length?bi.min():y.readTime?po(y.readTime):bi.min()}(i);return this.listener.zo(o,d)}Ho(i){const o={};o.database=_f(this.It),o.addTarget=function(g,y){let E;const L=y.target;return E=du(L)?{documents:cd(g,L)}:{query:_m(g,L)},E.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?E.resumeToken=Y_(g,y.resumeToken):y.snapshotVersion.compareTo(bi.min())>0&&(E.readTime=mf(g,y.snapshotVersion.toTimestamp())),E}(this.It,i);const d=function $b(l,i){const o=function(d,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ci()}}(0,i.purpose);return null==o?null:{"goog-listen-tags":o}}(0,i);d&&(o.labels=d),this.Lo(o)}Jo(i){const o={};o.database=_f(this.It),o.removeTarget=i,this.Lo(o)}}class Dv extends Gm{constructor(i,o,d,g,y,E){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,d,g,E),this.It=y,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(i,o){return this.So.wo("Write",i,o)}onMessage(i){if(Ei(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Yo){this.No.reset();const o=function mm(l,i){return l&&l.length>0?(Ei(void 0!==i),l.map(o=>function(d,g){let y=po(d.updateTime?d.updateTime:g);return y.isEqual(bi.min())&&(y=po(g)),new hf(y,d.transformResults||[])}(o,i))):[]}(i.writeResults,i.commitTime),d=po(i.commitTime);return this.listener.tu(d,o)}return Ei(!i.writeResults||0===i.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const i={};i.database=_f(this.It),this.Lo(i)}Zo(i){const o={streamToken:this.lastStreamToken,writes:i.map(d=>Up(this.It,d))};this.Lo(o)}}class jm extends class{}{constructor(i,o,d,g){super(),this.authCredentials=i,this.appCheckCredentials=o,this.So=d,this.It=g,this.su=!1}iu(){if(this.su)throw new kn(hn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(i,o,d){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.So.ao(i,o,d,g,y)).catch(g=>{throw"FirebaseError"===g.name?(g.code===hn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new kn(hn.UNKNOWN,g.toString())})}_o(i,o,d,g){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,E])=>this.So._o(i,o,d,y,E,g)).catch(y=>{throw"FirebaseError"===y.name?(y.code===hn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new kn(hn.UNKNOWN,y.toString())})}terminate(){this.su=!0}}class Qi{constructor(i,o){this.asyncQueue=i,this.onlineStateHandler=o,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(i){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.au("Offline")))}set(i){this.fu(),this.ru=0,"Online"===i&&(this.uu=!1),this.au(i)}au(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}hu(i){const o=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(_r(o),this.uu=!1):Bn("OnlineStateTracker",o)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Rc{constructor(i,o,d,g,y){var E=this;this.localStore=i,this.datastore=o,this.asyncQueue=d,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=y,this.gu.qr(L=>{d.enqueueAndForget((0,m.Z)(function*(){var ee;Rs(E)&&(Bn("RemoteStore","Restarting streams for network reachability change."),yield(ee=(0,m.Z)(function*(pe){const et=Kn(pe);et.wu.add(4),yield wh(et),et.yu.set("Unknown"),et.wu.delete(4),yield fr(et)}),function(pe){return ee.apply(this,arguments)})(E))}))}),this.yu=new Qi(d,g)}}function fr(l){return wl.apply(this,arguments)}function wl(){return wl=(0,m.Z)(function*(l){if(Rs(l))for(const i of l.mu)yield i(!0)}),wl.apply(this,arguments)}function wh(l){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,m.Z)(function*(l){for(const i of l.mu)yield i(!1)}),Nc.apply(this,arguments)}function vd(l,i){const o=Kn(l);o._u.has(i.targetId)||(o._u.set(i.targetId,i),Vf(o)?Ev(o):bd(o).Oo()&&zi(o,i))}function Rr(l,i){const o=Kn(l),d=bd(o);o._u.delete(i),d.Oo()&&sa(o,i),0===o._u.size&&(d.Oo()?d.$o():Rs(o)&&o.yu.set("Unknown"))}function zi(l,i){l.pu.Mt(i.targetId),bd(l).Ho(i)}function sa(l,i){l.pu.Mt(i),bd(l).Jo(i)}function Ev(l){l.pu=new jb({getRemoteKeysForTarget:i=>l.remoteSyncer.getRemoteKeysForTarget(i),se:i=>l._u.get(i)||null}),bd(l).start(),l.yu.cu()}function Vf(l){return Rs(l)&&!bd(l).ko()&&l._u.size>0}function Rs(l){return 0===Kn(l).wu.size}function r0(l){l.pu=void 0}function s0(l){return Su.apply(this,arguments)}function Su(){return Su=(0,m.Z)(function*(l){l._u.forEach((i,o)=>{zi(l,i)})}),Su.apply(this,arguments)}function Tv(l,i){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,m.Z)(function*(l,i){r0(l),Vf(l)?(l.yu.lu(i),Ev(l)):l.yu.set("Unknown")}),Jl.apply(this,arguments)}function Ch(l,i,o){return yd.apply(this,arguments)}function yd(){return yd=(0,m.Z)(function*(l,i,o){if(l.yu.set("Online"),i instanceof Hy&&2===i.state&&i.cause)try{yield(d=(0,m.Z)(function*(g,y){const E=y.cause;for(const L of y.targetIds)g._u.has(L)&&(yield g.remoteSyncer.rejectListen(L,E),g._u.delete(L),g.pu.removeTarget(L))}),function(g,y){return d.apply(this,arguments)})(l,i)}catch(d){Bn("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),d),yield Hf(l,d)}else if(i instanceof gf?l.pu.Gt(i):i instanceof $_?l.pu.Yt(i):l.pu.Wt(i),!o.isEqual(bi.min()))try{const d=yield cg(l.localStore);o.compareTo(d)>=0&&(yield function(g,y){const E=g.pu.te(y);return E.targetChanges.forEach((L,ee)=>{if(L.resumeToken.approximateByteSize()>0){const pe=g._u.get(ee);pe&&g._u.set(ee,pe.withResumeToken(L.resumeToken,y))}}),E.targetMismatches.forEach(L=>{const ee=g._u.get(L);if(!ee)return;g._u.set(L,ee.withResumeToken(qi.EMPTY_BYTE_STRING,ee.snapshotVersion)),sa(g,L);const pe=new Yl(ee.target,L,1,ee.sequenceNumber);zi(g,pe)}),g.remoteSyncer.applyRemoteEvent(E)}(l,o))}catch(d){Bn("RemoteStore","Failed to raise snapshot:",d),yield Hf(l,d)}var d}),yd.apply(this,arguments)}function Hf(l,i,o){return mg.apply(this,arguments)}function mg(){return mg=(0,m.Z)(function*(l,i,o){if(!qs(i))throw i;l.wu.add(1),yield wh(l),l.yu.set("Offline"),o||(o=()=>cg(l.localStore)),l.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Bn("RemoteStore","Retrying IndexedDB access"),yield o(),l.wu.delete(1),yield fr(l)}))}),mg.apply(this,arguments)}function xv(l,i){return i().catch(o=>Hf(l,o,i))}function Dh(l){return zm.apply(this,arguments)}function zm(){return zm=(0,m.Z)(function*(l){const i=Kn(l),o=Dl(i);let d=i.du.length>0?i.du[i.du.length-1].batchId:-1;for(;Sv(i);)try{const g=yield Lm(i.localStore,d);if(null===g){0===i.du.length&&o.$o();break}d=g.batchId,Au(i,g)}catch(g){yield Hf(i,g)}Yi(i)&&Eh(i)}),zm.apply(this,arguments)}function Sv(l){return Rs(l)&&l.du.length<10}function Au(l,i){l.du.push(i);const o=Dl(l);o.Oo()&&o.Xo&&o.Zo(i.mutations)}function Yi(l){return Rs(l)&&!Dl(l).ko()&&l.du.length>0}function Eh(l){Dl(l).start()}function Uf(l){return Th.apply(this,arguments)}function Th(){return Th=(0,m.Z)(function*(l){Dl(l).nu()}),Th.apply(this,arguments)}function Pc(l){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,m.Z)(function*(l){const i=Dl(l);for(const o of l.du)i.Zo(o.mutations)}),Iu.apply(this,arguments)}function Cl(l,i,o){return Av.apply(this,arguments)}function Av(){return Av=(0,m.Z)(function*(l,i,o){const d=l.du.shift(),g=$p.from(d,i,o);yield xv(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield Dh(l)}),Av.apply(this,arguments)}function eo(l,i){return _g.apply(this,arguments)}function _g(){return _g=(0,m.Z)(function*(l,i){var o;i&&Dl(l).Xo&&(yield(o=(0,m.Z)(function*(d,g){if(Tr(y=g.code)&&y!==hn.ABORTED){const E=d.du.shift();Dl(d).Fo(),yield xv(d,()=>d.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield Dh(d)}var y}),function(d,g){return o.apply(this,arguments)})(l,i)),Yi(l)&&Eh(l)}),_g.apply(this,arguments)}function Gf(l,i){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,m.Z)(function*(l,i){const o=Kn(l);o.asyncQueue.verifyOperationInProgress(),Bn("RemoteStore","RemoteStore received new credentials");const d=Rs(o);o.wu.add(3),yield wh(o),d&&o.yu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(i),o.wu.delete(3),yield fr(o)}),Mu.apply(this,arguments)}function Oa(l,i){return jf.apply(this,arguments)}function jf(){return jf=(0,m.Z)(function*(l,i){const o=Kn(l);i?(o.wu.delete(2),yield fr(o)):i||(o.wu.add(2),yield wh(o),o.yu.set("Unknown"))}),jf.apply(this,arguments)}function bd(l){return l.Iu||(l.Iu=function(i,o,d){const g=Kn(i);return g.iu(),new Bf(o,g.So,g.authCredentials,g.appCheckCredentials,g.It,d)}(l.datastore,l.asyncQueue,{Yr:s0.bind(null,l),Zr:Tv.bind(null,l),zo:Ch.bind(null,l)}),l.mu.push(function(){var i=(0,m.Z)(function*(o){o?(l.Iu.Fo(),Vf(l)?Ev(l):l.yu.set("Unknown")):(yield l.Iu.stop(),r0(l))});return function(o){return i.apply(this,arguments)}}())),l.Iu}function Dl(l){return l.Tu||(l.Tu=function(i,o,d){const g=Kn(i);return g.iu(),new Dv(o,g.So,g.authCredentials,g.appCheckCredentials,g.It,d)}(l.datastore,l.asyncQueue,{Yr:Uf.bind(null,l),Zr:eo.bind(null,l),eu:Pc.bind(null,l),tu:Cl.bind(null,l)}),l.mu.push(function(){var i=(0,m.Z)(function*(o){o?(l.Tu.Fo(),yield Dh(l)):(yield l.Tu.stop(),l.du.length>0&&(Bn("RemoteStore",`Stopping write stream with ${l.du.length} pending writes`),l.du=[]))});return function(o){return i.apply(this,arguments)}}())),l.Tu}class Go{constructor(i,o,d,g,y){this.asyncQueue=i,this.timerId=o,this.targetTimeMs=d,this.op=g,this.removalCallback=y,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(i,o,d,g,y){const E=Date.now()+d,L=new Go(i,o,E,g,y);return L.start(d),L}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kn(hn.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fc(l,i){if(_r("AsyncQueue",`${i}: ${l}`),qs(l))return new kn(hn.UNAVAILABLE,`${i}: ${l}`);throw l}class Ou{constructor(i){this.comparator=i?(o,d)=>i(o,d)||Yn.comparator(o.key,d.key):(o,d)=>Yn.comparator(o.key,d.key),this.keyedMap=yu(),this.sortedSet=new or(this.comparator)}static emptySet(i){return new Ou(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const o=this.keyedMap.get(i);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((o,d)=>(i(o),!1))}add(i){const o=this.delete(i.key);return o.copy(o.keyedMap.insert(i.key,i),o.sortedSet.insert(i,null))}delete(i){const o=this.get(i);return o?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(o)):this}isEqual(i){if(!(i instanceof Ou)||this.size!==i.size)return!1;const o=this.sortedSet.getIterator(),d=i.sortedSet.getIterator();for(;o.hasNext();){const g=o.getNext().key,y=d.getNext().key;if(!g.isEqual(y))return!1}return!0}toString(){const i=[];return this.forEach(o=>{i.push(o.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,o){const d=new Ou;return d.comparator=this.comparator,d.keyedMap=i,d.sortedSet=o,d}}class vg{constructor(){this.Eu=new or(Yn.comparator)}track(i){const o=i.doc.key,d=this.Eu.get(o);d?0!==i.type&&3===d.type?this.Eu=this.Eu.insert(o,i):3===i.type&&1!==d.type?this.Eu=this.Eu.insert(o,{type:d.type,doc:i.doc}):2===i.type&&2===d.type?this.Eu=this.Eu.insert(o,{type:2,doc:i.doc}):2===i.type&&0===d.type?this.Eu=this.Eu.insert(o,{type:0,doc:i.doc}):1===i.type&&0===d.type?this.Eu=this.Eu.remove(o):1===i.type&&2===d.type?this.Eu=this.Eu.insert(o,{type:1,doc:d.doc}):0===i.type&&1===d.type?this.Eu=this.Eu.insert(o,{type:2,doc:i.doc}):ci():this.Eu=this.Eu.insert(o,i)}Au(){const i=[];return this.Eu.inorderTraversal((o,d)=>{i.push(d)}),i}}class zf{constructor(i,o,d,g,y,E,L,ee,pe){this.query=i,this.docs=o,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=y,this.fromCache=E,this.syncStateChanged=L,this.excludesMetadataChanges=ee,this.hasCachedResults=pe}static fromInitialDocuments(i,o,d,g,y){const E=[];return o.forEach(L=>{E.push({type:0,doc:L})}),new zf(i,o,Ou.emptySet(o),E,d,g,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&ih(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const o=this.docChanges,d=i.docChanges;if(o.length!==d.length)return!1;for(let g=0;g<o.length;g++)if(o[g].type!==d[g].type||!o[g].doc.isEqual(d[g].doc))return!1;return!0}}class Iv{constructor(){this.Ru=void 0,this.listeners=[]}}class qr{constructor(){this.queries=new er(i=>rh(i),ih),this.onlineState="Unknown",this.bu=new Set}}function xh(l,i){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,m.Z)(function*(l,i){const o=Kn(l),d=i.query;let g=!1,y=o.queries.get(d);if(y||(g=!0,y=new Iv),g)try{y.Ru=yield o.onListen(d)}catch(E){const L=Fc(E,`Initialization of query '${af(i.query)}' failed`);return void i.onError(L)}o.queries.set(d,y),y.listeners.push(i),i.Pu(o.onlineState),y.Ru&&i.vu(y.Ru)&&Cd(o)}),Sh.apply(this,arguments)}function ku(l,i){return wd.apply(this,arguments)}function wd(){return wd=(0,m.Z)(function*(l,i){const o=Kn(l),d=i.query;let g=!1;const y=o.queries.get(d);if(y){const E=y.listeners.indexOf(i);E>=0&&(y.listeners.splice(E,1),g=0===y.listeners.length)}if(g)return o.queries.delete(d),o.onUnlisten(d)}),wd.apply(this,arguments)}function Ru(l,i){const o=Kn(l);let d=!1;for(const g of i){const E=o.queries.get(g.query);if(E){for(const L of E.listeners)L.vu(g)&&(d=!0);E.Ru=g}}d&&Cd(o)}function Nu(l,i,o){const d=Kn(l),g=d.queries.get(i);if(g)for(const y of g.listeners)y.onError(o);d.queries.delete(i)}function Cd(l){l.bu.forEach(i=>{i.next()})}class Fi{constructor(i,o,d){this.query=i,this.Vu=o,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=d||{}}vu(i){if(!this.options.includeMetadataChanges){const d=[];for(const g of i.docChanges)3!==g.type&&d.push(g);i=new zf(i.query,i.docs,i.oldDocs,d,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let o=!1;return this.Su?this.Cu(i)&&(this.Vu.next(i),o=!0):this.xu(i,this.onlineState)&&(this.Nu(i),o=!0),this.Du=i,o}onError(i){this.Vu.error(i)}Pu(i){this.onlineState=i;let o=!1;return this.Du&&!this.Su&&this.xu(this.Du,i)&&(this.Nu(this.Du),o=!0),o}xu(i,o){return!i.fromCache||(!this.options.ku||!("Offline"!==o))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===o)}Cu(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(i){i=zf.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.Su=!0,this.Vu.next(i)}}class o0{constructor(i,o){this.payload=i,this.byteLength=o}Ou(){return"metadata"in this.payload}}class Ah{constructor(i){this.It=i}Ji(i){return wu(this.It,i)}Yi(i){return i.metadata.exists?zy(this.It,i.document,!1):br.newNoDocument(this.Ji(i.metadata.name),this.Xi(i.metadata.readTime))}Xi(i){return po(i)}}class Mv{constructor(i,o,d){this.Mu=i,this.localStore=o,this.It=d,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ls(i)}Fu(i){this.progress.bytesLoaded+=i.byteLength;let o=this.progress.documentsLoaded;if(i.payload.namedQuery)this.queries.push(i.payload.namedQuery);else if(i.payload.documentMetadata){this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++o;const d=Gi.fromString(i.payload.documentMetadata.name);this.collectionGroups.add(d.get(d.length-2))}else i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}$u(i){const o=new Map,d=new Ah(this.It);for(const g of i)if(g.metadata.queries){const y=d.Ji(g.metadata.name);for(const E of g.metadata.queries){const L=(o.get(E)||Bi()).add(y);o.set(E,L)}}return o}complete(){var i=this;return(0,m.Z)(function*(){const o=yield function kc(l,i,o,d){return dg.apply(this,arguments)}(i.localStore,new Ah(i.It),i.documents,i.Mu.id),d=i.$u(i.documents);for(const g of i.queries)yield vv(i.localStore,g,d.get(g.name));return i.progress.taskState="Success",{progress:i.progress,Bu:i.collectionGroups,Lu:o}})()}}function ls(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class yg{constructor(i){this.key=i}}class a0{constructor(i){this.key=i}}class $f{constructor(i,o){this.query=i,this.Uu=o,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Bi(),this.mutatedKeys=Bi(),this.Gu=lf(i),this.Qu=new Ou(this.Gu)}get ju(){return this.Uu}Wu(i,o){const d=o?o.zu:new vg,g=o?o.Qu:this.Qu;let y=o?o.mutatedKeys:this.mutatedKeys,E=g,L=!1;const ee="F"===this.query.limitType&&g.size===this.query.limit?g.last():null,pe="L"===this.query.limitType&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((et,At)=>{const rn=g.get(et),Cn=gu(this.query,At)?At:null,Mn=!!rn&&this.mutatedKeys.has(rn.key),Xn=!!Cn&&(Cn.hasLocalMutations||this.mutatedKeys.has(Cn.key)&&Cn.hasCommittedMutations);let ai=!1;rn&&Cn?rn.data.isEqual(Cn.data)?Mn!==Xn&&(d.track({type:3,doc:Cn}),ai=!0):this.Hu(rn,Cn)||(d.track({type:2,doc:Cn}),ai=!0,(ee&&this.Gu(Cn,ee)>0||pe&&this.Gu(Cn,pe)<0)&&(L=!0)):!rn&&Cn?(d.track({type:0,doc:Cn}),ai=!0):rn&&!Cn&&(d.track({type:1,doc:rn}),ai=!0,(ee||pe)&&(L=!0)),ai&&(Cn?(E=E.add(Cn),y=Xn?y.add(et):y.delete(et)):(E=E.delete(et),y=y.delete(et)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const et="F"===this.query.limitType?E.last():E.first();E=E.delete(et.key),y=y.delete(et.key),d.track({type:1,doc:et})}return{Qu:E,zu:d,$i:L,mutatedKeys:y}}Hu(i,o){return i.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(i,o,d){const g=this.Qu;this.Qu=i.Qu,this.mutatedKeys=i.mutatedKeys;const y=i.zu.Au();y.sort((pe,et)=>function(At,rn){const Cn=Mn=>{switch(Mn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ci()}};return Cn(At)-Cn(rn)}(pe.type,et.type)||this.Gu(pe.doc,et.doc)),this.Ju(d);const E=o?this.Yu():[],L=0===this.Ku.size&&this.current?1:0,ee=L!==this.qu;return this.qu=L,0!==y.length||ee?{snapshot:new zf(this.query,i.Qu,g,y,i.mutatedKeys,0===L,ee,!1,!!d&&d.resumeToken.approximateByteSize()>0),Xu:E}:{Xu:E}}Pu(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(i){return!this.Uu.has(i)&&!!this.Qu.has(i)&&!this.Qu.get(i).hasLocalMutations}Ju(i){i&&(i.addedDocuments.forEach(o=>this.Uu=this.Uu.add(o)),i.modifiedDocuments.forEach(o=>{}),i.removedDocuments.forEach(o=>this.Uu=this.Uu.delete(o)),this.current=i.current)}Yu(){if(!this.current)return[];const i=this.Ku;this.Ku=Bi(),this.Qu.forEach(d=>{this.Zu(d.key)&&(this.Ku=this.Ku.add(d.key))});const o=[];return i.forEach(d=>{this.Ku.has(d)||o.push(new a0(d))}),this.Ku.forEach(d=>{i.has(d)||o.push(new yg(d))}),o}tc(i){this.Uu=i.Hi,this.Ku=Bi();const o=this.Wu(i.documents);return this.applyChanges(o,!0)}ec(){return zf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Dd{constructor(i,o,d){this.query=i,this.targetId=o,this.view=d}}class $m{constructor(i){this.key=i,this.nc=!1}}class bg{constructor(i,o,d,g,y,E){this.localStore=i,this.remoteStore=o,this.eventManager=d,this.sharedClientState=g,this.currentUser=y,this.maxConcurrentLimboResolutions=E,this.sc={},this.ic=new er(L=>rh(L),ih),this.rc=new Map,this.oc=new Set,this.uc=new or(Yn.comparator),this.cc=new Map,this.ac=new tg,this.hc={},this.lc=new Map,this.fc=ra.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function l0(l,i){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,m.Z)(function*(l,i){const o=Jm(l);let d,g;const y=o.ic.get(i);if(y)d=y.targetId,o.sharedClientState.addLocalQueryTarget(d),g=y.view.ec();else{const E=yield Xl(o.localStore,Vo(i));o.isPrimaryClient&&vd(o.remoteStore,E);const L=o.sharedClientState.addLocalQueryTarget(E.targetId);d=E.targetId,g=yield Wm(o,i,d,"current"===L,E.resumeToken)}return g}),Ov.apply(this,arguments)}function Wm(l,i,o,d,g){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,m.Z)(function*(l,i,o,d,g){l._c=(At,rn,Cn)=>{return(Mn=(0,m.Z)(function*(Xn,ai,pr,Or){let ar=ai.view.Wu(pr);ar.$i&&(ar=yield Rf(Xn.localStore,ai.query,!1).then(({documents:Sr})=>ai.view.Wu(Sr,ar)));const no=Or&&Or.targetChanges.get(ai.targetId),gr=ai.view.applyChanges(ar,Xn.isPrimaryClient,no);return Oh(Xn,ai.targetId,gr.Xu),gr.snapshot}),function(Xn,ai,pr,Or){return Mn.apply(this,arguments)})(l,At,rn,Cn);var Mn};const y=yield Rf(l.localStore,i,!0),E=new $f(i,y.Hi),L=E.Wu(y.documents),ee=ad.createSynthesizedTargetChangeForCurrentChange(o,d&&"Offline"!==l.onlineState,g),pe=E.applyChanges(L,l.isPrimaryClient,ee);Oh(l,o,pe.Xu);const et=new Dd(i,o,E);return l.ic.set(i,et),l.rc.has(o)?l.rc.get(o).push(i):l.rc.set(o,[i]),pe.snapshot}),Ym.apply(this,arguments)}function c0(l,i){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,m.Z)(function*(l,i){const o=Kn(l),d=o.ic.get(i),g=o.rc.get(d.targetId);if(g.length>1)return o.rc.set(d.targetId,g.filter(y=>!ih(y,i))),void o.ic.delete(i);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(d.targetId),o.sharedClientState.isActiveQueryTarget(d.targetId)||(yield yh(o.localStore,d.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(d.targetId),Rr(o.remoteStore,d.targetId),xd(o,d.targetId)}).catch(Lo))):(xd(o,d.targetId),yield yh(o.localStore,d.targetId,!0))}),Ed.apply(this,arguments)}function Ih(){return Ih=(0,m.Z)(function*(l,i,o){const d=Nv(l);try{const g=yield function(y,E){const L=Kn(y),ee=Er.now(),pe=E.reduce((rn,Cn)=>rn.add(Cn.key),Bi());let et,At;return L.persistence.runTransaction("Locally write mutations","readwrite",rn=>{let Cn=Os(),Mn=Bi();return L.Gi.getEntries(rn,pe).next(Xn=>{Cn=Xn,Cn.forEach((ai,pr)=>{pr.isValidDocument()||(Mn=Mn.add(ai))})}).next(()=>L.localDocuments.getOverlayedDocuments(rn,Cn)).next(Xn=>{et=Xn;const ai=[];for(const pr of E){const Or=ch(pr,et.get(pr.key).overlayedDocument);null!=Or&&ai.push(new D(pr.key,Or,as(Or.value.mapValue),Yr.exists(!0)))}return L.mutationQueue.addMutationBatch(rn,ee,ai,E)}).next(Xn=>{At=Xn;const ai=Xn.applyToLocalDocumentSet(et,Mn);return L.documentOverlayCache.saveOverlays(rn,Xn.batchId,ai)})}).then(()=>({batchId:At.batchId,changes:Vp(et)}))}(d.localStore,i);d.sharedClientState.addPendingMutation(g.batchId),function(y,E,L){let ee=y.hc[y.currentUser.toKey()];ee||(ee=new or(mi)),ee=ee.insert(E,L),y.hc[y.currentUser.toKey()]=ee}(d,g.batchId,o),yield to(d,g.changes),yield Dh(d.remoteStore)}catch(g){const y=Fc(g,"Failed to persist write");o.reject(y)}}),Ih.apply(this,arguments)}function u0(l,i){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,m.Z)(function*(l,i){const o=Kn(l);try{const d=yield Pm(o.localStore,i);i.targetChanges.forEach((g,y)=>{const E=o.cc.get(y);E&&(Ei(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?E.nc=!0:g.modifiedDocuments.size>0?Ei(E.nc):g.removedDocuments.size>0&&(Ei(E.nc),E.nc=!1))}),yield to(o,d,i)}catch(d){yield Lo(d)}}),Cg.apply(this,arguments)}function ka(l,i,o){const d=Kn(l);if(d.isPrimaryClient&&0===o||!d.isPrimaryClient&&1===o){const g=[];d.ic.forEach((y,E)=>{const L=E.view.Pu(i);L.snapshot&&g.push(L.snapshot)}),function(y,E){const L=Kn(y);L.onlineState=E;let ee=!1;L.queries.forEach((pe,et)=>{for(const At of et.listeners)At.Pu(E)&&(ee=!0)}),ee&&Cd(L)}(d.eventManager,i),g.length&&d.sc.zo(g),d.onlineState=i,d.isPrimaryClient&&d.sharedClientState.setOnlineState(i)}}function Km(l,i,o){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,m.Z)(function*(l,i,o){const d=Kn(l);d.sharedClientState.updateQueryState(i,"rejected",o);const g=d.cc.get(i),y=g&&g.key;if(y){let E=new or(Yn.comparator);E=E.insert(y,br.newNoDocument(y,bi.min()));const L=Bi().add(y),ee=new pf(bi.min(),new Map,new Ii(mi),E,L);yield u0(d,ee),d.uc=d.uc.remove(y),d.cc.delete(i),Lc(d)}else yield yh(d.localStore,i,!1).then(()=>xd(d,i,o)).catch(Lo)}),Wf.apply(this,arguments)}function kv(l,i){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,m.Z)(function*(l,i){const o=Kn(l),d=i.batch.batchId;try{const g=yield Of(o.localStore,i);Mh(o,d,null),Dg(o,d),o.sharedClientState.updateMutationState(d,"acknowledged"),yield to(o,g)}catch(g){yield Lo(g)}}),Yf.apply(this,arguments)}function Rv(l,i,o){return Td.apply(this,arguments)}function Td(){return Td=(0,m.Z)(function*(l,i,o){const d=Kn(l);try{const g=yield function(y,E){const L=Kn(y);return L.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let pe;return L.mutationQueue.lookupMutationBatch(ee,E).next(et=>(Ei(null!==et),pe=et.keys(),L.mutationQueue.removeMutationBatch(ee,et))).next(()=>L.mutationQueue.performConsistencyCheck(ee)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(ee,pe,E)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,pe)).next(()=>L.localDocuments.getDocuments(ee,pe))})}(d.localStore,i);Mh(d,i,o),Dg(d,i),d.sharedClientState.updateMutationState(i,"rejected",o),yield to(d,g)}catch(g){yield Lo(g)}}),Td.apply(this,arguments)}function qa(){return qa=(0,m.Z)(function*(l,i){const o=Kn(l);Rs(o.remoteStore)||Bn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const d=yield function(y){const E=Kn(y);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>E.mutationQueue.getHighestUnacknowledgedBatchId(L))}(o.localStore);if(-1===d)return void i.resolve();const g=o.lc.get(d)||[];g.push(i),o.lc.set(d,g)}catch(d){const g=Fc(d,"Initialization of waitForPendingWrites() operation failed");i.reject(g)}}),qa.apply(this,arguments)}function Dg(l,i){(l.lc.get(i)||[]).forEach(o=>{o.resolve()}),l.lc.delete(i)}function Mh(l,i,o){const d=Kn(l);let g=d.hc[d.currentUser.toKey()];if(g){const y=g.get(i);y&&(o?y.reject(o):y.resolve(),g=g.remove(i)),d.hc[d.currentUser.toKey()]=g}}function xd(l,i,o=null){l.sharedClientState.removeLocalQueryTarget(i);for(const d of l.rc.get(i))l.ic.delete(d),o&&l.sc.wc(d,o);l.rc.delete(i),l.isPrimaryClient&&l.ac.ls(i).forEach(d=>{l.ac.containsKey(d)||Eg(l,d)})}function Eg(l,i){l.oc.delete(i.path.canonicalString());const o=l.uc.get(i);null!==o&&(Rr(l.remoteStore,o),l.uc=l.uc.remove(i),l.cc.delete(o),Lc(l))}function Oh(l,i,o){for(const d of o)d instanceof yg?(l.ac.addReference(d.key,i),h0(l,d)):d instanceof a0?(Bn("SyncEngine","Document no longer in limbo: "+d.key),l.ac.removeReference(d.key,i),l.ac.containsKey(d.key)||Eg(l,d.key)):ci()}function h0(l,i){const o=i.key,d=o.path.canonicalString();l.uc.get(o)||l.oc.has(d)||(Bn("SyncEngine","New document in limbo: "+o),l.oc.add(d),Lc(l))}function Lc(l){for(;l.oc.size>0&&l.uc.size<l.maxConcurrentLimboResolutions;){const i=l.oc.values().next().value;l.oc.delete(i);const o=new Yn(Gi.fromString(i)),d=l.fc.next();l.cc.set(d,new $m(o)),l.uc=l.uc.insert(o,d),vd(l.remoteStore,new Yl(Vo(wc(o.path)),d,2,xo.at))}}function to(l,i,o){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,m.Z)(function*(l,i,o){const d=Kn(l),g=[],y=[],E=[];var L;d.ic.isEmpty()||(d.ic.forEach((L,ee)=>{E.push(d._c(ee,i,o).then(pe=>{if((pe||o)&&d.isPrimaryClient&&d.sharedClientState.updateQueryState(ee.targetId,pe?.fromCache?"not-current":"current"),pe){g.push(pe);const et=og.Ci(ee.targetId,pe);y.push(et)}}))}),yield Promise.all(E),d.sc.zo(g),yield(L=(0,m.Z)(function*(ee,pe){const et=Kn(ee);try{yield et.persistence.runTransaction("notifyLocalViewChanges","readwrite",At=>on.forEach(pe,rn=>on.forEach(rn.Si,Cn=>et.persistence.referenceDelegate.addReference(At,rn.targetId,Cn)).next(()=>on.forEach(rn.Di,Cn=>et.persistence.referenceDelegate.removeReference(At,rn.targetId,Cn)))))}catch(At){if(!qs(At))throw At;Bn("LocalStore","Failed to update sequence numbers: "+At)}for(const At of pe){const rn=At.targetId;if(!At.fromCache){const Cn=et.Ui.get(rn),Xn=Cn.withLastLimboFreeSnapshotVersion(Cn.snapshotVersion);et.Ui=et.Ui.insert(rn,Xn)}}}),function(ee,pe){return L.apply(this,arguments)})(d.localStore,y))}),Sd.apply(this,arguments)}function Pu(l,i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,m.Z)(function*(l,i){const o=Kn(l);if(!o.currentUser.isEqual(i)){Bn("SyncEngine","User change. New user:",i.toKey());const d=yield Nm(o.localStore,i);o.currentUser=i,(g=o).lc.forEach(E=>{E.forEach(L=>{L.reject(new kn(hn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.lc.clear(),o.sharedClientState.handleUserChange(i,d.removedBatchIds,d.addedBatchIds),yield to(o,d.ji)}var g}),Kf.apply(this,arguments)}function Tg(l,i){const o=Kn(l),d=o.cc.get(i);if(d&&d.nc)return Bi().add(d.key);{let g=Bi();const y=o.rc.get(i);if(!y)return g;for(const E of y){const L=o.ic.get(E);g=g.unionWith(L.view.ju)}return g}}function Zm(l,i){return xg.apply(this,arguments)}function xg(){return xg=(0,m.Z)(function*(l,i){const o=Kn(l),d=yield Rf(o.localStore,i.query,!0),g=i.view.tc(d);return o.isPrimaryClient&&Oh(o,i.targetId,g.Xu),g}),xg.apply(this,arguments)}function qm(l,i){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,m.Z)(function*(l,i){const o=Kn(l);return Bm(o.localStore,i).then(d=>to(o,d))}),Zf.apply(this,arguments)}function Ra(l,i,o,d){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,m.Z)(function*(l,i,o,d){const g=Kn(l),y=yield function(E,L){const ee=Kn(E),pe=Kn(ee.mutationQueue);return ee.persistence.runTransaction("Lookup mutation documents","readonly",et=>pe.Tn(et,L).next(At=>At?ee.localDocuments.getDocuments(et,At):on.resolve(null)))}(g.localStore,i);var L;null!==y?("pending"===o?yield Dh(g.remoteStore):"acknowledged"===o||"rejected"===o?(Mh(g,i,d||null),Dg(g,i),L=i,Kn(Kn(g.localStore).mutationQueue).An(L)):ci(),yield to(g,y)):Bn("SyncEngine","Cannot apply mutation batch with id: "+i)}),Ad.apply(this,arguments)}function Sg(){return Sg=(0,m.Z)(function*(l,i){const o=Kn(l);if(Jm(o),Nv(o),!0===i&&!0!==o.dc){const d=o.sharedClientState.getAllActiveQueryTargets(),g=yield qf(o,d.toArray());o.dc=!0,yield Oa(o.remoteStore,!0);for(const y of g)vd(o.remoteStore,y)}else if(!1===i&&!1!==o.dc){const d=[];let g=Promise.resolve();o.rc.forEach((y,E)=>{o.sharedClientState.isLocalQueryTarget(E)?d.push(E):g=g.then(()=>(xd(o,E),yh(o.localStore,E,!0))),Rr(o.remoteStore,E)}),yield g,yield qf(o,d),function(y){const E=Kn(y);E.cc.forEach((L,ee)=>{Rr(E.remoteStore,ee)}),E.ac.fs(),E.cc=new Map,E.uc=new or(Yn.comparator)}(o),o.dc=!1,yield Oa(o.remoteStore,!1)}}),Sg.apply(this,arguments)}function qf(l,i,o){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,m.Z)(function*(l,i,o){const d=Kn(l),g=[],y=[];for(const E of i){let L;const ee=d.rc.get(E);if(ee&&0!==ee.length){L=yield Xl(d.localStore,Vo(ee[0]));for(const pe of ee){const et=d.ic.get(pe),At=yield Zm(d,et);At.snapshot&&y.push(At.snapshot)}}else{const pe=yield _v(d.localStore,E);L=yield Xl(d.localStore,pe),yield Wm(d,Lu(pe),E,!1,L.resumeToken)}g.push(L)}return d.sc.zo(y),g}),Fu.apply(this,arguments)}function Lu(l){return rf(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Id(l){const i=Kn(l);return Kn(Kn(i.localStore).persistence).vi()}function Bc(l,i,o,d){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,m.Z)(function*(l,i,o,d){const g=Kn(l);if(g.dc)return void Bn("SyncEngine","Ignoring unexpected query state notification.");const y=g.rc.get(i);if(y&&y.length>0)switch(o){case"current":case"not-current":{const E=yield Bm(g.localStore,od(y[0])),L=pf.createSynthesizedRemoteEventForCurrentChange(i,"current"===o,qi.EMPTY_BYTE_STRING);yield to(g,E,L);break}case"rejected":yield yh(g.localStore,i,!0),xd(g,i,d);break;default:ci()}}),Xm.apply(this,arguments)}function Na(l,i,o){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,m.Z)(function*(l,i,o){const d=Jm(l);if(d.dc){for(const g of i){if(d.rc.has(g)){Bn("SyncEngine","Adding an already active target "+g);continue}const y=yield _v(d.localStore,g),E=yield Xl(d.localStore,y);yield Wm(d,Lu(y),E.targetId,!1,E.resumeToken),vd(d.remoteStore,E)}for(const g of o)d.rc.has(g)&&(yield yh(d.localStore,g,!1).then(()=>{Rr(d.remoteStore,g),xd(d,g)}).catch(Lo))}}),Bu.apply(this,arguments)}function Jm(l){const i=Kn(l);return i.remoteStore.remoteSyncer.applyRemoteEvent=u0.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tg.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Km.bind(null,i),i.sc.zo=Ru.bind(null,i.eventManager),i.sc.wc=Nu.bind(null,i.eventManager),i}function Nv(l){const i=Kn(l);return i.remoteStore.remoteSyncer.applySuccessfulWrite=kv.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Rv.bind(null,i),i}class Vu{constructor(){this.synchronizeTabs=!1}initialize(i){var o=this;return(0,m.Z)(function*(){o.It=_d(i.databaseInfo.databaseId),o.sharedClientState=o.gc(i),o.persistence=o.yc(i),yield o.persistence.start(),o.localStore=o.Ic(i),o.gcScheduler=o.Tc(i,o.localStore),o.indexBackfillerScheduler=o.Ec(i,o.localStore)})()}Tc(i,o){return null}Ec(i,o){return null}Ic(i){return lg(this.persistence,new ag,i.initialUser,this.It)}yc(i){return new Om(fd.Bs,this.It)}gc(i){return new yv}terminate(){var i=this;return(0,m.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Ig extends Vu{constructor(i,o,d){super(),this.Ac=i,this.cacheSizeBytes=o,this.forceOwnership=d,this.synchronizeTabs=!1}initialize(i){var o=()=>super.initialize,d=this;return(0,m.Z)(function*(){yield o().call(d,i),yield d.Ac.initialize(d,i),yield Nv(d.Ac.syncEngine),yield Dh(d.Ac.remoteStore),yield d.persistence.li(()=>(d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(),d.indexBackfillerScheduler&&!d.indexBackfillerScheduler.started&&d.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(i){return lg(this.persistence,new ag,i.initialUser,this.It)}Tc(i,o){return new mh(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue,o)}Ec(i,o){const d=new ef(o,this.persistence);return new Qd(i.asyncQueue,d)}yc(i){const o=Rm(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),d=void 0!==this.cacheSizeBytes?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new Mf(this.synchronizeTabs,o,i.clientId,d,i.asyncQueue,pg(),Lf(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(i){return new yv}}class Mg extends Ig{constructor(i,o){super(i,o,!1),this.Ac=i,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(i){var o=()=>super.initialize,d=this;return(0,m.Z)(function*(){yield o().call(d,i);const g=d.Ac.syncEngine;d.sharedClientState instanceof fg&&(d.sharedClientState.syncEngine={Fr:Ra.bind(null,g),$r:Bc.bind(null,g),Br:Na.bind(null,g),vi:Id.bind(null,g),Mr:qm.bind(null,g)},yield d.sharedClientState.start()),yield d.persistence.li(function(){var y=(0,m.Z)(function*(E){yield function Qm(l,i){return Sg.apply(this,arguments)}(d.Ac.syncEngine,E),d.gcScheduler&&(E&&!d.gcScheduler.started?d.gcScheduler.start():E||d.gcScheduler.stop()),d.indexBackfillerScheduler&&(E&&!d.indexBackfillerScheduler.started?d.indexBackfillerScheduler.start():E||d.indexBackfillerScheduler.stop())});return function(E){return y.apply(this,arguments)}}())})()}gc(i){const o=pg();if(!fg.C(o))throw new kn(hn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const d=Rm(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new fg(o,i.asyncQueue,d,i.clientId,i.initialUser)}}class Vc{initialize(i,o){var d=this;return(0,m.Z)(function*(){d.localStore||(d.localStore=i.localStore,d.sharedClientState=i.sharedClientState,d.datastore=d.createDatastore(o),d.remoteStore=d.createRemoteStore(o),d.eventManager=d.createEventManager(o),d.syncEngine=d.createSyncEngine(o,!i.synchronizeTabs),d.sharedClientState.onlineStateHandler=g=>ka(d.syncEngine,g,1),d.remoteStore.remoteSyncer.handleCredentialChange=Pu.bind(null,d.syncEngine),yield Oa(d.remoteStore,d.syncEngine.isPrimaryClient))})()}createEventManager(i){return new qr}createDatastore(i){const o=_d(i.databaseInfo.databaseId),d=new Pi(i.databaseInfo);return new jm(i.authCredentials,i.appCheckCredentials,d,o)}createRemoteStore(i){return o=this.localStore,d=this.datastore,g=i.asyncQueue,y=L=>ka(this.syncEngine,L,0),E=bv.C()?new bv:new Um,new Rc(o,d,g,y,E);var o,d,g,y,E}createSyncEngine(i,o){return function(d,g,y,E,L,ee,pe){const et=new bg(d,g,y,E,L,ee);return pe&&(et.dc=!0),et}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){return(i=(0,m.Z)(function*(o){const d=Kn(o);Bn("RemoteStore","RemoteStore shutting down."),d.wu.add(5),yield wh(d),d.gu.shutdown(),d.yu.set("Unknown")}),function(o){return i.apply(this,arguments)})(this.remoteStore);var i}}function Qf(l,i,o){if(!o)throw new kn(hn.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${i}.`)}function e_(l,i,o,d){if(!0===i&&!0===d)throw new kn(hn.INVALID_ARGUMENT,`${l} and ${o} cannot be used together.`)}function Lr(l){if(!Yn.isDocumentKey(l))throw new kn(hn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Pa(l){if(Yn.isDocumentKey(l))throw new kn(hn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Hu(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const i=(o=l).constructor?o.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var o;return"function"==typeof l?"a function":ci()}function Xi(l,i){if("_delegate"in l&&(l=l._delegate),!(l instanceof i)){if(i.name===l.constructor.name)throw new kn(hn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Hu(l);throw new kn(hn.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${o}`)}}return l}function Og(l,i){if(i<=0)throw new kn(hn.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${i}.`)}const Xf=new Map;class Uu{constructor(i){var o;if(void 0===i.host){if(void 0!==i.ssl)throw new kn(hn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(o=i.ssl)||void 0===o||o;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new kn(hn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,e_("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class oa{constructor(i,o,d,g){this._authCredentials=i,this._appCheckCredentials=o,this._databaseId=d,this._app=g,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kn(hn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new kn(hn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uu(i),void 0!==i.credentials&&(this._authCredentials=function(o){if(!o)return new su;switch(o.type){case"gapi":return new Ju(o.client,o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new kn(hn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=Xf.get(i);o&&(Bn("ComponentProvider","Removing Datastore"),Xf.delete(i),o.terminate())}(this),Promise.resolve()}}function El(l,i,o,d={}){var g;const y=(l=Xi(l,oa))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==i&&Ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),l._setSettings(Object.assign(Object.assign({},y),{host:`${i}:${o}`,ssl:!1})),d.mockUserToken){let E,L;if("string"==typeof d.mockUserToken)E=d.mockUserToken,L=dr.MOCK_USER;else{E=(0,N.Sg)(d.mockUserToken,null===(g=l._app)||void 0===g?void 0:g.options.projectId);const ee=d.mockUserToken.sub||d.mockUserToken.user_id;if(!ee)throw new kn(hn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new dr(ee)}l._authCredentials=new $a(new ru(E,L))}}class ts{constructor(i,o,d){this.converter=o,this._key=d,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new ts(this.firestore,i,this._key)}}class Ns{constructor(i,o,d){this.converter=o,this._query=d,this.type="query",this.firestore=i}withConverter(i){return new Ns(this.firestore,i,this._query)}}class ec extends Ns{constructor(i,o,d){super(i,o,wc(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new ts(this.firestore,null,new Yn(i))}withConverter(i){return new ec(this.firestore,i,this._path)}}function Jf(l,i,...o){if(l=(0,N.m9)(l),Qf("collection","path",i),l instanceof oa){const d=Gi.fromString(i,...o);return Pa(d),new ec(l,null,d)}{if(!(l instanceof ts||l instanceof ec))throw new kn(hn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(Gi.fromString(i,...o));return Pa(d),new ec(l.firestore,null,d)}}function f0(l,i){if(l=Xi(l,oa),Qf("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new kn(hn.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(l,null,(o=i,new Wl(Gi.emptyPath(),o)));var o}function Pv(l,i,...o){if(l=(0,N.m9)(l),1===arguments.length&&(i=ho.R()),Qf("doc","path",i),l instanceof oa){const d=Gi.fromString(i,...o);return Lr(d),new ts(l,null,new Yn(d))}{if(!(l instanceof ts||l instanceof ec))throw new kn(hn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(Gi.fromString(i,...o));return Lr(d),new ts(l.firestore,l instanceof ec?l.converter:null,new Yn(d))}}function p0(l,i){return l=(0,N.m9)(l),i=(0,N.m9)(i),(l instanceof ts||l instanceof ec)&&(i instanceof ts||i instanceof ec)&&l.firestore===i.firestore&&l.path===i.path&&l.converter===i.converter}function ep(l,i){return l=(0,N.m9)(l),i=(0,N.m9)(i),l instanceof Ns&&i instanceof Ns&&l.firestore===i.firestore&&ih(l._query,i._query)&&l.converter===i.converter}function Fv(l,i=10240){let o=0;return{read:()=>(0,m.Z)(function*(){if(o<l.byteLength){const d={value:l.slice(o,o+i),done:!1};return o+=i,d}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kg{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Rc(this.observer.next,i)}error(i){this.observer.error?this.Rc(this.observer.error,i):_r("Uncaught Error in snapshot listener:",i)}bc(){this.muted=!0}Rc(i,o){this.muted||setTimeout(()=>{this.muted||i(o)},0)}}class Rg{constructor(i,o){this.Pc=i,this.It=o,this.metadata=new Ur,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(d=>{d&&d.Ou()?this.metadata.resolve(d.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(d?.payload)}`))},d=>this.metadata.reject(d))}close(){return this.Pc.cancel()}getMetadata(){var i=this;return(0,m.Z)(function*(){return i.metadata.promise})()}mc(){var i=this;return(0,m.Z)(function*(){return yield i.getMetadata(),i.Vc()})()}Vc(){var i=this;return(0,m.Z)(function*(){const o=yield i.Sc();if(null===o)return null;const d=i.vc.decode(o),g=Number(d);isNaN(g)&&i.Dc(`length string (${d}) is not valid number`);const y=yield i.Cc(g);return new o0(JSON.parse(y),o.length+g)})()}xc(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}Sc(){var i=this;return(0,m.Z)(function*(){for(;i.xc()<0&&!(yield i.Nc()););if(0===i.buffer.length)return null;const o=i.xc();o<0&&i.Dc("Reached the end of bundle when a length string is expected.");const d=i.buffer.slice(0,o);return i.buffer=i.buffer.slice(o),d})()}Cc(i){var o=this;return(0,m.Z)(function*(){for(;o.buffer.length<i;)(yield o.Nc())&&o.Dc("Reached the end of bundle when more is expected.");const d=o.vc.decode(o.buffer.slice(0,i));return o.buffer=o.buffer.slice(i),d})()}Dc(i){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${i}`)}Nc(){var i=this;return(0,m.Z)(function*(){const o=yield i.Pc.read();if(!o.done){const d=new Uint8Array(i.buffer.length+o.value.length);d.set(i.buffer),d.set(o.value,i.buffer.length),i.buffer=d}return o.done})()}}class n_{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var o=this;return(0,m.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new kn(hn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const d=yield(g=(0,m.Z)(function*(y,E){const L=Kn(y),ee=_f(L.It)+"/documents",pe={documents:E.map(Cn=>hh(L.It,Cn))},et=yield L._o("BatchGetDocuments",ee,pe,E.length),At=new Map;et.forEach(Cn=>{const Mn=function Q_(l,i){return"found"in i?function(o,d){Ei(!!d.found);const g=wu(o,d.found.name),y=po(d.found.updateTime),E=new fo({mapValue:{fields:d.found.fields}});return br.newFoundDocument(g,y,E)}(l,i):"missing"in i?function(o,d){Ei(!!d.missing),Ei(!!d.readTime);const g=wu(o,d.missing),y=po(d.readTime);return br.newNoDocument(g,y)}(l,i):ci()}(L.It,Cn);At.set(Mn.key.toString(),Mn)});const rn=[];return E.forEach(Cn=>{const Mn=At.get(Cn.toString());Ei(!!Mn),rn.push(Mn)}),rn}),function(y,E){return g.apply(this,arguments)})(o.datastore,i);var g;return d.forEach(g=>o.recordVersion(g)),d})()}set(i,o){this.write(o.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,o){try{this.write(o.toMutation(i,this.preconditionForUpdate(i)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(i.toString())}delete(i){this.write(new Zt(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,m.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const o=i.readVersions;var d;i.mutations.forEach(d=>{o.delete(d.key.toString())}),o.forEach((d,g)=>{const y=Yn.fromPath(g);i.mutations.push(new wn(y,i.precondition(y)))}),yield(d=(0,m.Z)(function*(g,y){const E=Kn(g),L=_f(E.It)+"/documents",ee={writes:y.map(pe=>Up(E.It,pe))};yield E.ao("Commit",L,ee)}),function(g,y){return d.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let o;if(i.isFoundDocument())o=i.version;else{if(!i.isNoDocument())throw ci();o=bi.min()}const d=this.readVersions.get(i.key.toString());if(d){if(!o.isEqual(d))throw new kn(hn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),o)}precondition(i){const o=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&o?o.isEqual(bi.min())?Yr.exists(!1):Yr.updateTime(o):Yr.none()}preconditionForUpdate(i){const o=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&o){if(o.isEqual(bi.min()))throw new kn(hn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yr.updateTime(o)}return Yr.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class tw{constructor(i,o,d,g,y){this.asyncQueue=i,this.datastore=o,this.options=d,this.updateFunction=g,this.deferred=y,this.kc=d.maxAttempts,this.No=new gg(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var i=this;this.No.Ro((0,m.Z)(function*(){const o=new n_(i.datastore),d=i.Mc(o);d&&d.then(g=>{i.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{i.deferred.resolve(g)}).catch(y=>{i.Fc(y)}))}).catch(g=>{i.Fc(g)})}))}Mc(i){try{const o=this.updateFunction(i);return!ft(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Fc(i){this.kc>0&&this.$c(i)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(i)}$c(i){if("FirebaseError"===i.name){const o=i.code;return"aborted"===o||"failed-precondition"===o||!Tr(o)}return!1}}class Lv{constructor(i,o,d,g){var y=this;this.authCredentials=i,this.appCheckCredentials=o,this.asyncQueue=d,this.databaseInfo=g,this.user=dr.UNAUTHENTICATED,this.clientId=ho.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(d,function(){var E=(0,m.Z)(function*(L){Bn("FirestoreClient","Received user=",L.uid),yield y.authCredentialListener(L),y.user=L});return function(L){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(d,E=>(Bn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var i=this;return(0,m.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kn(hn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const o=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),o.resolve()}catch(d){const g=Fc(d,"Failed to shutdown persistence");o.reject(g)}})),o.promise}}function i_(l,i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,m.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress(),Bn("FirestoreClient","Initializing OfflineComponentProvider");const o=yield l.getConfiguration();yield i.initialize(o);let d=o.initialUser;l.setCredentialChangeListener(function(){var g=(0,m.Z)(function*(y){d.isEqual(y)||(yield Nm(i.localStore,y),d=y)});return function(y){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=i}),Ng.apply(this,arguments)}function kh(l,i){return Md.apply(this,arguments)}function Md(){return Md=(0,m.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress();const o=yield Qa(l);Bn("FirestoreClient","Initializing OnlineComponentProvider");const d=yield l.getConfiguration();yield i.initialize(o,d),l.setCredentialChangeListener(g=>Gf(i.remoteStore,g)),l.setAppCheckTokenChangeListener((g,y)=>Gf(i.remoteStore,y)),l.onlineComponents=i}),Md.apply(this,arguments)}function Qa(l){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,m.Z)(function*(l){return l.offlineComponents||(Bn("FirestoreClient","Using default OfflineComponentProvider"),yield i_(l,new Vu)),l.offlineComponents}),Hc.apply(this,arguments)}function Od(l){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,m.Z)(function*(l){return l.onlineComponents||(Bn("FirestoreClient","Using default OnlineComponentProvider"),yield kh(l,new Vc)),l.onlineComponents}),Uc.apply(this,arguments)}function r_(l){return Qa(l).then(i=>i.persistence)}function kd(l){return Qa(l).then(i=>i.localStore)}function Pg(l){return Od(l).then(i=>i.remoteStore)}function s_(l){return Od(l).then(i=>i.syncEngine)}function Xa(l){return a_.apply(this,arguments)}function a_(){return a_=(0,m.Z)(function*(l){const i=yield Od(l),o=i.eventManager;return o.onListen=l0.bind(null,i.syncEngine),o.onUnlisten=c0.bind(null,i.syncEngine),o}),a_.apply(this,arguments)}function l_(l,i,o={}){const d=new Ur;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(g,y,E,L,ee){const pe=new kg({next:At=>{y.enqueueAndForget(()=>ku(g,et));const rn=At.docs.has(E);!rn&&At.fromCache?ee.reject(new kn(hn.UNAVAILABLE,"Failed to get document because the client is offline.")):rn&&At.fromCache&&L&&"server"===L.source?ee.reject(new kn(hn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(At)},error:At=>ee.reject(At)}),et=new Fi(wc(E.path),pe,{includeMetadataChanges:!0,ku:!0});return xh(g,et)}(yield Xa(l),l.asyncQueue,i,o,d)})),d.promise}function Lg(l,i,o={}){const d=new Ur;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(g,y,E,L,ee){const pe=new kg({next:At=>{y.enqueueAndForget(()=>ku(g,et)),At.fromCache&&"server"===L.source?ee.reject(new kn(hn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(At)},error:At=>ee.reject(At)}),et=new Fi(E,pe,{includeMetadataChanges:!0,ku:!0});return xh(g,et)}(yield Xa(l),l.asyncQueue,i,o,d)})),d.promise}class np{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new gg(this,"async_queue_retry"),this.Wc=()=>{const o=Lf();o&&Bn("AsyncQueue","Visibility state changed to "+o.visibilityState),this.No.Po()};const i=Lf();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.zc(),this.Hc(i)}enterRestrictedMode(i){if(!this.Uc){this.Uc=!0,this.Qc=i||!1;const o=Lf();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Wc)}}enqueue(i){if(this.zc(),this.Uc)return new Promise(()=>{});const o=new Ur;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Lc.push(i),this.Jc()))}Jc(){var i=this;return(0,m.Z)(function*(){if(0!==i.Lc.length){try{yield i.Lc[0](),i.Lc.shift(),i.No.reset()}catch(o){if(!qs(o))throw o;Bn("AsyncQueue","Operation failed with retryable error: "+o)}i.Lc.length>0&&i.No.Ro(()=>i.Jc())}})()}Hc(i){const o=this.Bc.then(()=>(this.Gc=!0,i().catch(d=>{throw this.Kc=d,this.Gc=!1,_r("INTERNAL UNHANDLED ERROR: ",function(y){let E=y.message||"";return y.stack&&(E=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),E}(d)),d}).then(d=>(this.Gc=!1,d))));return this.Bc=o,o}enqueueAfterDelay(i,o,d){this.zc(),this.jc.indexOf(i)>-1&&(o=0);const g=Go.createAndSchedule(this,i,o,d,y=>this.Yc(y));return this.qc.push(g),g}zc(){this.Kc&&ci()}verifyOperationInProgress(){}Xc(){var i=this;return(0,m.Z)(function*(){let o;do{o=i.Bc,yield o}while(o!==i.Bc)})()}Zc(i){for(const o of this.qc)if(o.timerId===i)return!0;return!1}ta(i){return this.Xc().then(()=>{this.qc.sort((o,d)=>o.targetTimeMs-d.targetTimeMs);for(const o of this.qc)if(o.skipDelay(),"all"!==i&&o.timerId===i)break;return this.Xc()})}ea(i){this.jc.push(i)}Yc(i){const o=this.qc.indexOf(i);this.qc.splice(o,1)}}function d_(l){return function(i,o){if("object"!=typeof i||null===i)return!1;const d=i;for(const g of["next","error","complete"])if(g in d&&"function"==typeof d[g])return!0;return!1}(l)}class m0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,o,d){this._progressObserver={next:i,error:o,complete:d}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,o){return this._taskCompletionResolver.promise.then(i,o)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}const _0=-1;class Qr extends oa{constructor(i,o,d,g){super(i,o,d,g),this.type="firestore",this._queue=new np,this._persistenceKey=g?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gc(this),this._firestoreClient.terminate()}}function v0(l,i){const o="object"==typeof l?l:(0,h.getApp)(),d="string"==typeof l?l:i||"(default)",g=(0,h._getProvider)(o,"firestore").getImmediate({identifier:d});if(!g._initialized){const y=(0,N.P0)("firestore");y&&El(g,...y)}return g}function ns(l){return l._firestoreClient||Gc(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Gc(l){var i;const o=l._freezeSettings(),d=(y=(null===(i=l._app)||void 0===i?void 0:i.options.appId)||"",new Z(l._databaseId,y,l._persistenceKey,(L=o).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var y,L;l._firestoreClient=new Lv(l._authCredentials,l._appCheckCredentials,l._queue,d)}function sw(l,i){Nd(l=Xi(l,Qr));const o=ns(l),d=l._freezeSettings(),g=new Vc;return h_(o,g,new Ig(g,d.cacheSizeBytes,i?.forceOwnership))}function Rh(l){Nd(l=Xi(l,Qr));const i=ns(l),o=l._freezeSettings(),d=new Vc;return h_(i,d,new Mg(d,o.cacheSizeBytes))}function h_(l,i,o){const d=new Ur;return l.asyncQueue.enqueue((0,m.Z)(function*(){try{yield i_(l,o),yield kh(l,i),d.resolve()}catch(g){const y=g;if(!("FirebaseError"===(E=y).name?E.code===hn.FAILED_PRECONDITION||E.code===hn.UNIMPLEMENTED:!(typeof DOMException<"u"&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw y;Ta("Error enabling offline persistence. Falling back to persistence disabled: "+y),d.reject(y)}var E})).then(()=>d.promise)}function y0(l){if(l._initialized&&!l._terminated)throw new kn(hn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Ur;return l._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(o=(0,m.Z)(function*(d){if(!jr.C())return Promise.resolve();const g=d+"main";yield jr.delete(g)}),function(d){return o.apply(this,arguments)})(Rm(l._databaseId,l._persistenceKey)),i.resolve()}catch(o){i.reject(o)}var o})),i.promise}function Bg(l){return function(i){const o=new Ur;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function d0(l,i){return qa.apply(this,arguments)}(yield s_(i),o)})),o.promise}(ns(l=Xi(l,Qr)))}function Vg(l){return function nw(l){return l.asyncQueue.enqueue((0,m.Z)(function*(){const i=yield r_(l),o=yield Pg(l);return i.setNetworkEnabled(!0),function(d){const g=Kn(d);return g.wu.delete(0),fr(g)}(o)}))}(ns(l=Xi(l,Qr)))}function Tl(l){return function g0(l){return l.asyncQueue.enqueue((0,m.Z)(function*(){const i=yield r_(l),o=yield Pg(l);return i.setNetworkEnabled(!1),(d=(0,m.Z)(function*(g){const y=Kn(g);y.wu.add(0),yield wh(y),y.yu.set("Offline")}),function(g){return d.apply(this,arguments)})(o);var d}))}(ns(l=Xi(l,Qr)))}function jo(l,i){const o=ns(l=Xi(l,Qr)),d=new m0;return function u_(l,i,o,d){const g=function(y,E){let L;return L="string"==typeof y?(new TextEncoder).encode(y):y,ee=function(ee,pe){if(ee instanceof Uint8Array)return Fv(ee,void 0);if(ee instanceof ArrayBuffer)return Fv(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Rg(ee,E);var ee}(o,_d(i));l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function Ag(l,i,o){const d=Kn(l);var g;(g=(0,m.Z)(function*(y,E,L){try{const ee=yield E.getMetadata();if(yield function(rn,Cn){const Mn=Kn(rn),Xn=po(Cn.createTime);return Mn.persistence.runTransaction("hasNewerBundle","readonly",ai=>Mn.Ns.getBundleMetadata(ai,Cn.id)).then(ai=>!!ai&&ai.createTime.compareTo(Xn)>=0)}(y.localStore,ee))return yield E.close(),L._completeWith({taskState:"Success",documentsLoaded:(rn=ee).totalDocuments,bytesLoaded:rn.totalBytes,totalDocuments:rn.totalDocuments,totalBytes:rn.totalBytes}),Promise.resolve(new Set);L._updateProgress(ls(ee));const pe=new Mv(ee,y.localStore,E.It);let et=yield E.mc();for(;et;){const rn=yield pe.Fu(et);rn&&L._updateProgress(rn),et=yield E.mc()}const At=yield pe.complete();return yield to(y,At.Lu,void 0),yield function(rn,Cn){const Mn=Kn(rn);return Mn.persistence.runTransaction("Save bundle","readwrite",Xn=>Mn.Ns.saveBundleMetadata(Xn,Cn))}(y.localStore,ee),L._completeWith(At.progress),Promise.resolve(At.Bu)}catch(ee){return Ta("SyncEngine",`Loading bundle failed with ${ee}`),L._failWith(ee),Promise.resolve(new Set)}var rn}),function(y,E,L){return g.apply(this,arguments)})(d,i,o).then(g=>{d.sharedClientState.notifyBundleLoaded(g)})}(yield s_(l),g,d)}))}(o,l._databaseId,i,d),d}function Rd(l,i){return function Bv(l,i){return l.asyncQueue.enqueue((0,m.Z)(function*(){return function(o,d){const g=Kn(o);return g.persistence.runTransaction("Get named query","readonly",y=>g.Ns.getNamedQuery(y,d))}(yield kd(l),i)}))}(ns(l=Xi(l,Qr)),i).then(o=>o?new Ns(l,null,o.query):null)}function Nd(l){if(l._initialized||l._terminated)throw new kn(hn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $s{constructor(i){this._byteString=i}static fromBase64String(i){try{return new $s(qi.fromBase64String(i))}catch(o){throw new kn(hn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(i){return new $s(qi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class tc{constructor(...i){for(let o=0;o<i.length;++o)if(0===i[o].length)throw new kn(hn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Fa{constructor(i){this._methodName=i}}class zo{constructor(i,o){if(!isFinite(i)||i<-90||i>90)throw new kn(hn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(o)||o<-180||o>180)throw new kn(hn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=i,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return mi(this._lat,i._lat)||mi(this._long,i._long)}}const Pd=/^__.*__$/;class Fd{constructor(i,o,d){this.data=i,this.fieldMask=o,this.fieldTransforms=d}toMutation(i,o){return null!==this.fieldMask?new D(i,this.data,this.fieldMask,o,this.fieldTransforms):new w(i,this.data,o,this.fieldTransforms)}}class wa{constructor(i,o,d){this.data=i,this.fieldMask=o,this.fieldTransforms=d}toMutation(i,o){return new D(i,this.data,this.fieldMask,o,this.fieldTransforms)}}function nc(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ci()}}class Ja{constructor(i,o,d,g,y,E){this.settings=i,this.databaseId=o,this.It=d,this.ignoreUndefinedProperties=g,void 0===y&&this.na(),this.fieldTransforms=y||[],this.fieldMask=E||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(i){return new Ja(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(i){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(i),g=this.ia({path:d,oa:!1});return g.ua(i),g}ca(i){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(i),g=this.ia({path:d,oa:!1});return g.na(),g}aa(i){return this.ia({path:void 0,oa:!0})}ha(i){return $u(i,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(i){return void 0!==this.fieldMask.find(o=>i.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>i.isPrefixOf(o.field))}na(){if(this.path)for(let i=0;i<this.path.length;i++)this.ua(this.path.get(i))}ua(i){if(0===i.length)throw this.ha("Document fields must not be empty");if(nc(this.sa)&&Pd.test(i))throw this.ha('Document fields cannot begin and end with "__"')}}class Nh{constructor(i,o,d){this.databaseId=i,this.ignoreUndefinedProperties=o,this.It=d||_d(i)}da(i,o,d,g=!1){return new Ja({sa:i,methodName:o,fa:d,path:vr.emptyPath(),oa:!1,la:g},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Gu(l){const i=l._freezeSettings(),o=_d(l._databaseId);return new Nh(l._databaseId,!!i.ignoreUndefinedProperties,o)}function rp(l,i,o,d,g,y={}){const E=l.da(y.merge||y.mergeFields?2:0,i,o,g);ju("Data must be an object, but it was:",E,d);const L=Hv(d,E);let ee,pe;if(y.merge)ee=new So(E.fieldMask),pe=E.fieldTransforms;else if(y.mergeFields){const et=[];for(const At of y.mergeFields){const rn=lp(i,At,o);if(!E.contains(rn))throw new kn(hn.INVALID_ARGUMENT,`Field '${rn}' is specified in your field mask but missing from your input data.`);cp(et,rn)||et.push(rn)}ee=new So(et),pe=E.fieldTransforms.filter(At=>ee.covers(At.field))}else ee=null,pe=E.fieldTransforms;return new Fd(new fo(L),ee,pe)}class Ld extends Fa{_toFieldTransform(i){if(2!==i.sa)throw i.ha(1===i.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Ld}}function sp(l,i,o){return new Ja({sa:3,fa:i.settings.fa,methodName:l._methodName,oa:o},i.databaseId,i.It,i.ignoreUndefinedProperties)}class Ug extends Fa{_toFieldTransform(i){return new Aa(i.path,new _l)}isEqual(i){return i instanceof Ug}}class jc extends Fa{constructor(i,o){super(i),this._a=o}_toFieldTransform(i){const o=sp(this,i,!0),d=this._a.map(y=>zc(y,o)),g=new Ho(d);return new Aa(i.path,g)}isEqual(i){return this===i}}class Ph extends Fa{constructor(i,o){super(i),this._a=o}_toFieldTransform(i){const o=sp(this,i,!0),d=this._a.map(y=>zc(y,o)),g=new Dc(d);return new Aa(i.path,g)}isEqual(i){return this===i}}class Vv extends Fa{constructor(i,o){super(i),this.wa=o}_toFieldTransform(i){const o=new _u(i.It,Bp(i.It,this.wa));return new Aa(i.path,o)}isEqual(i){return this===i}}function Gg(l,i,o,d){const g=l.da(1,i,o);ju("Data must be an object, but it was:",g,d);const y=[],E=fo.empty();xa(d,(ee,pe)=>{const et=zu(i,ee,o);pe=(0,N.m9)(pe);const At=g.ca(et);if(pe instanceof Ld)y.push(et);else{const rn=zc(pe,At);null!=rn&&(y.push(et),E.set(et,rn))}});const L=new So(y);return new wa(E,L,g.fieldTransforms)}function f_(l,i,o,d,g,y){const E=l.da(1,i,o),L=[lp(i,d,o)],ee=[g];if(y.length%2!=0)throw new kn(hn.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rn=0;rn<y.length;rn+=2)L.push(lp(i,y[rn])),ee.push(y[rn+1]);const pe=[],et=fo.empty();for(let rn=L.length-1;rn>=0;--rn)if(!cp(pe,L[rn])){const Cn=L[rn];let Mn=ee[rn];Mn=(0,N.m9)(Mn);const Xn=E.ca(Cn);if(Mn instanceof Ld)pe.push(Cn);else{const ai=zc(Mn,Xn);null!=ai&&(pe.push(Cn),et.set(Cn,ai))}}const At=new So(pe);return new wa(et,At,E.fieldTransforms)}function op(l,i,o,d=!1){return zc(o,l.da(d?4:3,i))}function zc(l,i){if(ap(l=(0,N.m9)(l)))return ju("Unsupported field value:",i,l),Hv(l,i);if(l instanceof Fa)return function(o,d){if(!nc(d.sa))throw d.ha(`${o._methodName}() can only be used with update() and set()`);if(!d.path)throw d.ha(`${o._methodName}() is not currently supported inside arrays`);const g=o._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(l,i),null;if(void 0===l&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),l instanceof Array){if(i.settings.oa&&4!==i.sa)throw i.ha("Nested arrays are not supported");return function(o,d){const g=[];let y=0;for(const E of o){let L=zc(E,d.aa(y));null==L&&(L={nullValue:"NULL_VALUE"}),g.push(L),y++}return{arrayValue:{values:g}}}(l,i)}return function(o,d){if(null===(o=(0,N.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Bp(d.It,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const g=Er.fromDate(o);return{timestampValue:mf(d.It,g)}}if(o instanceof Er){const g=new Er(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:mf(d.It,g)}}if(o instanceof zo)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof $s)return{bytesValue:Y_(d.It,o._byteString)};if(o instanceof ts){const g=d.databaseId,y=o.firestore._databaseId;if(!y.isEqual(g))throw d.ha(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:fm(o.firestore._databaseId||d.databaseId,o._key.path)}}throw d.ha(`Unsupported field value: ${Hu(o)}`)}(l,i)}function Hv(l,i){const o={};return Ip(l)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):xa(l,(d,g)=>{const y=zc(g,i.ra(d));null!=y&&(o[d]=y)}),{mapValue:{fields:o}}}function ap(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Er||l instanceof zo||l instanceof $s||l instanceof ts||l instanceof Fa)}function ju(l,i,o){if(!ap(o)||"object"!=typeof(d=o)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const d=Hu(o);throw i.ha("an object"===d?l+" a custom object":l+" "+d)}var d}function lp(l,i,o){if((i=(0,N.m9)(i))instanceof tc)return i._internalPath;if("string"==typeof i)return zu(l,i);throw $u("Field path arguments must be of type string or ",l,!1,void 0,o)}const Fh=new RegExp("[~\\*/\\[\\]]");function zu(l,i,o){if(i.search(Fh)>=0)throw $u(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,o);try{return new tc(...i.split("."))._internalPath}catch{throw $u(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,o)}}function $u(l,i,o,d,g){const y=d&&!d.isEmpty(),E=void 0!==g;let L=`Function ${i}() called with invalid data`;o&&(L+=" (via `toFirestore()`)"),L+=". ";let ee="";return(y||E)&&(ee+=" (found",y&&(ee+=` in field ${d}`),E&&(ee+=` in document ${g}`),ee+=")"),new kn(hn.INVALID_ARGUMENT,L+l+ee)}function cp(l,i){return l.some(o=>o.isEqual(i))}class $c{constructor(i,o,d,g,y){this._firestore=i,this._userDataWriter=o,this._key=d,this._document=g,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new Bd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const o=this._document.data.field(Wc("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o)}}}class Bd extends $c{data(){return super.data()}}function Wc(l,i){return"string"==typeof i?zu(l,i):i instanceof tc?i._internalPath:i._delegate._internalPath}function Lh(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new kn(hn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wu{}function p_(l,...i){for(const o of i)l=o._apply(l);return l}class Bh extends Wu{constructor(i,o,d){super(),this.ma=i,this.ga=o,this.ya=d,this.type="where"}_apply(i){const o=Gu(i.firestore),d=function(g,y,E,L,ee,pe,et){let At;if(ee.isKeyField()){if("array-contains"===pe||"array-contains-any"===pe)throw new kn(hn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${pe}' queries on documentId().`);if("in"===pe||"not-in"===pe){Yc(et,pe);const Cn=[];for(const Mn of et)Cn.push(Vh(L,g,Mn));At={arrayValue:{values:Cn}}}else At=Vh(L,g,et)}else"in"!==pe&&"not-in"!==pe&&"array-contains-any"!==pe||Yc(et,pe),At=op(E,"where",et,"in"===pe||"not-in"===pe);const rn=Wr.create(ee,pe,At);return function(Cn,Mn){if(Mn.dt()){const ai=nh(Cn);if(null!==ai&&!ai.isEqual(Mn.field))throw new kn(hn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ai.toString()}' and '${Mn.field.toString()}'`);const pr=ml(Cn);null!==pr&&dp(0,Mn.field,pr)}const Xn=function(ai,pr){for(const Or of ai.filters)if(pr.indexOf(Or.op)>=0)return Or.op;return null}(Cn,function(ai){switch(ai){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Mn.op));if(null!==Xn)throw new kn(hn.INVALID_ARGUMENT,Xn===Mn.op?`Invalid query. You cannot use more than one '${Mn.op.toString()}' filter.`:`Invalid query. You cannot use '${Mn.op.toString()}' filters with '${Xn.toString()}' filters.`)}(g,rn),rn}(i._query,0,o,i.firestore._databaseId,this.ma,this.ga,this.ya);return new Ns(i.firestore,i.converter,function(g,y){const E=g.filters.concat([y]);return new Wl(g.path,g.collectionGroup,g.explicitOrderBy.slice(),E,g.limit,g.limitType,g.startAt,g.endAt)}(i._query,d))}}function Uv(l,i,o){const d=i,g=Wc("where",l);return new Bh(g,d,o)}class g_ extends Wu{constructor(i,o){super(),this.ma=i,this.pa=o,this.type="orderBy"}_apply(i){const o=function(d,g,y){if(null!==d.startAt)throw new kn(hn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new kn(hn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new fu(g,y);return function(L,ee){if(null===ml(L)){const pe=nh(L);null!==pe&&dp(0,pe,ee.field)}}(d,E),E}(i._query,this.ma,this.pa);return new Ns(i.firestore,i.converter,function(d,g){const y=d.explicitOrderBy.concat([g]);return new Wl(d.path,d.collectionGroup,y,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(i._query,o))}}function m_(l,i="asc"){const o=i,d=Wc("orderBy",l);return new g_(d,o)}class jg extends Wu{constructor(i,o,d){super(),this.type=i,this.Ia=o,this.Ta=d}_apply(i){return new Ns(i.firestore,i.converter,sd(i._query,this.Ia,this.Ta))}}function zg(l){return Og("limit",l),new jg("limit",l,"F")}function Gv(l){return Og("limitToLast",l),new jg("limitToLast",l,"L")}class $g extends Wu{constructor(i,o,d){super(),this.type=i,this.Ea=o,this.Aa=d}_apply(i){const o=Vd(i,this.type,this.Ea,this.Aa);return new Ns(i.firestore,i.converter,(g=o,new Wl((d=i._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,g,d.endAt)));var d,g}}function jv(...l){return new $g("startAt",l,!0)}function b0(...l){return new $g("startAfter",l,!1)}class Wg extends Wu{constructor(i,o,d){super(),this.type=i,this.Ea=o,this.Aa=d}_apply(i){const o=Vd(i,this.type,this.Ea,this.Aa);return new Ns(i.firestore,i.converter,(g=o,new Wl((d=i._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,g)));var d,g}}function Yg(...l){return new Wg("endBefore",l,!1)}function up(...l){return new Wg("endAt",l,!0)}function Vd(l,i,o,d){if(o[0]=(0,N.m9)(o[0]),o[0]instanceof $c)return function(g,y,E,L,ee){if(!L)throw new kn(hn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const pe=[];for(const et of pu(g))if(et.field.isKeyField())pe.push(Qs(y,L.key));else{const At=L.data.field(et.field);if(R(At))throw new kn(hn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===At){const rn=et.field.canonicalString();throw new kn(hn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rn}' (used as the orderBy) does not exist.`)}pe.push(At)}return new Bo(pe,ee)}(l._query,l.firestore._databaseId,i,o[0]._document,d);{const g=Gu(l.firestore);return function(y,E,L,ee,pe,et){const At=y.explicitOrderBy;if(pe.length>At.length)throw new kn(hn.INVALID_ARGUMENT,`Too many arguments provided to ${ee}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rn=[];for(let Cn=0;Cn<pe.length;Cn++){const Mn=pe[Cn];if(At[Cn].field.isKeyField()){if("string"!=typeof Mn)throw new kn(hn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ee}(), but got a ${typeof Mn}`);if(!sf(y)&&-1!==Mn.indexOf("/"))throw new kn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ee}() must be a plain document ID, but '${Mn}' contains a slash.`);const Xn=y.path.child(Gi.fromString(Mn));if(!Yn.isDocumentKey(Xn))throw new kn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ee}() must result in a valid document path, but '${Xn}' is not because it contains an odd number of segments.`);const ai=new Yn(Xn);rn.push(Qs(E,ai))}else{const Xn=op(L,ee,Mn);rn.push(Xn)}}return new Bo(rn,et)}(l._query,l.firestore._databaseId,g,i,o,d)}}function Vh(l,i,o){if("string"==typeof(o=(0,N.m9)(o))){if(""===o)throw new kn(hn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sf(i)&&-1!==o.indexOf("/"))throw new kn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const d=i.path.child(Gi.fromString(o));if(!Yn.isDocumentKey(d))throw new kn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${d}' is not because it has an odd number of segments (${d.length}).`);return Qs(l,new Yn(d))}if(o instanceof ts)return Qs(l,o._key);throw new kn(hn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hu(o)}.`)}function Yc(l,i){if(!Array.isArray(l)||0===l.length)throw new kn(hn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(l.length>10)throw new kn(hn.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function dp(l,i,o){if(!o.isEqual(i))throw new kn(hn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class hp{convertValue(i,o="none"){switch(ii(i)){case 0:return null;case 1:return i.booleanValue;case 2:return yr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,o);case 5:return i.stringValue;case 6:return this.convertBytes(M(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,o);case 10:return this.convertObject(i.mapValue,o);default:throw ci()}}convertObject(i,o){const d={};return xa(i.fields,(g,y)=>{d[g]=this.convertValue(y,o)}),d}convertGeoPoint(i){return new zo(yr(i.latitude),yr(i.longitude))}convertArray(i,o){return(i.values||[]).map(d=>this.convertValue(d,o))}convertServerTimestamp(i,o){switch(o){case"previous":const d=S(i);return null==d?null:this.convertValue(d,o);case"estimate":return this.convertTimestamp(j(i));default:return null}}convertTimestamp(i){const o=Xo(i);return new Er(o.seconds,o.nanos)}convertDocumentKey(i,o){const d=Gi.fromString(i);Ei(Yy(d));const g=new Ae(d.get(1),d.get(3)),y=new Yn(d.popFirst(5));return g.isEqual(o)||_r(`Document ${y} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),y}}function fp(l,i,o){let d;return d=l?o&&(o.merge||o.mergeFields)?l.toFirestore(i,o):l.toFirestore(i):i,d}class pp extends hp{constructor(i){super(),this.firestore=i}convertBytes(i){return new $s(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new ts(this.firestore,null,o)}}class Kc{constructor(i,o){this.hasPendingWrites=i,this.fromCache=o}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Yu extends $c{constructor(i,o,d,g,y,E){super(i,o,d,g,E),this._firestore=i,this._firestoreImpl=i,this.metadata=y}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const o=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,o={}){if(this._document){const d=this._document.data.field(Wc("DocumentSnapshot.get",i));if(null!==d)return this._userDataWriter.convertValue(d,o.serverTimestamps)}}}class Ku extends Yu{data(i={}){return super.data(i)}}class Zc{constructor(i,o,d,g){this._firestore=i,this._userDataWriter=o,this._snapshot=g,this.metadata=new Kc(g.hasPendingWrites,g.fromCache),this.query=d}get docs(){const i=[];return this.forEach(o=>i.push(o)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,o){this._snapshot.docs.forEach(d=>{i.call(o,new Ku(this._firestore,this._userDataWriter,d.key,d,new Kc(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const o=!!i.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new kn(hn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){let y=0;return d._snapshot.docChanges.map(E=>({type:"added",doc:new Ku(d._firestore,d._userDataWriter,E.doc.key,E.doc,new Kc(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:y++}))}{let y=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(E=>g||3!==E.type).map(E=>{const L=new Ku(d._firestore,d._userDataWriter,E.doc.key,E.doc,new Kc(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter);let ee=-1,pe=-1;return 0!==E.type&&(ee=y.indexOf(E.doc.key),y=y.delete(E.doc.key)),1!==E.type&&(y=y.add(E.doc),pe=y.indexOf(E.doc.key)),{type:w0(E.type),doc:L,oldIndex:ee,newIndex:pe}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function w0(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ci()}}function zv(l,i){return l instanceof Yu&&i instanceof Yu?l._firestore===i._firestore&&l._key.isEqual(i._key)&&(null===l._document?null===i._document:l._document.isEqual(i._document))&&l._converter===i._converter:l instanceof Zc&&i instanceof Zc&&l._firestore===i._firestore&&ep(l.query,i.query)&&l.metadata.isEqual(i.metadata)&&l._snapshot.isEqual(i._snapshot)}function C0(l){l=Xi(l,ts);const i=Xi(l.firestore,Qr);return l_(ns(i),l._key).then(o=>La(i,l,o))}class Nr extends hp{constructor(i){super(),this.firestore=i}convertBytes(i){return new $s(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new ts(this.firestore,null,o)}}function gp(l){l=Xi(l,ts);const i=Xi(l.firestore,Qr),o=ns(i),d=new Nr(i);return function iw(l,i){const o=new Ur;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(d=(0,m.Z)(function*(g,y,E){try{const L=yield function(ee,pe){const et=Kn(ee);return et.persistence.runTransaction("read document","readonly",At=>et.localDocuments.getDocument(At,pe))}(g,y);L.isFoundDocument()?E.resolve(L):L.isNoDocument()?E.resolve(null):E.reject(new kn(hn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const ee=Fc(L,`Failed to get document '${y} from cache`);E.reject(ee)}}),function(g,y,E){return d.apply(this,arguments)})(yield kd(l),i,o);var d})),o.promise}(o,l._key).then(g=>new Yu(i,d,l._key,g,new Kc(null!==g&&g.hasLocalMutations,!0),l.converter))}function $v(l){l=Xi(l,ts);const i=Xi(l.firestore,Qr);return l_(ns(i),l._key,{source:"server"}).then(o=>La(i,l,o))}function D0(l){l=Xi(l,Ns);const i=Xi(l.firestore,Qr),o=ns(i),d=new Nr(i);return Lh(l._query),Lg(o,l._query).then(g=>new Zc(i,d,l,g))}function Hh(l){l=Xi(l,Ns);const i=Xi(l.firestore,Qr),o=ns(i),d=new Nr(i);return function Fg(l,i){const o=new Ur;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(d=(0,m.Z)(function*(g,y,E){try{const L=yield Rf(g,y,!0),ee=new $f(y,L.Hi),pe=ee.Wu(L.documents),et=ee.applyChanges(pe,!1);E.resolve(et.snapshot)}catch(L){const ee=Fc(L,`Failed to execute query '${y} against cache`);E.reject(ee)}}),function(g,y,E){return d.apply(this,arguments)})(yield kd(l),i,o);var d})),o.promise}(o,l._query).then(g=>new Zc(i,d,l,g))}function ic(l){l=Xi(l,Ns);const i=Xi(l.firestore,Qr),o=ns(i),d=new Nr(i);return Lg(o,l._query,{source:"server"}).then(g=>new Zc(i,d,l,g))}function Uh(l,i,o){l=Xi(l,ts);const d=Xi(l.firestore,Qr),g=fp(l.converter,i,o);return Gh(d,[rp(Gu(d),"setDoc",l._key,g,null!==l.converter,o).toMutation(l._key,Yr.none())])}function Wv(l,i,o,...d){l=Xi(l,ts);const g=Xi(l.firestore,Qr),y=Gu(g);let E;return E="string"==typeof(i=(0,N.m9)(i))||i instanceof tc?f_(y,"updateDoc",l._key,i,o,d):Gg(y,"updateDoc",l._key,i),Gh(g,[E.toMutation(l._key,Yr.exists(!0))])}function Hd(l){return Gh(Xi(l.firestore,Qr),[new Zt(l._key,Yr.none())])}function __(l,i){const o=Xi(l.firestore,Qr),d=Pv(l),g=fp(l.converter,i);return Gh(o,[rp(Gu(l.firestore),"addDoc",d._key,g,null!==l.converter,{}).toMutation(d._key,Yr.exists(!1))]).then(()=>d)}function mp(l,...i){var o,d,g;l=(0,N.m9)(l);let y={includeMetadataChanges:!1},E=0;"object"!=typeof i[E]||d_(i[E])||(y=i[E],E++);const L={includeMetadataChanges:y.includeMetadataChanges};if(d_(i[E])){const At=i[E];i[E]=null===(o=At.next)||void 0===o?void 0:o.bind(At),i[E+1]=null===(d=At.error)||void 0===d?void 0:d.bind(At),i[E+2]=null===(g=At.complete)||void 0===g?void 0:g.bind(At)}let ee,pe,et;if(l instanceof ts)pe=Xi(l.firestore,Qr),et=wc(l._key.path),ee={next:At=>{i[E]&&i[E](La(pe,l,At))},error:i[E+1],complete:i[E+2]};else{const At=Xi(l,Ns);pe=Xi(At.firestore,Qr),et=At._query;const rn=new Nr(pe);ee={next:Cn=>{i[E]&&i[E](new Zc(pe,rn,At,Cn))},error:i[E+1],complete:i[E+2]},Lh(l._query)}return function(At,rn,Cn,Mn){const Xn=new kg(Mn),ai=new Fi(rn,Xn,Cn);return At.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return xh(yield Xa(At),ai)})),()=>{Xn.bc(),At.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return ku(yield Xa(At),ai)}))}}(ns(pe),et,L,ee)}function Kg(l,i){return function c_(l,i){const o=new kg(i);return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return d=yield Xa(l),g=o,Kn(d).bu.add(g),void g.next();var d,g})),()=>{o.bc(),l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return d=yield Xa(l),g=o,void Kn(d).bu.delete(g);var d,g}))}}(ns(l=Xi(l,Qr)),d_(i)?i:{next:i})}function Gh(l,i){return function(o,d){const g=new Ur;return o.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function wg(l,i,o){return Ih.apply(this,arguments)}(yield s_(o),d,g)})),g.promise}(ns(l),i)}function La(l,i,o){const d=o.docs.get(i._key),g=new Nr(l);return new Yu(l,g,i._key,d,new Kc(o.hasPendingWrites,o.fromCache),i.converter)}const jh={maxAttempts:5};class el{constructor(i,o){this._firestore=i,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Gu(i)}set(i,o,d){this._verifyNotCommitted();const g=Ws(i,this._firestore),y=fp(g.converter,o,d),E=rp(this._dataReader,"WriteBatch.set",g._key,y,null!==g.converter,d);return this._mutations.push(E.toMutation(g._key,Yr.none())),this}update(i,o,d,...g){this._verifyNotCommitted();const y=Ws(i,this._firestore);let E;return E="string"==typeof(o=(0,N.m9)(o))||o instanceof tc?f_(this._dataReader,"WriteBatch.update",y._key,o,d,g):Gg(this._dataReader,"WriteBatch.update",y._key,o),this._mutations.push(E.toMutation(y._key,Yr.exists(!0))),this}delete(i){this._verifyNotCommitted();const o=Ws(i,this._firestore);return this._mutations=this._mutations.concat(new Zt(o._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kn(hn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ws(l,i){if((l=(0,N.m9)(l)).firestore!==i)throw new kn(hn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class v_ extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=Gu(i)}get(i){const o=Ws(i,this._firestore),d=new pp(this._firestore);return this._transaction.lookup([o._key]).then(g=>{if(!g||1!==g.length)return ci();const y=g[0];if(y.isFoundDocument())return new $c(this._firestore,d,y.key,y,o.converter);if(y.isNoDocument())return new $c(this._firestore,d,o._key,null,o.converter);throw ci()})}set(i,o,d){const g=Ws(i,this._firestore),y=fp(g.converter,o,d),E=rp(this._dataReader,"Transaction.set",g._key,y,null!==g.converter,d);return this._transaction.set(g._key,E),this}update(i,o,d,...g){const y=Ws(i,this._firestore);let E;return E="string"==typeof(o=(0,N.m9)(o))||o instanceof tc?f_(this._dataReader,"Transaction.update",y._key,o,d,g):Gg(this._dataReader,"Transaction.update",y._key,o),this._transaction.update(y._key,E),this}delete(i){const o=Ws(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(i,o){super(i,o),this._firestore=i}get(i){const o=Ws(i,this._firestore),d=new Nr(this._firestore);return super.get(i).then(g=>new Yu(this._firestore,d,o._key,g._document,new Kc(!1,!1),o.converter))}}function rc(l,i,o){l=Xi(l,Qr);const d=Object.assign(Object.assign({},jh),o);return function(g){if(g.maxAttempts<1)throw new kn(hn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(d),function(g,y,E){const L=new Ur;return g.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const ee=yield function o_(l){return Od(l).then(i=>i.datastore)}(g);new tw(g.asyncQueue,ee,E,y,L).run()})),L.promise}(ns(l),g=>i(new v_(l,g)),d)}function tl(){return new Ld("deleteField")}function xl(){return new Ug("serverTimestamp")}function Kv(...l){return new jc("arrayUnion",l)}function Zv(...l){return new Ph("arrayRemove",l)}function qv(l){return new Vv("increment",l)}!function(l,i=!0){Eo=h.SDK_VERSION,(0,h._registerComponent)(new A.wA("firestore",(o,{instanceIdentifier:d,options:g})=>{const y=o.getProvider("app").getImmediate(),E=new Qr(new Xu(o.getProvider("auth-internal")),new ou(o.getProvider("app-check-internal")),function(L,ee){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new kn(hn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ae(L.options.projectId,ee)}(y,d),y);return g=Object.assign({useFetchStreams:i},g),E._setSettings(g),E},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(Do,"3.7.1",l),(0,h.registerVersion)(Do,"3.7.1","esm2017")}()},2090:(bn,xt,x)=>{x.d(xt,{$s:()=>ct,BH:()=>sn,DV:()=>Gn,G6:()=>He,GJ:()=>$n,L:()=>ie,LL:()=>nn,P0:()=>Kt,Pz:()=>fn,Sg:()=>vt,UG:()=>ht,UI:()=>_n,US:()=>ze,Wl:()=>mn,Yr:()=>Qe,ZB:()=>Pe,ZR:()=>Yt,aH:()=>an,b$:()=>bt,cI:()=>Xt,dS:()=>Ot,eu:()=>ke,g5:()=>A,gK:()=>cn,gQ:()=>$t,h$:()=>Ye,hl:()=>Ke,hu:()=>h,jU:()=>St,m9:()=>Lt,ne:()=>un,p$:()=>q,pd:()=>wt,q4:()=>Jt,r3:()=>Vn,ru:()=>Ge,tV:()=>qe,uI:()=>gt,ug:()=>te,vZ:()=>Be,w1:()=>Pt,w9:()=>zn,xO:()=>rt,xb:()=>qn,z$:()=>Le,zI:()=>$e,zd:()=>Xe});const h=function(je,nt){if(!je)throw A(nt)},A=function(je){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+je)},De=function(je){const nt=[];let ve=0;for(let Ce=0;Ce<je.length;Ce++){let ne=je.charCodeAt(Ce);ne<128?nt[ve++]=ne:ne<2048?(nt[ve++]=ne>>6|192,nt[ve++]=63&ne|128):55296==(64512&ne)&&Ce+1<je.length&&56320==(64512&je.charCodeAt(Ce+1))?(ne=65536+((1023&ne)<<10)+(1023&je.charCodeAt(++Ce)),nt[ve++]=ne>>18|240,nt[ve++]=ne>>12&63|128,nt[ve++]=ne>>6&63|128,nt[ve++]=63&ne|128):(nt[ve++]=ne>>12|224,nt[ve++]=ne>>6&63|128,nt[ve++]=63&ne|128)}return nt},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(je,nt){if(!Array.isArray(je))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ve=nt?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ne=0;ne<je.length;ne+=3){const Oe=je[ne],pt=ne+1<je.length,Ze=pt?je[ne+1]:0,We=ne+2<je.length,Re=We?je[ne+2]:0;let me=(15&Ze)<<2|Re>>6,Se=63&Re;We||(Se=64,pt||(me=64)),Ce.push(ve[Oe>>2],ve[(3&Oe)<<4|Ze>>4],ve[me],ve[Se])}return Ce.join("")},encodeString(je,nt){return this.HAS_NATIVE_SUPPORT&&!nt?btoa(je):this.encodeByteArray(De(je),nt)},decodeString(je,nt){return this.HAS_NATIVE_SUPPORT&&!nt?atob(je):function(je){const nt=[];let ve=0,Ce=0;for(;ve<je.length;){const ne=je[ve++];if(ne<128)nt[Ce++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Oe=je[ve++];nt[Ce++]=String.fromCharCode((31&ne)<<6|63&Oe)}else if(ne>239&&ne<365){const We=((7&ne)<<18|(63&je[ve++])<<12|(63&je[ve++])<<6|63&je[ve++])-65536;nt[Ce++]=String.fromCharCode(55296+(We>>10)),nt[Ce++]=String.fromCharCode(56320+(1023&We))}else{const Oe=je[ve++],pt=je[ve++];nt[Ce++]=String.fromCharCode((15&ne)<<12|(63&Oe)<<6|63&pt)}}return nt.join("")}(this.decodeStringToByteArray(je,nt))},decodeStringToByteArray(je,nt){this.init_();const ve=nt?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ne=0;ne<je.length;){const Oe=ve[je.charAt(ne++)],Ze=ne<je.length?ve[je.charAt(ne)]:0;++ne;const Re=ne<je.length?ve[je.charAt(ne)]:64;++ne;const he=ne<je.length?ve[je.charAt(ne)]:64;if(++ne,null==Oe||null==Ze||null==Re||null==he)throw Error();Ce.push(Oe<<2|Ze>>4),64!==Re&&(Ce.push(Ze<<4&240|Re>>2),64!==he&&Ce.push(Re<<6&192|he))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let je=0;je<this.ENCODED_VALS.length;je++)this.byteToCharMap_[je]=this.ENCODED_VALS.charAt(je),this.charToByteMap_[this.byteToCharMap_[je]]=je,this.byteToCharMapWebSafe_[je]=this.ENCODED_VALS_WEBSAFE.charAt(je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[je]]=je,je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(je)]=je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(je)]=je)}}},Ye=function(je){const nt=De(je);return ze.encodeByteArray(nt,!0)},ie=function(je){return Ye(je).replace(/\./g,"")},qe=function(je){try{return ze.decodeString(je,!0)}catch(nt){console.error("base64Decode failed: ",nt)}return null};function q(je){return Pe(void 0,je)}function Pe(je,nt){if(!(nt instanceof Object))return nt;switch(nt.constructor){case Date:return new Date(nt.getTime());case Object:void 0===je&&(je={});break;case Array:je=[];break;default:return nt}for(const ve in nt)!nt.hasOwnProperty(ve)||!Ee(ve)||(je[ve]=Pe(je[ve],nt[ve]));return je}function Ee(je){return"__proto__"!==je}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ht(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function Ge(){const je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof je&&void 0!==je.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const je=Le();return je.indexOf("MSIE ")>=0||je.indexOf("Trident/")>=0}function Qe(){return!1}function He(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function ke(){return new Promise((je,nt)=>{try{let ve=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ce);ne.onsuccess=()=>{ne.result.close(),ve||self.indexedDB.deleteDatabase(Ce),je(!0)},ne.onupgradeneeded=()=>{ve=!1},ne.onerror=()=>{var Oe;nt((null===(Oe=ne.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(ve){nt(ve)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const It=()=>{try{return function Dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const je=process.env.__FIREBASE_DEFAULTS__;return je?JSON.parse(je):void 0})()||(()=>{if(typeof document>"u")return;let je;try{je=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const nt=je&&qe(je[1]);return nt&&JSON.parse(nt)})()}catch(je){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${je}`)}},Jt=je=>{var nt,ve;return null===(ve=null===(nt=It())||void 0===nt?void 0:nt.emulatorHosts)||void 0===ve?void 0:ve[je]},Kt=je=>{const nt=Jt(je);if(!nt)return;const ve=nt.lastIndexOf(":");if(ve<=0||ve+1===nt.length)throw new Error(`Invalid host ${nt} with no separate hostname and port!`);const Ce=parseInt(nt.substring(ve+1),10);return"["===nt[0]?[nt.substring(1,ve-1),Ce]:[nt.substring(0,ve),Ce]},an=()=>{var je;return null===(je=It())||void 0===je?void 0:je.config},fn=je=>{var nt;return null===(nt=It())||void 0===nt?void 0:nt[`_${je}`]};class sn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((nt,ve)=>{this.resolve=nt,this.reject=ve})}wrapCallback(nt){return(ve,Ce)=>{ve?this.reject(ve):this.resolve(Ce),"function"==typeof nt&&(this.promise.catch(()=>{}),1===nt.length?nt(ve):nt(ve,Ce))}}}function vt(je,nt){if(je.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=nt||"demo-project",ne=je.iat||0,Oe=je.sub||je.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ne,exp:ne+3600,auth_time:ne,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},je);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(pt)),""].join(".")}class Yt extends Error{constructor(nt,ve,Ce){super(ve),this.code=nt,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(nt,ve,Ce){this.service=nt,this.serviceName=ve,this.errors=Ce}create(nt,...ve){const Ce=ve[0]||{},ne=`${this.service}/${nt}`,Oe=this.errors[nt],pt=Oe?function Qt(je,nt){return je.replace(Dn,(ve,Ce)=>{const ne=nt[Ce];return null!=ne?String(ne):`<${Ce}?>`})}(Oe,Ce):"Error";return new Yt(ne,`${this.serviceName}: ${pt} (${ne}).`,Ce)}}const Dn=/\{\$([^}]+)}/g;function Xt(je){return JSON.parse(je)}function mn(je){return JSON.stringify(je)}const An=function(je){let nt={},ve={},Ce={},ne="";try{const Oe=je.split(".");nt=Xt(qe(Oe[0])||""),ve=Xt(qe(Oe[1])||""),ne=Oe[2],Ce=ve.d||{},delete ve.d}catch{}return{header:nt,claims:ve,data:Ce,signature:ne}},zn=function(je){const ve=An(je).claims;return!!ve&&"object"==typeof ve&&ve.hasOwnProperty("iat")},$n=function(je){const nt=An(je).claims;return"object"==typeof nt&&!0===nt.admin};function Vn(je,nt){return Object.prototype.hasOwnProperty.call(je,nt)}function Gn(je,nt){if(Object.prototype.hasOwnProperty.call(je,nt))return je[nt]}function qn(je){for(const nt in je)if(Object.prototype.hasOwnProperty.call(je,nt))return!1;return!0}function _n(je,nt,ve){const Ce={};for(const ne in je)Object.prototype.hasOwnProperty.call(je,ne)&&(Ce[ne]=nt.call(ve,je[ne],ne,je));return Ce}function Be(je,nt){if(je===nt)return!0;const ve=Object.keys(je),Ce=Object.keys(nt);for(const ne of ve){if(!Ce.includes(ne))return!1;const Oe=je[ne],pt=nt[ne];if(le(Oe)&&le(pt)){if(!Be(Oe,pt))return!1}else if(Oe!==pt)return!1}for(const ne of Ce)if(!ve.includes(ne))return!1;return!0}function le(je){return null!==je&&"object"==typeof je}function rt(je){const nt=[];for(const[ve,Ce]of Object.entries(je))Array.isArray(Ce)?Ce.forEach(ne=>{nt.push(encodeURIComponent(ve)+"="+encodeURIComponent(ne))}):nt.push(encodeURIComponent(ve)+"="+encodeURIComponent(Ce));return nt.length?"&"+nt.join("&"):""}function Xe(je){const nt={};return je.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ne,Oe]=Ce.split("=");nt[decodeURIComponent(ne)]=decodeURIComponent(Oe)}}),nt}function wt(je){const nt=je.indexOf("?");if(!nt)return"";const ve=je.indexOf("#",nt);return je.substring(nt,ve>0?ve:void 0)}class $t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let nt=1;nt<this.blockSize;++nt)this.pad_[nt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(nt,ve){ve||(ve=0);const Ce=this.W_;if("string"==typeof nt)for(let he=0;he<16;he++)Ce[he]=nt.charCodeAt(ve)<<24|nt.charCodeAt(ve+1)<<16|nt.charCodeAt(ve+2)<<8|nt.charCodeAt(ve+3),ve+=4;else for(let he=0;he<16;he++)Ce[he]=nt[ve]<<24|nt[ve+1]<<16|nt[ve+2]<<8|nt[ve+3],ve+=4;for(let he=16;he<80;he++){const me=Ce[he-3]^Ce[he-8]^Ce[he-14]^Ce[he-16];Ce[he]=4294967295&(me<<1|me>>>31)}let Re,se,ne=this.chain_[0],Oe=this.chain_[1],pt=this.chain_[2],Ze=this.chain_[3],We=this.chain_[4];for(let he=0;he<80;he++){he<40?he<20?(Re=Ze^Oe&(pt^Ze),se=1518500249):(Re=Oe^pt^Ze,se=1859775393):he<60?(Re=Oe&pt|Ze&(Oe|pt),se=2400959708):(Re=Oe^pt^Ze,se=3395469782);const me=(ne<<5|ne>>>27)+Re+We+se+Ce[he]&4294967295;We=Ze,Ze=pt,pt=4294967295&(Oe<<30|Oe>>>2),Oe=ne,ne=me}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+pt&4294967295,this.chain_[3]=this.chain_[3]+Ze&4294967295,this.chain_[4]=this.chain_[4]+We&4294967295}update(nt,ve){if(null==nt)return;void 0===ve&&(ve=nt.length);const Ce=ve-this.blockSize;let ne=0;const Oe=this.buf_;let pt=this.inbuf_;for(;ne<ve;){if(0===pt)for(;ne<=Ce;)this.compress_(nt,ne),ne+=this.blockSize;if("string"==typeof nt){for(;ne<ve;)if(Oe[pt]=nt.charCodeAt(ne),++pt,++ne,pt===this.blockSize){this.compress_(Oe),pt=0;break}}else for(;ne<ve;)if(Oe[pt]=nt[ne],++pt,++ne,pt===this.blockSize){this.compress_(Oe),pt=0;break}}this.inbuf_=pt,this.total_+=ve}digest(){const nt=[];let ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&ve,ve/=256;this.compress_(this.buf_);let Ce=0;for(let ne=0;ne<5;ne++)for(let Oe=24;Oe>=0;Oe-=8)nt[Ce]=this.chain_[ne]>>Oe&255,++Ce;return nt}}function un(je,nt){const ve=new jt(je,nt);return ve.subscribe.bind(ve)}class jt{constructor(nt,ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(()=>{nt(this)}).catch(Ce=>{this.error(Ce)})}next(nt){this.forEachObserver(ve=>{ve.next(nt)})}error(nt){this.forEachObserver(ve=>{ve.error(nt)}),this.close(nt)}complete(){this.forEachObserver(nt=>{nt.complete()}),this.close()}subscribe(nt,ve,Ce){let ne;if(void 0===nt&&void 0===ve&&void 0===Ce)throw new Error("Missing Observer.");ne=function Ne(je,nt){if("object"!=typeof je||null===je)return!1;for(const ve of nt)if(ve in je&&"function"==typeof je[ve])return!0;return!1}(nt,["next","error","complete"])?nt:{next:nt,error:ve,complete:Ce},void 0===ne.next&&(ne.next=yt),void 0===ne.error&&(ne.error=yt),void 0===ne.complete&&(ne.complete=yt);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Oe}unsubscribeOne(nt){void 0===this.observers||void 0===this.observers[nt]||(delete this.observers[nt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(nt){if(!this.finalized)for(let ve=0;ve<this.observers.length;ve++)this.sendOne(ve,nt)}sendOne(nt,ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[nt])try{ve(this.observers[nt])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(nt){this.finalized||(this.finalized=!0,void 0!==nt&&(this.finalError=nt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yt(){}function cn(je,nt){return`${je} failed: ${nt} argument `}const Ot=function(je){const nt=[];let ve=0;for(let Ce=0;Ce<je.length;Ce++){let ne=je.charCodeAt(Ce);if(ne>=55296&&ne<=56319){const Oe=ne-55296;Ce++,h(Ce<je.length,"Surrogate pair missing trail surrogate."),ne=65536+(Oe<<10)+(je.charCodeAt(Ce)-56320)}ne<128?nt[ve++]=ne:ne<2048?(nt[ve++]=ne>>6|192,nt[ve++]=63&ne|128):ne<65536?(nt[ve++]=ne>>12|224,nt[ve++]=ne>>6&63|128,nt[ve++]=63&ne|128):(nt[ve++]=ne>>18|240,nt[ve++]=ne>>12&63|128,nt[ve++]=ne>>6&63|128,nt[ve++]=63&ne|128)}return nt},te=function(je){let nt=0;for(let ve=0;ve<je.length;ve++){const Ce=je.charCodeAt(ve);Ce<128?nt++:Ce<2048?nt+=2:Ce>=55296&&Ce<=56319?(nt+=4,ve++):nt+=3}return nt};function ct(je,nt=1e3,ve=2){const Ce=nt*Math.pow(ve,je),ne=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ne)}function Lt(je){return je&&je._delegate?je._delegate:je}},629:(bn,xt,x)=>{x.d(xt,{e:()=>A});var m=x(4650),h=x(1205);let A=(()=>{class De{constructor(ze){this.auth=ze}login(ze,Ye){return this.auth.signInWithEmailAndPassword(ze,Ye)}signin(ze,Ye){return this.auth.createUserWithEmailAndPassword(ze,Ye)}isUserLoggedIn(){return this.auth.user}logout(){return this.auth.signOut()}}return De.\u0275fac=function(ze){return new(ze||De)(m.LFG(h.zQ))},De.\u0275prov=m.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},1615:(bn,xt,x)=>{x.d(xt,{w:()=>De});var m=x(4004),h=x(4650),A=x(3290);let De=(()=>{class N{constructor(Ye){this.afs=Ye,this.todoCollection=this.afs.collection("Todos",ie=>ie.orderBy("title","asc")),this.doingCollection=this.afs.collection("Doings",ie=>ie.orderBy("title","asc")),this.doneCollection=this.afs.collection("Dones",ie=>ie.orderBy("title","asc")),this.Todos=this.todoCollection.snapshotChanges().pipe((0,m.U)(ie=>ie.map(qe=>{const q=qe.payload.doc.data();return q.id=qe.payload.doc.id,q}))),this.Doings=this.doingCollection.snapshotChanges().pipe((0,m.U)(ie=>ie.map(qe=>{const q=qe.payload.doc.data();return q.id=qe.payload.doc.id,q}))),this.Dones=this.doneCollection.snapshotChanges().pipe((0,m.U)(ie=>ie.map(qe=>{const q=qe.payload.doc.data();return q.id=qe.payload.doc.id,q})))}getTodos(){return this.Todos}getDoings(){return this.Doings}getDones(){return this.Dones}addTodo(Ye){this.todoCollection.add({title:Ye,isDone:!1})}addDoing(Ye){this.doingCollection.add({title:Ye,isDone:!1})}addDone(Ye){this.doneCollection.add({title:Ye,isDone:!1})}deleteTodo(Ye){this.todoDoc=this.afs.doc(`Todos/${Ye.id}`),this.todoDoc.delete()}deleteDoing(Ye){this.doingDoc=this.afs.doc(`Doings/${Ye.id}`),this.doingDoc.delete()}deleteDone(Ye){this.doneDoc=this.afs.doc(`Dones/${Ye.id}`),this.doneDoc.delete()}updateTodo(Ye){this.todoDoc=this.afs.doc(`Todos/${Ye.id}`),this.todoDoc.update(Ye),this.todoDoc.update({isDone:!1})}updateDoing(Ye){this.doingDoc=this.afs.doc(`Doings/${Ye.id}`),this.doingDoc.update(Ye),this.doingDoc.update({isDone:!1})}updateDone(Ye){this.doneDoc=this.afs.doc(`Dones/${Ye.id}`),this.doneDoc.update(Ye),this.doneDoc.update({isDone:!1})}updateTodoStatus(Ye,ie){this.todoDoc=this.afs.doc(`Todos/${Ye.id}`),this.todoDoc.update({isDone:ie})}updateDoingStatus(Ye,ie){this.doingDoc=this.afs.doc(`Doings/${Ye.id}`),this.doingDoc.update({isDone:ie})}}return N.\u0275fac=function(Ye){return new(Ye||N)(h.LFG(A.ST))},N.\u0275prov=h.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},4433:(bn,xt,x)=>{var m=x(1481),h=x(4650),A=x(7799);const De=[{path:"main",loadChildren:()=>x.e(395).then(x.bind(x,1395)).then(n=>n.MainModule)},{path:"signin",loadChildren:()=>x.e(402).then(x.bind(x,8402)).then(n=>n.SigninModule)},{path:"login",loadChildren:()=>x.e(69).then(x.bind(x,1069)).then(n=>n.LoginModule)},{path:"contact",loadChildren:()=>x.e(774).then(x.bind(x,7774)).then(n=>n.ContactModule)},{path:"todopage",loadChildren:()=>x.e(424).then(x.bind(x,4424)).then(n=>n.ToDoPageRoutingModule)},{path:"event",loadChildren:()=>x.e(938).then(x.bind(x,4938)).then(n=>n.EventRoutingModule)},{path:"notes",loadChildren:()=>x.e(359).then(x.bind(x,7359)).then(n=>n.NotesRoutingModule)},{path:"",redirectTo:"/main",pathMatch:"full"}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[A.Bz.forRoot(De),A.Bz]}),n})();var ze=x(9300),Ye=x(629),ie=x(6895),qe=x(8605),q=x(3238),Pe=x(2693),Ee=x(445),Le=x(1281),gt=x(9521),ht=x(3353),St=x(7579),Ge=x(4968),bt=x(6451),Ht=x(4004),Pt=x(9718),tt=x(2722),Qe=x(1884),He=x(5698),Ke=x(8675),ke=x(8372),$e=x(7340);const Dt=["*"],ot=["content"];function dt(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c._onBackdropClicked())}),h.qZA()}if(2&n){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Rt(n,t){1&n&&(h.TgZ(0,"mat-drawer-content"),h.Hsn(1,2),h.qZA())}const It=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Jt=["mat-drawer","mat-drawer-content","*"];function Kt(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c._onBackdropClicked())}),h.qZA()}if(2&n){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function an(n,t){1&n&&(h.TgZ(0,"mat-sidenav-content"),h.Hsn(1,2),h.qZA())}const fn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],sn=["mat-sidenav","mat-sidenav-content","*"],qt={transformDrawer:(0,$e.X$)("transform",[(0,$e.SB)("open, open-instant",(0,$e.oB)({transform:"none",visibility:"visible"})),(0,$e.SB)("void",(0,$e.oB)({"box-shadow":"none",visibility:"hidden"})),(0,$e.eR)("void => open-instant",(0,$e.jt)("0ms")),(0,$e.eR)("void <=> open, open-instant => void",(0,$e.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},nn=new h.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Dn(){return!1}}),Qt=new h.OlP("MAT_DRAWER_CONTAINER");let Xt=(()=>{class n extends qe.PQ{constructor(e,r,c,f,v){super(c,f,v),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>An)),h.Y36(h.SBq),h.Y36(qe.mF),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&h.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[h._Bn([{provide:qe.PQ,useExisting:n}]),h.qOj],ngContentSelectors:Dt,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),mn=(()=>{class n{constructor(e,r,c,f,v,C,I,B){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=c,this._platform=f,this._ngZone=v,this._interactivityChecker=C,this._doc=I,this._container=B,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new St.x,this._animationEnd=new St.x,this._animationState="void",this.openedChange=new h.vpe(!0),this._openedStream=this.openedChange.pipe((0,ze.h)(X=>X),(0,Ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ze.h)(X=>X.fromState!==X.toState&&0===X.toState.indexOf("open")),(0,Pt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,ze.h)(X=>!X),(0,Ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ze.h)(X=>X.fromState!==X.toState&&"void"===X.toState),(0,Pt.h)(void 0)),this._destroyed=new St.x,this.onPositionChanged=new h.vpe,this._modeChanged=new St.x,this.openedChange.subscribe(X=>{X?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,ze.h)(X=>X.keyCode===gt.hY&&!this.disableClose&&!(0,gt.Vb)(X)),(0,tt.R)(this._destroyed)).subscribe(X=>this._ngZone.run(()=>{this.close(),X.stopPropagation(),X.preventDefault()}))}),this._animationEnd.pipe((0,Qe.x)((X,xe)=>X.fromState===xe.fromState&&X.toState===xe.toState)).subscribe(X=>{const{fromState:xe,toState:it}=X;(0===it.indexOf("open")&&"void"===xe||"void"===it&&0===xe.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,Le.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,Le.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,Le.Ig)(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{e.removeEventListener("blur",c),e.removeEventListener("mousedown",c),e.removeAttribute("tabindex")};e.addEventListener("blur",c),e.addEventListener("mousedown",c)})),e.focus(r)}_focusByCssSelector(e,r){let c=this._elementRef.nativeElement.querySelector(e);c&&this._forceFocus(c,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const c=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),c}_setOpen(e,r,c){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(c)),this._updateFocusTrapState(),new Promise(f=>{this.openedChange.pipe((0,He.q)(1)).subscribe(v=>f(v?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,c=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),c.insertBefore(this._anchor,r)),c.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(Pe.qV),h.Y36(Pe.tE),h.Y36(ht.t4),h.Y36(h.R0b),h.Y36(Pe.ic),h.Y36(ie.K0,8),h.Y36(Qt,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&h.Gf(ot,5),2&e){let c;h.iGM(c=h.CRH())&&(r._content=c.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&h.WFA("@transform.start",function(f){return r._animationStarted.next(f)})("@transform.done",function(f){return r._animationEnd.next(f)}),2&e&&(h.uIk("align",null),h.d8E("@transform",r._animationState),h.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Dt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[qe.PQ],encapsulation:2,data:{animation:[qt.transformDrawer]},changeDetection:0}),n})(),An=(()=>{class n{constructor(e,r,c,f,v,C=!1,I){this._dir=e,this._element=r,this._ngZone=c,this._changeDetectorRef=f,this._animationMode=I,this._drawers=new h.n_E,this.backdropClick=new h.vpe,this._destroyed=new St.x,this._doCheckSubject=new St.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new St.x,e&&e.change.pipe((0,tt.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),v.change().pipe((0,tt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=C}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,Le.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,Le.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Ke.O)(this._allDrawers),(0,tt.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Ke.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,ke.b)(10),(0,tt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const c=this._left._getWidth();e+=c,r-=c}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const c=this._right._getWidth();r+=c,e-=c}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,ze.h)(r=>r.fromState!==r.toState),(0,tt.R)(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,tt.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,tt.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,He.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,tt.R)((0,bt.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,c="mat-drawer-container-has-open";e?r.add(c):r.remove(c)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Ee.Is,8),h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(qe.rL),h.Y36(nn),h.Y36(h.QbO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,c){if(1&e&&(h.Suo(c,Xt,5),h.Suo(c,mn,5)),2&e){let f;h.iGM(f=h.CRH())&&(r._content=f.first),h.iGM(f=h.CRH())&&(r._allDrawers=f)}},viewQuery:function(e,r){if(1&e&&h.Gf(Xt,5),2&e){let c;h.iGM(c=h.CRH())&&(r._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[h._Bn([{provide:Qt,useExisting:n}])],ngContentSelectors:Jt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(h.F$t(It),h.YNc(0,dt,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,Rt,2,0,"mat-drawer-content",1)),2&e&&(h.Q6J("ngIf",r.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!r._content))},dependencies:[ie.O5,Xt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Un=(()=>{class n extends Xt{constructor(e,r,c,f,v){super(e,r,c,f,v)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>zn)),h.Y36(h.SBq),h.Y36(qe.mF),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,r){2&e&&h.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[h._Bn([{provide:qe.PQ,useExisting:n}]),h.qOj],ngContentSelectors:Dt,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Rn=(()=>{class n extends mn{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,Le.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,Le.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,Le.su)(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,r){2&e&&(h.uIk("align",null),h.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),h.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[h.qOj],ngContentSelectors:Dt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[qe.PQ],encapsulation:2,data:{animation:[qt.transformDrawer]},changeDetection:0}),n})(),zn=(()=>{class n extends An{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,r,c){if(1&e&&(h.Suo(c,Un,5),h.Suo(c,Rn,5)),2&e){let f;h.iGM(f=h.CRH())&&(r._content=f.first),h.iGM(f=h.CRH())&&(r._allDrawers=f)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,r){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[h._Bn([{provide:Qt,useExisting:n}]),h.qOj],ngContentSelectors:sn,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(h.F$t(fn),h.YNc(0,Kt,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,an,2,0,"mat-sidenav-content",1)),2&e&&(h.Q6J("ngIf",r.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!r._content))},dependencies:[ie.O5,Un],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),$n=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez,q.BQ,qe.ZD,qe.ZD,q.BQ]}),n})();var Vn=x(3683),Gn=x(9101),qn=x(3336),_n=x(1576),Be=x(5829),Ne=x(4006);let Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[q.BQ,q.BQ]}),n})();const cn=["*"],vn=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],kt=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],z=(0,q.Id)((0,q.Kr)(class{})),de=(0,q.Kr)(class{}),J=new h.OlP("MatList"),ct=new h.OlP("MatNavList");let st=(()=>{class n extends z{constructor(){super(...arguments),this._stateChanges=new St.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[h._Bn([{provide:ct,useExisting:n}]),h.qOj,h.TTD],ngContentSelectors:cn,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),Lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),je=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),ve=(()=>{class n extends de{constructor(e,r,c,f){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new St.x,this._disabled=!1,this._isInteractiveList=!!(c||f&&"action-list"===f._getListType()),this._list=c||f;const v=this._getHostElement();"button"===v.nodeName.toLowerCase()&&!v.hasAttribute("type")&&v.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,tt.R)(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=(0,Le.Ig)(e)}ngAfterContentInit(){(0,q.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(ct,8),h.Y36(J,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,r,c){if(1&e&&(h.Suo(c,Lt,5),h.Suo(c,je,5),h.Suo(c,q.X2,5)),2&e){let f;h.iGM(f=h.CRH())&&(r._avatar=f.first),h.iGM(f=h.CRH())&&(r._icon=f.first),h.iGM(f=h.CRH())&&(r._lines=f)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,r){2&e&&h.ekj("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[h.qOj],ngContentSelectors:kt,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,r){1&e&&(h.F$t(vn),h.TgZ(0,"span",0),h._UZ(1,"span",1),h.Hsn(2),h.TgZ(3,"span",2),h.Hsn(4,1),h.qZA(),h.Hsn(5,2),h.qZA()),2&e&&(h.xp6(1),h.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},dependencies:[q.wG],encapsulation:2,changeDetection:0}),n})(),Re=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[q.uc,q.si,q.BQ,q.us,ie.ez,q.uc,q.BQ,q.us,Ut]}),n})();function se(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",7),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close())}),h.TgZ(1,"mat-icon"),h._uU(2,"list"),h.qZA(),h.TgZ(3,"span",6),h._uU(4,"VPM"),h.qZA()()}}function he(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",8),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close())}),h.TgZ(1,"mat-icon"),h._uU(2,"login"),h.qZA(),h.TgZ(3,"span",9),h._uU(4,"Bejelentkez\xe9s"),h.qZA()()}}function me(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",10),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close())}),h.TgZ(1,"mat-icon"),h._uU(2,"how_to_reg"),h.qZA(),h.TgZ(3,"span",11),h._uU(4,"Regisztr\xe1ci\xf3"),h.qZA()()}}function Se(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",8),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close(!0))}),h.TgZ(1,"mat-icon"),h._uU(2,"logout"),h.qZA(),h.TgZ(3,"span",9),h._uU(4,"Kijelentkez\xe9s"),h.qZA()()}}let _e=(()=>{class n{constructor(){this.currentPage="",this.selectedPage=new h.vpe,this.onCloseSidenav=new h.vpe,this.onLogout=new h.vpe}ngOnInit(){}ngAfterViewInit(){}menuSwitch(){this.selectedPage.emit(this.currentPage)}close(e){this.onCloseSidenav.emit(!0),!0===e&&this.onLogout.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-menu"]],inputs:{currentPage:"currentPage",loggedInUser:"loggedInUser"},outputs:{selectedPage:"selectedPage",onCloseSidenav:"onCloseSidenav",onLogout:"onLogout"},decls:15,vars:4,consts:[["mat-list-item","","routerLink","/main",3,"click"],["value","main"],["mat-list-item","","routerLink","/todopage",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/login",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/signin",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/contact",3,"click"],["value","contact"],["mat-list-item","","routerLink","/todopage",3,"click"],["mat-list-item","","routerLink","/login",3,"click"],["value","login"],["mat-list-item","","routerLink","/signin",3,"click"],["value","signin"]],template:function(e,r){1&e&&(h.TgZ(0,"mat-nav-list")(1,"a",0),h.NdJ("click",function(){return r.close()}),h.TgZ(2,"mat-icon"),h._uU(3,"home"),h.qZA(),h.TgZ(4,"span",1),h._uU(5,"F\u0151oldal"),h.qZA()(),h.YNc(6,se,5,0,"a",2),h.YNc(7,he,5,0,"a",3),h.YNc(8,me,5,0,"a",4),h.TgZ(9,"a",5),h.NdJ("click",function(){return r.close()}),h.TgZ(10,"mat-icon"),h._uU(11,"contact_support"),h.qZA(),h.TgZ(12,"span",6),h._uU(13,"Kapcsolat"),h.qZA()(),h.YNc(14,Se,5,0,"a",3),h.qZA()),2&e&&(h.xp6(6),h.Q6J("ngIf",r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser),h.xp6(6),h.Q6J("ngIf",r.loggedInUser))},dependencies:[ie.O5,A.yS,qn.Hw,st,ve],styles:["a[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#000}mat-nav-list[_ngcontent-%COMP%]{background-color:#1e90ff;padding-bottom:height;height:100%}"]}),n})();function we(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"app-menu",9),h.NdJ("selectedPage",function(c){h.CHM(e);const f=h.oxw();return h.KtG(f.changePage(c))})("onCloseSidenav",function(c){h.CHM(e);const f=h.oxw(),v=h.MAs(2);return h.KtG(f.onClose(c,v))})("onLogout",function(c){h.CHM(e);const f=h.oxw();return h.KtG(f.logout(c))}),h.qZA()}if(2&n){const e=h.oxw();h.Q6J("currentPage",e.page)("loggedInUser",e.loggedInUser)}}function H(n,t){1&n&&(h.TgZ(0,"li")(1,"a",10),h._uU(2,"VPM"),h.qZA()())}function ue(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"li")(1,"a",11),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.logout())}),h.TgZ(2,"mat-icon",12),h._uU(3,"logout"),h.qZA(),h._uU(4),h.qZA()()}if(2&n){const e=h.oxw();h.xp6(4),h.Oqu(e.loggedInUser.email)}}function V(n,t){1&n&&(h.TgZ(0,"li")(1,"a",13),h._uU(2,"Bejelentkez\xe9s"),h.qZA()())}function ce(n,t){1&n&&(h.TgZ(0,"li")(1,"a",14),h._uU(2,"Regisztr\xe1ci\xf3"),h.qZA()())}let Ve=(()=>{class n{constructor(e,r){this.router=e,this.authService=r,this.page="main",this.routes=[]}ngOnInit(){this.routes=this.router.config.map(e=>e.path),this.router.events.pipe((0,ze.h)(e=>e instanceof A.m2)).subscribe(e=>{const r=e.urlAfterRedirects.split("/")[1];this.routes.includes(r)&&(this.page=r)}),this.authService.isUserLoggedIn().subscribe(e=>{this.loggedInUser=e},e=>{console.error(e)})}changePage(e){this.router.navigateByUrl(e)}onToggleSidenav(e){e.toggle()}onClose(e,r){!0===e&&r.close()}logout(e){this.authService.logout().then(()=>{console.log("Logged out succesfully.")}).catch(r=>{console.error(r)})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(A.F0),h.Y36(Ye.e))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:5,consts:[["sidenav",""],[3,"currentPage","loggedInUser","selectedPage","onCloseSidenav","onLogout",4,"ngIf"],["color","primary"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","","fxLayoutAlign","flex-end","fxHide.xs",""],["fxLayout","","fxLayoutGap","30px",1,"navigation-items"],["routerLink","/main"],[4,"ngIf"],["routerLink","/contact"],[3,"currentPage","loggedInUser","selectedPage","onCloseSidenav","onLogout"],["routerLink","/todopage"],["title","Kijelentkez\xe9s","routerLink","/login",1,"emailText",3,"click"],[1,"logoutIcon"],["routerLink","/login"],["routerLink","/signin"]],template:function(e,r){if(1&e){const c=h.EpF();h.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav",null,0),h.YNc(3,we,1,2,"app-menu",1),h.qZA(),h.TgZ(4,"mat-sidenav-content")(5,"mat-toolbar",2)(6,"button",3),h.NdJ("click",function(){h.CHM(c);const v=h.MAs(2);return h.KtG(r.onToggleSidenav(v))}),h.TgZ(7,"mat-icon"),h._uU(8,"menu"),h.qZA()(),h.TgZ(9,"div"),h._uU(10,"Virtual Project Manager"),h.qZA(),h.TgZ(11,"div",4)(12,"ul",5)(13,"li")(14,"a",6),h._uU(15,"F\u0151oldal"),h.qZA()(),h.YNc(16,H,3,0,"li",7),h.TgZ(17,"li")(18,"a",8),h._uU(19,"Kapcsolat"),h.qZA()(),h.YNc(20,ue,5,1,"li",7),h.YNc(21,V,3,0,"li",7),h.YNc(22,ce,3,0,"li",7),h.qZA()()(),h._UZ(23,"router-outlet"),h.qZA()()}2&e&&(h.xp6(3),h.Q6J("ngIf",r.page),h.xp6(13),h.Q6J("ngIf",r.loggedInUser),h.xp6(4),h.Q6J("ngIf",r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser))},dependencies:[ie.O5,A.lC,A.yS,Rn,zn,Un,Vn.Ye,Gn.lW,qn.Hw,_n.xw,_n.SQ,_n.Wh,_n.yH,Be.b8,_e],styles:[".main_component[_ngcontent-%COMP%], .contact_component[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#000}.navigation-items[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;list-style:none;padding:0;margin:0}div[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}mat-toolbar[_ngcontent-%COMP%]{height:auto;width:auto}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;background-color:#add8e6}.logoutIcon[_ngcontent-%COMP%]{font-size:15px;padding-top:11px;padding-left:2px}.emailText[_ngcontent-%COMP%]{text-decoration:underline;font-style:oblique;color:#020c18}.emailText[_ngcontent-%COMP%]:hover, .emailText[_ngcontent-%COMP%]:active{color:#fff}"]}),n})();function Et(n){return new h.vHH(3e3,!1)}function oo(){return typeof window<"u"&&typeof window.document<"u"}function ws(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zs(n){switch(n.length){case 0:return new $e.ZN;case 1:return n[0];default:return new $e.ZE(n)}}function rl(n,t,e,r,c=new Map,f=new Map){const v=[],C=[];let I=-1,B=null;if(r.forEach(X=>{const xe=X.get("offset"),it=xe==I,lt=it&&B||new Map;X.forEach((Nt,Gt)=>{let tn=Gt,xn=Nt;if("offset"!==Gt)switch(tn=t.normalizePropertyName(tn,v),xn){case $e.k1:xn=c.get(Gt);break;case $e.l3:xn=f.get(Gt);break;default:xn=t.normalizeStyleValue(Gt,tn,xn,v)}lt.set(tn,xn)}),it||C.push(lt),B=lt,I=xe}),v.length)throw function cr(n){return new h.vHH(3502,!1)}();return C}function ao(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Cs(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Cs(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Cs(e,"destroy",n)))}}function Cs(n,t,e){const f=ca(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),v=n._data;return null!=v&&(f._data=v),f}function ca(n,t,e,r,c="",f=0,v){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:c,totalTime:f,disabled:!!v}}function kr(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function Fs(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Ds=(n,t)=>!1,Oo=(n,t,e)=>[],wr=null;function Ls(n){const t=n.parentNode||n.host;return t===wr?null:t}(ws()||typeof Element<"u")&&(oo()?(wr=(()=>document.documentElement)(),Ds=(n,t)=>{for(;t;){if(t===n)return!0;t=Ls(t)}return!1}):Ds=(n,t)=>n.contains(t),Oo=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Es=null,co=!1;const bo=Ds,Pl=Oo;let us=(()=>{class n{validateStyleProperty(e){return function Ua(n){Es||(Es=function sl(){return typeof document<"u"?document.body:null}()||{},co=!!Es.style&&"WebkitAppearance"in Es.style);let t=!0;return Es.style&&!function lo(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Es.style,!t&&co&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Es.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return bo(e,r)}getParentElement(e){return Ls(e)}query(e,r,c){return Pl(e,r,c)}computeStyle(e,r,c){return c||""}animate(e,r,c,f,v,C=[],I){return new $e.ZN(c,f)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),sr=(()=>{class n{}return n.NOOP=new us,n})();const Ui="ng-enter",ua="ng-leave",Ga="ng-trigger",No=".ng-trigger",ds="ng-animating",da=".ng-animating";function Br(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Bs(parseFloat(t[1]),t[2])}function Bs(n,t){return"s"===t?1e3*n:n}function Li(n,t,e){return n.hasOwnProperty("duration")?n:function Ll(n,t,e){let c,f=0,v="";if("string"==typeof n){const C=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===C)return t.push(Et()),{duration:0,delay:0,easing:""};c=Bs(parseFloat(C[1]),C[2]);const I=C[3];null!=I&&(f=Bs(parseFloat(I),C[4]));const B=C[5];B&&(v=B)}else c=n;if(!e){let C=!1,I=t.length;c<0&&(t.push(function ye(){return new h.vHH(3100,!1)}()),C=!0),f<0&&(t.push(function ut(){return new h.vHH(3101,!1)}()),C=!0),C&&t.splice(I,0,Et())}return{duration:c,delay:f,easing:v}}(n,t,e)}function Jr(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ss(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ts(n,t=new Map,e){if(e)for(let[r,c]of e)t.set(r,c);for(let[r,c]of n)t.set(r,c);return t}function Di(n,t,e){return e?t+":"+e+";":""}function Po(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Di(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Di(0,al(e),n.style[e]));n.setAttribute("style",t)}function hs(n,t,e){n.style&&(t.forEach((r,c)=>{const f=Bl(c);e&&!e.has(c)&&e.set(c,n.style[f]),n.style[f]=r}),ws()&&Po(n))}function Hs(n,t){n.style&&(t.forEach((e,r)=>{const c=Bl(r);n.style[c]=""}),ws()&&Po(n))}function ha(n){return Array.isArray(n)?1==n.length?n[0]:(0,$e.vP)(n):n}const os=new RegExp("{{\\s*(.+?)\\s*}}","g");function ol(n){let t=[];if("string"==typeof n){let e;for(;e=os.exec(n);)t.push(e[1]);os.lastIndex=0}return t}function nr(n,t,e){const r=n.toString(),c=r.replace(os,(f,v)=>{let C=t[v];return null==C&&(e.push(function re(n){return new h.vHH(3003,!1)}()),C=""),C.toString()});return c==r?n:c}function En(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const ki=/-+([a-z0-9])/g;function Bl(n){return n.replace(ki,(...t)=>t[1].toUpperCase())}function al(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Y(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Me(n){return new h.vHH(3004,!1)}()}}function $(n,t){return window.getComputedStyle(n)[t]}function fa(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ja(n,t,e){if(":"==n[0]){const I=function wo(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Zn(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof I)return void t.push(I);n=I}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function In(n){return new h.vHH(3015,!1)}()),t;const c=r[1],f=r[2],v=r[3];t.push(Ca(c,v));"<"==f[0]&&!("*"==c&&"*"==v)&&t.push(Ca(v,c))}(r,e,t)):e.push(n),e}const ll=new Set(["true","1"]),cl=new Set(["false","0"]);function Ca(n,t){const e=ll.has(n)||cl.has(n),r=ll.has(t)||cl.has(t);return(c,f)=>{let v="*"==n||n==c,C="*"==t||t==f;return!v&&e&&"boolean"==typeof c&&(v=c?ll.has(n):cl.has(n)),!C&&r&&"boolean"==typeof f&&(C=f?ll.has(t):cl.has(t)),v&&C}}const ul=new RegExp("s*:selfs*,?","g");function Ko(n,t,e,r){return new za(n).build(t,e,r)}class za{constructor(t){this._driver=t}build(t,e,r){const c=new dl(e);return this._resetContextStyleTimingState(c),Y(this,ha(t),c)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,c=e.depCount=0;const f=[],v=[];return"@"==t.name.charAt(0)&&e.errors.push(function Sn(){return new h.vHH(3006,!1)}()),t.definitions.forEach(C=>{if(this._resetContextStyleTimingState(e),0==C.type){const I=C,B=I.name;B.toString().split(/\s*,\s*/).forEach(X=>{I.name=X,f.push(this.visitState(I,e))}),I.name=B}else if(1==C.type){const I=this.visitTransition(C,e);r+=I.queryCount,c+=I.depCount,v.push(I)}else e.errors.push(function di(){return new h.vHH(3007,!1)}())}),{type:7,name:t.name,states:f,transitions:v,queryCount:r,depCount:c,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),c=t.options&&t.options.params||null;if(r.containsDynamicStyles){const f=new Set,v=c||{};r.styles.forEach(C=>{C instanceof Map&&C.forEach(I=>{ol(I).forEach(B=>{v.hasOwnProperty(B)||f.add(B)})})}),f.size&&(En(f.values()),e.errors.push(function wi(n,t){return new h.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:c?{params:c}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Y(this,ha(t.animation),e);return{type:1,matchers:fa(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Co(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Y(this,r,e)),options:Co(t.options)}}visitGroup(t,e){const r=e.currentTime;let c=0;const f=t.steps.map(v=>{e.currentTime=r;const C=Y(this,v,e);return c=Math.max(c,e.currentTime),C});return e.currentTime=c,{type:3,steps:f,options:Co(t.options)}}visitAnimate(t,e){const r=function Vl(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return U(Li(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=U(0,0,"");return f.dynamic=!0,f.strValue=e,f}const c=Li(e,t);return U(c.duration,c.delay,c.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let c,f=t.styles?t.styles:(0,$e.oB)({});if(5==f.type)c=this.visitKeyframes(f,e);else{let v=t.styles,C=!1;if(!v){C=!0;const B={};r.easing&&(B.easing=r.easing),v=(0,$e.oB)(B)}e.currentTime+=r.duration+r.delay;const I=this.visitStyle(v,e);I.isEmptyStep=C,c=I}return e.currentAnimateTimings=null,{type:4,timings:r,style:c,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],c=Array.isArray(t.styles)?t.styles:[t.styles];for(let C of c)"string"==typeof C?C===$e.l3?r.push(C):e.errors.push(new h.vHH(3002,!1)):r.push(ss(C));let f=!1,v=null;return r.forEach(C=>{if(C instanceof Map&&(C.has("easing")&&(v=C.get("easing"),C.delete("easing")),!f))for(let I of C.values())if(I.toString().indexOf("{{")>=0){f=!0;break}}),{type:6,styles:r,easing:v,offset:t.offset,containsDynamicStyles:f,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let c=e.currentTime,f=e.currentTime;r&&f>0&&(f-=r.duration+r.delay),t.styles.forEach(v=>{"string"!=typeof v&&v.forEach((C,I)=>{const B=e.collectedStyles.get(e.currentQuerySelector),X=B.get(I);let xe=!0;X&&(f!=c&&f>=X.startTime&&c<=X.endTime&&(e.errors.push(function ys(n,t,e,r,c){return new h.vHH(3010,!1)}()),xe=!1),f=X.startTime),xe&&B.set(I,{startTime:f,endTime:c}),e.options&&function Us(n,t,e){const r=t.params||{},c=ol(n);c.length&&c.forEach(f=>{r.hasOwnProperty(f)||e.push(function O(n){return new h.vHH(3001,!1)}())})}(C,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function is(){return new h.vHH(3011,!1)}()),r;let f=0;const v=[];let C=!1,I=!1,B=0;const X=t.steps.map(xn=>{const On=this._makeStyleAst(xn,e);let Fn=null!=On.offset?On.offset:function Ea(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(On.styles),Ln=0;return null!=Fn&&(f++,Ln=On.offset=Fn),I=I||Ln<0||Ln>1,C=C||Ln<B,B=Ln,v.push(Ln),On});I&&e.errors.push(function Xr(){return new h.vHH(3012,!1)}()),C&&e.errors.push(function Vt(){return new h.vHH(3200,!1)}());const xe=t.steps.length;let it=0;f>0&&f<xe?e.errors.push(function Bt(){return new h.vHH(3202,!1)}()):0==f&&(it=1/(xe-1));const lt=xe-1,Nt=e.currentTime,Gt=e.currentAnimateTimings,tn=Gt.duration;return X.forEach((xn,On)=>{const Fn=it>0?On==lt?1:it*On:v[On],Ln=Fn*tn;e.currentTime=Nt+Gt.delay+Ln,Gt.duration=Ln,this._validateStyleAst(xn,e),xn.offset=Fn,r.styles.push(xn)}),r}visitReference(t,e){return{type:8,animation:Y(this,ha(t.animation),e),options:Co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Co(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Co(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,c=t.options||{};e.queryCount++,e.currentQuery=t;const[f,v]=function Zo(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ul,"")),n=n.replace(/@\*/g,No).replace(/@\w+/g,e=>No+"-"+e.slice(1)).replace(/:animating/g,da),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+f:f,kr(e.collectedStyles,e.currentQuerySelector,new Map);const C=Y(this,ha(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:f,limit:c.limit||0,optional:!!c.optional,includeSelf:v,animation:C,originalSelector:t.selector,options:Co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function zt(){return new h.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Li(t.timings,e.errors,!0);return{type:12,animation:Y(this,ha(t.animation),e),timings:r,options:null}}}class dl{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Co(n){return n?(n=Jr(n)).params&&(n.params=function nu(n){return n?Jr(n):null}(n.params)):n={},n}function U(n,t,e){return{duration:n,delay:t,easing:e}}function fe(n,t,e,r,c,f,v=null,C=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:c,delay:f,totalTime:c+f,easing:v,subTimeline:C}}class W{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ln=new RegExp(":enter","g"),li=new RegExp(":leave","g");function Ki(n,t,e,r,c,f=new Map,v=new Map,C,I,B=[]){return(new Wi).buildKeyframes(n,t,e,r,c,f,v,C,I,B)}class Wi{buildKeyframes(t,e,r,c,f,v,C,I,B,X=[]){B=B||new W;const xe=new Hi(t,e,B,c,f,X,[]);xe.options=I;const it=I.delay?Br(I.delay):0;xe.currentTimeline.delayNextStep(it),xe.currentTimeline.setStyles([v],null,xe.errors,I),Y(this,r,xe);const lt=xe.timelines.filter(Nt=>Nt.containsAnimation());if(lt.length&&C.size){let Nt;for(let Gt=lt.length-1;Gt>=0;Gt--){const tn=lt[Gt];if(tn.element===e){Nt=tn;break}}Nt&&!Nt.allowOnlyTimelineStyles()&&Nt.setStyles([C],null,xe.errors,I)}return lt.length?lt.map(Nt=>Nt.buildKeyframes()):[fe(e,[],[],[],0,it,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const c=e.createSubContext(t.options),f=e.currentTimeline.currentTime,v=this._visitSubInstructions(r,c,c.options);f!=v&&e.transformIntoNewTimeline(v)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const c of t){const f=c?.delay;if(f){const v="number"==typeof f?f:Br(nr(f,c?.params??{},e.errors));r.delayNextStep(v)}}}_visitSubInstructions(t,e,r){let f=e.currentTimeline.currentTime;const v=null!=r.duration?Br(r.duration):null,C=null!=r.delay?Br(r.delay):null;return 0!==v&&t.forEach(I=>{const B=e.appendInstructionToTimeline(I,v,C);f=Math.max(f,B.duration+B.delay)}),f}visitReference(t,e){e.updateOptions(t.options,!0),Y(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let c=e;const f=t.options;if(f&&(f.params||f.delay)&&(c=e.createSubContext(f),c.transformIntoNewTimeline(),null!=f.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Zi);const v=Br(f.delay);c.delayNextStep(v)}t.steps.length&&(t.steps.forEach(v=>Y(this,v,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>r&&c.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let c=e.currentTimeline.currentTime;const f=t.options&&t.options.delay?Br(t.options.delay):0;t.steps.forEach(v=>{const C=e.createSubContext(t.options);f&&C.delayNextStep(f),Y(this,v,C),c=Math.max(c,C.currentTimeline.currentTime),r.push(C.currentTimeline)}),r.forEach(v=>e.currentTimeline.mergeTimelineCollectedStyles(v)),e.transformIntoNewTimeline(c),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Li(e.params?nr(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),c=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),c.snapshotCurrentStyles());const f=t.style;5==f.type?this.visitKeyframes(f,e):(e.incrementTime(r.duration),this.visitStyle(f,e),c.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,c=e.currentAnimateTimings;!c&&r.hasCurrentStyleProperties()&&r.forwardFrame();const f=c&&c.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(f):r.setStyles(t.styles,f,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,c=e.currentTimeline.duration,f=r.duration,C=e.createSubContext().currentTimeline;C.easing=r.easing,t.styles.forEach(I=>{C.forwardTime((I.offset||0)*f),C.setStyles(I.styles,I.easing,e.errors,e.options),C.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(C),e.transformIntoNewTimeline(c+f),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,c=t.options||{},f=c.delay?Br(c.delay):0;f&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zi);let v=r;const C=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!c.optional,e.errors);e.currentQueryTotal=C.length;let I=null;C.forEach((B,X)=>{e.currentQueryIndex=X;const xe=e.createSubContext(t.options,B);f&&xe.delayNextStep(f),B===e.element&&(I=xe.currentTimeline),Y(this,t.animation,xe),xe.currentTimeline.applyStylesToKeyframe(),v=Math.max(v,xe.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(v),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,c=e.currentTimeline,f=t.timings,v=Math.abs(f.duration),C=v*(e.currentQueryTotal-1);let I=v*e.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":I=C-I;break;case"full":I=r.currentStaggerTime}const X=e.currentTimeline;I&&X.delayNextStep(I);const xe=X.currentTime;Y(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=c.currentTime-xe+(c.startTime-r.currentTimeline.startTime)}}const Zi={};class Hi{constructor(t,e,r,c,f,v,C,I){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=c,this._leaveClassName=f,this.errors=v,this.timelines=C,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new ur(this._driver,e,0),C.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let c=this.options;null!=r.duration&&(c.duration=Br(r.duration)),null!=r.delay&&(c.delay=Br(r.delay));const f=r.params;if(f){let v=c.params;v||(v=this.options.params={}),Object.keys(f).forEach(C=>{(!e||!v.hasOwnProperty(C))&&(v[C]=nr(f[C],v,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(c=>{r[c]=e[c]})}}return t}createSubContext(t=null,e,r){const c=e||this.element,f=new Hi(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,r||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(t),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(t){return this.previousNode=Zi,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const c={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},f=new ir(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,c,t.stretchStartingKeyframe);return this.timelines.push(f),c}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,c,f,v){let C=[];if(c&&C.push(this.element),t.length>0){t=(t=t.replace(ln,"."+this._enterClassName)).replace(li,"."+this._leaveClassName);let B=this._driver.query(this.element,t,1!=r);0!==r&&(B=r<0?B.slice(B.length+r,B.length):B.slice(0,r)),C.push(...B)}return!f&&0==C.length&&v.push(function yn(n){return new h.vHH(3014,!1)}()),C}}class ur{constructor(t,e,r,c){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ur(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||$e.l3),this._currentKeyframe.set(e,$e.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,c){e&&this._previousKeyframe.set("easing",e);const f=c&&c.params||{},v=function qo(n,t){const e=new Map;let r;return n.forEach(c=>{if("*"===c){r=r||t.keys();for(let f of r)e.set(f,$e.l3)}else Ts(c,e)}),e}(t,this._globalTimelineStyles);for(let[C,I]of v){const B=nr(I,f,r);this._pendingStyles.set(C,B),this._localTimelineStyles.has(C)||this._backFill.set(C,this._globalTimelineStyles.get(C)??$e.l3),this._updateStyle(C,B)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const c=this._styleSummary.get(r);(!c||e.time>c.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((C,I)=>{const B=Ts(C,new Map,this._backFill);B.forEach((X,xe)=>{X===$e.k1?t.add(xe):X===$e.l3&&e.add(xe)}),r||B.set("offset",I/this.duration),c.push(B)});const f=t.size?En(t.values()):[],v=e.size?En(e.values()):[];if(r){const C=c[0],I=new Map(C);C.set("offset",0),I.set("offset",1),c=[C,I]}return fe(this.element,c,f,v,this.duration,this.startTime,this.easing,!1)}}class ir extends ur{constructor(t,e,r,c,f,v,C=!1){super(t,e,v.delay),this.keyframes=r,this.preStyleProps=c,this.postStyleProps=f,this._stretchStartingKeyframe=C,this.timings={duration:v.duration,delay:v.delay,easing:v.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:c}=this.timings;if(this._stretchStartingKeyframe&&e){const f=[],v=r+e,C=e/v,I=Ts(t[0]);I.set("offset",0),f.push(I);const B=Ts(t[0]);B.set("offset",Dr(C)),f.push(B);const X=t.length-1;for(let xe=1;xe<=X;xe++){let it=Ts(t[xe]);const lt=it.get("offset");it.set("offset",Dr((e+lt*r)/v)),f.push(it)}r=v,e=0,c="",t=f}return fe(this.element,t,this.preStyleProps,this.postStyleProps,r,e,c,!0)}}function Dr(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class dr{}const Hr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fs extends dr{normalizePropertyName(t,e){return Bl(t)}normalizeStyleValue(t,e,r,c){let f="";const v=r.toString().trim();if(Hr.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)f="px";else{const C=r.match(/^[+-]?[\d\.]+([a-z]*)$/);C&&0==C[1].length&&c.push(function _t(n,t){return new h.vHH(3005,!1)}())}return v+f}}function hl(n,t,e,r,c,f,v,C,I,B,X,xe,it){return{type:0,element:n,triggerName:t,isRemovalTransition:c,fromState:e,fromStyles:f,toState:r,toStyles:v,timelines:C,queriedElements:I,preStyleProps:B,postStyleProps:X,totalTime:xe,errors:it}}const Bn={};class _r{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,c){return function iu(n,t,e,r,c){return n.some(f=>f(t,e,r,c))}(this.ast.matchers,t,e,r,c)}buildStyles(t,e,r){let c=this._stateStyles.get("*");return void 0!==t&&(c=this._stateStyles.get(t?.toString())||c),c?c.buildStyles(e,r):new Map}build(t,e,r,c,f,v,C,I,B,X){const xe=[],it=this.ast.options&&this.ast.options.params||Bn,Nt=this.buildStyles(r,C&&C.params||Bn,xe),Gt=I&&I.params||Bn,tn=this.buildStyles(c,Gt,xe),xn=new Set,On=new Map,Fn=new Map,Ln="void"===c,Jn={params:ci(Gt,it),delay:this.ast.options?.delay},ui=X?[]:Ki(t,e,this.ast.animation,f,v,Nt,tn,Jn,B,xe);let yi=0;if(ui.forEach(hi=>{yi=Math.max(hi.duration+hi.delay,yi)}),xe.length)return hl(e,this._triggerName,r,c,Ln,Nt,tn,[],[],On,Fn,yi,xe);ui.forEach(hi=>{const vi=hi.element,Wn=kr(On,vi,new Set);hi.preStyleProps.forEach(Vi=>Wn.add(Vi));const Qn=kr(Fn,vi,new Set);hi.postStyleProps.forEach(Vi=>Qn.add(Vi)),vi!==e&&xn.add(vi)});const ri=En(xn.values());return hl(e,this._triggerName,r,c,Ln,Nt,tn,ui,ri,On,Fn,yi)}}function ci(n,t){const e=Jr(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class Ei{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,c=Jr(this.defaultParams);return Object.keys(t).forEach(f=>{const v=t[f];null!==v&&(c[f]=v)}),this.styles.styles.forEach(f=>{"string"!=typeof f&&f.forEach((v,C)=>{v&&(v=nr(v,c,e));const I=this.normalizer.normalizePropertyName(C,e);v=this.normalizer.normalizeStyleValue(C,I,v,e),r.set(I,v)})}),r}}class Kn{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(c=>{this.states.set(c.name,new Ei(c.style,c.options&&c.options.params||{},r))}),kn(this.states,"true","1"),kn(this.states,"false","0"),e.transitions.forEach(c=>{this.transitionFactories.push(new _r(t,c,this.states))}),this.fallbackTransition=function hn(n,t,e){return new _r(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(v,C)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,c){return this.transitionFactories.find(v=>v.match(t,e,r,c))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function kn(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Ur=new W;class ru{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],f=Ko(this._driver,e,r,[]);if(r.length)throw function so(n){return new h.vHH(3503,!1)}();this._animations.set(t,f)}_buildPlayer(t,e,r){const c=t.element,f=rl(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(c,f,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const c=[],f=this._animations.get(t);let v;const C=new Map;if(f?(v=Ki(this._driver,e,f,Ui,ua,new Map,new Map,r,Ur,c),v.forEach(X=>{const xe=kr(C,X.element,new Map);X.postStyleProps.forEach(it=>xe.set(it,null))})):(c.push(function il(){return new h.vHH(3300,!1)}()),v=[]),c.length)throw function Ks(n){return new h.vHH(3504,!1)}();C.forEach((X,xe)=>{X.forEach((it,lt)=>{X.set(lt,this._driver.computeStyle(xe,lt,$e.l3))})});const B=Zs(v.map(X=>{const xe=C.get(X.element);return this._buildPlayer(X,new Map,xe)}));return this._playersById.set(t,B),B.onDestroy(()=>this.destroy(t)),this.players.push(B),B}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function $r(n){return new h.vHH(3301,!1)}();return e}listen(t,e,r,c){const f=ca(e,"","","");return ao(this._getPlayer(t),r,f,c),()=>{}}command(t,e,r,c){if("register"==r)return void this.register(t,c[0]);if("create"==r)return void this.create(t,e,c[0]||{});const f=this._getPlayer(t);switch(r){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(t)}}}const su="ng-animate-queued",Xu="ng-animate-disabled",ou=[],qd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class mi{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function au(n){return n??null}(r?t.value:t),r){const f=Jr(t);delete f.value,this.options=f}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(c=>{null==r[c]&&(r[c]=e[c])})}}}const Fo="void",pa=new mi(Fo);class Er{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,As(e,this._hostClassName)}listen(t,e,r,c){if(!this._triggers.has(e))throw function vo(n,t){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function rs(n){return new h.vHH(3303,!1)}();if(!function Yn(n){return"start"==n||"done"==n}(r))throw function Rl(n,t){return new h.vHH(3400,!1)}();const f=kr(this._elementListeners,t,[]),v={name:e,phase:r,callback:c};f.push(v);const C=kr(this._engine.statesByElement,t,new Map);return C.has(e)||(As(t,Ga),As(t,Ga+"-"+e),C.set(e,pa)),()=>{this._engine.afterFlush(()=>{const I=f.indexOf(v);I>=0&&f.splice(I,1),this._triggers.has(e)||C.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function yo(n){return new h.vHH(3401,!1)}();return e}trigger(t,e,r,c=!0){const f=this._getTrigger(e),v=new Qo(this.id,e,t);let C=this._engine.statesByElement.get(t);C||(As(t,Ga),As(t,Ga+"-"+e),this._engine.statesByElement.set(t,C=new Map));let I=C.get(e);const B=new mi(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&I&&B.absorbOptions(I.options),C.set(e,B),I||(I=pa),B.value!==Fo&&I.value===B.value){if(!function Ya(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let c=0;c<e.length;c++){const f=e[c];if(!t.hasOwnProperty(f)||n[f]!==t[f])return!1}return!0}(I.params,B.params)){const Gt=[],tn=f.matchStyles(I.value,I.params,Gt),xn=f.matchStyles(B.value,B.params,Gt);Gt.length?this._engine.reportError(Gt):this._engine.afterFlush(()=>{Hs(t,tn),hs(t,xn)})}return}const it=kr(this._engine.playersByElement,t,[]);it.forEach(Gt=>{Gt.namespaceId==this.id&&Gt.triggerName==e&&Gt.queued&&Gt.destroy()});let lt=f.matchTransition(I.value,B.value,t,B.params),Nt=!1;if(!lt){if(!c)return;lt=f.fallbackTransition,Nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:lt,fromState:I,toState:B,player:v,isFallbackTransition:Nt}),Nt||(As(t,su),v.onStart(()=>{ps(t,su)})),v.onDone(()=>{let Gt=this.players.indexOf(v);Gt>=0&&this.players.splice(Gt,1);const tn=this._engine.playersByElement.get(t);if(tn){let xn=tn.indexOf(v);xn>=0&&tn.splice(xn,1)}}),this.players.push(v),it.push(v),v}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(c=>c.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,No,!0);r.forEach(c=>{if(c[ho])return;const f=this._engine.fetchNamespacesByElement(c);f.size?f.forEach(v=>v.triggerLeaveAnimation(c,e,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(t,e,r,c){const f=this._engine.statesByElement.get(t),v=new Map;if(f){const C=[];if(f.forEach((I,B)=>{if(v.set(B,I.value),this._triggers.has(B)){const X=this.trigger(t,B,Fo,c);X&&C.push(X)}}),C.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,v),r&&Zs(C).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const c=new Set;e.forEach(f=>{const v=f.name;if(c.has(v))return;c.add(v);const I=this._triggers.get(v).fallbackTransition,B=r.get(v)||pa,X=new mi(Fo),xe=new Qo(this.id,v,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:v,transition:I,fromState:B,toState:X,player:xe,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let c=!1;if(r.totalAnimations){const f=r.players.length?r.playersByQueriedElement.get(t):[];if(f&&f.length)c=!0;else{let v=t;for(;v=v.parentNode;)if(r.statesByElement.get(v)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(t),c)r.markElementAsRemoved(this.id,t,!1,e);else{const f=t[ho];(!f||f===qd)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){As(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const c=r.player;if(c.destroyed)return;const f=r.element,v=this._elementListeners.get(f);v&&v.forEach(C=>{if(C.name==r.triggerName){const I=ca(f,r.triggerName,r.fromState.value,r.toState.value);I._data=t,ao(r.player,C.phase,I,C.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):e.push(r)}),this._queue=[],e.sort((r,c)=>{const f=r.transition.ast.depCount,v=c.transition.ast.depCount;return 0==f||0==v?f-v:this._engine.driver.containsElement(r.element,c.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class bi{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,f)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Er(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,c=this.namespacesByHostElement;if(r.length-1>=0){let v=!1,C=this.driver.getParentElement(e);for(;C;){const I=c.get(C);if(I){const B=r.indexOf(I);r.splice(B+1,0,t),v=!0;break}C=this.driver.getParentElement(C)}v||r.unshift(t)}else r.push(t);return c.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let c=this._namespaceLookup[t];c&&c.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const c=this._namespaceList.indexOf(r);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let c of r.values())if(c.namespaceId){const f=this._fetchNamespace(c.namespaceId);f&&e.add(f)}return e}trigger(t,e,r,c){if(vr(e)){const f=this._fetchNamespace(t);if(f)return f.trigger(e,r,c),!0}return!1}insertNode(t,e,r,c){if(!vr(e))return;const f=e[ho];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const v=this.collectedLeaveElements.indexOf(e);v>=0&&this.collectedLeaveElements.splice(v,1)}if(t){const v=this._fetchNamespace(t);v&&v.insertNode(e,r)}c&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),As(t,Xu)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ps(t,Xu))}removeNode(t,e,r,c){if(vr(e)){const f=t?this._fetchNamespace(t):null;if(f?f.removeNode(e,c):this.markElementAsRemoved(t,e,!1,c),r){const v=this.namespacesByHostElement.get(e);v&&v.id!==t&&v.removeNode(e,c)}}else this._onRemovalComplete(e,c)}markElementAsRemoved(t,e,r,c,f){this.collectedLeaveElements.push(e),e[ho]={namespaceId:t,setForRemoval:c,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:f}}listen(t,e,r,c,f){return vr(e)?this._fetchNamespace(t).listen(e,r,c,f):()=>{}}_buildInstruction(t,e,r,c,f){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,c,t.fromState.options,t.toState.options,e,f)}destroyInnerAnimations(t){let e=this.driver.query(t,No,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,da,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Zs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ho];if(e&&e.setForRemoval){if(t[ho]=qd,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Xu)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,c)=>this._balanceNamespaceList(r,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)As(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let c=0;c<r.length;c++)r[c]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Zs(e).onDone(()=>{r.forEach(c=>c())}):r.forEach(c=>c())}}reportError(t){throw function Nl(n){return new h.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new W,c=[],f=new Map,v=[],C=new Map,I=new Map,B=new Map,X=new Set;this.disabledNodes.forEach(si=>{X.add(si);const pi=this.driver.query(si,".ng-animate-queued",!0);for(let Ti=0;Ti<pi.length;Ti++)X.add(pi[Ti])});const xe=this.bodyNode,it=Array.from(this.statesByElement.keys()),lt=ma(it,this.collectedEnterElements),Nt=new Map;let Gt=0;lt.forEach((si,pi)=>{const Ti=Ui+Gt++;Nt.set(pi,Ti),si.forEach(xi=>As(xi,Ti))});const tn=[],xn=new Set,On=new Set;for(let si=0;si<this.collectedLeaveElements.length;si++){const pi=this.collectedLeaveElements[si],Ti=pi[ho];Ti&&Ti.setForRemoval&&(tn.push(pi),xn.add(pi),Ti.hasAnimation?this.driver.query(pi,".ng-star-inserted",!0).forEach(xi=>xn.add(xi)):On.add(pi))}const Fn=new Map,Ln=ma(it,Array.from(xn));Ln.forEach((si,pi)=>{const Ti=ua+Gt++;Fn.set(pi,Ti),si.forEach(xi=>As(xi,Ti))}),t.push(()=>{lt.forEach((si,pi)=>{const Ti=Nt.get(pi);si.forEach(xi=>ps(xi,Ti))}),Ln.forEach((si,pi)=>{const Ti=Fn.get(pi);si.forEach(xi=>ps(xi,Ti))}),tn.forEach(si=>{this.processLeaveNode(si)})});const Jn=[],ui=[];for(let si=this._namespaceList.length-1;si>=0;si--)this._namespaceList[si].drainQueuedTransitions(e).forEach(Ti=>{const xi=Ti.player,zr=Ti.element;if(Jn.push(xi),this.collectedEnterElements.length){const Mo=zr[ho];if(Mo&&Mo.setForMove){if(Mo.previousTriggersValues&&Mo.previousTriggersValues.has(Ti.triggerName)){const kl=Mo.previousTriggersValues.get(Ti.triggerName),nl=this.statesByElement.get(Ti.element);if(nl&&nl.has(Ti.triggerName)){const Vy=nl.get(Ti.triggerName);Vy.value=kl,nl.set(Ti.triggerName,Vy)}}return void xi.destroy()}}const vs=!xe||!this.driver.containsElement(xe,zr),io=Fn.get(zr),Ol=Nt.get(zr),Ir=this._buildInstruction(Ti,r,Ol,io,vs);if(Ir.errors&&Ir.errors.length)return void ui.push(Ir);if(vs)return xi.onStart(()=>Hs(zr,Ir.fromStyles)),xi.onDestroy(()=>hs(zr,Ir.toStyles)),void c.push(xi);if(Ti.isFallbackTransition)return xi.onStart(()=>Hs(zr,Ir.fromStyles)),xi.onDestroy(()=>hs(zr,Ir.toStyles)),void c.push(xi);const cc=[];Ir.timelines.forEach(Mo=>{Mo.stretchStartingKeyframe=!0,this.disabledNodes.has(Mo.element)||cc.push(Mo)}),Ir.timelines=cc,r.append(zr,Ir.timelines),v.push({instruction:Ir,player:xi,element:zr}),Ir.queriedElements.forEach(Mo=>kr(C,Mo,[]).push(xi)),Ir.preStyleProps.forEach((Mo,kl)=>{if(Mo.size){let nl=I.get(kl);nl||I.set(kl,nl=new Set),Mo.forEach((Vy,G_)=>nl.add(G_))}}),Ir.postStyleProps.forEach((Mo,kl)=>{let nl=B.get(kl);nl||B.set(kl,nl=new Set),Mo.forEach((Vy,G_)=>nl.add(G_))})});if(ui.length){const si=[];ui.forEach(pi=>{si.push(function Ha(n,t){return new h.vHH(3505,!1)}())}),Jn.forEach(pi=>pi.destroy()),this.reportError(si)}const yi=new Map,ri=new Map;v.forEach(si=>{const pi=si.element;r.has(pi)&&(ri.set(pi,pi),this._beforeAnimationBuild(si.player.namespaceId,si.instruction,yi))}),c.forEach(si=>{const pi=si.element;this._getPreviousPlayers(pi,!1,si.namespaceId,si.triggerName,null).forEach(xi=>{kr(yi,pi,[]).push(xi),xi.destroy()})});const hi=tn.filter(si=>To(si,I,B)),vi=new Map;Gr(vi,this.driver,On,B,$e.l3).forEach(si=>{To(si,I,B)&&hi.push(si)});const Qn=new Map;lt.forEach((si,pi)=>{Gr(Qn,this.driver,new Set(si),I,$e.k1)}),hi.forEach(si=>{const pi=vi.get(si),Ti=Qn.get(si);vi.set(si,new Map([...Array.from(pi?.entries()??[]),...Array.from(Ti?.entries()??[])]))});const Vi=[],lr=[],lc={};v.forEach(si=>{const{element:pi,player:Ti,instruction:xi}=si;if(r.has(pi)){if(X.has(pi))return Ti.onDestroy(()=>hs(pi,xi.toStyles)),Ti.disabled=!0,Ti.overrideTotalTime(xi.totalTime),void c.push(Ti);let zr=lc;if(ri.size>1){let io=pi;const Ol=[];for(;io=io.parentNode;){const Ir=ri.get(io);if(Ir){zr=Ir;break}Ol.push(io)}Ol.forEach(Ir=>ri.set(Ir,zr))}const vs=this._buildAnimation(Ti.namespaceId,xi,yi,f,Qn,vi);if(Ti.setRealPlayer(vs),zr===lc)Vi.push(Ti);else{const io=this.playersByElement.get(zr);io&&io.length&&(Ti.parentPlayer=Zs(io)),c.push(Ti)}}else Hs(pi,xi.fromStyles),Ti.onDestroy(()=>hs(pi,xi.toStyles)),lr.push(Ti),X.has(pi)&&c.push(Ti)}),lr.forEach(si=>{const pi=f.get(si.element);if(pi&&pi.length){const Ti=Zs(pi);si.setRealPlayer(Ti)}}),c.forEach(si=>{si.parentPlayer?si.syncPlayerEvents(si.parentPlayer):si.destroy()});for(let si=0;si<tn.length;si++){const pi=tn[si],Ti=pi[ho];if(ps(pi,ua),Ti&&Ti.hasAnimation)continue;let xi=[];if(C.size){let vs=C.get(pi);vs&&vs.length&&xi.push(...vs);let io=this.driver.query(pi,da,!0);for(let Ol=0;Ol<io.length;Ol++){let Ir=C.get(io[Ol]);Ir&&Ir.length&&xi.push(...Ir)}}const zr=xi.filter(vs=>!vs.destroyed);zr.length?lu(this,pi,zr):this.processLeaveNode(pi)}return tn.length=0,Vi.forEach(si=>{this.players.push(si),si.onDone(()=>{si.destroy();const pi=this.players.indexOf(si);this.players.splice(pi,1)}),si.play()}),Vi}elementContainsData(t,e){let r=!1;const c=e[ho];return c&&c.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,c,f){let v=[];if(e){const C=this.playersByQueriedElement.get(t);C&&(v=C)}else{const C=this.playersByElement.get(t);if(C){const I=!f||f==Fo;C.forEach(B=>{B.queued||!I&&B.triggerName!=c||v.push(B)})}}return(r||c)&&(v=v.filter(C=>!(r&&r!=C.namespaceId||c&&c!=C.triggerName))),v}_beforeAnimationBuild(t,e,r){const f=e.element,v=e.isRemovalTransition?void 0:t,C=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const B=I.element,X=B!==f,xe=kr(r,B,[]);this._getPreviousPlayers(B,X,v,C,e.toState).forEach(lt=>{const Nt=lt.getRealPlayer();Nt.beforeDestroy&&Nt.beforeDestroy(),lt.destroy(),xe.push(lt)})}Hs(f,e.fromStyles)}_buildAnimation(t,e,r,c,f,v){const C=e.triggerName,I=e.element,B=[],X=new Set,xe=new Set,it=e.timelines.map(Nt=>{const Gt=Nt.element;X.add(Gt);const tn=Gt[ho];if(tn&&tn.removedBeforeQueried)return new $e.ZN(Nt.duration,Nt.delay);const xn=Gt!==I,On=function Wa(n){const t=[];return hc(n,t),t}((r.get(Gt)||ou).map(yi=>yi.getRealPlayer())).filter(yi=>!!yi.element&&yi.element===Gt),Fn=f.get(Gt),Ln=v.get(Gt),Jn=rl(0,this._normalizer,0,Nt.keyframes,Fn,Ln),ui=this._buildPlayer(Nt,Jn,On);if(Nt.subTimeline&&c&&xe.add(Gt),xn){const yi=new Qo(t,C,Gt);yi.setRealPlayer(ui),B.push(yi)}return ui});B.forEach(Nt=>{kr(this.playersByQueriedElement,Nt.element,[]).push(Nt),Nt.onDone(()=>function Gi(n,t,e){let r=n.get(t);if(r){if(r.length){const c=r.indexOf(e);r.splice(c,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,Nt.element,Nt))}),X.forEach(Nt=>As(Nt,ds));const lt=Zs(it);return lt.onDestroy(()=>{X.forEach(Nt=>ps(Nt,ds)),hs(I,e.toStyles)}),xe.forEach(Nt=>{kr(c,Nt,[]).push(lt)}),lt}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new $e.ZN(t.duration,t.delay)}}class Qo{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new $e.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(c=>ao(t,r,void 0,c))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){kr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function vr(n){return n&&1===n.nodeType}function ga(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Gr(n,t,e,r,c){const f=[];e.forEach(I=>f.push(ga(I)));const v=[];r.forEach((I,B)=>{const X=new Map;I.forEach(xe=>{const it=t.computeStyle(B,xe,c);X.set(xe,it),(!it||0==it.length)&&(B[ho]=Fr,v.push(B))}),n.set(B,X)});let C=0;return e.forEach(I=>ga(I,f[C++])),v}function ma(n,t){const e=new Map;if(n.forEach(C=>e.set(C,[])),0==t.length)return e;const c=new Set(t),f=new Map;function v(C){if(!C)return 1;let I=f.get(C);if(I)return I;const B=C.parentNode;return I=e.has(B)?B:c.has(B)?1:v(B),f.set(C,I),I}return t.forEach(C=>{const I=v(C);1!==I&&e.get(I).push(C)}),e}function As(n,t){n.classList?.add(t)}function ps(n,t){n.classList?.remove(t)}function lu(n,t,e){Zs(e).onDone(()=>n.processLeaveNode(t))}function hc(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof $e.ZE?hc(r.players,t):t.push(r)}}function To(n,t,e){const r=e.get(n);if(!r)return!1;let c=t.get(n);return c?r.forEach(f=>c.add(f)):t.set(n,r),e.delete(n),!0}class fc{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(c,f)=>{},this._transitionEngine=new bi(t,e,r),this._timelineEngine=new ru(t,e,r),this._transitionEngine.onRemovalComplete=(c,f)=>this.onRemovalComplete(c,f)}registerTrigger(t,e,r,c,f){const v=t+"-"+c;let C=this._triggerCache[v];if(!C){const I=[],X=Ko(this._driver,f,I,[]);if(I.length)throw function Ni(n,t){return new h.vHH(3404,!1)}();C=function Sp(n,t,e){return new Kn(n,t,e)}(c,X,this._normalizer),this._triggerCache[v]=C}this._transitionEngine.registerTrigger(e,c,C)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,c){this._transitionEngine.insertNode(t,e,r,c)}onRemove(t,e,r,c){this._transitionEngine.removeNode(t,e,c||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,c){if("@"==r.charAt(0)){const[f,v]=Fs(r);this._timelineEngine.command(f,e,v,c)}else this._transitionEngine.trigger(t,e,r,c)}listen(t,e,r,c,f){if("@"==r.charAt(0)){const[v,C]=Fs(r);return this._timelineEngine.listen(v,e,C,f)}return this._transitionEngine.listen(t,e,r,c,f)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cu=(()=>{class n{constructor(e,r,c){this._element=e,this._startStyles=r,this._endStyles=c,this._state=0;let f=n.initialStylesByElement.get(e);f||n.initialStylesByElement.set(e,f=new Map),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&hs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hs(this._element,this._initialStyles),this._endStyles&&(hs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hs(this._element,this._endStyles),this._endStyles=null),hs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lo(n){let t=null;return n.forEach((e,r)=>{(function Ka(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class on{constructor(t,e,r,c){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,c)=>{"offset"!==c&&t.set(c,this._finished?r:$(this.element,c))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class _a{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return bo(t,e)}getParentElement(t){return Ls(t)}query(t,e,r){return Pl(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,c,f,v=[]){const I={duration:r,delay:c,fill:0==c?"both":"forwards"};f&&(I.easing=f);const B=new Map,X=v.filter(lt=>lt instanceof on);(function Vr(n,t){return 0===n||0===t})(r,c)&&X.forEach(lt=>{lt.currentSnapshot.forEach((Nt,Gt)=>B.set(Gt,Nt))});let xe=function Vs(n){return n.length?n[0]instanceof Map?n:n.map(t=>ss(t)):[]}(e).map(lt=>Ts(lt));xe=function Q(n,t,e){if(e.size&&t.length){let r=t[0],c=[];if(e.forEach((f,v)=>{r.has(v)||c.push(v),r.set(v,f)}),c.length)for(let f=1;f<t.length;f++){let v=t[f];c.forEach(C=>v.set(C,$(n,C)))}}return t}(t,xe,B);const it=function pc(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Lo(t[0]),t.length>1&&(r=Lo(t[t.length-1]))):t instanceof Map&&(e=Lo(t)),e||r?new cu(n,e,r):null}(t,xe);return new on(t,xe,I,it)}}let jr=(()=>{class n extends $e._j{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(e)?(0,$e.vP)(e):e;return qs(this._renderer,null,r,"register",[c]),new gc(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(ie.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class gc extends $e.LC{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Hl(this._id,t,e||{},this._renderer)}}class Hl{constructor(t,e,r,c){this.id=t,this.element=e,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return qs(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qs(n,t,e,r,c){return n.setProperty(t,`@@${e}:${r}`,c)}const va="@.disabled";let hr=(()=>{class n{constructor(e,r,c){this.delegate=e,this.engine=r,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(f,v)=>{const C=v?.parentNode(f);C&&v.removeChild(C,f)}}createRenderer(e,r){const f=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let X=this._rendererCache.get(f);return X||(X=new ed("",f,this.engine),this._rendererCache.set(f,X)),X}const v=r.id,C=r.id+"-"+this._currentId;this._currentId++,this.engine.register(C,e);const I=X=>{Array.isArray(X)?X.forEach(I):this.engine.registerTrigger(v,C,e,X.name,X)};return r.data.animation.forEach(I),new Qd(this,C,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,c){e>=0&&e<this._microtaskId?this._zone.run(()=>r(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[v,C]=f;v(C)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(fc),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ed{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?c=>e.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,c=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,c)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,c){this.delegate.setAttribute(t,e,r,c)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,c){this.delegate.setStyle(t,e,r,c)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==va?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qd extends ed{constructor(t,e,r,c){super(e,r,c),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==va?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const c=function ef(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let f=e.slice(1),v="";return"@"!=f.charAt(0)&&([f,v]=function xo(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(f)),this.engine.listen(this.namespaceId,c,f,v,C=>{this.factory.scheduleListenerCallback(C._data||-1,r,C)})}return this.delegate.listen(t,e,r)}}const or=[{provide:$e._j,useClass:jr},{provide:dr,useFactory:function xa(){return new fs}},{provide:fc,useClass:(()=>{class n extends fc{constructor(e,r,c,f){super(e.body,r,c)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ie.K0),h.LFG(sr),h.LFG(dr),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:h.FYo,useFactory:function Ip(n,t,e){return new hr(n,t,e)},deps:[m.se,fc,h.R0b]}],mc=[{provide:sr,useFactory:()=>new _a},{provide:h.QbO,useValue:"BrowserAnimations"},...or],Is=[{provide:sr,useClass:us},{provide:h.QbO,useValue:"NoopAnimations"},...or];let Ii=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Is:mc}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:mc,imports:[m.b2]}),n})();var Ci=x(2233);let hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Ci.IR]}),n})(),ah=(()=>{class n{constructor(e,r){(0,ie.PM)(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Ci.WU,useValue:{...Ci.g5,...e}},{provide:Ci.Bs,useValue:r,multi:!0},{provide:Ci.wY,useValue:!0}]:[{provide:Ci.WU,useValue:{...Ci.g5,...e}},{provide:Ci.Bs,useValue:r,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Ci.wY),h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[_n.ae,Be.aT,hf,_n.ae,Be.aT,hf]}),n})();var Kr=x(3692);const lh_firebase={projectId:"virtual-project-manager-f12ca",appId:"1:902333508460:web:b123140f787f0fe784e149",storageBucket:"virtual-project-manager-f12ca.appspot.com",apiKey:"AIzaSyCe_iWqO5Z32jOJaPngPo7DwT9mxsFnsXo",authDomain:"virtual-project-manager-f12ca.firebaseapp.com",messagingSenderId:"902333508460",measurementId:"G-4QJWYRMNYE"};var fi=x(4027),Ia=x(9646),ch=x(3900),k=x(9751),w=x(8421),D=x(4482),F=x(5403);var Je=x(5577),Zt=x(1520),wn=x(5867),oi=x(655),ei=x(6148),ti=x(7128),Tr=x(7573),Wt=x(2090),er=x(9681),vu=x(1877),Os=x(4859);function uh(n){return new k.y(function(t){return{unsubscribe:(0,Tr.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Ec{constructor(t){return t}}class na{constructor(){return(0,fi.vb)("auth")}}const bu=new h.OlP("angularfire2.auth-instances");function Zr(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Ec(r)}}const dh={provide:na,deps:[[new h.FiY,bu]]},pf={provide:Ec,useFactory:function Bi(n,t){const e=(0,fi.JM)("auth",n,t);return e&&new Ec(e)},deps:[[new h.FiY,bu],Kr.Ot]};let ad=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[pf,dh]}),n})();function gf(n,...t){return{ngModule:ad,providers:[{provide:bu,useFactory:Zr(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,[new h.FiY,ti.nm],...t]}]}}const $_=(0,fi.u3)(uh,!0),po=(0,fi.u3)(Tr.n,!0);class Cf{constructor(t){return t}}const ev="analytics",zp=fi.nk.async,Xy=(0,fi.u3)(ei.IH,!0),ym=(0,fi.u3)(ei.Kz,!0),Jy=(0,fi.u3)(ei.Iv,!0);let iv=(()=>{class n{constructor(e,r,c){let f;this.disposables=[],(0,wn.KN)("angularfire",fi.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(v=>{f=v})),zp().then(()=>{const v=c.get(Cf);v?this.disposables=[$_(e).subscribe(C=>{Jy(v,C?.uid),f()})]:f()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Ec),h.LFG(h.R0b),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl="firebase_screen_id",Wp="outlet",Ma="screen_class",Za="screen_name";let Zp=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Tf={},ov=n=>{const t=[n[Ma],n[Wp]].join("#");if(Tf.hasOwnProperty(t))return Tf[t];{const e=Zp++;return Tf[t]=e,e}};let lv=(()=>{class n{constructor(e,r,c,f,v,C){(0,wn.KN)("angularfire",fi.q4.full,"screen-tracking"),zp().then(()=>{const I=C.get(Cf);!e||!I||f.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe((0,ze.h)(c=>c instanceof A.jw)).pipe((0,ch.w)(c=>{var f;const C=(null===(f=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,lt=>lt.replace("://",":///"))).root.children[c.snapshot.outlet])||void 0===f?void 0:f.toString())||"",I=n.routerState.root.children.map(lt=>lt).find(lt=>lt.outlet===c.snapshot.outlet);if(!I)return(0,Ia.of)(null);let B=I;for(;B.firstChild;)B=B.firstChild;const X=B.pathFromRoot.map(lt=>{var Nt;return null===(Nt=lt.routeConfig)||void 0===Nt?void 0:Nt.path}).filter(lt=>lt).join("/")||"/",xe={[Za]:X,page_path:`/${C}`,firebase_event_origin:"auto",firebase_screen:X,[Wp]:c.snapshot.outlet};t&&(xe.page_title=t.getTitle());let it=I.component;if(it){if(it===A.fw){let lt=c.snapshot;for(;lt.firstChild;)lt=lt.firstChild;it=lt.component}}else it=c.snapshot.component;if("string"==typeof it)return(0,Ia.of)(Object.assign(Object.assign({},xe),{[Ma]:it}));if(it){const lt=e.resolveComponentFactory(it);return(0,Ia.of)(Object.assign(Object.assign({},xe),{[Ma]:lt.selector}))}return(0,Ia.of)(null)}),(0,ze.h)(c=>!!c),(0,Ht.U)(c=>Object.assign({firebase_screen_class:c[Ma],[Yl]:ov(c)},c)),function be(n,t,e,r){return(0,D.e)((c,f)=>{let v;t&&"function"!=typeof t?({duration:e,element:v,connector:r}=t):v=t;const C=new Map,I=Nt=>{C.forEach(Nt),Nt(f)},B=Nt=>I(Gt=>Gt.error(Nt));let X=0,xe=!1;const it=new F.Q(f,Nt=>{try{const Gt=n(Nt);let tn=C.get(Gt);if(!tn){C.set(Gt,tn=r?r():new St.x);const xn=function lt(Nt,Gt){const tn=new k.y(xn=>{X++;const On=Gt.subscribe(xn);return()=>{On.unsubscribe(),0==--X&&xe&&it.unsubscribe()}});return tn.key=Nt,tn}(Gt,tn);if(f.next(xn),e){const On=(0,F.x)(tn,()=>{tn.complete(),On?.unsubscribe()},void 0,void 0,()=>C.delete(Gt));it.add((0,w.Xf)(e(xn)).subscribe(On))}}tn.next(v?v(Nt):Nt)}catch(Gt){B(Gt)}},()=>I(Nt=>Nt.complete()),B,()=>C.clear(),()=>(xe=!0,0===X));c.subscribe(it)})}(c=>c[Wp]),(0,Je.z)(c=>c.pipe((0,Qe.x)((f,v)=>JSON.stringify(f)===JSON.stringify(v)),(0,Ke.O)(void 0),(0,Zt.G)(),(0,Ht.U)(([f,v])=>f?Object.assign({firebase_previous_class:f[Ma],firebase_previous_screen:f[Za],firebase_previous_id:f[Yl]},v):v)))))(e,r,c).pipe((0,ch.w)(B=>(0,oi.mG)(this,void 0,void 0,function*(){return v&&(yield v.initialized),ym(I,"screen_view",B)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(A.F0,8),h.LFG(m.Dx,8),h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(iv,8),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fh=new h.OlP("angularfire2.analytics-instances");function qp(n){return(t,e)=>{if(!fi.nk.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new Cf(r)}}const xf={provide:class tv{constructor(){return(0,fi.vb)(ev)}},deps:[[new h.FiY,fh]]},Du={provide:Cf,useFactory:function cv(n,t){if(!fi.nk.sync())return null;const e=(0,fi.JM)(ev,n,t);return e&&new Cf(e)},deps:[[new h.FiY,fh],Kr.Ot]};let e0=(()=>{class n{constructor(e,r){(0,wn.KN)("angularfire",fi.q4.full,"analytics")}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(lv,8),h.LFG(iv,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Du,xf,{provide:h.ip1,useValue:fi.nk.async,multi:!0}]}),n})();function uv(n,...t){return{ngModule:e0,providers:[{provide:fh,useFactory:qp(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,...t]}]}}var gs=x(5861);const Qp="@firebase/database";let Tc="";class yl{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Wt.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Wt.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Dm{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Wt.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const dv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yl(t)}}catch{}return new Dm},hd=dv("localStorage"),ph=dv("sessionStorage"),xc=new vu.Yd("@firebase/database"),Em=function(){let n=1;return function(){return n++}}(),Tm=function(n){const t=(0,Wt.dS)(n),e=new Wt.gQ;e.update(t);const r=e.digest();return Wt.US.encodeByteArray(r)},Kl=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Kl.apply(null,r):t+="object"==typeof r?(0,Wt.Wl)(r):r,t+=" "}return t};let Zl=null,gh=!0;const Xs=function(...n){if(!0===gh&&(gh=!1,null===Zl&&!0===ph.get("logging_enabled")&&function(n,t){(0,Wt.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xc.logLevel=vu.in.VERBOSE,Zl=xc.log.bind(xc),t&&ph.set("logging_enabled",!0)):"function"==typeof n?Zl=n:(Zl=null,ph.remove("logging_enabled"))}(!0)),Zl){const t=Kl.apply(null,n);Zl(t)}},go=function(n){return function(...t){Xs(n,...t)}},Sc=function(...n){const t="FIREBASE INTERNAL ERROR: "+Kl(...n);xc.error(t)},ks=function(...n){const t=`FIREBASE FATAL ERROR: ${Kl(...n)}`;throw xc.error(t),new Error(t)},Js=function(...n){const t="FIREBASE WARNING: "+Kl(...n);xc.warn(t)},ql=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},bl="[MIN_NAME]",ra="[MAX_NAME]",Uo=function(n,t){if(n===t)return 0;if(n===bl||t===ra)return-1;if(t===bl||n===ra)return 1;{const e=Ac(n),r=Ac(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Eu=function(n,t){return n===t?0:n<t?-1:1},Tu=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Wt.Wl)(t))},Ql=function(n){if("object"!=typeof n||null===n)return(0,Wt.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,Wt.Wl)(t[r]),e+=":",e+=Ql(n[t[r]]);return e+="}",e},Xp=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let c=0;c<e;c+=t)r.push(n.substring(c,c+t>e?e:c+t));return r};function mo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const mh=function(n){(0,Wt.hu)(!ql(n),"Invalid JSON number");const r=1023;let c,f,v,C,I;0===n?(f=0,v=0,c=1/n==-1/0?1:0):(c=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),r),f=C+r,v=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(f=0,v=Math.round(n/Math.pow(2,-1074))));const B=[];for(I=52;I;I-=1)B.push(v%2?1:0),v=Math.floor(v/2);for(I=11;I;I-=1)B.push(f%2?1:0),f=Math.floor(f/2);B.push(c?1:0),B.reverse();const X=B.join("");let xe="";for(I=0;I<64;I+=8){let it=parseInt(X.substr(I,8),2).toString(16);1===it.length&&(it="0"+it),xe+=it}return xe.toLowerCase()},Jp=new RegExp("^-?(0*)\\d{1,10}$"),Ac=function(n){if(Jp.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ic=function(n){try{n()}catch(t){setTimeout(()=>{throw Js("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Mc=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class eg{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Js(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fv{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Xs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Js(t)}}let Af=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ng=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Om="websocket",km="long_polling";class fd{constructor(t,e,r,c,f=!1,v="",C=!1){this.secure=e,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=v,this.includeNamespaceInQueryParams=C,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function rg(n,t,e){let r;if((0,Wt.hu)("string"==typeof t,"typeof type must == string"),(0,Wt.hu)("object"==typeof e,"typeof params must == object"),t===Om)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==km)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function pd(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const c=[];return mo(e,(f,v)=>{c.push(f+"="+v)}),r+c.join("&")}class sg{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Wt.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Wt.p$)(this.counters_)}}const Mf={},vh={};function Oc(n){const t=n.toString();return Mf[t]||(Mf[t]=new sg),Mf[t]}class og{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&Ic(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class kc{constructor(t,e,r,c,f,v,C){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.transportSessionId=v,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=go(t),this.stats_=Oc(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),rg(e,km,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new og(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Wt.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dg((...f)=>{const[v,C,I,B,X]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===v)this.id=C,this.password=I;else{if("close"!==v)throw new Error("Unrecognized command received: "+v);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[v,C]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(v,C)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ng.test(location.hostname)&&(r.r="f");const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kc.forceAllow_=!0}static forceDisallow(){kc.forceDisallow_=!0}static isAvailable(){return!((0,Wt.Yr)()||!kc.forceAllow_&&(kc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Wt.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,Wt.h$)(e),c=Xp(r,1840);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Wt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Wt.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class dg{constructor(t,e,r,c){if(this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Wt.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Em(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=dg.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const v="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(v),this.myIFrame.doc.close()}catch(C){Xs("frame writing exception"),C.stack&&Xs(C.stack),Xs(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Xs("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const v=this.pendingSegs.shift();r=r+"&seg"+c+"="+v.seg+"&ts"+c+"="+v.ts+"&d"+c+"="+v.d,c++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},c=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(c),r()})}addTag(t,e){(0,Wt.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||"loaded"===c||"complete"===c)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Xs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let bh=null;typeof MozWebSocket<"u"?bh=MozWebSocket:typeof WebSocket<"u"&&(bh=WebSocket);let md=(()=>{class n{constructor(e,r,c,f,v,C,I){this.connId=e,this.applicationId=c,this.appCheckToken=f,this.authToken=v,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=go(this.connId),this.stats_=Oc(r),this.connURL=n.connectionURL_(r,C,I,f,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,c,f,v){const C={v:"5"};return!(0,Wt.Yr)()&&typeof location<"u"&&location.hostname&&ng.test(location.hostname)&&(C.r="f"),r&&(C.s=r),c&&(C.ls=c),f&&(C.ac=f),v&&(C.p=v),rg(e,Om,C)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hd.set("previous_websocket_failure",!0);try{let c;if((0,Wt.Yr)()){c={headers:{"User-Agent":`Firebase/5/${Tc}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const v=process.env,C=0===this.connURL.indexOf("wss://")?v.HTTPS_PROXY||v.https_proxy:v.HTTP_PROXY||v.http_proxy;C&&(c.proxy={origin:C})}this.mySock=new bh(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const f=c.message||c.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const f=c.message||c.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const c=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);c&&c.length>1&&parseFloat(c[1])<4.4&&(e=!0)}return!e&&null!==bh&&!n.forceDisallow_}static previouslyFailed(){return hd.isInMemoryStorage||!0===hd.get("previous_websocket_failure")}markConnectionHealthy(){hd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const c=(0,Wt.cI)(r);this.onMessage(c)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Wt.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const c=this.extractFrameCount_(r);null!==c&&this.appendFrame_(c)}}send(e){this.resetKeepAlive();const r=(0,Wt.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const c=Xp(r,16384);c.length>1&&this.sendString_(String(c.length));for(let f=0;f<c.length;f++)this.sendString_(c[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),hg=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[kc,md]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=md&&md.isAvailable();let c=r&&!md.previouslyFailed();if(e.webSocketOnly&&(r||Js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[md];else{const f=this.transports_=[];for(const v of n.ALL_TRANSPORTS)v&&v.isAvailable()&&f.push(v);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class _d{constructor(t,e,r,c,f,v,C,I,B,X){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=v,this.onReady_=C,this.onDisconnect_=I,this.onKill_=B,this.lastSessionId=X,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=go("c:"+this.id+":"),this.transportManager_=new hg(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const c=t.healthyTimeout||0;c>0&&(this.healthyTimeout_=Mc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Tu("t",t),r=Tu("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Tu("t",t),r=Tu("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Tu("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?Sc("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sc("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,c=t.h;this.sessionId=t.s,this.repoInfo_.host=c,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Mc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gg{put(t,e,r,c){}merge(t,e,r,c){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Gm{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Wt.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const c=this.getInitialEvent(t);c&&e.apply(r,c)}off(t,e,r){this.validateEventType_(t);const c=this.listeners_[t]||[];for(let f=0;f<c.length;f++)if(c[f].callback===e&&(!r||r===c[f].context))return void c.splice(f,1)}validateEventType_(t){(0,Wt.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Bf extends Gm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Wt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bf}getInitialEvent(t){return(0,Wt.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class xr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function rr(){return new xr("")}function Qi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Rc(n){return n.pieces_.length-n.pieceNum_}function fr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new xr(n.pieces_,t)}function wl(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Nc(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function vd(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new xr(t,0)}function Rr(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof xr)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&e.push(r[c])}return new xr(e,0)}function zi(n){return n.pieceNum_>=n.pieces_.length}function sa(n,t){const e=Qi(n),r=Qi(t);if(null===e)return t;if(e===r)return sa(fr(n),fr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Vf(n,t){if(Rc(n)!==Rc(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Rs(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Rc(n)>Rc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class r0{constructor(t,e){this.errorPrefix_=e,this.parts_=Nc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Wt.ug)(this.parts_[r]);Tv(this)}}function Tv(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Jl(n))}function Jl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ch extends Gm{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ch}getInitialEvent(t){return(0,Wt.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const yd=1e3;let Uf,Au=(()=>{class n extends gg{constructor(e,r,c,f,v,C,I,B){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=c,this.onConnectStatus_=f,this.onServerInfoUpdate_=v,this.authTokenProvider_=C,this.appCheckTokenProvider_=I,this.authOverride_=B,this.id=n.nextPersistentConnectionId_++,this.log_=go("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,B&&!(0,Wt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ch.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,c){const f=++this.requestNumber_,v={r:f,a:e,b:r};this.log_((0,Wt.Wl)(v)),(0,Wt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(v),c&&(this.requestCBHash_[f]=c)}get(e){this.initConnection_();const r=new Wt.BH,c={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:c,onComplete:C=>{const I=C.d;"ok"===C.s?r.resolve(I):r.reject(I)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,c,f){this.initConnection_();const v=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+v),this.listens.has(C)||this.listens.set(C,new Map),(0,Wt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Wt.hu)(!this.listens.get(C).has(v),"listen() called twice for same path/queryId.");const I={onComplete:f,hashFn:r,query:e,tag:c};this.listens.get(C).set(v,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,c=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(c)})}sendListen_(e){const r=e.query,c=r._path.toString(),f=r._queryIdentifier;this.log_("Listen on "+c+" for "+f);const v={p:c};e.tag&&(v.q=r._queryObject,v.t=e.tag),v.h=e.hashFn(),this.sendRequest("q",v,I=>{const B=I.d,X=I.s;n.warnOnListenWarnings_(B,r),(this.listens.get(c)&&this.listens.get(c).get(f))===e&&(this.log_("listen response",I),"ok"!==X&&this.removeListen_(c,f),e.onComplete&&e.onComplete(X,B))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,Wt.r3)(e,"w")){const c=(0,Wt.DV)(e,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const f='".indexOn": "'+r._queryParams.getIndex().toString()+'"',v=r._path.toString();Js(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${v} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Wt.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,Wt.w9)(e)?"auth":"gauth",c={cred:e};null===this.authOverride_?c.noauth=!0:"object"==typeof this.authOverride_&&(c.authvar=this.authOverride_),this.sendRequest(r,c,f=>{const v=f.s,C=f.d||"error";this.authToken_===e&&("ok"===v?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(v,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,c=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,c)})}unlisten(e,r){const c=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+c+" "+f),(0,Wt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,f)&&this.connected_&&this.sendUnlisten_(c,f,e._queryObject,r)}sendUnlisten_(e,r,c,f){this.log_("Unlisten on "+e+" for "+r);const v={p:e};f&&(v.q=c,v.t=f),this.sendRequest("n",v)}onDisconnectPut(e,r,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:c})}onDisconnectMerge(e,r,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:c})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,c,f){const v={p:r,d:c};this.log_("onDisconnect "+e,v),this.sendRequest(e,v,C=>{f&&setTimeout(()=>{f(C.s,C.d)},Math.floor(0))})}put(e,r,c,f){this.putInternal("p",e,r,c,f)}merge(e,r,c,f){this.putInternal("m",e,r,c,f)}putInternal(e,r,c,f,v){this.initConnection_();const C={p:r,d:c};void 0!==v&&(C.h=v),this.outstandingPuts_.push({action:e,request:C,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,c=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,c,v=>{this.log_(r+" response",v),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(v.s,v.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,c=>{"ok"!==c.s&&this.log_("reportStats","Error sending stats: "+c.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Wt.Wl)(e));const r=e.r,c=this.requestCBHash_[r];c&&(delete this.requestCBHash_[r],c(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):Sc("Unrecognized action received from server: "+(0,Wt.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Wt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,gs.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),c=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),v=e.id+":"+n.nextConnectionId_++,C=e.lastSessionId;let I=!1,B=null;const X=function(){B?B.close():(I=!0,f())};e.realtime_={close:X,sendRequest:function(lt){(0,Wt.hu)(B,"sendRequest call when we're not connected not allowed."),B.sendRequest(lt)}};const it=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[lt,Nt]=yield Promise.all([e.authTokenProvider_.getToken(it),e.appCheckTokenProvider_.getToken(it)]);I?Xs("getToken() completed but was canceled"):(Xs("getToken() completed. Creating connection."),e.authToken_=lt&&lt.accessToken,e.appCheckToken_=Nt&&Nt.token,B=new _d(v,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,c,f,Gt=>{Js(Gt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(lt){e.log_("Failed to get token: "+lt),I||(e.repoInfo_.nodeAdmin&&Js(lt),X())}}})()}interrupt(e){Xs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Wt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let c;c=r?r.map(v=>Ql(v)).join("$"):"default";const f=this.removeListen_(e,c);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,r){const c=new xr(e).toString();let f;if(this.listens.has(c)){const v=this.listens.get(c);f=v.get(r),v.delete(r),0===v.size&&this.listens.delete(c)}else f=void 0;return f}onAuthRevoked_(e,r){Xs("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Xs("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,Wt.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Tc.replace(/\./g,"-")]=1,(0,Wt.uI)()?e["framework.cordova"]=1:(0,Wt.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bf.getInstance().currentlyOnline();return(0,Wt.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Yi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Yi(t,e)}}class Eh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Yi(bl,t),c=new Yi(bl,e);return 0!==this.compare(r,c)}minPost(){return Yi.MIN}}class Th extends Eh{static get __EMPTY_NODE(){return Uf}static set __EMPTY_NODE(t){Uf=t}compare(t,e){return Uo(t.name,e.name)}isDefinedOn(t){throw(0,Wt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Yi.MIN}maxPost(){return new Yi(ra,Uf)}makePost(t,e){return(0,Wt.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Yi(t,Uf)}toString(){return".key"}}const Pc=new Th;class Iu{constructor(t,e,r,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let v=1;for(;!t.isEmpty();)if(v=e?r(t.key,e):1,c&&(v*=-1),v<0)t=this.isReverse_?t.left:t.right;else{if(0===v){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Mu,Cl=(()=>{class n{constructor(e,r,c,f,v){this.key=e,this.value=r,this.color=c??n.RED,this.left=f??eo.EMPTY_NODE,this.right=v??eo.EMPTY_NODE}copy(e,r,c,f,v){return new n(e??this.key,r??this.value,c??this.color,f??this.left,v??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,c){let f=this;const v=c(e,f.key);return f=v<0?f.copy(null,null,null,f.left.insert(e,r,c),null):0===v?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(e,r,c)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return eo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let c,f;if(c=this,r(e,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),0===r(e,c.key)){if(c.right.isEmpty())return eo.EMPTY_NODE;f=c.right.min_(),c=c.copy(f.key,f.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class eo{constructor(t,e=eo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new eo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Cl.BLACK,null,null))}remove(t){return new eo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Cl.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,c=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(c=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Iu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Iu(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Iu(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Iu(this.root_,null,this.comparator_,!0,t)}}function _g(n,t){return Uo(n.name,t.name)}function Gf(n,t){return Uo(n,t)}eo.EMPTY_NODE=new class Av{copy(t,e,r,c,f){return this}insert(t,e,r){return new Cl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jf=function(n){return"number"==typeof n?"number:"+mh(n):"string:"+n},bd=function(n){if(n.isLeafNode()){const t=n.val();(0,Wt.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Wt.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Wt.hu)(n===Mu||n.isEmpty(),"priority of unexpected type.");(0,Wt.hu)(n===Mu||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Dl,Fc,Ou,Go=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,Wt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bd(this.priorityNode_)}static set __childrenNodeConstructor(e){Dl=e}static get __childrenNodeConstructor(){return Dl}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return zi(e)?this:".priority"===Qi(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const c=Qi(e);return null===c?r:r.isEmpty()&&".priority"!==c?this:((0,Wt.hu)(".priority"!==c||1===Rc(e),".priority must be the last token in a path"),this.updateImmediateChild(c,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(fr(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jf(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?mh(this.value_):this.value_,this.lazyHash_=Tm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Wt.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,c=typeof this.value_,f=n.VALUE_TYPE_ORDER.indexOf(r),v=n.VALUE_TYPE_ORDER.indexOf(c);return(0,Wt.hu)(f>=0,"Unknown leaf type: "+r),(0,Wt.hu)(v>=0,"Unknown leaf type: "+c),f===v?"object"===c?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:v-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const qr=new class Iv extends Eh{compare(t,e){const r=t.node.getPriority(),c=e.node.getPriority(),f=r.compareTo(c);return 0===f?Uo(t.name,e.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Yi.MIN}maxPost(){return new Yi(ra,new Go("[PRIORITY-POST]",Ou))}makePost(t,e){const r=Fc(t);return new Yi(e,new Go("[PRIORITY-POST]",r))}toString(){return".priority"}},xh=Math.log(2);class Sh{constructor(t){this.count=parseInt(Math.log(t+1)/xh,10),this.current_=this.count-1;const c=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&c}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ku=function(n,t,e,r){n.sort(t);const c=function(I,B){const X=B-I;let xe,it;if(0===X)return null;if(1===X)return xe=n[I],it=e?e(xe):xe,new Cl(it,xe.node,Cl.BLACK,null,null);{const lt=parseInt(X/2,10)+I,Nt=c(I,lt),Gt=c(lt+1,B);return xe=n[lt],it=e?e(xe):xe,new Cl(it,xe.node,Cl.BLACK,Nt,Gt)}},C=function(I){let B=null,X=null,xe=n.length;const it=function(Nt,Gt){const tn=xe-Nt,xn=xe;xe-=Nt;const On=c(tn+1,xn),Fn=n[tn],Ln=e?e(Fn):Fn;lt(new Cl(Ln,Fn.node,Gt,null,On))},lt=function(Nt){B?(B.left=Nt,B=Nt):(X=Nt,B=Nt)};for(let Nt=0;Nt<I.count;++Nt){const Gt=I.nextBitIsOne(),tn=Math.pow(2,I.count-(Nt+1));Gt?it(tn,Cl.BLACK):(it(tn,Cl.BLACK),it(tn,Cl.RED))}return X}(new Sh(n.length));return new eo(r||t,C)};let wd;const Ru={};class Nu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Wt.hu)(Ru&&qr,"ChildrenNode.ts has not been loaded"),wd=wd||new Nu({".priority":Ru},{".priority":qr}),wd}get(t){const e=(0,Wt.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof eo?e:null}hasIndex(t){return(0,Wt.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Wt.hu)(t!==Pc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const f=e.getIterator(Yi.Wrap);let C,v=f.getNext();for(;v;)c=c||t.isDefinedOn(v.node),r.push(v),v=f.getNext();C=c?ku(r,t.getCompare()):Ru;const I=t.toString(),B=Object.assign({},this.indexSet_);B[I]=t;const X=Object.assign({},this.indexes_);return X[I]=C,new Nu(X,B)}addToIndexes(t,e){const r=(0,Wt.UI)(this.indexes_,(c,f)=>{const v=(0,Wt.DV)(this.indexSet_,f);if((0,Wt.hu)(v,"Missing index implementation for "+f),c===Ru){if(v.isDefinedOn(t.node)){const C=[],I=e.getIterator(Yi.Wrap);let B=I.getNext();for(;B;)B.name!==t.name&&C.push(B),B=I.getNext();return C.push(t),ku(C,v.getCompare())}return Ru}{const C=e.get(t.name);let I=c;return C&&(I=I.remove(new Yi(t.name,C))),I.insert(t,t.node)}});return new Nu(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,Wt.UI)(this.indexes_,c=>{if(c===Ru)return c;{const f=e.get(t.name);return f?c.remove(new Yi(t.name,f)):c}});return new Nu(r,this.indexSet_)}}let Cd,Fi=(()=>{class n{constructor(e,r,c){this.children_=e,this.priorityNode_=r,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&bd(this.priorityNode_),this.children_.isEmpty()&&(0,Wt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Cd||(Cd=new n(new eo(Gf),null,Nu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Cd:r}}getChild(e){const r=Qi(e);return null===r?this:this.getImmediateChild(r).getChild(fr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,Wt.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const c=new Yi(e,r);let f,v;r.isEmpty()?(f=this.children_.remove(e),v=this.indexMap_.removeFromIndexes(c,this.children_)):(f=this.children_.insert(e,r),v=this.indexMap_.addToIndexes(c,this.children_));const C=f.isEmpty()?Cd:this.priorityNode_;return new n(f,C,v)}}updateChild(e,r){const c=Qi(e);if(null===c)return r;{(0,Wt.hu)(".priority"!==Qi(e)||1===Rc(e),".priority must be the last token in a path");const f=this.getImmediateChild(c).updateChild(fr(e),r);return this.updateImmediateChild(c,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let c=0,f=0,v=!0;if(this.forEachChild(qr,(C,I)=>{r[C]=I.val(e),c++,v&&n.INTEGER_REGEXP_.test(C)?f=Math.max(f,Number(C)):v=!1}),!e&&v&&f<2*c){const C=[];for(const I in r)C[I]=r[I];return C}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+jf(this.getPriority().val())+":"),this.forEachChild(qr,(r,c)=>{const f=c.hash();""!==f&&(e+=":"+r+":"+f)}),this.lazyHash_=""===e?"":Tm(e)}return this.lazyHash_}getPredecessorChildName(e,r,c){const f=this.resolveIndex_(c);if(f){const v=f.getPredecessorKey(new Yi(e,r));return v?v.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const c=r.minKey();return c&&c.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Yi(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const c=r.maxKey();return c&&c.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Yi(r,this.children_.get(r)):null}forEachChild(e,r){const c=this.resolveIndex_(e);return c?c.inorderTraversal(f=>r(f.name,f.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const c=this.resolveIndex_(r);if(c)return c.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,Yi.Wrap);let v=f.peek();for(;null!=v&&r.compare(v,e)<0;)f.getNext(),v=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const c=this.resolveIndex_(r);if(c)return c.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,Yi.Wrap);let v=f.peek();for(;null!=v&&r.compare(v,e)>0;)f.getNext(),v=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ah?-1:0}withIndex(e){if(e===Pc||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Pc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const c=this.getIterator(qr),f=r.getIterator(qr);let v=c.getNext(),C=f.getNext();for(;v&&C;){if(v.name!==C.name||!v.node.equals(C.node))return!1;v=c.getNext(),C=f.getNext()}return null===v&&null===C}return!1}return!1}}resolveIndex_(e){return e===Pc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ah=new class o0 extends Fi{constructor(){super(new eo(Gf),Fi.EMPTY_NODE,Nu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Fi.EMPTY_NODE}isEmpty(){return!1}};function ls(n,t=null){if(null===n)return Fi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Wt.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Go(n,ls(t));if(n instanceof Array){let e=Fi.EMPTY_NODE;return mo(n,(r,c)=>{if((0,Wt.r3)(n,r)&&"."!==r.substring(0,1)){const f=ls(c);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(r,f))}}),e.updatePriority(ls(t))}{const e=[];let r=!1;if(mo(n,(v,C)=>{if("."!==v.substring(0,1)){const I=ls(C);I.isEmpty()||(r=r||!I.getPriority().isEmpty(),e.push(new Yi(v,I)))}}),0===e.length)return Fi.EMPTY_NODE;const f=ku(e,_g,v=>v.name,Gf);if(r){const v=ku(e,qr.getCompare());return new Fi(f,ls(t),new Nu({".priority":v},{".priority":qr}))}return new Fi(f,ls(t),Nu.Default)}}Object.defineProperties(Yi,{MIN:{value:new Yi(bl,Fi.EMPTY_NODE)},MAX:{value:new Yi(ra,Ah)}}),Th.__EMPTY_NODE=Fi.EMPTY_NODE,Go.__childrenNodeConstructor=Fi,function Oa(n){Mu=n}(Ah),function zf(n){Ou=n}(Ah),function vg(n){Fc=n}(ls);class yg extends Eh{constructor(t){super(),this.indexPath_=t,(0,Wt.hu)(!zi(t)&&".priority"!==Qi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),c=this.extractChild(e.node),f=r.compareTo(c);return 0===f?Uo(t.name,e.name):f}makePost(t,e){const r=ls(t),c=Fi.EMPTY_NODE.updateChild(this.indexPath_,r);return new Yi(e,c)}maxPost(){const t=Fi.EMPTY_NODE.updateChild(this.indexPath_,Ah);return new Yi(ra,t)}toString(){return Nc(this.indexPath_,0).join("/")}}const $f=new class a0 extends Eh{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Uo(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Yi.MIN}maxPost(){return Yi.MAX}makePost(t,e){const r=ls(t);return new Yi(e,r)}toString(){return".value"}};function Ih(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Wf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Wt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Wt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Wt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Wt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ra}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Wt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qr}copy(){const t=new Wf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function xd(n){const t={};if(n.isDefault())return t;let e;return n.index_===qr?e="$priority":n.index_===$f?e="$value":n.index_===Pc?e="$key":((0,Wt.hu)(n.index_ instanceof yg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Wt.Wl)(e),n.startSet_&&(t.startAt=(0,Wt.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,Wt.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,Wt.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,Wt.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Eg(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==qr&&(t.i=n.index_.toString()),t}class Oh extends gg{constructor(t,e,r,c){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=go("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Wt.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,c){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const v=Oh.getListenId_(t,r),C={};this.listens_[v]=C;const I=xd(t._queryParams);this.restRequest_(f+".json",I,(B,X)=>{let xe=X;if(404===B&&(xe=null,B=null),null===B&&this.onDataUpdate_(f,xe,!1,r),(0,Wt.DV)(this.listens_,v)===C){let it;it=B?401===B?"permission_denied":"rest_error:"+B:"ok",c(it,null)}})}unlisten(t,e){const r=Oh.getListenId_(t,e);delete this.listens_[r]}get(t){const e=xd(t._queryParams),r=t._path.toString(),c=new Wt.BH;return this.restRequest_(r+".json",e,(f,v)=>{let C=v;404===f&&(C=null,f=null),null===f?(this.onDataUpdate_(r,C,!1,null),c.resolve(C)):c.reject(new Error(C))}),c.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(e.auth=c.accessToken),f&&f.token&&(e.ac=f.token);const v=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Wt.xO)(e);this.log_("Sending REST request for "+v);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(r&&4===C.readyState){this.log_("REST Response for "+v+" received. status:",C.status,"response:",C.responseText);let I=null;if(C.status>=200&&C.status<300){try{I=(0,Wt.cI)(C.responseText)}catch{Js("Failed to parse JSON response for "+v+": "+C.responseText)}r(null,I)}else 401!==C.status&&404!==C.status&&Js("Got unsuccessful REST response for "+v+" Status: "+C.status),r(C.status);r=null}},C.open("GET",v,!0),C.send()})}}class h0{constructor(){this.rootNode_=Fi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Lc(){return{value:null,children:new Map}}function to(n,t,e){if(zi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Qi(t);n.children.has(r)||n.children.set(r,Lc()),to(n.children.get(r),t=fr(t),e)}}function Pu(n,t,e){null!==n.value?e(t,n.value):function Kf(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,c)=>{Pu(c,new xr(t.toString()+"/"+r),e)})}class Tg{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&mo(this.last_,(r,c)=>{e[r]=e[r]-c}),this.last_=t,e}}class Zf{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Tg(t);const r=1e4+2e4*Math.random();Mc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;mo(t,(c,f)=>{f>0&&(0,Wt.r3)(this.statsToReport_,c)&&(e[c]=f,r=!0)}),r&&this.server_.reportStats(e),Mc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ra=(()=>{return(n=Ra||(Ra={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ra;var n})();function Sg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class qf{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Ra.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(zi(this.path)){if(null!=this.affectedTree.value)return(0,Wt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new xr(t));return new qf(rr(),e,this.revert)}}return(0,Wt.hu)(Qi(this.path)===t,"operationForChild called for unrelated child."),new qf(fr(this.path),this.affectedTree,this.revert)}}class Lu{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Ra.OVERWRITE}operationForChild(t){return zi(this.path)?new Lu(this.source,rr(),this.snap.getImmediateChild(t)):new Lu(this.source,fr(this.path),this.snap)}}class Id{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Ra.MERGE}operationForChild(t){if(zi(this.path)){const e=this.children.subtree(new xr(t));return e.isEmpty()?null:e.value?new Lu(this.source,rr(),e.value):new Id(this.source,rr(),e)}return(0,Wt.hu)(Qi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Id(this.source,fr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bc{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(zi(t))return this.isFullyInitialized()&&!this.filtered_;const e=Qi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Bu(n,t,e,r,c,f){const v=r.filter(C=>C.type===e);v.sort((C,I)=>function Nv(n,t,e){if(null==t.childName||null==e.childName)throw(0,Wt.g5)("Should only compare child_ events.");const r=new Yi(t.childName,t.snapshotNode),c=new Yi(e.childName,e.snapshotNode);return n.index_.compare(r,c)}(n,C,I)),v.forEach(C=>{const I=function Jm(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,C,f);c.forEach(B=>{B.respondsTo(C.type)&&t.push(B.createEvent(I,n.query_))})})}function Ag(n,t){return{eventCache:n,serverCache:t}}function Vu(n,t,e,r){return Ag(new Bc(t,e,r),n.serverCache)}function Ig(n,t,e,r){return Ag(n.eventCache,new Bc(t,e,r))}function Mg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Vc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Qf;class Lr{constructor(t,e=(()=>(Qf||(Qf=new eo(Eu)),Qf))()){this.value=t,this.children=e}static fromObject(t){let e=new Lr(null);return mo(t,(r,c)=>{e=e.set(new xr(r),c)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:rr(),value:this.value};if(zi(t))return null;{const r=Qi(t),c=this.children.get(r);if(null!==c){const f=c.findRootMostMatchingPathAndValue(fr(t),e);return null!=f?{path:Rr(new xr(r),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(zi(t))return this;{const e=Qi(t),r=this.children.get(e);return null!==r?r.subtree(fr(t)):new Lr(null)}}set(t,e){if(zi(t))return new Lr(e,this.children);{const r=Qi(t),f=(this.children.get(r)||new Lr(null)).set(fr(t),e),v=this.children.insert(r,f);return new Lr(this.value,v)}}remove(t){if(zi(t))return this.children.isEmpty()?new Lr(null):new Lr(null,this.children);{const e=Qi(t),r=this.children.get(e);if(r){const c=r.remove(fr(t));let f;return f=c.isEmpty()?this.children.remove(e):this.children.insert(e,c),null===this.value&&f.isEmpty()?new Lr(null):new Lr(this.value,f)}return this}}get(t){if(zi(t))return this.value;{const e=Qi(t),r=this.children.get(e);return r?r.get(fr(t)):null}}setTree(t,e){if(zi(t))return e;{const r=Qi(t),f=(this.children.get(r)||new Lr(null)).setTree(fr(t),e);let v;return v=f.isEmpty()?this.children.remove(r):this.children.insert(r,f),new Lr(this.value,v)}}fold(t){return this.fold_(rr(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((c,f)=>{r[c]=f.fold_(Rr(t,c),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,rr(),e)}findOnPath_(t,e,r){const c=!!this.value&&r(e,this.value);if(c)return c;if(zi(t))return null;{const f=Qi(t),v=this.children.get(f);return v?v.findOnPath_(fr(t),Rr(e,f),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,rr(),e)}foreachOnPath_(t,e,r){if(zi(t))return this;{this.value&&r(e,this.value);const c=Qi(t),f=this.children.get(c);return f?f.foreachOnPath_(fr(t),Rr(e,c),r):new Lr(null)}}foreach(t){this.foreach_(rr(),t)}foreach_(t,e){this.children.inorderTraversal((r,c)=>{c.foreach_(Rr(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Pa{constructor(t){this.writeTree_=t}static empty(){return new Pa(new Lr(null))}}function Hu(n,t,e){if(zi(t))return new Pa(new Lr(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const c=r.path;let f=r.value;const v=sa(c,t);return f=f.updateChild(v,e),new Pa(n.writeTree_.set(c,f))}{const c=new Lr(e),f=n.writeTree_.setTree(t,c);return new Pa(f)}}}function Xi(n,t,e){let r=n;return mo(e,(c,f)=>{r=Hu(r,Rr(t,c),f)}),r}function Og(n,t){if(zi(t))return Pa.empty();{const e=n.writeTree_.setTree(t,new Lr(null));return new Pa(e)}}function Xf(n,t){return null!=Uu(n,t)}function Uu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(sa(e.path,t)):null}function oa(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(qr,(r,c)=>{t.push(new Yi(r,c))}):n.writeTree_.children.inorderTraversal((r,c)=>{null!=c.value&&t.push(new Yi(r,c.value))}),t}function El(n,t){if(zi(t))return n;{const e=Uu(n,t);return new Pa(null!=e?new Lr(e):n.writeTree_.subtree(t))}}function ts(n){return n.writeTree_.isEmpty()}function Ns(n,t){return ec(rr(),n.writeTree_,t)}function ec(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((c,f)=>{".priority"===c?((0,Wt.hu)(null!==f.value,"Priority writes must always be leaf nodes"),r=f.value):e=ec(Rr(n,c),f,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Rr(n,".priority"),r)),e}}function Jf(n,t){return kd(t,n)}function Fv(n,t){if(n.snap)return Rs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Rs(Rr(n.path,e),t))return!0;return!1}function Rg(n){return n.visible}function t_(n,t,e){let r=Pa.empty();for(let c=0;c<n.length;++c){const f=n[c];if(t(f)){const v=f.path;let C;if(f.snap)Rs(e,v)?(C=sa(e,v),r=Hu(r,C,f.snap)):Rs(v,e)&&(C=sa(v,e),r=Hu(r,rr(),f.snap.getChild(C)));else{if(!f.children)throw(0,Wt.g5)("WriteRecord should have .snap or .children");if(Rs(e,v))C=sa(e,v),r=Xi(r,C,f.children);else if(Rs(v,e))if(C=sa(v,e),zi(C))r=Xi(r,rr(),f.children);else{const I=(0,Wt.DV)(f.children,Qi(C));if(I){const B=I.getChild(fr(C));r=Hu(r,rr(),B)}}}}}return r}function tp(n,t,e,r,c){if(r||c){const f=El(n.visibleWrites,t);return!c&&ts(f)?e:c||null!=e||Xf(f,rr())?Ns(t_(n.allWrites,function(B){return(B.visible||c)&&(!r||!~r.indexOf(B.writeId))&&(Rs(B.path,t)||Rs(t,B.path))},t),e||Fi.EMPTY_NODE):null}{const f=Uu(n.visibleWrites,t);if(null!=f)return f;{const v=El(n.visibleWrites,t);return ts(v)?e:null!=e||Xf(v,rr())?Ns(v,e||Fi.EMPTY_NODE):null}}}function kh(n,t,e,r){return tp(n.writeTree,n.treePath,t,e,r)}function Md(n,t){return function ew(n,t,e){let r=Fi.EMPTY_NODE;const c=Uu(n.visibleWrites,t);if(c)return c.isLeafNode()||c.forEachChild(qr,(f,v)=>{r=r.updateImmediateChild(f,v)}),r;if(e){const f=El(n.visibleWrites,t);return e.forEachChild(qr,(v,C)=>{const I=Ns(El(f,new xr(v)),C);r=r.updateImmediateChild(v,I)}),oa(f).forEach(v=>{r=r.updateImmediateChild(v.name,v.node)}),r}return oa(El(n.visibleWrites,t)).forEach(v=>{r=r.updateImmediateChild(v.name,v.node)}),r}(n.writeTree,n.treePath,t)}function Qa(n,t,e,r){return function n_(n,t,e,r,c){(0,Wt.hu)(r||c,"Either existingEventSnap or existingServerSnap must exist");const f=Rr(t,e);if(Xf(n.visibleWrites,f))return null;{const v=El(n.visibleWrites,f);return ts(v)?c.getChild(e):Ns(v,c.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Hc(n,t){return function Lv(n,t){return Uu(n.visibleWrites,t)}(n.writeTree,Rr(n.treePath,t))}function Uc(n,t,e){return function tw(n,t,e,r){const c=Rr(t,e),f=Uu(n.visibleWrites,c);return null!=f?f:r.isCompleteForChild(e)?Ns(El(n.visibleWrites,c),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function r_(n,t){return kd(Rr(n.treePath,t),n.writeTree)}function kd(n,t){return{treePath:n,writeTree:t}}class Pg{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,Wt.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Wt.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const f=c.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(r,Ih(r,t.snapshotNode,c.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(r,function wg(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(r,c.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(r,function Ed(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,Wt.g5)("Illegal combination of changes: "+t+" occurred after "+c);this.changeMap.set(r,Ih(r,t.snapshotNode,c.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const o_=new class s_{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Xa{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Bc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uc(this.writes_,t,r)}}getChildAfterChild(t,e,r){const c=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vc(this.viewCache_),f=function Od(n,t,e,r,c,f){return function i_(n,t,e,r,c,f,v){let C;const I=El(n.visibleWrites,t),B=Uu(I,rr());if(null!=B)C=B;else{if(null==e)return[];C=Ns(I,e)}if(C=C.withIndex(v),C.isEmpty()||C.isLeafNode())return[];{const X=[],xe=v.getCompare(),it=f?C.getReverseIteratorFrom(r,v):C.getIteratorFrom(r,v);let lt=it.getNext();for(;lt&&X.length<c;)0!==xe(lt,r)&&X.push(lt),lt=it.getNext();return X}}(n.writeTree,n.treePath,t,e,r,c,f)}(this.writes_,c,e,1,r,t);return 0===f.length?null:f[0]}}function l_(n,t,e,r,c,f){const v=t.eventCache;if(null!=Hc(r,e))return t;{let C,I;if(zi(e))if((0,Wt.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const B=Vc(t),xe=Md(r,B instanceof Fi?B:Fi.EMPTY_NODE);C=n.filter.updateFullNode(t.eventCache.getNode(),xe,f)}else{const B=kh(r,Vc(t));C=n.filter.updateFullNode(t.eventCache.getNode(),B,f)}else{const B=Qi(e);if(".priority"===B){(0,Wt.hu)(1===Rc(e),"Can't have a priority with additional path components");const X=v.getNode();I=t.serverCache.getNode();const xe=Qa(r,e,X,I);C=null!=xe?n.filter.updatePriority(X,xe):v.getNode()}else{const X=fr(e);let xe;if(v.isCompleteForChild(B)){I=t.serverCache.getNode();const it=Qa(r,e,v.getNode(),I);xe=null!=it?v.getNode().getImmediateChild(B).updateChild(X,it):v.getNode().getImmediateChild(B)}else xe=Uc(r,B,t.serverCache);C=null!=xe?n.filter.updateChild(v.getNode(),B,xe,X,c,f):v.getNode()}}return Vu(t,C,v.isFullyInitialized()||zi(e),n.filter.filtersNodes())}}function Fg(n,t,e,r,c,f,v,C){const I=t.serverCache;let B;const X=v?n.filter:n.filter.getIndexedFilter();if(zi(e))B=X.updateFullNode(I.getNode(),r,null);else if(X.filtersNodes()&&!I.isFiltered()){const lt=I.getNode().updateChild(e,r);B=X.updateFullNode(I.getNode(),lt,null)}else{const lt=Qi(e);if(!I.isCompleteForPath(e)&&Rc(e)>1)return t;const Nt=fr(e),tn=I.getNode().getImmediateChild(lt).updateChild(Nt,r);B=".priority"===lt?X.updatePriority(I.getNode(),tn):X.updateChild(I.getNode(),lt,tn,Nt,o_,null)}const xe=Ig(t,B,I.isFullyInitialized()||zi(e),X.filtersNodes());return l_(n,xe,e,c,new Xa(c,xe,f),C)}function Lg(n,t,e,r,c,f,v){const C=t.eventCache;let I,B;const X=new Xa(c,t,f);if(zi(e))B=n.filter.updateFullNode(t.eventCache.getNode(),r,v),I=Vu(t,B,!0,n.filter.filtersNodes());else{const xe=Qi(e);if(".priority"===xe)B=n.filter.updatePriority(t.eventCache.getNode(),r),I=Vu(t,B,C.isFullyInitialized(),C.isFiltered());else{const it=fr(e),lt=C.getNode().getImmediateChild(xe);let Nt;if(zi(it))Nt=r;else{const Gt=X.getCompleteChild(xe);Nt=null!=Gt?".priority"===wl(it)&&Gt.getChild(vd(it)).isEmpty()?Gt:Gt.updateChild(it,r):Fi.EMPTY_NODE}I=lt.equals(Nt)?t:Vu(t,n.filter.updateChild(C.getNode(),xe,Nt,it,X,v),C.isFullyInitialized(),n.filter.filtersNodes())}}return I}function c_(n,t){return n.eventCache.isCompleteForChild(t)}function Bv(n,t,e){return e.foreach((r,c)=>{t=t.updateChild(r,c)}),t}function np(n,t,e,r,c,f,v,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let B,I=t;B=zi(e)?r:new Lr(null).setTree(e,r);const X=t.serverCache.getNode();return B.children.inorderTraversal((xe,it)=>{if(X.hasChild(xe)){const Nt=Bv(0,t.serverCache.getNode().getImmediateChild(xe),it);I=Fg(n,I,new xr(xe),Nt,c,f,v,C)}}),B.children.inorderTraversal((xe,it)=>{const lt=!t.serverCache.isCompleteForChild(xe)&&null===it.value;if(!X.hasChild(xe)&&!lt){const Gt=Bv(0,t.serverCache.getNode().getImmediateChild(xe),it);I=Fg(n,I,new xr(xe),Gt,c,f,v,C)}}),I}function ns(n,t){const e=Vc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!zi(t)&&!e.getImmediateChild(Qi(t)).isEmpty())?e.getChild(t):null}function h_(n,t,e,r){t.type===Ra.MERGE&&null!==t.source.queryId&&((0,Wt.hu)(Vc(n.viewCache_),"We should always have a full cache before handling merges"),(0,Wt.hu)(Mg(n.viewCache_),"Missing event cache, even though we have a server cache"));const c=n.viewCache_,f=function g0(n,t,e,r,c){const f=new Pg;let v,C;if(e.type===Ra.OVERWRITE){const B=e;B.source.fromUser?v=Lg(n,t,B.path,B.snap,r,c,f):((0,Wt.hu)(B.source.fromServer,"Unknown source."),C=B.source.tagged||t.serverCache.isFiltered()&&!zi(B.path),v=Fg(n,t,B.path,B.snap,r,c,C,f))}else if(e.type===Ra.MERGE){const B=e;B.source.fromUser?v=function u_(n,t,e,r,c,f,v){let C=t;return r.foreach((I,B)=>{const X=Rr(e,I);c_(t,Qi(X))&&(C=Lg(n,C,X,B,c,f,v))}),r.foreach((I,B)=>{const X=Rr(e,I);c_(t,Qi(X))||(C=Lg(n,C,X,B,c,f,v))}),C}(n,t,B.path,B.children,r,c,f):((0,Wt.hu)(B.source.fromServer,"Unknown source."),C=B.source.tagged||t.serverCache.isFiltered(),v=np(n,t,B.path,B.children,r,c,C,f))}else if(e.type===Ra.ACK_USER_WRITE){const B=e;v=B.revert?function _0(n,t,e,r,c,f){let v;if(null!=Hc(r,e))return t;{const C=new Xa(r,t,c),I=t.eventCache.getNode();let B;if(zi(e)||".priority"===Qi(e)){let X;if(t.serverCache.isFullyInitialized())X=kh(r,Vc(t));else{const xe=t.serverCache.getNode();(0,Wt.hu)(xe instanceof Fi,"serverChildren would be complete if leaf node"),X=Md(r,xe)}B=n.filter.updateFullNode(I,X,f)}else{const X=Qi(e);let xe=Uc(r,X,t.serverCache);null==xe&&t.serverCache.isCompleteForChild(X)&&(xe=I.getImmediateChild(X)),B=null!=xe?n.filter.updateChild(I,X,xe,fr(e),C,f):t.eventCache.getNode().hasChild(X)?n.filter.updateChild(I,X,Fi.EMPTY_NODE,fr(e),C,f):I,B.isEmpty()&&t.serverCache.isFullyInitialized()&&(v=kh(r,Vc(t)),v.isLeafNode()&&(B=n.filter.updateFullNode(B,v,f)))}return v=t.serverCache.isFullyInitialized()||null!=Hc(r,rr()),Vu(t,B,v,n.filter.filtersNodes())}}(n,t,B.path,r,c,f):function d_(n,t,e,r,c,f,v){if(null!=Hc(c,e))return t;const C=t.serverCache.isFiltered(),I=t.serverCache;if(null!=r.value){if(zi(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Fg(n,t,e,I.getNode().getChild(e),c,f,C,v);if(zi(e)){let B=new Lr(null);return I.getNode().forEachChild(Pc,(X,xe)=>{B=B.set(new xr(X),xe)}),np(n,t,e,B,c,f,C,v)}return t}{let B=new Lr(null);return r.foreach((X,xe)=>{const it=Rr(e,X);I.isCompleteForPath(it)&&(B=B.set(X,I.getNode().getChild(it)))}),np(n,t,e,B,c,f,C,v)}}(n,t,B.path,B.affectedTree,r,c,f)}else{if(e.type!==Ra.LISTEN_COMPLETE)throw(0,Wt.g5)("Unknown operation type: "+e.type);v=function m0(n,t,e,r,c){const f=t.serverCache;return l_(n,Ig(t,f.getNode(),f.isFullyInitialized()||zi(e),f.isFiltered()),e,r,o_,c)}(n,t,e.path,r,f)}const I=f.getChanges();return function iw(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Mg(n);(e.length>0||!n.eventCache.isFullyInitialized()||c&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&e.push(function c0(n){return{type:"value",snapshotNode:n}}(Mg(t)))}}(t,v,I),{viewCache:v,changes:I}}(n.processor_,c,t,e,r);return function nw(n,t){(0,Wt.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Wt.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,f.viewCache),(0,Wt.hu)(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=f.viewCache,function Bg(n,t,e,r){return function Na(n,t,e,r){const c=[],f=[];return t.forEach(v=>{"child_changed"===v.type&&n.index_.indexedValueChanged(v.oldSnap,v.snapshotNode)&&f.push(function u0(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(v.childName,v.snapshotNode))}),Bu(n,c,"child_removed",t,r,e),Bu(n,c,"child_added",t,r,e),Bu(n,c,"child_moved",f,r,e),Bu(n,c,"child_changed",t,r,e),Bu(n,c,"value",t,r,e),c}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}(n,f.changes,f.viewCache.eventCache.getNode(),null)}let Vg,Ja;function Nd(n,t,e,r){const c=t.source.queryId;if(null!==c){const f=n.views.get(c);return(0,Wt.hu)(null!=f,"SyncTree gave us an op for an invalid query."),h_(f,t,e,r)}{let f=[];for(const v of n.views.values())f=f.concat(h_(v,t,e,r));return f}}function zo(n,t){let e=null;for(const r of n.views.values())e=e||ns(r,t);return e}class Ld{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Lr(null),this.pendingWriteTree_=function Ng(){return{visibleWrites:Pa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sp(n,t,e,r,c){return function f0(n,t,e,r,c){(0,Wt.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===c&&(c=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:c}),c&&(n.visibleWrites=Hu(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,c),c?Fh(n,new Lu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function jc(n,t,e=!1){const r=function p0(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function ep(n,t){const e=n.allWrites.findIndex(C=>C.writeId===t);(0,Wt.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let c=r.visible,f=!1,v=n.allWrites.length-1;for(;c&&v>=0;){const C=n.allWrites[v];C.visible&&(v>=e&&Fv(C,r.path)?c=!1:Rs(r.path,C.path)&&(f=!0)),v--}return!!c&&(f?(function kg(n){n.visibleWrites=t_(n.allWrites,Rg,rr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Og(n.visibleWrites,r.path):mo(r.children,I=>{n.visibleWrites=Og(n.visibleWrites,Rr(r.path,I))}),!0))}(n.pendingWriteTree_,t)){let f=new Lr(null);return null!=r.snap?f=f.set(rr(),!0):mo(r.children,v=>{f=f.set(new xr(v),!0)}),Fh(n,new qf(r.path,f,e))}return[]}function Ph(n,t,e){return Fh(n,new Lu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ju(n,t,e){const c=n.pendingWriteTree_,f=n.syncPointTree_.findOnPath(t,(v,C)=>{const B=zo(C,sa(v,t));if(B)return B});return tp(c,t,f,e,!0)}function Fh(n,t){return zu(t,n.syncPointTree_,null,Jf(n.pendingWriteTree_,rr()))}function zu(n,t,e,r){if(zi(n.path))return $u(n,t,e,r);{const c=t.get(rr());null==e&&null!=c&&(e=zo(c,rr()));let f=[];const v=Qi(n.path),C=n.operationForChild(v),I=t.children.get(v);if(I&&C){const B=e?e.getImmediateChild(v):null,X=r_(r,v);f=f.concat(zu(C,I,B,X))}return c&&(f=f.concat(Nd(c,n,r,e))),f}}function $u(n,t,e,r){const c=t.get(rr());null==e&&null!=c&&(e=zo(c,rr()));let f=[];return t.children.inorderTraversal((v,C)=>{const I=e?e.getImmediateChild(v):null,B=r_(r,v),X=n.operationForChild(v);X&&(f=f.concat($u(X,C,I,B)))}),c&&(f=f.concat(Nd(c,n,r,e))),f}function Wc(n,t){return n.tagToQueryMap.get(t)}function Lh(n){const t=n.indexOf("$");return(0,Wt.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new xr(n.substr(0,t))}}function Wu(n,t,e){const r=n.syncPointTree_.get(t);return(0,Wt.hu)(r,"Missing sync point for query tag that we're tracking"),Nd(r,e,Jf(n.pendingWriteTree_,t),null)}class jg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new jg(e)}node(){return this.node_}}class zg{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Rr(this.path_,t);return new zg(this.syncTree_,e)}node(){return ju(this.syncTree_,this.path_)}}const $g=function(n,t,e){return n&&"object"==typeof n?((0,Wt.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?jv(n[".sv"],t,e):"object"==typeof n[".sv"]?b0(n[".sv"],t):void(0,Wt.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},jv=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Wt.hu)(!1,"Unexpected server value: "+n)},b0=function(n,t,e){n.hasOwnProperty("increment")||(0,Wt.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,Wt.hu)(!1,"Unexpected increment value: "+r);const c=t.node();if((0,Wt.hu)(null!==c&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const v=c.getValue();return"number"!=typeof v?r:v+r},Yg=function(n,t,e){return up(n,new jg(t),e)};function up(n,t,e){const r=n.getPriority().val(),c=$g(r,t.getImmediateChild(".priority"),e);let f;if(n.isLeafNode()){const v=n,C=$g(v.getValue(),t,e);return C!==v.getValue()||c!==v.getPriority().val()?new Go(C,ls(c)):n}{const v=n;return f=v,c!==v.getPriority().val()&&(f=f.updatePriority(new Go(c))),v.forEachChild(qr,(C,I)=>{const B=up(I,t.getImmediateChild(C),e);B!==I&&(f=f.updateImmediateChild(C,B))}),f}}class Vd{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Vh(n,t){let e=t instanceof xr?t:new xr(t),r=n,c=Qi(e);for(;null!==c;){const f=(0,Wt.DV)(r.node.children,c)||{children:{},childCount:0};r=new Vd(c,r,f),e=fr(e),c=Qi(e)}return r}function Yc(n){return n.node.value}function dp(n,t){n.node.value=t,Zc(n)}function hp(n){return n.node.childCount>0}function pp(n,t){mo(n.node.children,(e,r)=>{t(new Vd(e,n,r))})}function Kc(n,t,e,r){e&&!r&&t(n),pp(n,c=>{Kc(c,t,!0,r)}),e&&r&&t(n)}function Ku(n){return new xr(null===n.parent?n.name:Ku(n.parent)+"/"+n.name)}function Zc(n){null!==n.parent&&function w0(n,t,e){const r=function fp(n){return void 0===Yc(n)&&!hp(n)}(e),c=(0,Wt.r3)(n.node.children,t);r&&c?(delete n.node.children[t],n.node.childCount--,Zc(n)):!r&&!c&&(n.node.children[t]=e.node,n.node.childCount++,Zc(n))}(n.parent,n.name,n)}const zv=/[\[\].#$\/\u0000-\u001F\u007F]/,C0=/[\[\].#$\u0000-\u001F\u007F]/,Nr=10485760,gp=function(n){return"string"==typeof n&&0!==n.length&&!zv.test(n)},Uh=function(n,t,e){const r=e instanceof xr?new r0(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Jl(r));if("function"==typeof t)throw new Error(n+"contains a function "+Jl(r)+" with contents = "+t.toString());if(ql(t))throw new Error(n+"contains "+t.toString()+" "+Jl(r));if("string"==typeof t&&t.length>Nr/3&&(0,Wt.ug)(t)>Nr)throw new Error(n+"contains a string greater than "+Nr+" utf8 bytes "+Jl(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let c=!1,f=!1;if(mo(t,(v,C)=>{if(".value"===v)c=!0;else if(".priority"!==v&&".sv"!==v&&(f=!0,!gp(v)))throw new Error(n+" contains an invalid key ("+v+") "+Jl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function s0(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Wt.ug)(t),Tv(n)})(r,v),Uh(n,C,r),function Su(n){const t=n.parts_.pop();n.byteLength_-=(0,Wt.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),c&&f)throw new Error(n+' contains ".value" child '+Jl(r)+" in addition to actual children.")}},ow=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!gp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!C0.test(n)}(n)}(e))throw new Error((0,Wt.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ws(n,t,e){(function jh(n,t){let e=null;for(let r=0;r<t.length;r++){const c=t[r],f=c.getPath();null!==e&&!Vf(f,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(c)}e&&n.eventLists_.push(e)})(n,e),function v_(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const c=n.eventLists_[r];c&&(t(c.path)?(rc(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Rs(r,t)||Rs(t,r))}function rc(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Zl&&Xs("event: "+e.toString()),Ic(r)}}}class Kv{constructor(t,e,r,c){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lc(),this.transactionQueueTree_=new Vd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qv(n){const e=n.infoData_.getNode(new xr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Zg(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:qv(n)})}function E0(n,t,e,r,c){n.dataUpdateCount++;const f=new xr(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let v=[];if(c)if(r){const I=(0,Wt.UI)(e,B=>ls(B));v=function Hv(n,t,e,r){const c=Wc(n,r);if(c){const f=Lh(c),v=f.path,C=f.queryId,I=sa(v,t),B=Lr.fromObject(e);return Wu(n,v,new Id(Sg(C),I,B))}return[]}(n.serverSyncTree_,f,I,c)}else{const I=ls(e);v=function zc(n,t,e,r){const c=Wc(n,r);if(null!=c){const f=Lh(c),v=f.path,C=f.queryId,I=sa(v,t);return Wu(n,v,new Lu(Sg(C),I,e))}return[]}(n.serverSyncTree_,f,I,c)}else if(r){const I=(0,Wt.UI)(e,B=>ls(B));v=function Vv(n,t,e){const r=Lr.fromObject(e);return Fh(n,new Id({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,f,I)}else{const I=ls(e);v=Ph(n.serverSyncTree_,f,I)}let C=f;v.length>0&&(C=gr(n,f)),Ws(n.eventQueue_,C,v)}function y_(n,t){i(n,"connected",t),!1===t&&function E(n){Xn(n,"onDisconnectEvents");const t=Zg(n),e=Lc();Pu(n.onDisconnect_,rr(),(c,f)=>{const v=function(n,t,e,r){return up(t,new zg(e,n),r)}(c,f,n.serverSyncTree_,t);to(e,c,v)});let r=[];Pu(e,rr(),(c,f)=>{r=r.concat(Ph(n.serverSyncTree_,c,f));const v=function T0(n,t){const e=Ku(_o(n,t)),r=Vh(n.transactionQueueTree_,t);return function Yu(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,c=>{x0(n,c)}),x0(n,r),Kc(r,c=>{x0(n,c)}),e}(n,c);gr(n,v)}),n.onDisconnect_=Lc(),Ws(n.eventQueue_,rr(),r)}(n)}function i(n,t,e){const r=new xr("/.info/"+t),c=ls(e);n.infoData_.updateSnapshot(r,c);const f=Ph(n.infoSyncTree_,r,c);Ws(n.eventQueue_,r,f)}function o(n){return n.nextWriteId_++}function Xn(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Xs(e,...t)}function Or(n,t,e){return ju(n.serverSyncTree_,t,e)||Fi.EMPTY_NODE}function ar(n,t=n.transactionQueueTree_){if(t||Qv(n,t),Yc(t)){const e=zh(n,t);(0,Wt.hu)(e.length>0,"Sending zero length transaction queue"),e.every(c=>0===c.status)&&function no(n,t,e){const r=e.map(B=>B.currentWriteId),c=Or(n,t,r);let f=c;const v=c.hash();for(let B=0;B<e.length;B++){const X=e[B];(0,Wt.hu)(0===X.status,"tryToSendTransactionQueue_: items in queue should all be run."),X.status=1,X.retryCount++;const xe=sa(t,X.path);f=f.updateChild(xe,X.currentOutputSnapshotRaw)}const C=f.val(!0),I=t;n.server_.put(I.toString(),C,B=>{Xn(n,"transaction put response",{path:I.toString(),status:B});let X=[];if("ok"===B){const xe=[];for(let it=0;it<e.length;it++)e[it].status=2,X=X.concat(jc(n.serverSyncTree_,e[it].currentWriteId)),e[it].onComplete&&xe.push(()=>e[it].onComplete(null,!0,e[it].currentOutputSnapshotResolved)),e[it].unwatcher();Qv(n,Vh(n.transactionQueueTree_,t)),ar(n,n.transactionQueueTree_),Ws(n.eventQueue_,t,X);for(let it=0;it<xe.length;it++)Ic(xe[it])}else{if("datastale"===B)for(let xe=0;xe<e.length;xe++)e[xe].status=3===e[xe].status?4:0;else{Js("transaction at "+I.toString()+" failed: "+B);for(let xe=0;xe<e.length;xe++)e[xe].status=4,e[xe].abortReason=B}gr(n,t)}},v)}(n,Ku(t),e)}else hp(t)&&pp(t,e=>{ar(n,e)})}function gr(n,t){const e=_o(n,t),r=Ku(e);return function Sr(n,t,e){if(0===t.length)return;const r=[];let c=[];const v=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const I=t[C],B=sa(e,I.path);let xe,X=!1;if((0,Wt.hu)(null!==B,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)X=!0,xe=I.abortReason,c=c.concat(jc(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)X=!0,xe="maxretry",c=c.concat(jc(n.serverSyncTree_,I.currentWriteId,!0));else{const it=Or(n,I.path,v);I.currentInputSnapshot=it;const lt=t[C].update(it.val());if(void 0!==lt){Uh("transaction failed: Data returned ",lt,I.path);let Nt=ls(lt);"object"==typeof lt&&null!=lt&&(0,Wt.r3)(lt,".priority")||(Nt=Nt.updatePriority(it.getPriority()));const tn=I.currentWriteId,xn=Zg(n),On=Yg(Nt,it,xn);I.currentOutputSnapshotRaw=Nt,I.currentOutputSnapshotResolved=On,I.currentWriteId=o(n),v.splice(v.indexOf(tn),1),c=c.concat(sp(n.serverSyncTree_,I.path,On,I.currentWriteId,I.applyLocally)),c=c.concat(jc(n.serverSyncTree_,tn,!0))}else X=!0,xe="nodata",c=c.concat(jc(n.serverSyncTree_,I.currentWriteId,!0))}Ws(n.eventQueue_,e,c),c=[],X&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&r.push("nodata"===xe?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(xe),!1,null)))}Qv(n,n.transactionQueueTree_);for(let C=0;C<r.length;C++)Ic(r[C]);ar(n,n.transactionQueueTree_)}(n,zh(n,e),r),r}function _o(n,t){let e,r=n.transactionQueueTree_;for(e=Qi(t);null!==e&&void 0===Yc(r);)r=Vh(r,e),e=Qi(t=fr(t));return r}function zh(n,t){const e=[];return aw(n,t,e),e.sort((r,c)=>r.order-c.order),e}function aw(n,t,e){const r=Yc(t);if(r)for(let c=0;c<r.length;c++)e.push(r[c]);pp(t,c=>{aw(n,c,e)})}function Qv(n,t){const e=Yc(t);if(e){let r=0;for(let c=0;c<e.length;c++)2!==e[c].status&&(e[r]=e[c],r++);e.length=r,dp(t,e.length>0?e:void 0)}pp(t,r=>{Qv(n,r)})}function x0(n,t){const e=Yc(t);if(e){const r=[];let c=[],f=-1;for(let v=0;v<e.length;v++)3===e[v].status||(1===e[v].status?((0,Wt.hu)(f===v-1,"All SENT items should be at beginning of queue."),f=v,e[v].status=3,e[v].abortReason="set"):((0,Wt.hu)(0===e[v].status,"Unexpected transaction status in abort"),e[v].unwatcher(),c=c.concat(jc(n.serverSyncTree_,e[v].currentWriteId,!0)),e[v].onComplete&&r.push(e[v].onComplete.bind(null,new Error("set"),!1,null))));-1===f?dp(t,void 0):e.length=f+1,Ws(n.eventQueue_,Ku(t),c);for(let v=0;v<r.length;v++)Ic(r[v])}}const S0=function(n,t){const e=uD(n),r=e.namespace;return"firebase.com"===e.domain&&ks(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new fd(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new xr(e.pathString)}},uD=function(n){let t="",e="",r="",c="",f="",v=!0,C="https",I=443;if("string"==typeof n){let B=n.indexOf("//");B>=0&&(C=n.substring(0,B-1),n=n.substring(B+2));let X=n.indexOf("/");-1===X&&(X=n.length);let xe=n.indexOf("?");-1===xe&&(xe=n.length),t=n.substring(0,Math.min(X,xe)),X<xe&&(c=function lD(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let c=e[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}t+="/"+c}return t}(n.substring(X,xe)));const it=function cD(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Js(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,xe)));B=t.indexOf(":"),B>=0?(v="https"===C||"wss"===C,I=parseInt(t.substring(B+1),10)):B=t.length;const lt=t.slice(0,B);if("localhost"===lt.toLowerCase())e="localhost";else if(lt.split(".").length<=2)e=lt;else{const Nt=t.indexOf(".");r=t.substring(0,Nt).toLowerCase(),e=t.substring(Nt+1),f=r}"ns"in it&&(f=it.ns)}return{host:t,port:I,domain:e,subdomain:r,secure:v,scheme:C,pathString:c,namespace:f}};class Sl{constructor(t,e,r,c){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=c}get key(){return zi(this._path)?null:wl(this._path)}get ref(){return new sc(this._repo,this._path)}get _queryIdentifier(){const t=Eg(this._queryParams),e=Ql(t);return"{}"===e?"default":e}get _queryObject(){return Eg(this._queryParams)}isEqual(t){if(!((t=(0,Wt.m9)(t))instanceof Sl))return!1;const e=this._repo===t._repo,r=Vf(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function wh(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class sc extends Sl{constructor(t,e){super(t,e,new Wf,!1)}get parent(){const t=vd(this._path);return null===t?null:new sc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function Hg(n){(0,Wt.hu)(!Vg,"__referenceConstructor has already been defined"),Vg=n})(sc),function Nh(n){(0,Wt.hu)(!Ja,"__referenceConstructor has already been defined"),Ja=n}(sc);const M0={};class vw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Zv(n,t,e){if(n.stats_=Oc(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Oh(n.repoInfo_,(r,c,f,v)=>{E0(n,r,c,f,v)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>y_(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Wt.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Au(n.repoInfo_,t,(r,c,f,v)=>{E0(n,r,c,f,v)},r=>{y_(n,r)},r=>{!function l(n,t){mo(t,(e,r)=>{i(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Rm(n,t){const e=n.toString();return vh[e]||(vh[e]=t()),vh[e]}(n.repoInfo_,()=>new Zf(n.stats_,n.server_)),n.infoData_=new h0,n.infoSyncTree_=new Ld({startListening:(r,c,f,v)=>{let C=[];const I=n.infoData_.getNode(r._path);return I.isEmpty()||(C=Ph(n.infoSyncTree_,r._path,I),setTimeout(()=>{v("ok")},0)),C},stopListening:()=>{}}),i(n,"connected",!1),n.serverSyncTree_=new Ld({startListening:(r,c,f,v)=>(n.server_.listen(r,f,c,(C,I)=>{const B=v(C,I);Ws(n.eventQueue_,r._path,B)}),[]),stopListening:(r,c)=>{n.server_.unlisten(r,c)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sc(this._repo,rr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function TD(n,t){const e=M0[t];(!e||e[n.key]!==n)&&ks(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Cn(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ks("Cannot call "+t+" on a deleted database.")}}function AD(n=(0,er.getApp)(),t){const e=(0,er._getProvider)(n,"database").getImmediate({identifier:t}),r=(0,Wt.P0)("database");return r&&function ID(n,t,e,r={}){(n=(0,Wt.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ks("Cannot call useEmulator() after instance has already been initialized.");const c=n._repoInternal;let f;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&ks('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Af(Af.OWNER);else if(r.mockUserToken){const v="string"==typeof r.mockUserToken?r.mockUserToken:(0,Wt.Sg)(r.mockUserToken,n.app.options.projectId);f=new Af(v)}!function D_(n,t,e,r){n.repoInfo_=new fd(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(c,t,e,f)}(e,...r),e}Au.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Au.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function xx(n){(function ms(n){Tc=n})(er.SDK_VERSION),(0,er._registerComponent)(new Os.wA("database",(t,{instanceIdentifier:e})=>function ED(n,t,e,r,c){let f=r||n.options.databaseURL;void 0===f&&(n.options.projectId||ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xs("Using default host for project ",n.options.projectId),f=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,B,v=S0(f,c),C=v.repoInfo;typeof process<"u"&&process.env&&(B=process.env.FIREBASE_DATABASE_EMULATOR_HOST),B?(I=!0,f=`http://${B}?ns=${C.namespace}`,v=S0(f,c),C=v.repoInfo):I=!v.repoInfo.secure;const X=c&&I?new Af(Af.OWNER):new fv(n.name,n.options,t);ow("Invalid Firebase Database URL",v),zi(v.path)||ks("Database URL must point to the root of a Firebase Database (not including a child path).");const xe=function xD(n,t,e,r){let c=M0[t.name];c||(c={},M0[t.name]=c);let f=c[n.toURLString()];return f&&ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new Kv(n,!1,e,r),c[n.toURLString()]=f,f}(C,n,X,new eg(n.name,e));return new vw(xe,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,er.registerVersion)(Qp,"0.13.9",n),(0,er.registerVersion)(Qp,"0.13.9","esm2017")}();class R0{constructor(t){return t}}const bw="database",sy=new h.OlP("angularfire2.database-instances");function ND(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new R0(r)}}const E_={provide:class kD{constructor(){return(0,fi.vb)(bw)}},deps:[[new h.FiY,sy]]},PD={provide:R0,useFactory:function RD(n,t){const e=(0,fi.JM)(bw,n,t);return e&&new R0(e)},deps:[[new h.FiY,sy],Kr.Ot]};let ww=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[PD,E_]}),n})();function FD(n,...t){return{ngModule:ww,providers:[{provide:sy,useFactory:ND(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,[new h.FiY,na],[new h.FiY,ti.nm],...t]}]}}const GD=(0,fi.u3)(AD,!0);var QD=x(5525);class oy{constructor(t){return t}}const ay="firestore",ly=new h.OlP("angularfire2.firestore-instances");function JD(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new oy(r)}}const eE={provide:class Ow{constructor(){return(0,fi.vb)(ay)}},deps:[[new h.FiY,ly]]},tE={provide:oy,useFactory:function kw(n,t){const e=(0,fi.JM)(ay,n,t);return e&&new oy(e)},deps:[[new h.FiY,ly],Kr.Ot]};let nE=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[tE,eE]}),n})();function Rw(n,...t){return{ngModule:nE,providers:[{provide:ly,useFactory:JD(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,[new h.FiY,na],[new h.FiY,ti.nm],...t]}]}}const x_=(0,fi.u3)(QD.ad,!0),hy="functions";class Gw{constructor(t,e,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(c=>this.auth=c,()=>{}),this.messaging||e.get().then(c=>this.messaging=c,()=>{}),this.appCheck||r.get().then(c=>this.appCheck=c,()=>{})}getAuthToken(){var t=this;return(0,gs.Z)(function*(){if(t.auth)try{return(yield t.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var t=this;return(0,gs.Z)(function*(){if(t.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield t.messaging.getToken()}catch{return}})()}getAppCheckToken(){var t=this;return(0,gs.Z)(function*(){if(t.appCheck){const e=yield t.appCheck.getToken();return e.error?null:e.token}return null})()}getContext(){var t=this;return(0,gs.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken()}})()}}const V0="us-central1";class zw{constructor(t,e,r,c,f=V0,v){this.app=t,this.fetchImpl=v,this.emulatorOrigin=null,this.contextProvider=new Gw(e,r,c),this.cancelAllRequests=new Promise(C=>{this.deleteService=()=>Promise.resolve(C())});try{const C=new URL(f);this.customDomain=C.origin,this.region=V0}catch{this.customDomain=null,this.region=f}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}}const wE="@firebase/functions";function DE(n=(0,er.getApp)(),t=V0){const r=(0,er._getProvider)((0,Wt.m9)(n),hy).getImmediate({identifier:t}),c=(0,Wt.P0)("functions");return c&&function qw(n,t,e){!function yE(n,t,e){n.emulatorOrigin=`http://${t}:${e}`}((0,Wt.m9)(n),t,e)}(r,...c),r}!function U0(n,t){(0,er._registerComponent)(new Os.wA(hy,(r,{instanceIdentifier:c})=>{const f=r.getProvider("app").getImmediate(),v=r.getProvider("auth-internal"),C=r.getProvider("messaging-internal"),I=r.getProvider("app-check-internal");return new zw(f,v,C,I,c,n)},"PUBLIC").setMultipleInstances(!0)),(0,er.registerVersion)(wE,"0.8.7",t),(0,er.registerVersion)(wE,"0.8.7","esm2017")}(fetch.bind(self));class G0{constructor(t){return t}}const py="functions",Jg=new h.OlP("angularfire2.functions-instances");function TS(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new G0(r)}}const Xw={provide:class Qw{constructor(){return(0,fi.vb)(py)}},deps:[[new h.FiY,Jg]]},TE={provide:G0,useFactory:function j0(n,t){const e=(0,fi.JM)(py,n,t);return e&&new G0(e)},deps:[[new h.FiY,Jg],Kr.Ot]};let Jw=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"fn")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[TE,Xw]}),n})();function em(n,...t){return{ngModule:Jw,providers:[{provide:Jg,useFactory:TS(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,[new h.FiY,na],[new h.FiY,ti.nm],...t]}]}}const z0=(0,fi.u3)(DE,!0);var AS=x(2375);class $0{constructor(t){return t}}const eC="messaging",gy=new h.OlP("angularfire2.messaging-instances");function tC(n){return(t,e)=>{if(!fi.n1.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new $0(r)}}const nC={provide:class SE{constructor(){return(0,fi.vb)(eC)}},deps:[[new h.FiY,gy]]},ME={provide:$0,useFactory:function IE(n,t){if(!fi.n1.sync())return null;const e=(0,fi.JM)(eC,n,t);return e&&new $0(e)},deps:[[new h.FiY,gy],Kr.Ot]};let OE=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"fcm")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ME,nC,{provide:h.ip1,useValue:fi.n1.async,multi:!0}]}),n})();function iC(n,...t){return{ngModule:OE,providers:[{provide:gy,useFactory:tC(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,...t]}]}}const rC=(0,fi.u3)(AS.KL,!0);x(2833);const sC="@firebase/performance",oC="0.5.15",aC="FB-PERF-TRACE-MEASURE",VE="@firebase/performance/config",A_="@firebase/performance/configexpire",Y0="Performance",$o=new Wt.LL("performance",Y0,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),qc=new vu.Yd(Y0);let lC,_y,K0,tm;qc.logLevel=vu.in.INFO;class Io{constructor(t){if(this.window=t,!t)throw $o.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,r){!this.performance||!this.performance.measure||this.performance.measure(t,e,r)}getEntriesByType(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]}getEntriesByName(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,Wt.zI)()?!!(0,Wt.hl)()||(qc.info("IndexedDB is not supported by current browswer"),!1):(qc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(t,e){this.PerformanceObserver&&new this.PerformanceObserver(c=>{for(const f of c.getEntries())e(f)}).observe({entryTypes:[t]})}static getInstance(){return void 0===lC&&(lC=new Io(_y)),lC}}function Z0(){return K0}function cC(n,t){const e=n.length-t.length;if(e<0||e>1)throw $o.create("invalid String merger input");const r=[];for(let c=0;c<n.length;c++)r.push(n.charAt(c)),t.length>c&&r.push(t.charAt(c));return r.join("")}class Al{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=cC("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=cC("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===tm&&(tm=new Al),tm}}var nm=(()=>{return(n=nm||(nm={}))[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN",nm;var n})();const PS=["firebase_","google_","ga_"],FS=new RegExp("^[a-zA-Z]\\w*$");function zE(){const n=Io.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function $E(){switch(Io.getInstance().document.visibilityState){case"visible":return nm.VISIBLE;case"hidden":return nm.HIDDEN;default:return nm.UNKNOWN}}function WE(){const t=Io.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function YE(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.appId;if(!e)throw $o.create("no app id");return e}const Xc={loggingEnabled:!0};const QE="Could not fetch config, will use default configs";function J0(n){if(!n)return n;const t=Al.getInstance(),e=n.entries||{};return t.loggingEnabled=void 0!==e.fpr_enabled?"true"===String(e.fpr_enabled):Xc.loggingEnabled,e.fpr_log_source?t.logSource=Number(e.fpr_log_source):Xc.logSource&&(t.logSource=Xc.logSource),e.fpr_log_endpoint_url?t.logEndPointUrl=e.fpr_log_endpoint_url:Xc.logEndPointUrl&&(t.logEndPointUrl=Xc.logEndPointUrl),e.fpr_log_transport_key?t.transportKey=e.fpr_log_transport_key:Xc.transportKey&&(t.transportKey=Xc.transportKey),void 0!==e.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate):void 0!==Xc.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=Xc.networkRequestsSamplingRate),void 0!==e.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate):void 0!==Xc.tracesSamplingRate&&(t.tracesSamplingRate=Xc.tracesSamplingRate),t.logTraceAfterSampling=fC(t.tracesSamplingRate),t.logNetworkAfterSampling=fC(t.networkRequestsSamplingRate),n}function fC(n){return Math.random()<=n}let yy,vy=1;function pC(n){return vy=2,yy=yy||function XE(n){return function eb(){const n=Io.getInstance().document;return new Promise(t=>{if(n&&"complete"!==n.readyState){const e=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}().then(()=>function NS(n){const t=n.getId();return t.then(e=>{K0=e}),t}(n.installations)).then(t=>function ZE(n,t){const e=function Q0(){const n=Io.getInstance().localStorage;if(!n)return;const t=n.getItem(A_);if(!t||!function hC(n){return Number(n)>Date.now()}(t))return;const e=n.getItem(VE);if(e)try{return JSON.parse(e)}catch{return}}();return e?(J0(e),Promise.resolve()):function X0(n,t){return function UE(n){const t=n.getToken();return t.then(e=>{}),t}(n.installations).then(e=>{const r=function Qc(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.projectId;if(!e)throw $o.create("no project id");return e}(n.app),c=function KE(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.apiKey;if(!e)throw $o.create("no api key");return e}(n.app),v=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${c}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:YE(n.app),app_version:"0.5.15",sdk_version:"0.0.1"})});return fetch(v).then(C=>{if(C.ok)return C.json();throw $o.create("RC response not ok")})}).catch(()=>{qc.info(QE)})}(n,t).then(J0).then(r=>function qE(n){const t=Io.getInstance().localStorage;!n||!t||(t.setItem(VE,JSON.stringify(n)),t.setItem(A_,String(Date.now()+60*Al.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,t)).then(()=>jd(),()=>jd())}(n),yy}function jd(){vy=3}let bC,nb=3,Yh=[],mC=!1;function wy(n){setTimeout(()=>{if(0!==nb){if(!Yh.length)return wy(1e4);!function _C(){const n=Yh.splice(0,1e3),t=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function LS(n,t){return function vC(n){const t=Al.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(n)})}(n).then(e=>(e.ok||qc.info("Call to Firebase backend failed."),e.json())).then(e=>{const r=Number(e.nextRequestWaitMillis);let c=1e4;isNaN(r)||(c=Math.max(r,c));const f=e.logResponseDetails;Array.isArray(f)&&f.length>0&&"RETRY_REQUEST_LATER"===f[0].responseAction&&(Yh=[...t,...Yh],qc.info("Retry transport request later.")),nb=3,wy(c)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Al.getInstance().logSource,log_event:t},n).catch(()=>{Yh=[...n,...Yh],nb--,qc.info(`Tries left: ${nb}.`),wy(1e4)})}()}},n)}function Cy(n,t){bC||(bC=function yC(n){return(...t)=>{!function tT(n){if(!n.eventTime||!n.message)throw $o.create("invalid cc log");Yh=[...Yh,n]}({message:n(...t),eventTime:Date.now()})}}(CC)),bC(n,t)}function I_(n){const t=Al.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||!Io.getInstance().requiredApisAvailable()||n.isAuto&&$E()!==nm.VISIBLE||(function gC(){return 3===vy}()?Dy(n):pC(n.performanceController).then(()=>Dy(n),()=>Dy(n)))}function Dy(n){if(!Z0())return;const t=Al.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(()=>Cy(n,1),0)}function CC(n,t){return 0===t?function DC(n){const t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:M_(n.performanceController.app),network_request_metric:t};return JSON.stringify(e)}(n):function Ey(n){const t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(t.counters=n.counters);const e=n.getAttributes();0!==Object.keys(e).length&&(t.custom_attributes=e);const r={application_info:M_(n.performanceController.app),trace_metric:t};return JSON.stringify(r)}(n)}function M_(n){return{google_app_id:YE(n),app_instance_id:Z0(),web_app_info:{sdk_version:"0.5.15",page_url:Io.getInstance().getUrl(),service_worker_status:zE(),visibility_state:$E(),effective_connection_type:WE()},application_process_state:0}}const TC=["_fp","_fcp","_fid"];class Kh{constructor(t,e,r=!1,c){this.performanceController=t,this.name=e,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Io.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=c||`${aC}-${this.randomId}-${this.name}`,c&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw $o.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw $o.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),I_(this)}record(t,e,r){if(t<=0)throw $o.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw $o.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const c of Object.keys(r.metrics))isNaN(Number(r.metrics[c]))||(this.counters[c]=Math.floor(Number(r.metrics[c])));I_(this)}incrementMetric(t,e=1){this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)}putMetric(t,e){if(!function xC(n,t){return!(0===n.length||n.length>100)&&(t&&t.startsWith("_wt_")&&TC.indexOf(n)>-1||!n.startsWith("_"))}(t,this.name))throw $o.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function iT(n){const t=Math.floor(n);return t<n&&qc.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(e??0)}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const r=function uC(n){return!(0===n.length||n.length>40||PS.some(e=>n.startsWith(e))||!n.match(FS))}(t),c=function dC(n){return 0!==n.length&&n.length<=100}(e);if(r&&c)this.customAttributes[t]=e;else{if(!r)throw $o.create("invalid attribute name",{attributeName:t});if(!c)throw $o.create("invalid attribute value",{attributeValue:e})}}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}static createOobTrace(t,e,r,c){const f=Io.getInstance().getUrl();if(!f)return;const v=new Kh(t,"_wt_"+f,!0),C=Math.floor(1e3*Io.getInstance().getTimeOrigin());if(v.setStartTime(C),e&&e[0]&&(v.setDuration(Math.floor(1e3*e[0].duration)),v.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),v.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),v.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),r){const X=r.find(it=>"first-paint"===it.name);X&&X.startTime&&v.putMetric("_fp",Math.floor(1e3*X.startTime));const xe=r.find(it=>"first-contentful-paint"===it.name);xe&&xe.startTime&&v.putMetric("_fcp",Math.floor(1e3*xe.startTime)),c&&v.putMetric("_fid",Math.floor(1e3*c))}I_(v)}static createUserTimingTrace(t,e){I_(new Kh(t,e,!1,e))}}function rT(n,t){const e=t;if(!e||void 0===e.responseStart)return;const r=Io.getInstance().getTimeOrigin(),c=Math.floor(1e3*(e.startTime+r)),f=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,v=Math.floor(1e3*(e.responseEnd-e.startTime));!function wC(n){const t=Al.getInstance();if(!t.instrumentationEnabled)return;const e=n.url,r=t.logEndPointUrl.split("?")[0],c=t.flTransportEndpointUrl.split("?")[0];e===r||e===c||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(()=>Cy(n,0),0)}({performanceController:n,url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:c,timeToResponseInitiatedUs:f,timeToResponseCompletedUs:v})}function ib(n){!Z0()||(setTimeout(()=>function oT(n){const t=Io.getInstance(),e=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){let c=setTimeout(()=>{Kh.createOobTrace(n,e,r),c=void 0},5e3);t.onFirstInputDelay(f=>{c&&(clearTimeout(c),Kh.createOobTrace(n,e,r,f))})}else Kh.createOobTrace(n,e,r)}(n),0),setTimeout(()=>function sT(n){const t=Io.getInstance(),e=t.getEntriesByType("resource");for(const r of e)rT(n,r);t.setupObserver("resource",r=>rT(n,r))}(n),0),setTimeout(()=>function aT(n){const t=Io.getInstance(),e=t.getEntriesByType("measure");for(const r of e)lT(n,r);t.setupObserver("measure",r=>lT(n,r))}(n),0))}function lT(n,t){const e=t.name;e.substring(0,aC.length)!==aC&&Kh.createUserTimingTrace(n,e)}class VS{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||(void 0!==t?.dataCollectionEnabled&&(this.dataCollectionEnabled=t.dataCollectionEnabled),void 0!==t?.instrumentationEnabled&&(this.instrumentationEnabled=t.instrumentationEnabled),Io.getInstance().requiredApisAvailable()?(0,Wt.eu)().then(e=>{e&&(function eT(){mC||(wy(5500),mC=!0)}(),pC(this).then(()=>ib(this),()=>ib(this)),this.initialized=!0)}).catch(e=>{qc.info(`Environment doesn't support IndexedDB: ${e}`)}):qc.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){Al.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return Al.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){Al.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return Al.getInstance().dataCollectionEnabled}}function US(n=(0,er.getApp)()){return n=(0,Wt.m9)(n),(0,er._getProvider)(n,"performance").getImmediate()}const Ty=(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==e.name)throw $o.create("FB not default");if(typeof window>"u")throw $o.create("no window");!function HE(n){_y=n}(window);const c=new VS(e,r);return c._init(t),c};!function cT(){(0,er._registerComponent)(new Os.wA("performance",Ty,"PUBLIC")),(0,er.registerVersion)(sC,oC),(0,er.registerVersion)(sC,oC,"esm2017")}();class rb{constructor(t){return t}}const sb="performance",O_=new h.OlP("angularfire2.performance-instances");function dT(n){return(t,e,r)=>{if(!(0,ie.NF)(e))return null;const c=t.runOutsideAngular(()=>n(r));return new rb(c)}}const ab={provide:class bp{constructor(){return(0,fi.vb)(sb)}},deps:[[new h.FiY,O_]]},lb={provide:rb,useFactory:function ob(n,t,e){if(!(0,ie.NF)(e))return null;const r=(0,fi.JM)(sb,n,t);return r&&new rb(r)},deps:[[new h.FiY,O_],Kr.Ot,h.Lbi]};let xy=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"perf")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[lb,ab]}),n})();function jS(n,...t){return{ngModule:xy,providers:[{provide:O_,useFactory:dT(n),multi:!0,deps:[h.R0b,h.Lbi,h.zs3,fi.HU,Kr.z6,...t]}]}}const fT=(0,fi.u3)(US,!0);var pT=x(3226);class Sy{constructor(t){return t}}const cb="remote-config",ub=new h.OlP("angularfire2.remote-config-instances");function db(n){return(t,e)=>{if(!fi._J.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new Sy(r)}}const YS={provide:class SC{constructor(){return(0,fi.vb)(cb)}},deps:[[new h.FiY,ub]]},IC={provide:Sy,useFactory:function AC(n,t){if(!fi._J.sync())return null;const e=(0,fi.JM)(cb,n,t);return e&&new Sy(e)},deps:[[new h.FiY,ub],Kr.Ot]};let hb=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"rc")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[IC,YS,{provide:h.ip1,useValue:fi._J.async,multi:!0}]}),n})();function gT(n,...t){return{ngModule:hb,providers:[{provide:ub,useFactory:db(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,...t]}]}}const JS=(0,fi.u3)(pT.sN,!0),mT="firebasestorage.googleapis.com";class _ extends Wt.ZR{constructor(t,e,r=0){super(b(t),`Firebase Storage: ${e} (${b(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return b(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function b(n){return"storage/"+n}function Mi(n){return new _("invalid-argument",n)}function Ar(){return new _("app-deleted","The Firebase app was deleted.")}class aa{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=aa.makeFromUrl(t,e)}catch{return new aa(t,"")}if(""===r.path)return r;throw function jn(n){return new _("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const c="([A-Za-z0-9.\\-_]+)",C=new RegExp("^gs://"+c+"(/(.*))?$","i");function B(Ln){Ln.path_=decodeURIComponent(Ln.path)}const xe=e.replace(/[.]/g,"\\."),Fn=[{regex:C,indices:{bucket:1,path:3},postModify:function f(Ln){"/"===Ln.path.charAt(Ln.path.length-1)&&(Ln.path_=Ln.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${xe}/v[A-Za-z0-9_]+/b/${c}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:B},{regex:new RegExp(`^https?://${e===mT?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${c}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:B}];for(let Ln=0;Ln<Fn.length;Ln++){const Jn=Fn[Ln],ui=Jn.regex.exec(t);if(ui){let ri=ui[Jn.indices.path];ri||(ri=""),r=new aa(ui[Jn.indices.bucket],ri),Jn.postModify(r);break}}if(null==r)throw function Tn(n){return new _("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class fb{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vT(n,t,e,r){if(r<t)throw Mi(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Mi(`Invalid value for '${n}'. Expected ${e} or less.`)}var rm=(()=>{return(n=rm||(rm={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",rm;var n})();class y1{constructor(t,e,r,c,f,v,C,I,B,X,xe,it=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=c,this.successCodes_=f,this.additionalRetryCodes_=v,this.callback_=C,this.errorCallback_=I,this.timeout_=B,this.progressCallback_=X,this.connectionFactory_=xe,this.retry=it,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((lt,Nt)=>{this.resolve_=lt,this.reject_=Nt,this.start_()})}start_(){const e=(r,c)=>{const f=this.resolve_,v=this.reject_,C=c.connection;if(c.wasSuccessCode)try{const I=this.callback_(C,C.getResponse());!function mb(n){return void 0!==n}(I)?f():f(I)}catch(I){v(I)}else if(null!==C){const I=function T(){return new _("unknown","An unknown error occurred, please check the error payload for server response.")}();I.serverResponse=C.getErrorText(),v(this.errorCallback_?this.errorCallback_(C,I):I)}else v(c.canceled?this.appDelete_?Ar():function en(){return new _("canceled","User canceled the upload/download.")}():function Ft(){return new _("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new MC(!1,null,!0)):this.backoffId_=function pb(n,t,e){let r=1,c=null,f=null,v=!1,C=0;function I(){return 2===C}let B=!1;function X(...tn){B||(B=!0,t.apply(null,tn))}function xe(tn){c=setTimeout(()=>{c=null,n(lt,I())},tn)}function it(){f&&clearTimeout(f)}function lt(tn,...xn){if(B)return void it();if(tn)return it(),void X.call(null,tn,...xn);if(I()||v)return it(),void X.call(null,tn,...xn);let Fn;r<64&&(r*=2),1===C?(C=2,Fn=0):Fn=1e3*(r+Math.random()),xe(Fn)}let Nt=!1;function Gt(tn){Nt||(Nt=!0,it(),!B&&(null!==c?(tn||(C=2),clearTimeout(c),xe(0)):tn||(C=1)))}return xe(0),f=setTimeout(()=>{v=!0,Gt(!0)},e),Gt}((r,c)=>{if(c)return void r(!1,new MC(!1,null,!0));const f=this.connectionFactory_();this.pendingConnection_=f;const v=C=>{null!==this.progressCallback_&&this.progressCallback_(C.loaded,C.lengthComputable?C.total:-1)};null!==this.progressCallback_&&f.addUploadProgressListener(v),f.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&f.removeUploadProgressListener(v),this.pendingConnection_=null;const C=f.getErrorCode()===rm.NO_ERROR,I=f.getStatus();if((!C||function iA(n,t){const e=n>=500&&n<600,c=-1!==[408,429].indexOf(n),f=-1!==t.indexOf(n);return e||c||f}(I,this.additionalRetryCodes_))&&this.retry){const X=f.getErrorCode()===rm.ABORT;return void r(!1,new MC(!1,null,X))}const B=-1!==this.successCodes_.indexOf(I);r(!0,new MC(B,f))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function gb(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class MC{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}class k_{constructor(t,e){this._service=t,this._location=e instanceof aa?e:aa.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new k_(t,e)}get root(){const t=new aa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function lA(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const t=function R1(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new aa(this._location.bucket,t);return new k_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function _s(n){return new _("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function DA(n,t){const e=t?.storageBucket;return null==e?null:aa.makeFromBucketSpec(e,n)}class TT{constructor(t,e,r,c,f){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=c,this._firebaseVersion=f,this._bucket=null,this._host=mT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?aa.makeFromBucketSpec(c,this._host):DA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?aa.makeFromBucketSpec(this._url,t):DA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){vT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){vT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,gs.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,gs.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new k_(this,t)}_makeRequest(t,e,r,c,f=!0){if(this._deleted)return new fb(Ar());{const v=function E1(n,t,e,r,c,f,v=!0){const C=function nA(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}(n.urlParams),I=n.url+C,B=Object.assign({},n.headers);return function C1(n,t){t&&(n["X-Firebase-GMPID"]=t)}(B,t),function b1(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(B,e),function w1(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(B,f),function D1(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(B,r),new y1(I,n.method,B,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,c,v)}(t,this._appId,r,c,e,this._firebaseVersion,f);return this._requests.add(v),v.getPromise().then(()=>this._requests.delete(v),()=>this._requests.delete(v)),v}}makeRequestWithTokens(t,e){var r=this;return(0,gs.Z)(function*(){const[c,f]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,c,f).getPromise()})()}}const EA="@firebase/storage",xA="storage";function vO(n=(0,er.getApp)(),t){n=(0,Wt.m9)(n);const r=(0,er._getProvider)(n,xA).getImmediate({identifier:t}),c=(0,Wt.P0)("storage");return c&&function yO(n,t,e,r={}){!function _O(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:c}=r;c&&(n._overrideAuthToken="string"==typeof c?c:(0,Wt.Sg)(c,n.app.options.projectId))}(n,t,e,r)}(r,...c),r}function bO(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),c=n.getProvider("app-check-internal");return new TT(e,r,c,t,er.SDK_VERSION)}!function wO(){(0,er._registerComponent)(new Os.wA(xA,bO,"PUBLIC").setMultipleInstances(!0)),(0,er.registerVersion)(EA,"0.9.12",""),(0,er.registerVersion)(EA,"0.9.12","esm2017")}();class xT{constructor(t){return t}}const SA="storage",ST=new h.OlP("angularfire2.storage-instances");function EO(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new xT(r)}}const TO={provide:class CO{constructor(){return(0,fi.vb)(SA)}},deps:[[new h.FiY,ST]]},xO={provide:xT,useFactory:function DO(n,t){const e=(0,fi.JM)(SA,n,t);return e&&new xT(e)},deps:[[new h.FiY,ST],Kr.Ot]};let SO=(()=>{class n{constructor(){(0,wn.KN)("angularfire",fi.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[xO,TO]}),n})();function AO(n,...t){return{ngModule:SO,providers:[{provide:ST,useFactory:EO(n),multi:!0,deps:[h.R0b,h.zs3,fi.HU,Kr.z6,[new h.FiY,na],[new h.FiY,ti.nm],...t]}]}}const IO=(0,fi.u3)(vO,!0);var MO=x(2011),OO=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var r,c={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r={top:(r=t.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var f=this.offsetParent(t);r=this.offset(t,!1),f!==document.documentElement&&(c=this.offset(f,!1)),c.top+=f.clientTop,c.left+=f.clientLeft}return r.top-=c.top,r.bottom-=c.top,r.left-=c.left,r.right-=c.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var r=t.getBoundingClientRect(),c_top=window.pageYOffset-document.documentElement.clientTop,c_left=window.pageXOffset-document.documentElement.clientLeft,f={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+c_top,bottom:r.bottom+c_top,left:r.left+c_left,right:r.right+c_left};return e&&(f.height=Math.round(f.height),f.width=Math.round(f.width),f.top=Math.round(f.top),f.bottom=Math.round(f.bottom),f.left=Math.round(f.left),f.right=Math.round(f.right)),f},n.prototype.positionElements=function(t,e,r,c){var f=r.split("-"),v=f[0],C=void 0===v?"top":v,I=f[1],B=void 0===I?"center":I,X=c?this.offset(t,!1):this.position(t,!1),xe=this.getAllStyles(e),it=parseFloat(xe.marginTop),lt=parseFloat(xe.marginBottom),Nt=parseFloat(xe.marginLeft),Gt=parseFloat(xe.marginRight),tn=0,xn=0;switch(C){case"top":tn=X.top-(e.offsetHeight+it+lt);break;case"bottom":tn=X.top+X.height;break;case"left":xn=X.left-(e.offsetWidth+Nt+Gt);break;case"right":xn=X.left+X.width}switch(B){case"top":tn=X.top;break;case"bottom":tn=X.top+X.height-e.offsetHeight;break;case"left":xn=X.left;break;case"right":xn=X.left+X.width-e.offsetWidth;break;case"center":"top"===C||"bottom"===C?xn=X.left+X.width/2-e.offsetWidth/2:tn=X.top+X.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(xn)+"px, "+Math.round(tn)+"px)";var On=e.getBoundingClientRect(),Fn=document.documentElement,Ln=window.innerHeight||Fn.clientHeight,Jn=window.innerWidth||Fn.clientWidth;return On.left>=0&&On.top>=0&&On.right<=Jn&&On.bottom<=Ln},n}();new OO;var Wd=function(){return Wd=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var c in t=arguments[e])Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c]);return n},Wd.apply(this,arguments)},AT=function(n,t,e){if(e||2===arguments.length)for(var f,r=0,c=t.length;r<c;r++)(f||!(r in t))&&(f||(f=Array.prototype.slice.call(t,0,r)),f[r]=t[r]);return n.concat(f||Array.prototype.slice.call(t))},wb=(()=>{return(n=wb||(wb={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",wb;var n})(),RO=[wb.SUNDAY,wb.SATURDAY],sm=86400;function IA(n,t){var e=t.startDate,c=t.excluded,f=t.precision;if(c.length<1)return 0;for(var C=n.getDay,I=n.addDays,B=(0,n.addSeconds)(e,t.seconds-1),X=C(e),xe=C(B),it=0,lt=e,Nt=function(){var Gt=C(lt);c.some(function(tn){return tn===Gt})&&(it+=function NO(n,t){var r=t.day,f=t.dayEnd,v=t.startDate,C=t.endDate,I=n.differenceInSeconds,X=n.startOfDay;if("minutes"===t.precision){if(r===t.dayStart)return I((0,n.endOfDay)(v),v)+1;if(r===f)return I(C,X(C))+1}return sm}(n,{dayStart:X,dayEnd:xe,day:Gt,precision:f,startDate:e,endDate:B})),lt=I(lt,1)};lt<B;)Nt();return it}function Cb(n,t){var r=t.periodStart,c=t.periodEnd;return t.events.filter(function(f){return function LO(n,t){var e=t.event,r=t.periodStart,c=t.periodEnd,f=n.isSameSecond,v=e.start,C=e.end||e.start;return!!(v>r&&v<c||C>r&&C<c||v<r&&C>c||f(v,r)||f(v,c)||f(C,r)||f(C,c))}(n,{event:f,periodStart:r,periodEnd:c})})}function MA(n,t){var e=t.date,r=t.weekendDays,c=void 0===r?RO:r,v=n.isSameDay,C=n.getDay,I=(0,n.startOfDay)(new Date),B=C(e);return{date:e,day:B,isPast:e<I,isToday:v(e,I),isFuture:e>I,isWeekend:c.indexOf(B)>-1}}function OT(n,t){for(var c=t.excluded,f=void 0===c?[]:c,v=t.weekendDays,C=t.viewStart,I=void 0===C?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):C,B=t.viewEnd,X=void 0===B?n.addDays(I,7):B,xe=n.addDays,it=n.getDay,lt=[],Nt=I;Nt<X;)f.some(function(Gt){return it(Nt)===Gt})||lt.push(MA(n,{date:Nt,weekendDays:v})),Nt=xe(Nt,1);return lt}function VO(n,t){var e=t.events,r=void 0===e?[]:e,c=t.excluded,f=void 0===c?[]:c,v=t.precision,C=void 0===v?"days":v,I=t.absolutePositionedEvents,B=void 0!==I&&I,X=t.viewStart,xe=t.viewEnd;X=n.startOfDay(X),xe=n.endOfDay(xe);var it=n.differenceInSeconds,lt=n.differenceInDays,Nt=function BO(n,t){for(var r=t.date2,c=t.excluded,f=t.date1,v=0;f<r;)-1===c.indexOf(n.getDay(f))&&v++,f=n.addDays(f,1);return v}(n,{date1:X,date2:xe,excluded:f}),Gt=lt(xe,X)+1,tn=r.filter(function(Fn){return Fn.allDay}).map(function(Fn){var Ln=function FO(n,t){var e=t.event,r=t.startOfWeek,c=t.excluded,f=t.precision,v=n.differenceInDays,C=n.startOfDay,I=n.differenceInSeconds;if(e.start<r)return 0;var B=0;switch(f){case"days":B=v(C(e.start),r)*sm;break;case"minutes":B=I(e.start,r)}return B-=IA(n,{startDate:r,seconds:B,excluded:c,precision:f}),Math.abs(B/sm)}(n,{event:Fn,startOfWeek:X,excluded:f,precision:C}),Jn=function PO(n,t){var e=t.event,r=t.offset,f=t.excluded,v=t.precision,C=t.totalDaysInView,B=n.differenceInSeconds,X=n.addDays,xe=n.endOfDay,it=n.differenceInDays,lt=sm,Nt=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(lt="minutes"===v?B(e.end,Nt):it(X(xe(e.end),1),Nt)*sm);var Gt=r*sm,xn=C*sm;return Gt+lt>xn&&(lt=xn-Gt),(lt-=IA(n,{startDate:Nt,seconds:lt,excluded:f,precision:v}))/sm}(n,{event:Fn,offset:Ln,startOfWeekDate:X,excluded:f,precision:C,totalDaysInView:Gt});return{event:Fn,offset:Ln,span:Jn}}).filter(function(Fn){return Fn.offset<Nt}).filter(function(Fn){return Fn.span>0}).map(function(Fn){return{event:Fn.event,offset:Fn.offset,span:Fn.span,startsBeforeWeek:Fn.event.start<X,endsAfterWeek:(Fn.event.end||Fn.event.start)>xe}}).sort(function(Fn,Ln){var Jn=it(Fn.event.start,Ln.event.start);return 0===Jn?it(Ln.event.end||Ln.event.start,Fn.event.end||Fn.event.start):Jn}),xn=[],On=[];return tn.forEach(function(Fn,Ln){if(-1===On.indexOf(Fn)){On.push(Fn);var Jn=Fn.span+Fn.offset,ui=tn.slice(Ln+1).filter(function(hi){if(hi.offset>=Jn&&Jn+hi.span<=Gt&&-1===On.indexOf(hi)){var vi=hi.offset-Jn;return B||(hi.offset=vi),Jn+=hi.span+vi,On.push(hi),!0}}),yi=AT([Fn],ui,!0),ri=yi.filter(function(hi){return hi.event.id}).map(function(hi){return hi.event.id}).join("-");xn.push(Wd({row:yi},ri?{id:ri}:{}))}}),xn}function HO(n,t){var e=t.events,r=t.viewDate,c=t.hourSegments,f=t.hourDuration,v=t.dayStart,C=t.dayEnd,I=t.weekStartsOn,B=t.excluded,X=t.weekendDays,xe=t.segmentHeight,it=t.viewStart,lt=t.viewEnd,Nt=t.minimumEventHeight,Gt=function zO(n,t){var e=t.viewDate,r=t.hourSegments,c=t.hourDuration,f=t.dayStart,v=t.dayEnd,C=n.setMinutes,I=n.setHours,B=n.startOfDay,X=n.startOfMinute,xe=n.endOfDay,it=n.addMinutes,lt=n.addDays,Nt=[],Gt=C(I(B(e),FC(f.hour)),LC(f.minute)),tn=C(I(X(xe(e)),FC(v.hour)),LC(v.minute)),xn=(c||60)/r,On=B(e),Fn=xe(e),Ln=function(vi){return vi};n.getTimezoneOffset(On)!==n.getTimezoneOffset(Fn)&&(On=lt(On,1),Gt=lt(Gt,1),tn=lt(tn,1),Ln=function(vi){return lt(vi,-1)});for(var Jn=c?1440/c:60,ui=0;ui<Jn;ui++){for(var yi=[],ri=0;ri<r;ri++){var hi=it(it(Gt,ui*(c||60)),ri*xn);hi>=Gt&&hi<tn&&yi.push({date:Ln(hi),displayDate:hi,isStart:0===ri})}yi.length>0&&Nt.push({segments:yi})}return Nt}(n,{viewDate:r,hourSegments:c,hourDuration:f,dayStart:v,dayEnd:C}),tn=OT(n,{viewDate:r,weekStartsOn:I,excluded:B,weekendDays:X,viewStart:it,viewEnd:lt}),xn=n.setHours,On=n.setMinutes,Fn=n.getHours,Ln=n.getMinutes;return tn.map(function(Jn){var ui=function jO(n,t){var e=t.events,r=t.viewDate,c=t.hourSegments,f=t.dayStart,v=t.dayEnd,C=t.eventWidth,I=t.segmentHeight,B=t.hourDuration,X=t.minimumEventHeight,xe=n.setMinutes,it=n.setHours,lt=n.startOfDay,Nt=n.startOfMinute,Gt=n.endOfDay,tn=n.differenceInMinutes,xn=xe(it(lt(r),FC(f.hour)),LC(f.minute)),On=xe(it(Nt(Gt(r)),FC(v.hour)),LC(v.minute));On.setSeconds(59,999);var Fn=[],Ln=Cb(n,{events:e.filter(function(ri){return!ri.allDay}),periodStart:xn,periodEnd:On}),Jn=Ln.sort(function(ri,hi){return ri.start.valueOf()-hi.start.valueOf()}).map(function(ri){var hi=ri.start,vi=ri.end||hi,Wn=hi<xn,Qn=vi>On,Vi=c*I/(B||60),lr=0;if(hi>xn){var lc=n.getTimezoneOffset(hi),pi=n.getTimezoneOffset(xn)-lc;lr+=tn(hi,xn)+pi}lr*=Vi,lr=Math.floor(lr);var Ti=Wn?xn:hi,xi=Qn?On:vi,zr=n.getTimezoneOffset(Ti)-n.getTimezoneOffset(xi),vs=tn(xi,Ti)+zr;ri.end?vs*=Vi:vs=I,X&&vs<X&&(vs=X),vs=Math.floor(vs);for(var Ol=PC(Fn,lr,lr+vs),Ir=0;Ol.some(function(xp){return xp.left===Ir});)Ir+=C;var cc={event:ri,height:vs,width:C,top:lr,left:Ir,startsBeforeDay:Wn,endsAfterDay:Qn};return Fn.push(cc),cc}),ui=Math.max.apply(Math,Jn.map(function(ri){return ri.left+ri.width})),yi=Cb(n,{events:e.filter(function(ri){return ri.allDay}),periodStart:lt(xn),periodEnd:Gt(On)});return{events:Jn,width:ui,allDayEvents:yi,period:{events:Ln,start:xn,end:On}}}(n,{events:e,viewDate:Jn.date,hourSegments:c,dayStart:v,dayEnd:C,segmentHeight:xe,eventWidth:1,hourDuration:f,minimumEventHeight:Nt}),yi=Gt.map(function(vi){var Wn=vi.segments.map(function(Qn){var Vi=On(xn(Jn.date,Fn(Qn.date)),Ln(Qn.date));return Wd(Wd({},Qn),{date:Vi})});return Wd(Wd({},vi),{segments:Wn})});function ri(vi,Wn){var Qn=Math.max.apply(Math,Wn.map(function(lr){return lr.left+1})),Vi=vi.filter(function(lr){return lr.left>=Qn}).filter(function(lr){return PC(Wn,lr.top,lr.top+lr.height).length>0});return Vi.length>0?ri(vi,Vi):Qn}var hi=ui.events.map(function(vi){var Qn=100/ri(ui.events,PC(ui.events,vi.top,vi.top+vi.height));return Wd(Wd({},vi),{left:vi.left*Qn,width:Qn})});return{hours:yi,date:Jn.date,events:hi.map(function(vi){var Wn=PC(hi.filter(function(Qn){return Qn.left>vi.left}),vi.top,vi.top+vi.height);return Wn.length>0?Wd(Wd({},vi),{width:Math.min.apply(Math,Wn.map(function(Qn){return Qn.left}))-vi.left}):vi})}})}function PC(n,t,e){return n.filter(function(r){var c=r.top,f=r.top+r.height;return t<f&&f<e||t<c&&c<e||c<=t&&e<=f})}function FC(n){return Math.max(Math.min(23,n),0)}function LC(n){return Math.max(Math.min(59,n),0)}"function"==typeof Symbol&&Symbol;var Eb=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var n=0,t=Eb.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[Eb[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(r){var c=(new Date).getTime(),f=Math.max(0,16-c-e),v=window.setTimeout(function(){return r(c+f)},f);return e=c+f,v}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var n=0,t=Eb.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[Eb[n]+"CancelAnimationFrame"]||window[Eb[n]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let BC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),jA=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:r}){return e.badgeTotal>0?`\n        ${(0,ie.p6)(e.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,ie.p6)(e.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:e,locale:r}){return`\n      Beginning of expanded view for ${(0,ie.p6)(e,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:e,locale:r}){return`${(0,ie.p6)(e,"EEEE MMMM dd",r)} expanded`}eventDescription({event:e,locale:r}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:r});const c=`\n      ${(0,ie.p6)(e.start,"EEEE MMMM dd",r)},\n      ${e.title}, from ${(0,ie.p6)(e.start,"hh:mm a",r)}\n    `;return e.end?c+` to ${(0,ie.p6)(e.end,"hh:mm a",r)}`:c}allDayEventDescription({event:e,locale:r}){const c=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,ie.p6)(e.start,"MMMM dd hh:mm a",r)}\n    `;return e.end?c+`, stop time ${(0,ie.p6)(e.end,"MMMM d hh:mm a",r)}`:c+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ie.Gx))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class zA{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}class HC{}let Kk=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:r}){return(0,ie.p6)(e,"EEEE",r)}monthViewDayNumber({date:e,locale:r}){return(0,ie.p6)(e,"d",r)}monthViewTitle({date:e,locale:r}){return(0,ie.p6)(e,"LLLL y",r)}weekViewColumnHeader({date:e,locale:r}){return(0,ie.p6)(e,"EEEE",r)}weekViewColumnSubHeader({date:e,locale:r}){return(0,ie.p6)(e,"MMM d",r)}weekViewTitle({date:e,locale:r,weekStartsOn:c,excludeDays:f,daysInWeek:v}){const{viewStart:C,viewEnd:I}=function Wk(n,t,e,r=[],c){let f=c?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const v=n.endOfWeek(t,{weekStartsOn:e});for(;r.indexOf(n.getDay(f))>-1&&f<v;)f=n.addDays(f,1);if(c){const C=n.endOfDay(function $k(n,t,e,r){let c=0,f=0;const v=e<0?n.subDays:n.addDays;let C=t;for(;f<=Math.abs(e);){C=v(t,c);const I=n.getDay(C);-1===r.indexOf(I)&&f++,c++}return C}(n,f,c-1,r));return{viewStart:f,viewEnd:C}}{let C=v;for(;r.indexOf(n.getDay(C))>-1&&C>f;)C=n.subDays(C,1);return{viewStart:f,viewEnd:C}}}(this.dateAdapter,e,c,f,v),B=(X,xe)=>(0,ie.p6)(X,"MMM d"+(xe?", yyyy":""),r);return`${B(C,C.getUTCFullYear()!==I.getUTCFullYear())} - ${B(I,!0)}`}weekViewHour({date:e,locale:r}){return(0,ie.p6)(e,"h a",r)}dayViewHour({date:e,locale:r}){return(0,ie.p6)(e,"h a",r)}dayViewTitle({date:e,locale:r}){return(0,ie.p6)(e,"EEEE, MMMM d, y",r)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(HC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),WA=(()=>{class n extends Kk{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),YA=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function GO(n,t){var e=t.events,r=void 0===e?[]:e,c=t.viewDate,f=t.weekStartsOn,v=t.excluded,C=void 0===v?[]:v,I=t.viewStart,B=void 0===I?n.startOfMonth(c):I,X=t.viewEnd,xe=void 0===X?n.endOfMonth(c):X,it=t.weekendDays;r||(r=[]);for(var hi,Nt=n.endOfWeek,Gt=n.differenceInDays,tn=n.startOfDay,xn=n.addHours,On=n.endOfDay,Fn=n.isSameMonth,Ln=n.getDay,Jn=(0,n.startOfWeek)(B,{weekStartsOn:f}),ui=Nt(xe,{weekStartsOn:f}),yi=Cb(n,{events:r,periodStart:Jn,periodEnd:ui}),ri=[],vi=function(Ti){var xi;if(hi?(xi=tn(xn(hi,24)),hi.getTime()===xi.getTime()&&(xi=tn(xn(hi,25))),hi=xi):xi=hi=Jn,!C.some(function(io){return Ln(xi)===io})){var zr=MA(n,{date:xi,weekendDays:it}),vs=Cb(n,{events:yi,periodStart:tn(xi),periodEnd:On(xi)});zr.inMonth=Fn(xi,c),zr.events=vs,zr.badgeTotal=vs.length,ri.push(zr)}},Wn=0;Wn<Gt(ui,Jn)+1;Wn++)vi();var Qn=[],Vi=7-C.length;if(Vi<7)for(Wn=0;Wn<ri.length;Wn+=Vi){var lr=ri.slice(Wn,Wn+Vi);lr.some(function(xi){return B<=xi.date&&xi.date<xe})&&(Qn=AT(AT([],Qn,!0),lr,!0))}else Qn=ri;var si=Math.floor(Qn.length/Vi),pi=[];for(Wn=0;Wn<si;Wn++)pi.push(Wn*Vi);return{rowOffsets:pi,totalDaysVisibleInWeek:Vi,days:Qn,period:{start:Qn[0].date,end:On(Qn[Qn.length-1].date),events:yi}}}(this.dateAdapter,e)}getWeekViewHeader(e){return OT(this.dateAdapter,e)}getWeekView(e){return function UO(n,t){var e=t.events,r=void 0===e?[]:e,c=t.viewDate,f=t.weekStartsOn,v=t.excluded,C=void 0===v?[]:v,I=t.precision,B=void 0===I?"days":I,X=t.absolutePositionedEvents,xe=void 0!==X&&X,it=t.hourSegments,lt=t.hourDuration,Nt=t.dayStart,Gt=t.dayEnd,tn=t.weekendDays,xn=t.segmentHeight,On=t.minimumEventHeight,Fn=t.viewStart,Ln=void 0===Fn?n.startOfWeek(c,{weekStartsOn:f}):Fn,Jn=t.viewEnd,ui=void 0===Jn?n.endOfWeek(c,{weekStartsOn:f}):Jn;r||(r=[]);var ri=n.endOfDay,hi=Cb(n,{events:r,periodStart:Ln=(0,n.startOfDay)(Ln),periodEnd:ui=ri(ui)}),vi=OT(n,{viewDate:c,weekStartsOn:f,excluded:C,weekendDays:tn,viewStart:Ln,viewEnd:ui});return{allDayEventRows:VO(n,{events:hi,excluded:C,precision:B,absolutePositionedEvents:xe,viewStart:Ln,viewEnd:ui}),period:{events:hi,start:vi[0].date,end:ri(vi[vi.length-1].date)},hourColumns:HO(n,{events:r,viewDate:c,hourSegments:it,hourDuration:lt,dayStart:Nt,dayEnd:Gt,weekStartsOn:f,excluded:C,weekendDays:tn,segmentHeight:xn,viewStart:Ln,viewEnd:ui,minimumEventHeight:On})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(HC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();new h.OlP("Moment");let Ab=(()=>{class n{static forRoot(e,r={}){return{ngModule:n,providers:[e,r.eventTitleFormatter||zA,r.dateFormatter||WA,r.utils||YA,r.a11y||jA]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ie.Gx],imports:[ie.ez]}),n})();(0,$e.X$)("collapse",[(0,$e.SB)("void",(0,$e.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,$e.SB)("*",(0,$e.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,$e.eR)("* => void",(0,$e.jt)("150ms ease-out")),(0,$e.eR)("void => *",(0,$e.jt)("150ms ease-in"))]);let KA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez,BC,Ab,BC]}),n})(),VT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez,VA,BC,Ab,VA,BC]}),n})(),ZA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez,Ab,VT]}),n})(),HT=(()=>{class n{static forRoot(e,r={}){return{ngModule:n,providers:[e,r.eventTitleFormatter||zA,r.dateFormatter||WA,r.utils||YA,r.a11y||jA]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Ab,KA,VT,ZA,Ab,KA,VT,ZA]}),n})();function Va(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $i(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function UC(n){return(UC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Pr(n){$i(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===UC(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function UT(n,t){$i(2,arguments);var e=Pr(n),r=Va(t);return isNaN(r)?new Date(NaN):(r&&e.setDate(e.getDate()+r),e)}function GT(n,t){$i(2,arguments);var e=Pr(n).getTime(),r=Va(t);return new Date(e+r)}function qk(n,t){$i(2,arguments);var e=Va(t);return GT(n,36e5*e)}function Xk(n,t){$i(2,arguments);var e=Va(t);return GT(n,6e4*e)}function Jk(n,t){$i(2,arguments);var e=Va(t);return GT(n,1e3*e)}function qA(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Ib(n){$i(1,arguments);var t=Pr(n);return t.setHours(0,0,0,0),t}function tR(n,t){$i(2,arguments);var e=Ib(n),r=Ib(t),c=e.getTime()-qA(e),f=r.getTime()-qA(r);return Math.round((c-f)/864e5)}function QA(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function nR(n,t){$i(2,arguments);var e=Pr(n),r=Pr(t),c=QA(e,r),f=Math.abs(tR(e,r));e.setDate(e.getDate()-c*f);var v=Number(QA(e,r)===-c),C=c*(f-v);return 0===C?0:C}function JA(n,t){return $i(2,arguments),Pr(n).getTime()-Pr(t).getTime()}Math.pow(10,8);var eI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}};function tI(n){return n?eI[n]:eI.trunc}function uR(n,t,e){$i(2,arguments);var r=JA(n,t)/6e4;return tI(e?.roundingMethod)(r)}function dR(n,t,e){$i(2,arguments);var r=JA(n,t)/1e3;return tI(e?.roundingMethod)(r)}function hR(n){$i(1,arguments);var t=Pr(n);return t.setHours(23,59,59,999),t}function fR(n){$i(1,arguments);var t=Pr(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var nI={};function iI(){return nI}function pR(n,t){var e,r,c,f,v,C,I,B;$i(1,arguments);var X=iI(),xe=Va(null!==(e=null!==(r=null!==(c=null!==(f=t?.weekStartsOn)&&void 0!==f?f:null==t||null===(v=t.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==c?c:X.weekStartsOn)&&void 0!==r?r:null===(I=X.locale)||void 0===I||null===(B=I.options)||void 0===B?void 0:B.weekStartsOn)&&void 0!==e?e:0);if(!(xe>=0&&xe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var it=Pr(n),lt=it.getDay(),Nt=6+(lt<xe?-7:0)-(lt-xe);return it.setDate(it.getDate()+Nt),it.setHours(23,59,59,999),it}function gR(n){$i(1,arguments);var t=Pr(n),e=t.getDay();return e}function mR(n){$i(1,arguments);var t=Pr(n),e=t.getMonth();return e}function _R(n,t){$i(2,arguments);var e=Ib(n),r=Ib(t);return e.getTime()===r.getTime()}function vR(n,t){$i(2,arguments);var e=Pr(n),r=Pr(t);return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()}function rI(n){$i(1,arguments);var t=Pr(n);return t.setMilliseconds(0),t}function yR(n,t){$i(2,arguments);var e=rI(n),r=rI(t);return e.getTime()===r.getTime()}function GC(n){return(GC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bR(n){var t,e;if($i(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==GC(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(r){var c=Pr(r);(void 0===e||e<c||isNaN(Number(c)))&&(e=c)}),e||new Date(NaN)}function wR(n,t){$i(2,arguments);var e=Pr(n),r=Va(t);return e.setHours(r),e}function CR(n,t){$i(2,arguments);var e=Pr(n),r=Va(t);return e.setMinutes(r),e}function DR(n){$i(1,arguments);var t=Pr(n);return t.setSeconds(0,0),t}function ER(n){$i(1,arguments);var t=Pr(n);return t.setDate(1),t.setHours(0,0,0,0),t}function sI(n,t){var e,r,c,f,v,C,I,B;$i(1,arguments);var X=iI(),xe=Va(null!==(e=null!==(r=null!==(c=null!==(f=t?.weekStartsOn)&&void 0!==f?f:null==t||null===(v=t.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==c?c:X.weekStartsOn)&&void 0!==r?r:null===(I=X.locale)||void 0===I||null===(B=I.options)||void 0===B?void 0:B.weekStartsOn)&&void 0!==e?e:0);if(!(xe>=0&&xe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var it=Pr(n),lt=it.getDay(),Nt=(lt<xe?7:0)+lt-xe;return it.setDate(it.getDate()-Nt),it.setHours(0,0,0,0),it}function TR(n){$i(1,arguments);var t=Pr(n),e=t.getHours();return e}function xR(n){$i(1,arguments);var t=Pr(n),e=t.getMinutes();return e}function SR(n){return new Date(n).getTimezoneOffset()}function oI(n,t){$i(2,arguments);var e=Va(t),r=7*e;return UT(n,r)}function aI(n,t){$i(2,arguments);var e=Pr(n),r=Va(t);if(isNaN(r))return new Date(NaN);if(!r)return e;var c=e.getDate(),f=new Date(e.getTime());f.setMonth(e.getMonth()+r+1,0);var v=f.getDate();return c>=v?f:(e.setFullYear(f.getFullYear(),f.getMonth(),c),e)}function IR(n,t){$i(2,arguments);var e=Va(t);return UT(n,-e)}function MR(n,t){$i(2,arguments);var e=Va(t);return oI(n,-e)}function OR(n,t){$i(2,arguments);var e=Va(t);return aI(n,-e)}function jC(n){return $i(1,arguments),sI(n,{weekStartsOn:1})}function kR(n){$i(1,arguments);var t=Pr(n),e=t.getFullYear(),r=new Date(0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);var c=jC(r),f=new Date(0);f.setFullYear(e,0,4),f.setHours(0,0,0,0);var v=jC(f);return t.getTime()>=c.getTime()?e+1:t.getTime()>=v.getTime()?e:e-1}function RR(n){$i(1,arguments);var t=kR(n),e=new Date(0);e.setFullYear(t,0,4),e.setHours(0,0,0,0);var r=jC(e);return r}var NR=6048e5;function PR(n){$i(1,arguments);var t=Pr(n),e=jC(t).getTime()-RR(t).getTime();return Math.round(e/NR)+1}function FR(n,t){$i(2,arguments);var e=Pr(n),r=Va(t);return e.setDate(r),e}function LR(n){$i(1,arguments);var t=Pr(n),e=t.getFullYear(),r=t.getMonth(),c=new Date(0);return c.setFullYear(e,r+1,0),c.setHours(0,0,0,0),c.getDate()}function BR(n,t){$i(2,arguments);var e=Pr(n),r=Va(t),c=e.getFullYear(),f=e.getDate(),v=new Date(0);v.setFullYear(c,r,15),v.setHours(0,0,0,0);var C=LR(v);return e.setMonth(r,Math.min(f,C)),e}function VR(n,t){$i(2,arguments);var e=Pr(n),r=Va(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(r),e)}function HR(n){$i(1,arguments);var t=Pr(n),e=t.getDate();return e}function UR(n){return $i(1,arguments),Pr(n).getFullYear()}function lI(){return(0,oi.pi)((0,oi.pi)({},function AR(){return{addDays:UT,addHours:qk,addMinutes:Xk,addSeconds:Jk,differenceInDays:nR,differenceInMinutes:uR,differenceInSeconds:dR,endOfDay:hR,endOfMonth:fR,endOfWeek:pR,getDay:gR,getMonth:mR,isSameDay:_R,isSameMonth:vR,isSameSecond:yR,max:bR,setHours:wR,setMinutes:CR,startOfDay:Ib,startOfMinute:DR,startOfMonth:ER,startOfWeek:sI,getHours:TR,getMinutes:xR,getTimezoneOffset:SR}}()),{addWeeks:oI,addMonths:aI,subDays:IR,subWeeks:MR,subMonths:OR,getISOWeek:PR,setDate:FR,setMonth:BR,setYear:VR,getDate:HR,getYear:UR})}var cI=x(515),jT=x(5963);const{isArray:GR}=Array;function uI(n){return 1===n.length&&GR(n[0])?n[0]:n}x(1135),x(9841);var zT=x(5032);new k.y(zT.Z);var pI=x(3269);function zC(...n){const t=(0,pI.jO)(n),e=uI(n);return e.length?new k.y(r=>{let c=e.map(()=>[]),f=e.map(()=>!1);r.add(()=>{c=f=null});for(let v=0;!r.closed&&v<e.length;v++)(0,w.Xf)(e[v]).subscribe((0,F.x)(r,C=>{if(c[v].push(C),c.every(I=>I.length)){const I=c.map(B=>B.shift());r.next(t?t(...I):I),c.some((B,X)=>!B.length&&f[X])&&r.complete()}},()=>{f[v]=!0,!c[v].length&&r.complete()}));return()=>{c=f=null}}):cI.E}var gI=x(7272),mI=x(8505),$R=x(4671);function $T(...n){const t=(0,pI.jO)(n);return(0,D.e)((e,r)=>{const c=n.length,f=new Array(c);let v=n.map(()=>!1),C=!1;for(let I=0;I<c;I++)(0,w.Xf)(n[I]).subscribe((0,F.x)(r,B=>{f[I]=B,!C&&!v[I]&&(v[I]=!0,(C=v.every($R.y))&&(v=null))},zT.Z));e.subscribe((0,F.x)(r,I=>{if(C){const B=[I,...f];r.next(t?t(...B):B)}}))})}x(4986),x(5684),Math,Math,Math;const oP=["*"],EP=["dialog"];function ix(n){return"string"==typeof n}function L_(n){return null!=n}function Ly(n){return(n||document.body).getBoundingClientRect()}const PI={animation:!0,transitionTimerDelayMs:5},vF=()=>{},{transitionTimerDelayMs:yF}=PI,Fb=new Map,Ml=(n,t,e,r)=>{let c=r.context||{};const f=Fb.get(t);if(f)switch(r.runningTransition){case"continue":return cI.E;case"stop":n.run(()=>f.transition$.complete()),c=Object.assign(f.context,c),Fb.delete(t)}const v=e(t,r.animation,c)||vF;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>v()),(0,Ia.of)(void 0).pipe(function mF(n){return t=>new k.y(e=>t.subscribe({next:v=>n.run(()=>e.next(v)),error:v=>n.run(()=>e.error(v)),complete:()=>n.run(()=>e.complete())}))}(n));const C=new St.x,I=new St.x,B=C.pipe(function zR(...n){return t=>(0,gI.z)(t,(0,Ia.of)(...n))}(!0));Fb.set(t,{transition$:C,complete:()=>{I.next(),I.complete()},context:c});const X=function _F(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const xe=(0,Ge.R)(t,"transitionend").pipe((0,tt.R)(B),(0,ze.h)(({target:lt})=>lt===t));(function dI(...n){return 1===(n=uI(n)).length?(0,w.Xf)(n[0]):new k.y(function jR(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push((0,w.Xf)(n[r]).subscribe((0,F.x)(t,c=>{if(e){for(let f=0;f<e.length;f++)f!==r&&e[f].unsubscribe();e=null}t.next(c)})))}}(n))})((0,jT.H)(X+yF).pipe((0,tt.R)(B)),xe,I).pipe((0,tt.R)(B)).subscribe(()=>{Fb.delete(t),n.run(()=>{v(),C.next(),C.complete()})})}),C.asObservable()};let qC=(()=>{class n{constructor(){this.animation=PI.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),GI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),$I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),WI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var la=(()=>{return(n=la||(la={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",la;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const KI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ZI(n){const t=Array.from(n.querySelectorAll(KI)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let iM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez,Ne.u5]}),n})(),aM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();class U_{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let lL=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,He.q)(1)).subscribe(()=>{Ml(this._zone,this._el.nativeElement,(e,r)=>{r&&Ly(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ml(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(h.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),h.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class lM{close(t){}dismiss(t){}}class cL{constructor(t,e,r,c){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=c,this._closed=new St.x,this._dismissed=new St.x,this._hidden=new St.x,t.instance.dismissEvent.subscribe(f=>{this.dismiss(f)}),this.result=new Promise((f,v)=>{this._resolve=f,this._reject=v}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,tt.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,tt.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function NI(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ia.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),zC(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Hb=(()=>{return(n=Hb||(Hb={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Hb;var n})();let uL=(()=>{class n{constructor(e,r,c){this._document=e,this._elRef=r,this._zone=c,this._closed$=new St.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new h.vpe,this.shown=new St.x,this.hidden=new St.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ix(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,He.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},v=zC(Ml(this._zone,e,()=>e.classList.remove("show"),r),Ml(this._zone,this._dialogEl.nativeElement,()=>{},r));return v.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),v}_show(){const e={animation:this.animation,runningTransition:"continue"};zC(Ml(this._zone,this._elRef.nativeElement,(f,v)=>{v&&Ly(f),f.classList.add("show")},e),Ml(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Ge.R)(e,"keydown").pipe((0,tt.R)(this._closed$),(0,ze.h)(c=>c.which===la.Escape)).subscribe(c=>{this.keyboard?requestAnimationFrame(()=>{c.defaultPrevented||this._zone.run(()=>this.dismiss(Hb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;(0,Ge.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,tt.R)(this._closed$),(0,mI.b)(()=>r=!1),(0,ch.w)(()=>(0,Ge.R)(e,"mouseup").pipe((0,tt.R)(this._closed$),(0,He.q)(1))),(0,ze.h)(({target:c})=>e===c)).subscribe(()=>{r=!0}),(0,Ge.R)(e,"click").pipe((0,tt.R)(this._closed$)).subscribe(({target:c})=>{e===c&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Hb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),c=ZI(e)[0];(r||c||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let c;c=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>c.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ml(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(ie.K0),h.Y36(h.SBq),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&h.Gf(EP,7),2&e){let c;h.iGM(c=h.CRH())&&(r._dialogEl=c.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(h.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),h.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),h.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:oP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"div",0,1)(2,"div",2),h.Hsn(3),h.qZA()()),2&e&&h.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),dL=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,c=r.style,{overflow:f,paddingRight:v}=c;if(e>0){const C=parseFloat(window.getComputedStyle(r).paddingRight);c.paddingRight=`${C+e}px`}return c.overflow="hidden",()=>{e>0&&(c.paddingRight=v),c.overflow=f}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ie.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hL=(()=>{class n{constructor(e,r,c,f,v,C){this._applicationRef=e,this._injector=r,this._document=c,this._scrollBar=f,this._rendererFactory=v,this._ngZone=C,this._activeWindowCmptHasChanged=new St.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new h.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const I=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const c=(0,Ge.R)(t,"focusin").pipe((0,tt.R)(e),(0,Ht.U)(f=>f.target));(0,Ge.R)(t,"keydown").pipe((0,tt.R)(e),(0,ze.h)(f=>f.which===la.Tab),$T(c)).subscribe(([f,v])=>{const[C,I]=ZI(t);(v===C||v===t)&&f.shiftKey&&(I.focus(),f.preventDefault()),v===I&&!f.shiftKey&&(C.focus(),f.preventDefault())}),r&&(0,Ge.R)(t,"click").pipe((0,tt.R)(e),$T(c),(0,Ht.U)(f=>f[1])).subscribe(f=>f.focus())})})(0,I.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(I.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,c){const f=c.container instanceof HTMLElement?c.container:L_(c.container)?this._document.querySelector(c.container):this._document.body,v=this._rendererFactory.createRenderer(null,null);if(!f)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const C=new lM,I=this._getContentRef(c.injector||e,r,C,c);let B=!1!==c.backdrop?this._attachBackdrop(f):void 0,X=this._attachWindowComponent(f,I.nodes),xe=new cL(X,I,B,c.beforeDismiss);return this._registerModalRef(xe),this._registerWindowCmpt(X),xe.hidden.pipe((0,He.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(v.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),C.close=it=>{xe.close(it)},C.dismiss=it=>{xe.dismiss(it)},this._applyWindowOptions(X.instance,c),1===this._modalRefs.length&&v.addClass(this._document.body,"modal-open"),B&&B.instance&&(this._applyBackdropOptions(B.instance,c),B.changeDetectorRef.detectChanges()),X.changeDetectorRef.detectChanges(),xe}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let r=(0,h.LMc)(lL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let c=(0,h.LMc)(uL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(c.hostView),e.appendChild(c.location.nativeElement),c}_applyWindowOptions(e,r){this._windowAttributes.forEach(c=>{L_(r[c])&&(e[c]=r[c])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(c=>{L_(r[c])&&(e[c]=r[c])})}_getContentRef(e,r,c,f){return r?r instanceof h.Rgc?this._createFromTemplateRef(r,c):ix(r)?this._createFromString(r):this._createFromComponent(e,r,c,f):new U_([])}_createFromTemplateRef(e,r){const f=e.createEmbeddedView({$implicit:r,close(v){r.close(v)},dismiss(v){r.dismiss(v)}});return this._applicationRef.attachView(f),new U_([f.rootNodes],f)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new U_([[r]])}_createFromComponent(e,r,c,f){const v=h.zs3.create({providers:[{provide:lM,useValue:c}],parent:e}),C=(0,h.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:v}),I=C.location.nativeElement;return f.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(C.hostView),new U_([[I]],C.hostView,C)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(c=>{c!==e&&"SCRIPT"!==c.nodeName&&(this._ariaHiddenValues.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const c=this._modalRefs.indexOf(e);c>-1&&(this._modalRefs.splice(c,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.z2F),h.LFG(h.zs3),h.LFG(ie.K0),h.LFG(dL),h.LFG(h.FYo),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fL=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(qC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pL=(()=>{class n{constructor(e,r,c){this._injector=e,this._modalStack=r,this._config=c}open(e,r={}){const c={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,e,c)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.zs3),h.LFG(hL),h.LFG(fL))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[pL]}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),EM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),TM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();new h.OlP("live announcer delay",{providedIn:"root",factory:function SL(){return 100}});let IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ie.ez]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const AL=[UI,GI,$I,WI,iM,aM,cM,fM,MM,wM,DM,EM,TM,xM,SM,AM,IM];let IL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[AL,UI,GI,$I,WI,iM,aM,cM,fM,MM,wM,DM,EM,TM,xM,SM,AM,IM]}),n})();var OM=x(9643);let kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),GL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[kM,q.si,q.BQ,OM.Q8,kM,q.BQ]}),n})();var jL=x(9602),RM=x(9549),NM=x(4144),PM=x(3290),zL=x(1205),$L=x(8345),WL=x(1615),YL={about:"k\xf6r\xfclbel\xfcl",over:"t\xf6bb mint",almost:"majdnem",lessthan:"kevesebb mint"},KL={xseconds:" m\xe1sodperc",halfaminute:"f\xe9l perc",xminutes:" perc",xhours:" \xf3ra",xdays:" nap",xweeks:" h\xe9t",xmonths:" h\xf3nap",xyears:" \xe9v"},ZL={xseconds:{"-1":" m\xe1sodperccel ezel\u0151tt",1:" m\xe1sodperc m\xfalva",0:" m\xe1sodperce"},halfaminute:{"-1":"f\xe9l perccel ezel\u0151tt",1:"f\xe9l perc m\xfalva",0:"f\xe9l perce"},xminutes:{"-1":" perccel ezel\u0151tt",1:" perc m\xfalva",0:" perce"},xhours:{"-1":" \xf3r\xe1val ezel\u0151tt",1:" \xf3ra m\xfalva",0:" \xf3r\xe1ja"},xdays:{"-1":" nappal ezel\u0151tt",1:" nap m\xfalva",0:" napja"},xweeks:{"-1":" h\xe9ttel ezel\u0151tt",1:" h\xe9t m\xfalva",0:" hete"},xmonths:{"-1":" h\xf3nappal ezel\u0151tt",1:" h\xf3nap m\xfalva",0:" h\xf3napja"},xyears:{"-1":" \xe9vvel ezel\u0151tt",1:" \xe9v m\xfalva",0:" \xe9ve"}};function fx(n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}const nB={date:fx({formats:{full:"y. MMMM d., EEEE",long:"y. MMMM d.",medium:"y. MMM d.",short:"y. MM. dd."},defaultWidth:"full"}),time:fx({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:fx({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var iB=["vas\xe1rnap","h\xe9tf\u0151n","kedden","szerd\xe1n","cs\xfct\xf6rt\xf6k\xf6n","p\xe9nteken","szombaton"];function FM(n){return function(t){var e=iB[t.getUTCDay()];return"".concat(n?"":"'m\xfalt' ","'").concat(e,"' p'-kor'")}}var rB={lastWeek:FM(!1),yesterday:"'tegnap' p'-kor'",today:"'ma' p'-kor'",tomorrow:"'holnap' p'-kor'",nextWeek:FM(!0),other:"P"};function Ub(n){return function(t,e){var c;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&n.formattingValues){var f=n.defaultFormattingWidth||n.defaultWidth,v=null!=e&&e.width?String(e.width):f;c=n.formattingValues[v]||n.formattingValues[f]}else{var C=n.defaultWidth,I=null!=e&&e.width?String(e.width):n.defaultWidth;c=n.values[I]||n.values[C]}return c[n.argumentCallback?n.argumentCallback(t):t]}}var pB={ordinalNumber:function(t,e){return Number(t)+"."},era:Ub({values:{narrow:["ie.","isz."],abbreviated:["i. e.","i. sz."],wide:["Krisztus el\u0151tt","id\u0151sz\xe1m\xedt\xe1sunk szerint"]},defaultWidth:"wide"}),quarter:Ub({values:{narrow:["1.","2.","3.","4."],abbreviated:["1. n.\xe9v","2. n.\xe9v","3. n.\xe9v","4. n.\xe9v"],wide:["1. negyed\xe9v","2. negyed\xe9v","3. negyed\xe9v","4. negyed\xe9v"]},defaultWidth:"wide",argumentCallback:function(t){return t-1},formattingValues:{narrow:["I.","II.","III.","IV."],abbreviated:["I. n.\xe9v","II. n.\xe9v","III. n.\xe9v","IV. n.\xe9v"],wide:["I. negyed\xe9v","II. negyed\xe9v","III. negyed\xe9v","IV. negyed\xe9v"]},defaultFormattingWidth:"wide"}),month:Ub({values:{narrow:["J","F","M","\xc1","M","J","J","A","Sz","O","N","D"],abbreviated:["jan.","febr.","m\xe1rc.","\xe1pr.","m\xe1j.","j\xfan.","j\xfal.","aug.","szept.","okt.","nov.","dec."],wide:["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"]},defaultWidth:"wide"}),day:Ub({values:{narrow:["V","H","K","Sz","Cs","P","Sz"],short:["V","H","K","Sze","Cs","P","Szo"],abbreviated:["V","H","K","Sze","Cs","P","Szo"],wide:["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"]},defaultWidth:"wide"}),dayPeriod:Ub({values:{narrow:{am:"de.",pm:"du.",midnight:"\xe9jf\xe9l",noon:"d\xe9l",morning:"reggel",afternoon:"du.",evening:"este",night:"\xe9jjel"},abbreviated:{am:"de.",pm:"du.",midnight:"\xe9jf\xe9l",noon:"d\xe9l",morning:"reggel",afternoon:"du.",evening:"este",night:"\xe9jjel"},wide:{am:"de.",pm:"du.",midnight:"\xe9jf\xe9l",noon:"d\xe9l",morning:"reggel",afternoon:"d\xe9lut\xe1n",evening:"este",night:"\xe9jjel"}},defaultWidth:"wide"})};const gB=pB;function Gb(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.width,c=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],f=t.match(c);if(!f)return null;var B,v=f[0],C=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],I=Array.isArray(C)?_B(C,function(xe){return xe.test(v)}):mB(C,function(xe){return xe.test(v)});B=n.valueCallback?n.valueCallback(I):I,B=e.valueCallback?e.valueCallback(B):B;var X=t.slice(v.length);return{value:B,rest:X}}}function mB(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function _B(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}var OB={ordinalNumber:function vB(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var c=r[0],f=t.match(n.parsePattern);if(!f)return null;var v=n.valueCallback?n.valueCallback(f[0]):f[0];v=e.valueCallback?e.valueCallback(v):v;var C=t.slice(c.length);return{value:v,rest:C}}}({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Gb({matchPatterns:{narrow:/^(ie\.|isz\.)/i,abbreviated:/^(i\.\s?e\.?|b?\s?c\s?e|i\.\s?sz\.?)/i,wide:/^(Krisztus el\u0151tt|id\u0151sz\xe1m\xedt\xe1sunk el\u0151tt|id\u0151sz\xe1m\xedt\xe1sunk szerint|i\. sz\.)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/ie/i,/isz/i],abbreviated:[/^(i\.?\s?e\.?|b\s?ce)/i,/^(i\.?\s?sz\.?|c\s?e)/i],any:[/el\u0151tt/i,/(szerint|i. sz.)/i]},defaultParseWidth:"any"}),quarter:Gb({matchPatterns:{narrow:/^[1234]\.?/i,abbreviated:/^[1234]?\.?\s?n\.\xe9v/i,wide:/^([1234]|I|II|III|IV)?\.?\s?negyed\xe9v/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1|I$/i,/2|II$/i,/3|III/i,/4|IV/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Gb({matchPatterns:{narrow:/^[jfma\xe1sond]|sz/i,abbreviated:/^(jan\.?|febr\.?|m\xe1rc\.?|\xe1pr\.?|m\xe1j\.?|j\xfan\.?|j\xfal\.?|aug\.?|szept\.?|okt\.?|nov\.?|dec\.?)/i,wide:/^(janu\xe1r|febru\xe1r|m\xe1rcius|\xe1prilis|m\xe1jus|j\xfanius|j\xfalius|augusztus|szeptember|okt\xf3ber|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a|\xe1/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s|sz/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^m\xe1r/i,/^\xe1p/i,/^m\xe1j/i,/^j\xfan/i,/^j\xfal/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Gb({matchPatterns:{narrow:/^([vhkpc]|sz|cs|sz)/i,short:/^([vhkp]|sze|cs|szo)/i,abbreviated:/^([vhkp]|sze|cs|szo)/i,wide:/^(vas\xe1rnap|h\xe9tf\u0151|kedd|szerda|cs\xfct\xf6rt\xf6k|p\xe9ntek|szombat)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^v/i,/^h/i,/^k/i,/^sz/i,/^c/i,/^p/i,/^sz/i],any:[/^v/i,/^h/i,/^k/i,/^sze/i,/^c/i,/^p/i,/^szo/i]},defaultParseWidth:"any"}),dayPeriod:Gb({matchPatterns:{any:/^((de|du)\.?|\xe9jf\xe9l|d\xe9lut\xe1n|d\xe9l|reggel|este|\xe9jjel)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^de\.?/i,pm:/^du\.?/i,midnight:/^\xe9jf/i,noon:/^d\xe9/i,morning:/reg/i,afternoon:/^d\xe9lu\.?/i,evening:/es/i,night:/\xe9jj/i}},defaultParseWidth:"any"})};const RB={code:"hu",formatDistance:function(t,e,r){var c=t.match(/about|over|almost|lessthan/i),f=c?t.replace(c[0],""):t,v=!0===r?.addSuffix,C=f.toLowerCase(),B=v?ZL[C][r?.comparison||0]:KL[C],X="halfaminute"===C?B:e+B;if(c){var xe=c[0].toLowerCase();X=YL[xe]+" "+X}return X},formatLong:nB,formatRelative:function(t,e){var r=rB[t];return"function"==typeof r?r(e):r},localize:gB,match:OB,options:{weekStartsOn:1,firstWeekContainsDate:4}};var NB=x(3546);let PB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[Ve]}),n.\u0275inj=h.cJS({providers:[{provide:h.soG,useValue:RB},{provide:q.Ad,useValue:"hu-HU"},lv,iv,WL.w],imports:[m.b2,NB.QW,HT,$L.U,N,Ne.u5,Ne.UX,Ii,$n,Vn.g0,Gn.ot,qn.Ps,ah,Re,jL.FA,GL,RM.lN,NM.c,q.si,q.XK,PM.yb,zL.ww,PM.yb,IL,hf,MO.hO.initializeApp(lh_firebase),(0,Kr.hX)(()=>(0,Kr.ZF)(lh_firebase)),uv(()=>Xy()),gf(()=>po()),FD(()=>GD()),Rw(()=>x_()),em(()=>z0()),iC(()=>rC()),jS(()=>fT()),gT(()=>JS()),AO(()=>IO()),HT.forRoot({provide:HC,useFactory:lI}),HT.forRoot({provide:HC,useFactory:lI}),Gn.ot,RM.lN,NM.c,q.si]}),n})();(0,h.G48)(),m.q6().bootstrapModule(PB).catch(n=>console.error(n))},6148:(bn,xt,x)=>{x.d(xt,{IH:()=>kt,Gb:()=>te,Kz:()=>st,Iv:()=>z});var m=x(5861),h=x(9681),A=x(1877),De=x(2090),N=x(4859);x(2833);const Ye="analytics",ie="firebase_id",Pe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ee="https://www.googletagmanager.com/gtag/js",Le=new A.Yd("@firebase/analytics");function gt(ve){return Promise.all(ve.map(Ce=>Ce.catch(ne=>ne)))}function ht(ve,Ce){const ne=document.createElement("script");ne.src=`${Ee}?l=${ve}&id=${Ce}`,ne.async=!0,document.head.appendChild(ne)}function Ge(ve,Ce,ne,Oe,pt,Ze){return bt.apply(this,arguments)}function bt(){return(bt=(0,m.Z)(function*(ve,Ce,ne,Oe,pt,Ze){const We=Oe[pt];try{if(We)yield Ce[We];else{const se=(yield gt(ne)).find(he=>he.measurementId===pt);se&&(yield Ce[se.appId])}}catch(Re){Le.error(Re)}ve("config",pt,Ze)})).apply(this,arguments)}function Ht(ve,Ce,ne,Oe,pt){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(ve,Ce,ne,Oe,pt){try{let Ze=[];if(pt&&pt.send_to){let We=pt.send_to;Array.isArray(We)||(We=[We]);const Re=yield gt(ne);for(const se of We){const he=Re.find(Se=>Se.measurementId===se),me=he&&Ce[he.appId];if(!me){Ze=[];break}Ze.push(me)}}0===Ze.length&&(Ze=Object.values(Ce)),yield Promise.all(Ze),ve("event",Oe,pt||{})}catch(Ze){Le.error(Ze)}})).apply(this,arguments)}function He(ve){const Ce=window.document.getElementsByTagName("script");for(const ne of Object.values(Ce))if(ne.src&&ne.src.includes(Ee)&&ne.src.includes(ve))return ne;return null}const ke=new De.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),dt=new class ot{constructor(Ce={},ne=1e3){this.throttleMetadata=Ce,this.intervalMillis=ne}getThrottleMetadata(Ce){return this.throttleMetadata[Ce]}setThrottleMetadata(Ce,ne){this.throttleMetadata[Ce]=ne}deleteThrottleMetadata(Ce){delete this.throttleMetadata[Ce]}};function Rt(ve){return new Headers({Accept:"application/json","x-goog-api-key":ve})}function It(ve){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,m.Z)(function*(ve){var Ce;const{appId:ne,apiKey:Oe}=ve,pt={method:"GET",headers:Rt(Oe)},Ze=Pe.replace("{app-id}",ne),We=yield fetch(Ze,pt);if(200!==We.status&&304!==We.status){let Re="";try{const se=yield We.json();null!==(Ce=se.error)&&void 0!==Ce&&Ce.message&&(Re=se.error.message)}catch{}throw ke.create("config-fetch-failed",{httpStatus:We.status,responseMessage:Re})}return We.json()})).apply(this,arguments)}function Kt(ve){return an.apply(this,arguments)}function an(){return(an=(0,m.Z)(function*(ve,Ce=dt,ne){const{appId:Oe,apiKey:pt,measurementId:Ze}=ve.options;if(!Oe)throw ke.create("no-app-id");if(!pt){if(Ze)return{measurementId:Ze,appId:Oe};throw ke.create("no-api-key")}const We=Ce.getThrottleMetadata(Oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Yt;return setTimeout((0,m.Z)(function*(){Re.abort()}),void 0!==ne?ne:6e4),fn({appId:Oe,apiKey:pt,measurementId:Ze},We,Re,Ce)})).apply(this,arguments)}function fn(ve,Ce,ne){return sn.apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(ve,{throttleEndTimeMillis:Ce,backoffCount:ne},Oe,pt=dt){var Ze,We;const{appId:Re,measurementId:se}=ve;try{yield vt(Oe,Ce)}catch(he){if(se)return Le.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${se} provided in the "measurementId" field in the local Firebase config. [${null===(Ze=he)||void 0===Ze?void 0:Ze.message}]`),{appId:Re,measurementId:se};throw he}try{const he=yield It(ve);return pt.deleteThrottleMetadata(Re),he}catch(he){const me=he;if(!qt(me)){if(pt.deleteThrottleMetadata(Re),se)return Le.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${se} provided in the "measurementId" field in the local Firebase config. [${me?.message}]`),{appId:Re,measurementId:se};throw he}const Se=503===Number(null===(We=me?.customData)||void 0===We?void 0:We.httpStatus)?(0,De.$s)(ne,pt.intervalMillis,30):(0,De.$s)(ne,pt.intervalMillis),_e={throttleEndTimeMillis:Date.now()+Se,backoffCount:ne+1};return pt.setThrottleMetadata(Re,_e),Le.debug(`Calling attemptFetch again in ${Se} millis`),fn(ve,_e,Oe,pt)}})).apply(this,arguments)}function vt(ve,Ce){return new Promise((ne,Oe)=>{const pt=Math.max(Ce-Date.now(),0),Ze=setTimeout(ne,pt);ve.addEventListener(()=>{clearTimeout(Ze),Oe(ke.create("fetch-throttle",{throttleEndTimeMillis:Ce}))})})}function qt(ve){if(!(ve instanceof De.ZR&&ve.customData))return!1;const Ce=Number(ve.customData.httpStatus);return 429===Ce||500===Ce||503===Ce||504===Ce}class Yt{constructor(){this.listeners=[]}addEventListener(Ce){this.listeners.push(Ce)}abort(){this.listeners.forEach(Ce=>Ce())}}let nn,Gn;function Dn(){return(Dn=(0,m.Z)(function*(ve,Ce,ne,Oe,pt){if(pt&&pt.global)ve("event",ne,Oe);else{const Ze=yield Ce;ve("event",ne,Object.assign(Object.assign({},Oe),{send_to:Ze}))}})).apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(ve,Ce,ne,Oe){if(Oe&&Oe.global)return ve("set",{user_id:ne}),Promise.resolve();ve("config",yield Ce,{update:!0,user_id:ne})})).apply(this,arguments)}function qn(ve){Gn=ve}function _n(ve){nn=ve}function Be(){return le.apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(){var ve;if(!(0,De.hl)())return Le.warn(ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,De.eu)()}catch(Ce){return Le.warn(ke.create("indexeddb-unavailable",{errorInfo:null===(ve=Ce)||void 0===ve?void 0:ve.toString()}).message),!1}return!0})).apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(ve,Ce,ne,Oe,pt,Ze,We){var Re;const se=Kt(ve);se.then(we=>{ne[we.measurementId]=we.appId,ve.options.measurementId&&we.measurementId!==ve.options.measurementId&&Le.warn(`The measurement ID in the local Firebase config (${ve.options.measurementId}) does not match the measurement ID fetched from the server (${we.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(we=>Le.error(we)),Ce.push(se);const he=Be().then(we=>{if(we)return Oe.getId()}),[me,Se]=yield Promise.all([se,he]);He(Ze)||ht(Ze,me.measurementId),Gn&&(pt("consent","default",Gn),qn(void 0)),pt("js",new Date);const _e=null!==(Re=We?.config)&&void 0!==Re?Re:{};return _e.origin="firebase",_e.update=!0,null!=Se&&(_e[ie]=Se),pt("config",me.measurementId,_e),nn&&(pt("set",nn),_n(void 0)),me.measurementId})).apply(this,arguments)}class Xe{constructor(Ce){this.app=Ce}_delete(){return delete wt[this.app.options.appId],Promise.resolve()}}let wt={},$t=[];const un={};let Ne,yt,jt="dataLayer",Ut=!1;function vn(ve,Ce,ne){!function Nn(){const ve=[];if((0,De.ru)()&&ve.push("This is a browser extension environment."),(0,De.zI)()||ve.push("Cookies are not available."),ve.length>0){const Ce=ve.map((Oe,pt)=>`(${pt+1}) ${Oe}`).join(" "),ne=ke.create("invalid-analytics-context",{errorInfo:Ce});Le.warn(ne.message)}}();const Oe=ve.options.appId;if(!Oe)throw ke.create("no-app-id");if(!ve.options.apiKey){if(!ve.options.measurementId)throw ke.create("no-api-key");Le.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ve.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wt[Oe])throw ke.create("already-exists",{id:Oe});if(!Ut){!function St(ve){let Ce=[];Array.isArray(window[ve])?Ce=window[ve]:window[ve]=Ce}(jt);const{wrappedGtag:Ze,gtagCore:We}=function Qe(ve,Ce,ne,Oe,pt){let Ze=function(...We){window[Oe].push(arguments)};return window[pt]&&"function"==typeof window[pt]&&(Ze=window[pt]),window[pt]=function tt(ve,Ce,ne,Oe){function Ze(){return(Ze=(0,m.Z)(function*(We,Re,se){try{"event"===We?yield Ht(ve,Ce,ne,Re,se):"config"===We?yield Ge(ve,Ce,ne,Oe,Re,se):"consent"===We?ve("consent","update",se):ve("set",Re)}catch(he){Le.error(he)}})).apply(this,arguments)}return function pt(We,Re,se){return Ze.apply(this,arguments)}}(Ze,ve,Ce,ne),{gtagCore:Ze,wrappedGtag:window[pt]}}(wt,$t,un,jt,"gtag");yt=Ze,Ne=We,Ut=!0}return wt[Oe]=function ge(ve,Ce,ne,Oe,pt,Ze,We){return rt.apply(this,arguments)}(ve,$t,un,Ce,Ne,jt,ne),new Xe(ve)}function kt(ve=(0,h.getApp)()){ve=(0,De.m9)(ve);const Ce=(0,h._getProvider)(ve,Ye);return Ce.isInitialized()?Ce.getImmediate():function Ot(ve,Ce={}){const ne=(0,h._getProvider)(ve,Ye);if(ne.isInitialized()){const pt=ne.getImmediate();if((0,De.vZ)(Ce,ne.getOptions()))return pt;throw ke.create("already-initialized")}return ne.initialize({options:Ce})}(ve)}function te(){return ae.apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(){if((0,De.ru)()||!(0,De.zI)()||!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}function z(ve,Ce,ne){ve=(0,De.m9)(ve),function An(ve,Ce,ne,Oe){return Un.apply(this,arguments)}(yt,wt[ve.app.options.appId],Ce,ne).catch(Oe=>Le.error(Oe))}function st(ve,Ce,ne,Oe){ve=(0,De.m9)(ve),function Qt(ve,Ce,ne,Oe,pt){return Dn.apply(this,arguments)}(yt,wt[ve.app.options.appId],Ce,ne,Oe).catch(pt=>Le.error(pt))}const Lt="@firebase/analytics";!function nt(){(0,h._registerComponent)(new N.wA(Ye,(Ce,{options:ne})=>vn(Ce.getProvider("app").getImmediate(),Ce.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,h._registerComponent)(new N.wA("analytics-internal",function ve(Ce){try{const ne=Ce.getProvider(Ye).getImmediate();return{logEvent:(Oe,pt,Ze)=>st(ne,Oe,pt,Ze)}}catch(ne){throw ke.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,h.registerVersion)(Lt,"0.8.3"),(0,h.registerVersion)(Lt,"0.8.3","esm2017")}()},5867:(bn,xt,x)=>{x.d(xt,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=x(9681);(0,m.registerVersion)("firebase","9.12.1","app")},127:(bn,xt,x)=>{x.d(xt,{Z:()=>m.Z});var m=x(3942);m.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(bn,xt,x)=>{x.r(xt);var m=x(5861),h=x(3942),A=x(7573),De=x(2090),Ye=(x(9681),x(1877),x(4859));function ie(){return window}function Pe(){return(Pe=(0,m.Z)(function*(Ce,ne,Oe){var pt;const{BuildInfo:Ze}=ie();(0,A.aq)(ne.sessionId,"AuthEvent did not contain a session ID");const We=yield bt(ne.sessionId),Re={};return(0,A.ar)()?Re.ibi=Ze.packageName:(0,A.as)()?Re.apn=Ze.packageName:(0,A.at)(Ce,"operation-not-supported-in-this-environment"),Ze.displayName&&(Re.appDisplayName=Ze.displayName),Re.sessionId=We,(0,A.au)(Ce,Oe,ne.type,void 0,null!==(pt=ne.eventId)&&void 0!==pt?pt:void 0,Re)})).apply(this,arguments)}function Le(){return(Le=(0,m.Z)(function*(Ce){const{BuildInfo:ne}=ie(),Oe={};(0,A.ar)()?Oe.iosBundleId=ne.packageName:(0,A.as)()?Oe.androidPackageName=ne.packageName:(0,A.at)(Ce,"operation-not-supported-in-this-environment"),yield(0,A.av)(Ce,Oe)})).apply(this,arguments)}function St(){return(St=(0,m.Z)(function*(Ce,ne,Oe){const{cordova:pt}=ie();let Ze=()=>{};try{yield new Promise((We,Re)=>{let se=null;function he(){var _e;We();const we=null===(_e=pt.plugins.browsertab)||void 0===_e?void 0:_e.close;"function"==typeof we&&we(),"function"==typeof Oe?.close&&Oe.close()}function me(){se||(se=window.setTimeout(()=>{Re((0,A.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function Se(){"visible"===document?.visibilityState&&me()}ne.addPassiveListener(he),document.addEventListener("resume",me,!1),(0,A.as)()&&document.addEventListener("visibilitychange",Se,!1),Ze=()=>{ne.removePassiveListener(he),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",Se,!1),se&&window.clearTimeout(se)}})}finally{Ze()}})).apply(this,arguments)}function bt(Ce){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(Ce){const ne=Pt(Ce),Oe=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(Oe)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pt(Ce){if((0,A.aq)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const ne=new ArrayBuffer(Ce.length),Oe=new Uint8Array(ne);for(let pt=0;pt<Ce.length;pt++)Oe[pt]=Ce.charCodeAt(pt);return Oe}class Qe extends A.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(Oe=>Oe(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,m.Z)(function*(){yield ne.initPromise})()}}function ke(Ce){return $e.apply(this,arguments)}function $e(){return($e=(0,m.Z)(function*(Ce){const ne=yield dt()._get(Rt(Ce));return ne&&(yield dt()._remove(Rt(Ce))),ne})).apply(this,arguments)}function ot(){const Ce=[],ne="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Oe=0;Oe<20;Oe++){const pt=Math.floor(Math.random()*ne.length);Ce.push(ne.charAt(pt))}return Ce.join("")}function dt(){return(0,A.ay)(A.b)}function Rt(Ce){return(0,A.az)("authEvent",Ce.config.apiKey,Ce.name)}function Kt(Ce){if(!Ce?.includes("?"))return{};const[ne,...Oe]=Ce.split("?");return(0,De.zd)(Oe.join("?"))}function vt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.aw)("no-auth-event")}}function Dn(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function mn(Ce=(0,De.z$)()){return!("file:"!==Dn()&&"ionic:"!==Dn()&&"capacitor:"!==Dn()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){try{const Ce=self.localStorage,ne=A.aI();if(Ce)return Ce.setItem(ne,"1"),Ce.removeItem(ne),!function zn(Ce=(0,De.z$)()){return function Un(){return(0,De.w1)()&&11===document?.documentMode}()||function Rn(Ce=(0,De.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,De.hl)()}catch{return Vn()&&(0,De.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function Xt(){return"http:"===Dn()||"https:"===Dn()}()||(0,De.ru)()||mn())&&!function An(){return(0,De.b$)()||(0,De.UG)()}()&&$n()&&!Vn()}function qn(){return mn()&&typeof document<"u"}function Be(){return(Be=(0,m.Z)(function*(){return!!qn()&&new Promise(Ce=>{const ne=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ne),Ce(!0)})})})).apply(this,arguments)}const ge={LOCAL:"local",NONE:"none",SESSION:"session"},rt=A.ax,Xe="persistence";function $t(Ce){return un.apply(this,arguments)}function un(){return(un=(0,m.Z)(function*(Ce){yield Ce._initializationPromise;const ne=mt(),Oe=A.az(Xe,Ce.config.apiKey,Ce.name);ne&&ne.setItem(Oe,Ce._getPersistence())})).apply(this,arguments)}function mt(){var Ce;try{return(null===(Ce=function le(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const Ne=A.ax;class yt{constructor(){this.browserResolver=A.ay(A.k),this.cordovaResolver=A.ay(class fn{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(ne){var Oe=this;return(0,m.Z)(function*(){const pt=ne._key();let Ze=Oe.eventManagers.get(pt);return Ze||(Ze=new Qe(ne),Oe.eventManagers.set(pt,Ze),Oe.attachCallbackListeners(ne,Ze)),Ze})()}_openPopup(ne){(0,A.at)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,Oe,pt,Ze){var We=this;return(0,m.Z)(function*(){!function Ge(Ce){var ne,Oe,pt,Ze,We,Re,se,he,me,Se;const _e=ie();(0,A.ax)("function"==typeof(null===(ne=_e?.universalLinks)||void 0===ne?void 0:ne.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.ax)(typeof(null===(Oe=_e?.BuildInfo)||void 0===Oe?void 0:Oe.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.ax)("function"==typeof(null===(We=null===(Ze=null===(pt=_e?.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===We?void 0:We.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(he=null===(se=null===(Re=_e?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===se?void 0:se.browsertab)||void 0===he?void 0:he.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(Se=null===(me=_e?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===Se?void 0:Se.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const Re=yield We._initialize(ne);yield Re.initialized(),Re.resetRedirect(),(0,A.aD)(),yield We._originValidation(ne);const se=function He(Ce,ne,Oe=null){return{type:ne,eventId:Oe,urlResponse:null,sessionId:ot(),postBody:null,tenantId:Ce.tenantId,error:(0,A.aw)(Ce,"no-auth-event")}}(ne,pt,Ze);yield function Ke(Ce,ne){return dt()._set(Rt(Ce),ne)}(ne,se);const he=yield function q(Ce,ne,Oe){return Pe.apply(this,arguments)}(ne,se,Oe),me=yield function gt(Ce){const{cordova:ne}=ie();return new Promise(Oe=>{ne.plugins.browsertab.isAvailable(pt=>{let Ze=null;pt?ne.plugins.browsertab.openUrl(Ce):Ze=ne.InAppBrowser.open(Ce,(0,A.ap)()?"_blank":"_system","location=yes"),Oe(Ze)})})}(he);return function ht(Ce,ne,Oe){return St.apply(this,arguments)}(ne,Re,me)})()}_isIframeWebStorageSupported(ne,Oe){throw new Error("Method not implemented.")}_originValidation(ne){const Oe=ne._key();return this.originValidationPromises[Oe]||(this.originValidationPromises[Oe]=function Ee(Ce){return Le.apply(this,arguments)}(ne)),this.originValidationPromises[Oe]}attachCallbackListeners(ne,Oe){const{universalLinks:pt,handleOpenURL:Ze,BuildInfo:We}=ie(),Re=setTimeout((0,m.Z)(function*(){yield ke(ne),Oe.onEvent(vt())}),500),se=function(){var Se=(0,m.Z)(function*(_e){clearTimeout(Re);const we=yield ke(ne);let H=null;we&&_e?.url&&(H=function Dt(Ce,ne){var Oe,pt;const Ze=function Jt(Ce){const ne=Kt(Ce),Oe=ne.link?decodeURIComponent(ne.link):void 0,pt=Kt(Oe).link,Ze=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return Kt(Ze).link||Ze||pt||Oe||Ce}(ne);if(Ze.includes("/__/auth/callback")){const We=Kt(Ze),Re=We.firebaseError?function It(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,se=null===(pt=null===(Oe=Re?.code)||void 0===Oe?void 0:Oe.split("auth/"))||void 0===pt?void 0:pt[1],he=se?(0,A.aw)(se):null;return he?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:he,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:Ze,postBody:null}}return null}(we,_e.url)),Oe.onEvent(H||vt())});return function(we){return Se.apply(this,arguments)}}();typeof pt<"u"&&"function"==typeof pt.subscribe&&pt.subscribe(null,se);const he=Ze,me=`${We.packageName.toLowerCase()}://`;ie().handleOpenURL=function(){var Se=(0,m.Z)(function*(_e){if(_e.toLowerCase().startsWith(me)&&se({url:_e}),"function"==typeof he)try{he(_e)}catch(we){console.error(we)}});return function(_e){return Se.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(ne){var Oe=this;return(0,m.Z)(function*(){return yield Oe.selectUnderlyingResolver(),Oe.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,Oe,pt,Ze){var We=this;return(0,m.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(ne,Oe,pt,Ze)})()}_openRedirect(ne,Oe,pt,Ze){var We=this;return(0,m.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(ne,Oe,pt,Ze)})()}_isIframeWebStorageSupported(ne,Oe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,Oe)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ne(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,m.Z)(function*(){if(ne.underlyingResolver)return;const Oe=yield function _n(){return Be.apply(this,arguments)}();ne.underlyingResolver=Oe?ne.cordovaResolver:ne.browserResolver})()}}function Ut(Ce){return Ce.unwrap()}function Nn(Ce){return kt(Ce)}function kt(Ce){const{_tokenResponse:ne}=Ce instanceof De.ZR?Ce.customData:Ce;if(!ne)return null;if(!(Ce instanceof De.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return A.P.credentialFromResult(Ce);const Oe=ne.providerId;if(!Oe||Oe===A.o.PASSWORD)return null;let pt;switch(Oe){case A.o.GOOGLE:pt=A.Q;break;case A.o.FACEBOOK:pt=A.N;break;case A.o.GITHUB:pt=A.T;break;case A.o.TWITTER:pt=A.W;break;default:const{oauthIdToken:Ze,oauthAccessToken:We,oauthTokenSecret:Re,pendingToken:se,nonce:he}=ne;return We||Re||Ze||se?se?Oe.startsWith("saml.")?A.aL._create(Oe,se):A.J._fromParams({providerId:Oe,signInMethod:Oe,pendingToken:se,idToken:Ze,accessToken:We}):new A.U(Oe).credential({idToken:Ze,accessToken:We,rawNonce:he}):null}return Ce instanceof De.ZR?pt.credentialFromError(Ce):pt.credentialFromResult(Ce)}function Ot(Ce,ne){return ne.catch(Oe=>{throw Oe instanceof De.ZR&&function vn(Ce,ne){var Oe,pt;const Ze=null===(Oe=ne.customData)||void 0===Oe?void 0:Oe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(pt=ne)||void 0===pt?void 0:pt.code))ne.resolver=new K(Ce,A.an(Ce,ne));else if(Ze){const We=kt(ne),Re=ne;We&&(Re.credential=We,Re.tenantId=Ze.tenantId||void 0,Re.email=Ze.email||void 0,Re.phoneNumber=Ze.phoneNumber||void 0)}}(Ce,Oe),Oe}).then(Oe=>{const Ze=Oe.user;return{operationType:Oe.operationType,credential:Nn(Oe),additionalUserInfo:A.al(Oe),user:z.getOrCreate(Ze)}})}function te(Ce,ne){return ae.apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(Ce,ne){const Oe=yield ne;return{verificationId:Oe.verificationId,confirm:pt=>Ot(Ce,Oe.confirm(pt))}})).apply(this,arguments)}class K{constructor(ne,Oe){this.resolver=Oe,this.auth=function cn(Ce){return Ce.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return Ot(Ut(this.auth),this.resolver.resolveSignIn(ne))}}class z{constructor(ne){this._delegate=ne,this.multiFactor=A.ao(ne)}static getOrCreate(ne){return z.USER_MAP.has(ne)||z.USER_MAP.set(ne,new z(ne)),z.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var Oe=this;return(0,m.Z)(function*(){return Ot(Oe.auth,A.Z(Oe._delegate,ne))})()}linkWithPhoneNumber(ne,Oe){var pt=this;return(0,m.Z)(function*(){return te(pt.auth,A.l(pt._delegate,ne,Oe))})()}linkWithPopup(ne){var Oe=this;return(0,m.Z)(function*(){return Ot(Oe.auth,A.d(Oe._delegate,ne,yt))})()}linkWithRedirect(ne){var Oe=this;return(0,m.Z)(function*(){return yield $t(A.aE(Oe.auth)),A.g(Oe._delegate,ne,yt)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var Oe=this;return(0,m.Z)(function*(){return Ot(Oe.auth,A._(Oe._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,Oe){return te(this.auth,A.r(this._delegate,ne,Oe))}reauthenticateWithPopup(ne){return Ot(this.auth,A.e(this._delegate,ne,yt))}reauthenticateWithRedirect(ne){var Oe=this;return(0,m.Z)(function*(){return yield $t(A.aE(Oe.auth)),A.h(Oe._delegate,ne,yt)})()}sendEmailVerification(ne){return A.ab(this._delegate,ne)}unlink(ne){var Oe=this;return(0,m.Z)(function*(){return yield A.ak(Oe._delegate,ne),Oe})()}updateEmail(ne){return A.ag(this._delegate,ne)}updatePassword(ne){return A.ah(this._delegate,ne)}updatePhoneNumber(ne){return A.u(this._delegate,ne)}updateProfile(ne){return A.af(this._delegate,ne)}verifyBeforeUpdateEmail(ne,Oe){return A.ac(this._delegate,ne,Oe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}z.USER_MAP=new WeakMap;const de=A.ax;let J=(()=>{class Ce{constructor(Oe,pt){if(this.app=Oe,pt.isInitialized())return this._delegate=pt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ze}=Oe.options;de(Ze,"invalid-api-key",{appName:Oe.name}),de(Ze,"invalid-api-key",{appName:Oe.name});const We=typeof window<"u"?yt:void 0;this._delegate=pt.initialize({options:{persistence:st(Ze,Oe.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(A.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Oe){this._delegate.languageCode=Oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Oe){this._delegate.tenantId=Oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Oe,pt){A.G(this._delegate,Oe,pt)}applyActionCode(Oe){return A.a2(this._delegate,Oe)}checkActionCode(Oe){return A.a3(this._delegate,Oe)}confirmPasswordReset(Oe,pt){return A.a1(this._delegate,Oe,pt)}createUserWithEmailAndPassword(Oe,pt){var Ze=this;return(0,m.Z)(function*(){return Ot(Ze._delegate,A.a5(Ze._delegate,Oe,pt))})()}fetchProvidersForEmail(Oe){return this.fetchSignInMethodsForEmail(Oe)}fetchSignInMethodsForEmail(Oe){return A.aa(this._delegate,Oe)}isSignInWithEmailLink(Oe){return A.a8(this._delegate,Oe)}getRedirectResult(){var Oe=this;return(0,m.Z)(function*(){de(Gn(),Oe._delegate,"operation-not-supported-in-this-environment");const pt=yield A.j(Oe._delegate,yt);return pt?Ot(Oe._delegate,Promise.resolve(pt)):{credential:null,user:null}})()}addFrameworkForLogging(Oe){!function qt(Ce,ne){(0,A.aE)(Ce)._logFramework(ne)}(this._delegate,Oe)}onAuthStateChanged(Oe,pt,Ze){const{next:We,error:Re,complete:se}=ct(Oe,pt,Ze);return this._delegate.onAuthStateChanged(We,Re,se)}onIdTokenChanged(Oe,pt,Ze){const{next:We,error:Re,complete:se}=ct(Oe,pt,Ze);return this._delegate.onIdTokenChanged(We,Re,se)}sendSignInLinkToEmail(Oe,pt){return A.a7(this._delegate,Oe,pt)}sendPasswordResetEmail(Oe,pt){return A.a0(this._delegate,Oe,pt||void 0)}setPersistence(Oe){var pt=this;return(0,m.Z)(function*(){let Ze;switch(function wt(Ce,ne){rt(Object.values(ge).includes(ne),Ce,"invalid-persistence-type"),(0,De.b$)()?rt(ne!==ge.SESSION,Ce,"unsupported-persistence-type"):(0,De.UG)()?rt(ne===ge.NONE,Ce,"unsupported-persistence-type"):Vn()?rt(ne===ge.NONE||ne===ge.LOCAL&&(0,De.hl)(),Ce,"unsupported-persistence-type"):rt(ne===ge.NONE||$n(),Ce,"unsupported-persistence-type")}(pt._delegate,Oe),Oe){case ge.SESSION:Ze=A.a;break;case ge.LOCAL:Ze=(yield A.ay(A.i)._isAvailable())?A.i:A.b;break;case ge.NONE:Ze=A.L;break;default:return A.at("argument-error",{appName:pt._delegate.name})}return pt._delegate.setPersistence(Ze)})()}signInAndRetrieveDataWithCredential(Oe){return this.signInWithCredential(Oe)}signInAnonymously(){return Ot(this._delegate,A.X(this._delegate))}signInWithCredential(Oe){return Ot(this._delegate,A.Y(this._delegate,Oe))}signInWithCustomToken(Oe){return Ot(this._delegate,A.$(this._delegate,Oe))}signInWithEmailAndPassword(Oe,pt){return Ot(this._delegate,A.a6(this._delegate,Oe,pt))}signInWithEmailLink(Oe,pt){return Ot(this._delegate,A.a9(this._delegate,Oe,pt))}signInWithPhoneNumber(Oe,pt){return te(this._delegate,A.s(this._delegate,Oe,pt))}signInWithPopup(Oe){var pt=this;return(0,m.Z)(function*(){return de(Gn(),pt._delegate,"operation-not-supported-in-this-environment"),Ot(pt._delegate,A.c(pt._delegate,Oe,yt))})()}signInWithRedirect(Oe){var pt=this;return(0,m.Z)(function*(){return de(Gn(),pt._delegate,"operation-not-supported-in-this-environment"),yield $t(pt._delegate),A.f(pt._delegate,Oe,yt)})()}updateCurrentUser(Oe){return this._delegate.updateCurrentUser(Oe)}verifyPasswordResetCode(Oe){return A.a4(this._delegate,Oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=ge,Ce})();function ct(Ce,ne,Oe){let pt=Ce;"function"!=typeof Ce&&({next:pt,error:ne,complete:Oe}=Ce);const Ze=pt;return{next:Re=>Ze(Re&&z.getOrCreate(Re)),error:ne,complete:Oe}}function st(Ce,ne){const Oe=function jt(Ce,ne){const Oe=mt();if(!Oe)return[];const pt=A.az(Xe,Ce,ne);switch(Oe.getItem(pt)){case ge.NONE:return[A.L];case ge.LOCAL:return[A.i,A.a];case ge.SESSION:return[A.a];default:return[]}}(Ce,ne);if(typeof self<"u"&&!Oe.includes(A.i)&&Oe.push(A.i),typeof window<"u")for(const pt of[A.b,A.a])Oe.includes(pt)||Oe.push(pt);return Oe.includes(A.L)||Oe.push(A.L),Oe}class Mt{constructor(){this.providerId="phone",this._delegate=new A.P(Ut(h.Z.auth()))}static credential(ne,Oe){return A.P.credential(ne,Oe)}verifyPhoneNumber(ne,Oe){return this._delegate.verifyPhoneNumber(ne,Oe)}unwrap(){return this._delegate}}Mt.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,Mt.PROVIDER_ID=A.P.PROVIDER_ID;const Lt=A.ax;class je{constructor(ne,Oe,pt=h.Z.app()){var Ze;Lt(null===(Ze=pt.options)||void 0===Ze?void 0:Ze.apiKey,"invalid-api-key",{appName:pt.name}),this._delegate=new A.R(ne,Oe,pt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ve(Ce){Ce.INTERNAL.registerComponent(new Ye.wA("auth-compat",ne=>{const Oe=ne.getProvider("app-compat").getImmediate(),pt=ne.getProvider("auth");return new J(Oe,pt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.M,FacebookAuthProvider:A.N,GithubAuthProvider:A.T,GoogleAuthProvider:A.Q,OAuthProvider:A.U,SAMLAuthProvider:A.V,PhoneAuthProvider:Mt,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:je,TwitterAuthProvider:A.W,Auth:J,AuthCredential:A.H,Error:De.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.2.23")}(h.Z)},2375:(bn,xt,x)=>{x.d(xt,{KL:()=>he,Gb:()=>pt});var m=x(5861),A=(x(2833),x(4859)),De=x(8766),N=x(2090),ze=x(9681);const Ye="/firebase-messaging-sw.js",ie="/firebase-cloud-messaging-push-scope",qe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pe="google.c.a.c_id",Ee="google.c.a.c_l",Le="google.c.a.ts",gt="google.c.a.e";var St=(()=>{return(H=St||(St={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",St;var H})();function Ge(H){const ue=new Uint8Array(H);return btoa(String.fromCharCode(...ue)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bt(H){const V=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(V),Ve=new Uint8Array(ce.length);for(let Te=0;Te<ce.length;++Te)Ve[Te]=ce.charCodeAt(Te);return Ve}const Ht="fcm_token_details_db",tt="fcm_token_object_Store";function Qe(H){return He.apply(this,arguments)}function He(){return He=(0,m.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes(Ht))return null;let ue=null;return(yield(0,De.X3)(Ht,5,{upgrade:(ce=(0,m.Z)(function*(Ve,Te,Et,ye){var ut;if(Te<2||!Ve.objectStoreNames.contains(tt))return;const O=ye.objectStore(tt),re=yield O.index("fcmSenderId").get(H);if(yield O.clear(),re)if(2===Te){const Me=re;if(!Me.auth||!Me.p256dh||!Me.endpoint)return;ue={token:Me.fcmToken,createTime:null!==(ut=Me.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Me.auth,p256dh:Me.p256dh,endpoint:Me.endpoint,swScope:Me.swScope,vapidKey:"string"==typeof Me.vapidKey?Me.vapidKey:Ge(Me.vapidKey)}}}else if(3===Te){const Me=re;ue={token:Me.fcmToken,createTime:Me.createTime,subscriptionOptions:{auth:Ge(Me.auth),p256dh:Ge(Me.p256dh),endpoint:Me.endpoint,swScope:Me.swScope,vapidKey:Ge(Me.vapidKey)}}}else if(4===Te){const Me=re;ue={token:Me.fcmToken,createTime:Me.createTime,subscriptionOptions:{auth:Ge(Me.auth),p256dh:Ge(Me.p256dh),endpoint:Me.endpoint,swScope:Me.swScope,vapidKey:Ge(Me.vapidKey)}}}}),function(Te,Et,ye,ut){return ce.apply(this,arguments)})})).close(),yield(0,De.Lj)(Ht),yield(0,De.Lj)("fcm_vapid_details_db"),yield(0,De.Lj)("undefined"),Ke(ue)?ue:null;var ce}),He.apply(this,arguments)}function Ke(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:ue}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof ue.auth&&ue.auth.length>0&&"string"==typeof ue.p256dh&&ue.p256dh.length>0&&"string"==typeof ue.endpoint&&ue.endpoint.length>0&&"string"==typeof ue.swScope&&ue.swScope.length>0&&"string"==typeof ue.vapidKey&&ue.vapidKey.length>0}const Dt="firebase-messaging-store";let ot=null;function dt(){return ot||(ot=(0,De.X3)("firebase-messaging-database",1,{upgrade:(H,ue)=>{0===ue&&H.createObjectStore(Dt)}})),ot}function Rt(H){return It.apply(this,arguments)}function It(){return(It=(0,m.Z)(function*(H){const ue=sn(H),ce=yield(yield dt()).transaction(Dt).objectStore(Dt).get(ue);if(ce)return ce;{const Ve=yield Qe(H.appConfig.senderId);if(Ve)return yield Jt(H,Ve),Ve}})).apply(this,arguments)}function Jt(H,ue){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,m.Z)(function*(H,ue){const V=sn(H),Ve=(yield dt()).transaction(Dt,"readwrite");return yield Ve.objectStore(Dt).put(ue,V),yield Ve.done,ue})).apply(this,arguments)}function an(H){return fn.apply(this,arguments)}function fn(){return(fn=(0,m.Z)(function*(H){const ue=sn(H),ce=(yield dt()).transaction(Dt,"readwrite");yield ce.objectStore(Dt).delete(ue),yield ce.done})).apply(this,arguments)}function sn({appConfig:H}){return H.appId}const qt=new N.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yt(H,ue){return nn.apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(H,ue){var V;const ce=yield Un(H),Ve=zn(ue),Te={method:"POST",headers:ce,body:JSON.stringify(Ve)};let Et;try{Et=yield(yield fetch(An(H.appConfig),Te)).json()}catch(ye){throw qt.create("token-subscribe-failed",{errorInfo:null===(V=ye)||void 0===V?void 0:V.toString()})}if(Et.error)throw qt.create("token-subscribe-failed",{errorInfo:Et.error.message});if(!Et.token)throw qt.create("token-subscribe-no-token");return Et.token})).apply(this,arguments)}function Qt(H,ue){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,m.Z)(function*(H,ue){var V;const ce=yield Un(H),Ve=zn(ue.subscriptionOptions),Te={method:"PATCH",headers:ce,body:JSON.stringify(Ve)};let Et;try{Et=yield(yield fetch(`${An(H.appConfig)}/${ue.token}`,Te)).json()}catch(ye){throw qt.create("token-update-failed",{errorInfo:null===(V=ye)||void 0===V?void 0:V.toString()})}if(Et.error)throw qt.create("token-update-failed",{errorInfo:Et.error.message});if(!Et.token)throw qt.create("token-update-no-token");return Et.token})).apply(this,arguments)}function Xt(H,ue){return mn.apply(this,arguments)}function mn(){return(mn=(0,m.Z)(function*(H,ue){var V;const Ve={method:"DELETE",headers:yield Un(H)};try{const Et=yield(yield fetch(`${An(H.appConfig)}/${ue}`,Ve)).json();if(Et.error)throw qt.create("token-unsubscribe-failed",{errorInfo:Et.error.message})}catch(Te){throw qt.create("token-unsubscribe-failed",{errorInfo:null===(V=Te)||void 0===V?void 0:V.toString()})}})).apply(this,arguments)}function An({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function Un(H){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,m.Z)(function*({appConfig:H,installations:ue}){const V=yield ue.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function zn({p256dh:H,auth:ue,endpoint:V,vapidKey:ce}){const Ve={web:{endpoint:V,auth:ue,p256dh:H}};return ce!==qe&&(Ve.web.applicationPubKey=ce),Ve}const $n=6048e5;function Vn(H){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(H){const ue=yield Xe(H.swRegistration,H.vapidKey),V={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:ue.endpoint,auth:Ge(ue.getKey("auth")),p256dh:Ge(ue.getKey("p256dh"))},ce=yield Rt(H.firebaseDependencies);if(ce){if($t(ce.subscriptionOptions,V))return Date.now()>=ce.createTime+$n?Be(H,{token:ce.token,createTime:Date.now(),subscriptionOptions:V}):ce.token;try{yield Xt(H.firebaseDependencies,ce.token)}catch(Ve){console.warn(Ve)}return ge(H.firebaseDependencies,V)}return ge(H.firebaseDependencies,V)})).apply(this,arguments)}function qn(H){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(H){const ue=yield Rt(H.firebaseDependencies);ue&&(yield Xt(H.firebaseDependencies,ue.token),yield an(H.firebaseDependencies));const V=yield H.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Be(H,ue){return le.apply(this,arguments)}function le(){return(le=(0,m.Z)(function*(H,ue){try{const V=yield Qt(H.firebaseDependencies,ue),ce=Object.assign(Object.assign({},ue),{token:V,createTime:Date.now()});return yield Jt(H.firebaseDependencies,ce),V}catch(V){throw yield qn(H),V}})).apply(this,arguments)}function ge(H,ue){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(H,ue){const ce={token:yield Yt(H,ue),createTime:Date.now(),subscriptionOptions:ue};return yield Jt(H,ce),ce.token})).apply(this,arguments)}function Xe(H,ue){return wt.apply(this,arguments)}function wt(){return(wt=(0,m.Z)(function*(H,ue){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bt(ue)})})).apply(this,arguments)}function $t(H,ue){return ue.vapidKey===H.vapidKey&&ue.endpoint===H.endpoint&&ue.auth===H.auth&&ue.p256dh===H.p256dh}function un(H){const ue={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function jt(H,ue){if(!ue.notification)return;H.notification={};const V=ue.notification.title;V&&(H.notification.title=V);const ce=ue.notification.body;ce&&(H.notification.body=ce);const Ve=ue.notification.image;Ve&&(H.notification.image=Ve)}(ue,H),function mt(H,ue){!ue.data||(H.data=ue.data)}(ue,H),function Ne(H,ue){var V,ce,Ve,Te,Et;if(!(ue.fcmOptions||null!==(V=ue.notification)&&void 0!==V&&V.click_action))return;H.fcmOptions={};const ye=null!==(Ve=null===(ce=ue.fcmOptions)||void 0===ce?void 0:ce.link)&&void 0!==Ve?Ve:null===(Te=ue.notification)||void 0===Te?void 0:Te.click_action;ye&&(H.fcmOptions.link=ye);const ut=null===(Et=ue.fcmOptions)||void 0===Et?void 0:Et.analytics_label;ut&&(H.fcmOptions.analyticsLabel=ut)}(ue,H),ue}function yt(H){return"object"==typeof H&&!!H&&Pe in H}function Ut(H,ue){const V=[];for(let ce=0;ce<H.length;ce++)V.push(H.charAt(ce)),ce<ue.length&&V.push(ue.charAt(ce));return V.join("")}function Nn(H){return qt.create("missing-app-config-values",{valueName:H})}Ut("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ut("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vn{constructor(ue,V,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function cn(H){if(!H||!H.options)throw Nn("App Configuration Object");if(!H.name)throw Nn("App Name");const ue=["projectId","apiKey","appId","messagingSenderId"],{options:V}=H;for(const ce of ue)if(!V[ce])throw Nn(ce);return{appName:H.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(ue);this.firebaseDependencies={app:ue,appConfig:Ve,installations:V,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function kt(H){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,m.Z)(function*(H){var ue;try{H.swRegistration=yield navigator.serviceWorker.register(Ye,{scope:ie}),H.swRegistration.update().catch(()=>{})}catch(V){throw qt.create("failed-service-worker-registration",{browserErrorMessage:null===(ue=V)||void 0===ue?void 0:ue.message})}})).apply(this,arguments)}function te(H,ue){return ae.apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(H,ue){if(!ue&&!H.swRegistration&&(yield kt(H)),ue||!H.swRegistration){if(!(ue instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");H.swRegistration=ue}})).apply(this,arguments)}function K(H,ue){return z.apply(this,arguments)}function z(){return(z=(0,m.Z)(function*(H,ue){ue?H.vapidKey=ue:H.vapidKey||(H.vapidKey=qe)})).apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(H,ue){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield K(H,ue?.vapidKey),yield te(H,ue?.serviceWorkerRegistration),Vn(H)})).apply(this,arguments)}function ct(H,ue,V){return st.apply(this,arguments)}function st(){return(st=(0,m.Z)(function*(H,ue,V){const ce=Mt(ue);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:V[Pe],message_name:V[Ee],message_time:V[Le],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mt(H){switch(H){case St.NOTIFICATION_CLICKED:return"notification_open";case St.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function je(){return(je=(0,m.Z)(function*(H,ue){const V=ue.data;if(!V.isFirebaseMessaging)return;H.onMessageHandler&&V.messageType===St.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(un(V)):H.onMessageHandler.next(un(V)));const ce=V.data;yt(ce)&&"1"===ce[gt]&&(yield ct(H,V.messageType,ce))})).apply(this,arguments)}const nt="@firebase/messaging",Ce=H=>{const ue=new vn(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Lt(H,ue){return je.apply(this,arguments)}(ue,V)),ue},ne=H=>{const ue=H.getProvider("messaging").getImmediate();return{getToken:ce=>function de(H,ue){return J.apply(this,arguments)}(ue,ce)}};function pt(){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,m.Z)(function*(){try{yield(0,N.eu)()}catch{return!1}return typeof window<"u"&&(0,N.hl)()&&(0,N.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function he(H=(0,ze.getApp)()){return pt().then(ue=>{if(!ue)throw qt.create("unsupported-browser")},ue=>{throw qt.create("indexed-db-unsupported")}),(0,ze._getProvider)((0,N.m9)(H),"messaging").getImmediate()}!function Oe(){(0,ze._registerComponent)(new A.wA("messaging",Ce,"PUBLIC")),(0,ze._registerComponent)(new A.wA("messaging-internal",ne,"PRIVATE")),(0,ze.registerVersion)(nt,"0.9.19"),(0,ze.registerVersion)(nt,"0.9.19","esm2017")}()},3226:(bn,xt,x)=>{x.d(xt,{sN:()=>Ht,Gb:()=>Gn});var m=x(5861),h=x(9681),A=x(2090),De=x(4859),N=x(1877);x(2833);const Ye="@firebase/remote-config",q="remote-config",Ee=new A.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Ht(_n=(0,h.getApp)()){return _n=(0,A.m9)(_n),(0,h._getProvider)(_n,q).getImmediate()}class Jt{constructor(Be,le,ge,rt){this.client=Be,this.storage=le,this.storageCache=ge,this.logger=rt}isCachedDataFresh(Be,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-le,rt=ge<=Be;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${Be}. Is cache hit: ${rt}.`),rt}fetch(Be){var le=this;return(0,m.Z)(function*(){const[ge,rt]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(rt&&le.isCachedDataFresh(Be.cacheMaxAgeMillis,ge))return rt;Be.eTag=rt&&rt.eTag;const Xe=yield le.client.fetch(Be),wt=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&wt.push(le.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(wt),Xe})()}}function Kt(_n=navigator){return _n.languages&&_n.languages[0]||_n.language}class an{constructor(Be,le,ge,rt,Xe,wt){this.firebaseInstallations=Be,this.sdkVersion=le,this.namespace=ge,this.projectId=rt,this.apiKey=Xe,this.appId=wt}fetch(Be){var le=this;return(0,m.Z)(function*(){var ge,rt,Xe;const[wt,$t]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Be.eTag||"*"},Ne={sdk_version:le.sdkVersion,app_instance_id:wt,app_instance_id_token:$t,app_id:le.appId,language_code:Kt()},yt={method:"POST",headers:mt,body:JSON.stringify(Ne)},Ut=fetch(jt,yt),cn=new Promise((ae,K)=>{Be.signal.addEventListener(()=>{const z=new Error("The operation was aborted.");z.name="AbortError",K(z)})});let Nn;try{yield Promise.race([Ut,cn]),Nn=yield Ut}catch(ae){let K="fetch-client-network";throw"AbortError"===(null===(ge=ae)||void 0===ge?void 0:ge.name)&&(K="fetch-timeout"),Ee.create(K,{originalErrorMessage:null===(rt=ae)||void 0===rt?void 0:rt.message})}let vn=Nn.status;const kt=Nn.headers.get("ETag")||void 0;let Ot,te;if(200===Nn.status){let ae;try{ae=yield Nn.json()}catch(K){throw Ee.create("fetch-client-parse",{originalErrorMessage:null===(Xe=K)||void 0===Xe?void 0:Xe.message})}Ot=ae.entries,te=ae.state}if("INSTANCE_STATE_UNSPECIFIED"===te?vn=500:"NO_CHANGE"===te?vn=304:("NO_TEMPLATE"===te||"EMPTY_CONFIG"===te)&&(Ot={}),304!==vn&&200!==vn)throw Ee.create("fetch-status",{httpStatus:vn});return{status:vn,eTag:kt,config:Ot}})()}}class vt{constructor(Be,le){this.client=Be,this.storage=le}fetch(Be){var le=this;return(0,m.Z)(function*(){const ge=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(Be,ge)})()}attemptFetch(Be,{throttleEndTimeMillis:le,backoffCount:ge}){var rt=this;return(0,m.Z)(function*(){yield function fn(_n,Be){return new Promise((le,ge)=>{const rt=Math.max(Be-Date.now(),0),Xe=setTimeout(le,rt);_n.addEventListener(()=>{clearTimeout(Xe),ge(Ee.create("fetch-throttle",{throttleEndTimeMillis:Be}))})})}(Be.signal,le);try{const Xe=yield rt.client.fetch(Be);return yield rt.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function sn(_n){if(!(_n instanceof A.ZR&&_n.customData))return!1;const Be=Number(_n.customData.httpStatus);return 429===Be||500===Be||503===Be||504===Be}(Xe))throw Xe;const wt={throttleEndTimeMillis:Date.now()+(0,A.$s)(ge),backoffCount:ge+1};return yield rt.storage.setThrottleMetadata(wt),rt.attemptFetch(Be,wt)}})()}}class nn{constructor(Be,le,ge,rt,Xe){this.app=Be,this._client=le,this._storageCache=ge,this._storage=rt,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qt(_n,Be){var le;const ge=_n.target.error||void 0;return Ee.create(Be,{originalErrorMessage:ge&&(null===(le=ge)||void 0===le?void 0:le.message)})}const Dn="app_namespace_store";class Un{constructor(Be,le,ge,rt=function An(){return new Promise((_n,Be)=>{var le;try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=rt=>{Be(Qt(rt,"storage-open"))},ge.onsuccess=rt=>{_n(rt.target.result)},ge.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(Dn,{keyPath:"compositeKey"})}}catch(ge){Be(Ee.create("storage-open",{originalErrorMessage:null===(le=ge)||void 0===le?void 0:le.message}))}})}()){this.appId=Be,this.appName=le,this.namespace=ge,this.openDbPromise=rt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Be){return this.set("last_fetch_status",Be)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Be){return this.set("last_successful_fetch_timestamp_millis",Be)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Be){return this.set("last_successful_fetch_response",Be)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Be){return this.set("active_config",Be)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Be){return this.set("active_config_etag",Be)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Be){return this.set("throttle_metadata",Be)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Be){var le=this;return(0,m.Z)(function*(){const ge=yield le.openDbPromise;return new Promise((rt,Xe)=>{var wt;const un=ge.transaction([Dn],"readonly").objectStore(Dn),jt=le.createCompositeKey(Be);try{const mt=un.get(jt);mt.onerror=Ne=>{Xe(Qt(Ne,"storage-get"))},mt.onsuccess=Ne=>{const yt=Ne.target.result;rt(yt?yt.value:void 0)}}catch(mt){Xe(Ee.create("storage-get",{originalErrorMessage:null===(wt=mt)||void 0===wt?void 0:wt.message}))}})})()}set(Be,le){var ge=this;return(0,m.Z)(function*(){const rt=yield ge.openDbPromise;return new Promise((Xe,wt)=>{var $t;const jt=rt.transaction([Dn],"readwrite").objectStore(Dn),mt=ge.createCompositeKey(Be);try{const Ne=jt.put({compositeKey:mt,value:le});Ne.onerror=yt=>{wt(Qt(yt,"storage-set"))},Ne.onsuccess=()=>{Xe()}}catch(Ne){wt(Ee.create("storage-set",{originalErrorMessage:null===($t=Ne)||void 0===$t?void 0:$t.message}))}})})()}delete(Be){var le=this;return(0,m.Z)(function*(){const ge=yield le.openDbPromise;return new Promise((rt,Xe)=>{var wt;const un=ge.transaction([Dn],"readwrite").objectStore(Dn),jt=le.createCompositeKey(Be);try{const mt=un.delete(jt);mt.onerror=Ne=>{Xe(Qt(Ne,"storage-delete"))},mt.onsuccess=()=>{rt()}}catch(mt){Xe(Ee.create("storage-delete",{originalErrorMessage:null===(wt=mt)||void 0===wt?void 0:wt.message}))}})})()}createCompositeKey(Be){return[this.appId,this.appName,this.namespace,Be].join()}}class Rn{constructor(Be){this.storage=Be}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Be=this;return(0,m.Z)(function*(){const le=Be.storage.getLastFetchStatus(),ge=Be.storage.getLastSuccessfulFetchTimestampMillis(),rt=Be.storage.getActiveConfig(),Xe=yield le;Xe&&(Be.lastFetchStatus=Xe);const wt=yield ge;wt&&(Be.lastSuccessfulFetchTimestampMillis=wt);const $t=yield rt;$t&&(Be.activeConfig=$t)})()}setLastFetchStatus(Be){return this.lastFetchStatus=Be,this.storage.setLastFetchStatus(Be)}setLastSuccessfulFetchTimestampMillis(Be){return this.lastSuccessfulFetchTimestampMillis=Be,this.storage.setLastSuccessfulFetchTimestampMillis(Be)}setActiveConfig(Be){return this.activeConfig=Be,this.storage.setActiveConfig(Be)}}function Gn(){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(){if(!(0,A.hl)())return!1;try{return yield(0,A.eu)()}catch{return!1}})).apply(this,arguments)}!function zn(){(0,h._registerComponent)(new De.wA(q,function _n(Be,{instanceIdentifier:le}){const ge=Be.getProvider("app").getImmediate(),rt=Be.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ee.create("registration-window");if(!(0,A.hl)())throw Ee.create("indexed-db-unavailable");const{projectId:Xe,apiKey:wt,appId:$t}=ge.options;if(!Xe)throw Ee.create("registration-project-id");if(!wt)throw Ee.create("registration-api-key");if(!$t)throw Ee.create("registration-app-id");const un=new Un($t,ge.name,le=le||"firebase"),jt=new Rn(un),mt=new N.Yd(Ye);mt.logLevel=N.in.ERROR;const Ne=new an(rt,h.SDK_VERSION,le,Xe,wt,$t),yt=new vt(Ne,un),Ut=new Jt(yt,un,jt,mt),cn=new nn(ge,Ut,jt,un,mt);return function Qe(_n){const Be=(0,A.m9)(_n);Be._initializePromise||(Be._initializePromise=Be._storageCache.loadFromStorage().then(()=>{Be._isInitializationComplete=!0}))}(cn),cn},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(Ye,"0.3.14"),(0,h.registerVersion)(Ye,"0.3.14","esm2017")}()},1135:(bn,xt,x)=>{x.d(xt,{X:()=>h});var m=x(7579);class h extends m.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const N=super._subscribe(De);return!N.closed&&De.next(this._value),N}getValue(){const{hasError:De,thrownError:N,_value:ze}=this;if(De)throw N;return this._throwIfClosed(),ze}next(De){super.next(this._value=De)}}},9751:(bn,xt,x)=>{x.d(xt,{y:()=>ie});var m=x(930),h=x(727),A=x(8822),De=x(9635),N=x(2416),ze=x(576),Ye=x(2806);let ie=(()=>{class Ee{constructor(gt){gt&&(this._subscribe=gt)}lift(gt){const ht=new Ee;return ht.source=this,ht.operator=gt,ht}subscribe(gt,ht,St){const Ge=function Pe(Ee){return Ee&&Ee instanceof m.Lv||function q(Ee){return Ee&&(0,ze.m)(Ee.next)&&(0,ze.m)(Ee.error)&&(0,ze.m)(Ee.complete)}(Ee)&&(0,h.Nn)(Ee)}(gt)?gt:new m.Hp(gt,ht,St);return(0,Ye.x)(()=>{const{operator:bt,source:Ht}=this;Ge.add(bt?bt.call(Ge,Ht):Ht?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(gt){try{return this._subscribe(gt)}catch(ht){gt.error(ht)}}forEach(gt,ht){return new(ht=qe(ht))((St,Ge)=>{const bt=new m.Hp({next:Ht=>{try{gt(Ht)}catch(Pt){Ge(Pt),bt.unsubscribe()}},error:Ge,complete:St});this.subscribe(bt)})}_subscribe(gt){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(gt)}[A.L](){return this}pipe(...gt){return(0,De.U)(gt)(this)}toPromise(gt){return new(gt=qe(gt))((ht,St)=>{let Ge;this.subscribe(bt=>Ge=bt,bt=>St(bt),()=>ht(Ge))})}}return Ee.create=Le=>new Ee(Le),Ee})();function qe(Ee){var Le;return null!==(Le=Ee??N.v.Promise)&&void 0!==Le?Le:Promise}},7579:(bn,xt,x)=>{x.d(xt,{x:()=>Ye});var m=x(9751),h=x(727);const De=(0,x(3888).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var N=x(8737),ze=x(2806);let Ye=(()=>{class qe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Pe){const Ee=new ie(this,this);return Ee.operator=Pe,Ee}_throwIfClosed(){if(this.closed)throw new De}next(Pe){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(Pe)}})}error(Pe){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Pe;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(Pe)}})}complete(){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Pe;return(null===(Pe=this.observers)||void 0===Pe?void 0:Pe.length)>0}_trySubscribe(Pe){return this._throwIfClosed(),super._trySubscribe(Pe)}_subscribe(Pe){return this._throwIfClosed(),this._checkFinalizedStatuses(Pe),this._innerSubscribe(Pe)}_innerSubscribe(Pe){const{hasError:Ee,isStopped:Le,observers:gt}=this;return Ee||Le?h.Lc:(this.currentObservers=null,gt.push(Pe),new h.w0(()=>{this.currentObservers=null,(0,N.P)(gt,Pe)}))}_checkFinalizedStatuses(Pe){const{hasError:Ee,thrownError:Le,isStopped:gt}=this;Ee?Pe.error(Le):gt&&Pe.complete()}asObservable(){const Pe=new m.y;return Pe.source=this,Pe}}return qe.create=(q,Pe)=>new ie(q,Pe),qe})();class ie extends Ye{constructor(q,Pe){super(),this.destination=q,this.source=Pe}next(q){var Pe,Ee;null===(Ee=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.next)||void 0===Ee||Ee.call(Pe,q)}error(q){var Pe,Ee;null===(Ee=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.error)||void 0===Ee||Ee.call(Pe,q)}complete(){var q,Pe;null===(Pe=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Pe||Pe.call(q)}_subscribe(q){var Pe,Ee;return null!==(Ee=null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(q))&&void 0!==Ee?Ee:h.Lc}}},930:(bn,xt,x)=>{x.d(xt,{Hp:()=>St,Lv:()=>Ee});var m=x(576),h=x(727),A=x(2416),De=x(7849),N=x(5032);const ze=qe("C",void 0,void 0);function qe(tt,Qe,He){return{kind:tt,value:Qe,error:He}}var q=x(3410),Pe=x(2806);class Ee extends h.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,h.Nn)(Qe)&&Qe.add(this)):this.destination=Pt}static create(Qe,He,Ke){return new St(Qe,He,Ke)}next(Qe){this.isStopped?Ht(function ie(tt){return qe("N",tt,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?Ht(function Ye(tt){return qe("E",void 0,tt)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?Ht(ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function gt(tt,Qe){return Le.call(tt,Qe)}class ht{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:He}=this;if(He.next)try{He.next(Qe)}catch(Ke){Ge(Ke)}}error(Qe){const{partialObserver:He}=this;if(He.error)try{He.error(Qe)}catch(Ke){Ge(Ke)}else Ge(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(He){Ge(He)}}}class St extends Ee{constructor(Qe,He,Ke){let ke;if(super(),(0,m.m)(Qe)||!Qe)ke={next:Qe??void 0,error:He??void 0,complete:Ke??void 0};else{let $e;this&&A.v.useDeprecatedNextContext?($e=Object.create(Qe),$e.unsubscribe=()=>this.unsubscribe(),ke={next:Qe.next&&gt(Qe.next,$e),error:Qe.error&&gt(Qe.error,$e),complete:Qe.complete&&gt(Qe.complete,$e)}):ke=Qe}this.destination=new ht(ke)}}function Ge(tt){A.v.useDeprecatedSynchronousErrorHandling?(0,Pe.O)(tt):(0,De.h)(tt)}function Ht(tt,Qe){const{onStoppedNotification:He}=A.v;He&&q.z.setTimeout(()=>He(tt,Qe))}const Pt={closed:!0,next:N.Z,error:function bt(tt){throw tt},complete:N.Z}},727:(bn,xt,x)=>{x.d(xt,{Lc:()=>ze,w0:()=>N,Nn:()=>Ye});var m=x(576);const A=(0,x(3888).d)(qe=>function(Pe){qe(this),this.message=Pe?`${Pe.length} errors occurred during unsubscription:\n${Pe.map((Ee,Le)=>`${Le+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Pe});var De=x(8737);class N{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Pe}=this;if(Pe)if(this._parentage=null,Array.isArray(Pe))for(const gt of Pe)gt.remove(this);else Pe.remove(this);const{initialTeardown:Ee}=this;if((0,m.m)(Ee))try{Ee()}catch(gt){q=gt instanceof A?gt.errors:[gt]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const gt of Le)try{ie(gt)}catch(ht){q=q??[],ht instanceof A?q=[...q,...ht.errors]:q.push(ht)}}if(q)throw new A(q)}}add(q){var Pe;if(q&&q!==this)if(this.closed)ie(q);else{if(q instanceof N){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Pe=this._finalizers)&&void 0!==Pe?Pe:[]).push(q)}}_hasParent(q){const{_parentage:Pe}=this;return Pe===q||Array.isArray(Pe)&&Pe.includes(q)}_addParent(q){const{_parentage:Pe}=this;this._parentage=Array.isArray(Pe)?(Pe.push(q),Pe):Pe?[Pe,q]:q}_removeParent(q){const{_parentage:Pe}=this;Pe===q?this._parentage=null:Array.isArray(Pe)&&(0,De.P)(Pe,q)}remove(q){const{_finalizers:Pe}=this;Pe&&(0,De.P)(Pe,q),q instanceof N&&q._removeParent(this)}}N.EMPTY=(()=>{const qe=new N;return qe.closed=!0,qe})();const ze=N.EMPTY;function Ye(qe){return qe instanceof N||qe&&"closed"in qe&&(0,m.m)(qe.remove)&&(0,m.m)(qe.add)&&(0,m.m)(qe.unsubscribe)}function ie(qe){(0,m.m)(qe)?qe():qe.unsubscribe()}},2416:(bn,xt,x)=>{x.d(xt,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(bn,xt,x)=>{x.d(xt,{a:()=>q});var m=x(9751),h=x(4742),A=x(8996),De=x(4671),N=x(3268),ze=x(3269),Ye=x(1810),ie=x(5403),qe=x(9672);function q(...Le){const gt=(0,ze.yG)(Le),ht=(0,ze.jO)(Le),{args:St,keys:Ge}=(0,h.D)(Le);if(0===St.length)return(0,A.D)([],gt);const bt=new m.y(function Pe(Le,gt,ht=De.y){return St=>{Ee(gt,()=>{const{length:Ge}=Le,bt=new Array(Ge);let Ht=Ge,Pt=Ge;for(let tt=0;tt<Ge;tt++)Ee(gt,()=>{const Qe=(0,A.D)(Le[tt],gt);let He=!1;Qe.subscribe((0,ie.x)(St,Ke=>{bt[tt]=Ke,He||(He=!0,Pt--),Pt||St.next(ht(bt.slice()))},()=>{--Ht||St.complete()}))},St)},St)}}(St,gt,Ge?Ht=>(0,Ye.n)(Ge,Ht):De.y));return ht?bt.pipe((0,N.Z)(ht)):bt}function Ee(Le,gt,ht){Le?(0,qe.f)(ht,Le,gt):gt()}},7272:(bn,xt,x)=>{x.d(xt,{z:()=>N});var m=x(8189),A=x(3269),De=x(8996);function N(...ze){return function h(){return(0,m.J)(1)}()((0,De.D)(ze,(0,A.yG)(ze)))}},9770:(bn,xt,x)=>{x.d(xt,{P:()=>A});var m=x(9751),h=x(8421);function A(De){return new m.y(N=>{(0,h.Xf)(De()).subscribe(N)})}},515:(bn,xt,x)=>{x.d(xt,{E:()=>h});const h=new(x(9751).y)(N=>N.complete())},4128:(bn,xt,x)=>{x.d(xt,{D:()=>ie});var m=x(9751),h=x(4742),A=x(8421),De=x(3269),N=x(5403),ze=x(3268),Ye=x(1810);function ie(...qe){const q=(0,De.jO)(qe),{args:Pe,keys:Ee}=(0,h.D)(qe),Le=new m.y(gt=>{const{length:ht}=Pe;if(!ht)return void gt.complete();const St=new Array(ht);let Ge=ht,bt=ht;for(let Ht=0;Ht<ht;Ht++){let Pt=!1;(0,A.Xf)(Pe[Ht]).subscribe((0,N.x)(gt,tt=>{Pt||(Pt=!0,bt--),St[Ht]=tt},()=>Ge--,void 0,()=>{(!Ge||!Pt)&&(bt||gt.next(Ee?(0,Ye.n)(Ee,St):St),gt.complete())}))}});return q?Le.pipe((0,ze.Z)(q)):Le}},8996:(bn,xt,x)=>{x.d(xt,{D:()=>Qe});var m=x(8421),h=x(5363),A=x(9468),ze=x(9751),ie=x(2202),qe=x(576),q=x(9672);function Ee(He,Ke){if(!He)throw new Error("Iterable cannot be null");return new ze.y(ke=>{(0,q.f)(ke,Ke,()=>{const $e=He[Symbol.asyncIterator]();(0,q.f)(ke,Ke,()=>{$e.next().then(Dt=>{Dt.done?ke.complete():ke.next(Dt.value)})},0,!0)})})}var Le=x(3670),gt=x(8239),ht=x(1144),St=x(6495),Ge=x(2206),bt=x(4532),Ht=x(3260);function Qe(He,Ke){return Ke?function tt(He,Ke){if(null!=He){if((0,Le.c)(He))return function De(He,Ke){return(0,m.Xf)(He).pipe((0,A.R)(Ke),(0,h.Q)(Ke))}(He,Ke);if((0,ht.z)(He))return function Ye(He,Ke){return new ze.y(ke=>{let $e=0;return Ke.schedule(function(){$e===He.length?ke.complete():(ke.next(He[$e++]),ke.closed||this.schedule())})})}(He,Ke);if((0,gt.t)(He))return function N(He,Ke){return(0,m.Xf)(He).pipe((0,A.R)(Ke),(0,h.Q)(Ke))}(He,Ke);if((0,Ge.D)(He))return Ee(He,Ke);if((0,St.T)(He))return function Pe(He,Ke){return new ze.y(ke=>{let $e;return(0,q.f)(ke,Ke,()=>{$e=He[ie.h](),(0,q.f)(ke,Ke,()=>{let Dt,ot;try{({value:Dt,done:ot}=$e.next())}catch(dt){return void ke.error(dt)}ot?ke.complete():ke.next(Dt)},0,!0)}),()=>(0,qe.m)($e?.return)&&$e.return()})}(He,Ke);if((0,Ht.L)(He))return function Pt(He,Ke){return Ee((0,Ht.Q)(He),Ke)}(He,Ke)}throw(0,bt.z)(He)}(He,Ke):(0,m.Xf)(He)}},4968:(bn,xt,x)=>{x.d(xt,{R:()=>q});var m=x(8421),h=x(9751),A=x(5577),De=x(1144),N=x(576),ze=x(3268);const Ye=["addListener","removeListener"],ie=["addEventListener","removeEventListener"],qe=["on","off"];function q(ht,St,Ge,bt){if((0,N.m)(Ge)&&(bt=Ge,Ge=void 0),bt)return q(ht,St,Ge).pipe((0,ze.Z)(bt));const[Ht,Pt]=function gt(ht){return(0,N.m)(ht.addEventListener)&&(0,N.m)(ht.removeEventListener)}(ht)?ie.map(tt=>Qe=>ht[tt](St,Qe,Ge)):function Ee(ht){return(0,N.m)(ht.addListener)&&(0,N.m)(ht.removeListener)}(ht)?Ye.map(Pe(ht,St)):function Le(ht){return(0,N.m)(ht.on)&&(0,N.m)(ht.off)}(ht)?qe.map(Pe(ht,St)):[];if(!Ht&&(0,De.z)(ht))return(0,A.z)(tt=>q(tt,St,Ge))((0,m.Xf)(ht));if(!Ht)throw new TypeError("Invalid event target");return new h.y(tt=>{const Qe=(...He)=>tt.next(1<He.length?He:He[0]);return Ht(Qe),()=>Pt(Qe)})}function Pe(ht,St){return Ge=>bt=>ht[Ge](St,bt)}},8421:(bn,xt,x)=>{x.d(xt,{Xf:()=>Le});var m=x(655),h=x(1144),A=x(8239),De=x(9751),N=x(3670),ze=x(2206),Ye=x(4532),ie=x(6495),qe=x(3260),q=x(576),Pe=x(7849),Ee=x(8822);function Le(tt){if(tt instanceof De.y)return tt;if(null!=tt){if((0,N.c)(tt))return function gt(tt){return new De.y(Qe=>{const He=tt[Ee.L]();if((0,q.m)(He.subscribe))return He.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,h.z)(tt))return function ht(tt){return new De.y(Qe=>{for(let He=0;He<tt.length&&!Qe.closed;He++)Qe.next(tt[He]);Qe.complete()})}(tt);if((0,A.t)(tt))return function St(tt){return new De.y(Qe=>{tt.then(He=>{Qe.closed||(Qe.next(He),Qe.complete())},He=>Qe.error(He)).then(null,Pe.h)})}(tt);if((0,ze.D)(tt))return bt(tt);if((0,ie.T)(tt))return function Ge(tt){return new De.y(Qe=>{for(const He of tt)if(Qe.next(He),Qe.closed)return;Qe.complete()})}(tt);if((0,qe.L)(tt))return function Ht(tt){return bt((0,qe.Q)(tt))}(tt)}throw(0,Ye.z)(tt)}function bt(tt){return new De.y(Qe=>{(function Pt(tt,Qe){var He,Ke,ke,$e;return(0,m.mG)(this,void 0,void 0,function*(){try{for(He=(0,m.KL)(tt);!(Ke=yield He.next()).done;)if(Qe.next(Ke.value),Qe.closed)return}catch(Dt){ke={error:Dt}}finally{try{Ke&&!Ke.done&&($e=He.return)&&(yield $e.call(He))}finally{if(ke)throw ke.error}}Qe.complete()})})(tt,Qe).catch(He=>Qe.error(He))})}},6451:(bn,xt,x)=>{x.d(xt,{T:()=>ze});var m=x(8189),h=x(8421),A=x(515),De=x(3269),N=x(8996);function ze(...Ye){const ie=(0,De.yG)(Ye),qe=(0,De._6)(Ye,1/0),q=Ye;return q.length?1===q.length?(0,h.Xf)(q[0]):(0,m.J)(qe)((0,N.D)(q,ie)):A.E}},9646:(bn,xt,x)=>{x.d(xt,{of:()=>A});var m=x(3269),h=x(8996);function A(...De){const N=(0,m.yG)(De);return(0,h.D)(De,N)}},2843:(bn,xt,x)=>{x.d(xt,{_:()=>A});var m=x(9751),h=x(576);function A(De,N){const ze=(0,h.m)(De)?De:()=>De,Ye=ie=>ie.error(ze());return new m.y(N?ie=>N.schedule(Ye,0,ie):Ye)}},5963:(bn,xt,x)=>{x.d(xt,{H:()=>N});var m=x(9751),h=x(4986),A=x(3532);function N(ze=0,Ye,ie=h.P){let qe=-1;return null!=Ye&&((0,A.K)(Ye)?ie=Ye:qe=Ye),new m.y(q=>{let Pe=function De(ze){return ze instanceof Date&&!isNaN(ze)}(ze)?+ze-ie.now():ze;Pe<0&&(Pe=0);let Ee=0;return ie.schedule(function(){q.closed||(q.next(Ee++),0<=qe?this.schedule(void 0,qe):q.complete())},Pe)})}},5403:(bn,xt,x)=>{x.d(xt,{Q:()=>A,x:()=>h});var m=x(930);function h(De,N,ze,Ye,ie){return new A(De,N,ze,Ye,ie)}class A extends m.Lv{constructor(N,ze,Ye,ie,qe,q){super(N),this.onFinalize=qe,this.shouldUnsubscribe=q,this._next=ze?function(Pe){try{ze(Pe)}catch(Ee){N.error(Ee)}}:super._next,this._error=ie?function(Pe){try{ie(Pe)}catch(Ee){N.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Ye?function(){try{Ye()}catch(Pe){N.error(Pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var N;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ze}=this;super.unsubscribe(),!ze&&(null===(N=this.onFinalize)||void 0===N||N.call(this))}}}},262:(bn,xt,x)=>{x.d(xt,{K:()=>De});var m=x(8421),h=x(5403),A=x(4482);function De(N){return(0,A.e)((ze,Ye)=>{let q,ie=null,qe=!1;ie=ze.subscribe((0,h.x)(Ye,void 0,void 0,Pe=>{q=(0,m.Xf)(N(Pe,De(N)(ze))),ie?(ie.unsubscribe(),ie=null,q.subscribe(Ye)):qe=!0})),qe&&(ie.unsubscribe(),ie=null,q.subscribe(Ye))})}},4351:(bn,xt,x)=>{x.d(xt,{b:()=>A});var m=x(5577),h=x(576);function A(De,N){return(0,h.m)(N)?(0,m.z)(De,N,1):(0,m.z)(De,1)}},8372:(bn,xt,x)=>{x.d(xt,{b:()=>De});var m=x(4986),h=x(4482),A=x(5403);function De(N,ze=m.z){return(0,h.e)((Ye,ie)=>{let qe=null,q=null,Pe=null;const Ee=()=>{if(qe){qe.unsubscribe(),qe=null;const gt=q;q=null,ie.next(gt)}};function Le(){const gt=Pe+N,ht=ze.now();if(ht<gt)return qe=this.schedule(void 0,gt-ht),void ie.add(qe);Ee()}Ye.subscribe((0,A.x)(ie,gt=>{q=gt,Pe=ze.now(),qe||(qe=ze.schedule(Le,N),ie.add(qe))},()=>{Ee(),ie.complete()},void 0,()=>{q=qe=null}))})}},6590:(bn,xt,x)=>{x.d(xt,{d:()=>A});var m=x(4482),h=x(5403);function A(De){return(0,m.e)((N,ze)=>{let Ye=!1;N.subscribe((0,h.x)(ze,ie=>{Ye=!0,ze.next(ie)},()=>{Ye||ze.next(De),ze.complete()}))})}},1884:(bn,xt,x)=>{x.d(xt,{x:()=>De});var m=x(4671),h=x(4482),A=x(5403);function De(ze,Ye=m.y){return ze=ze??N,(0,h.e)((ie,qe)=>{let q,Pe=!0;ie.subscribe((0,A.x)(qe,Ee=>{const Le=Ye(Ee);(Pe||!ze(q,Le))&&(Pe=!1,q=Le,qe.next(Ee))}))})}function N(ze,Ye){return ze===Ye}},9300:(bn,xt,x)=>{x.d(xt,{h:()=>A});var m=x(4482),h=x(5403);function A(De,N){return(0,m.e)((ze,Ye)=>{let ie=0;ze.subscribe((0,h.x)(Ye,qe=>De.call(N,qe,ie++)&&Ye.next(qe)))})}},8746:(bn,xt,x)=>{x.d(xt,{x:()=>h});var m=x(4482);function h(A){return(0,m.e)((De,N)=>{try{De.subscribe(N)}finally{N.add(A)}})}},590:(bn,xt,x)=>{x.d(xt,{P:()=>Ye});var m=x(6805),h=x(9300),A=x(5698),De=x(6590),N=x(8068),ze=x(4671);function Ye(ie,qe){const q=arguments.length>=2;return Pe=>Pe.pipe(ie?(0,h.h)((Ee,Le)=>ie(Ee,Le,Pe)):ze.y,(0,A.q)(1),q?(0,De.d)(qe):(0,N.T)(()=>new m.K))}},4004:(bn,xt,x)=>{x.d(xt,{U:()=>A});var m=x(4482),h=x(5403);function A(De,N){return(0,m.e)((ze,Ye)=>{let ie=0;ze.subscribe((0,h.x)(Ye,qe=>{Ye.next(De.call(N,qe,ie++))}))})}},9718:(bn,xt,x)=>{x.d(xt,{h:()=>h});var m=x(4004);function h(A){return(0,m.U)(()=>A)}},8189:(bn,xt,x)=>{x.d(xt,{J:()=>A});var m=x(5577),h=x(4671);function A(De=1/0){return(0,m.z)(h.y,De)}},5577:(bn,xt,x)=>{x.d(xt,{z:()=>ie});var m=x(4004),h=x(8421),A=x(4482),De=x(9672),N=x(5403),Ye=x(576);function ie(qe,q,Pe=1/0){return(0,Ye.m)(q)?ie((Ee,Le)=>(0,m.U)((gt,ht)=>q(Ee,gt,Le,ht))((0,h.Xf)(qe(Ee,Le))),Pe):("number"==typeof q&&(Pe=q),(0,A.e)((Ee,Le)=>function ze(qe,q,Pe,Ee,Le,gt,ht,St){const Ge=[];let bt=0,Ht=0,Pt=!1;const tt=()=>{Pt&&!Ge.length&&!bt&&q.complete()},Qe=Ke=>bt<Ee?He(Ke):Ge.push(Ke),He=Ke=>{gt&&q.next(Ke),bt++;let ke=!1;(0,h.Xf)(Pe(Ke,Ht++)).subscribe((0,N.x)(q,$e=>{Le?.($e),gt?Qe($e):q.next($e)},()=>{ke=!0},void 0,()=>{if(ke)try{for(bt--;Ge.length&&bt<Ee;){const $e=Ge.shift();ht?(0,De.f)(q,ht,()=>He($e)):He($e)}tt()}catch($e){q.error($e)}}))};return qe.subscribe((0,N.x)(q,Qe,()=>{Pt=!0,tt()})),()=>{St?.()}}(Ee,Le,qe,Pe)))}},5363:(bn,xt,x)=>{x.d(xt,{Q:()=>De});var m=x(9672),h=x(4482),A=x(5403);function De(N,ze=0){return(0,h.e)((Ye,ie)=>{Ye.subscribe((0,A.x)(ie,qe=>(0,m.f)(ie,N,()=>ie.next(qe),ze),()=>(0,m.f)(ie,N,()=>ie.complete(),ze),qe=>(0,m.f)(ie,N,()=>ie.error(qe),ze)))})}},1520:(bn,xt,x)=>{x.d(xt,{G:()=>A});var m=x(4482),h=x(5403);function A(){return(0,m.e)((De,N)=>{let ze,Ye=!1;De.subscribe((0,h.x)(N,ie=>{const qe=ze;ze=ie,Ye&&N.next([qe,ie]),Ye=!0}))})}},5026:(bn,xt,x)=>{x.d(xt,{R:()=>De});var m=x(4482),h=x(5403);function A(N,ze,Ye,ie,qe){return(q,Pe)=>{let Ee=Ye,Le=ze,gt=0;q.subscribe((0,h.x)(Pe,ht=>{const St=gt++;Le=Ee?N(Le,ht,St):(Ee=!0,ht),ie&&Pe.next(Le)},qe&&(()=>{Ee&&Pe.next(Le),Pe.complete()})))}}function De(N,ze){return(0,m.e)(A(N,ze,arguments.length>=2,!0))}},3099:(bn,xt,x)=>{x.d(xt,{B:()=>ze});var m=x(8996),h=x(5698),A=x(7579),De=x(930),N=x(4482);function ze(ie={}){const{connector:qe=(()=>new A.x),resetOnError:q=!0,resetOnComplete:Pe=!0,resetOnRefCountZero:Ee=!0}=ie;return Le=>{let gt=null,ht=null,St=null,Ge=0,bt=!1,Ht=!1;const Pt=()=>{ht?.unsubscribe(),ht=null},tt=()=>{Pt(),gt=St=null,bt=Ht=!1},Qe=()=>{const He=gt;tt(),He?.unsubscribe()};return(0,N.e)((He,Ke)=>{Ge++,!Ht&&!bt&&Pt();const ke=St=St??qe();Ke.add(()=>{Ge--,0===Ge&&!Ht&&!bt&&(ht=Ye(Qe,Ee))}),ke.subscribe(Ke),gt||(gt=new De.Hp({next:$e=>ke.next($e),error:$e=>{Ht=!0,Pt(),ht=Ye(tt,q,$e),ke.error($e)},complete:()=>{bt=!0,Pt(),ht=Ye(tt,Pe),ke.complete()}}),(0,m.D)(He).subscribe(gt))})(Le)}}function Ye(ie,qe,...q){return!0===qe?(ie(),null):!1===qe?null:qe(...q).pipe((0,h.q)(1)).subscribe(()=>ie())}},5684:(bn,xt,x)=>{x.d(xt,{T:()=>h});var m=x(9300);function h(A){return(0,m.h)((De,N)=>A<=N)}},8675:(bn,xt,x)=>{x.d(xt,{O:()=>De});var m=x(7272),h=x(3269),A=x(4482);function De(...N){const ze=(0,h.yG)(N);return(0,A.e)((Ye,ie)=>{(ze?(0,m.z)(N,Ye,ze):(0,m.z)(N,Ye)).subscribe(ie)})}},9468:(bn,xt,x)=>{x.d(xt,{R:()=>h});var m=x(4482);function h(A,De=0){return(0,m.e)((N,ze)=>{ze.add(A.schedule(()=>N.subscribe(ze),De))})}},3900:(bn,xt,x)=>{x.d(xt,{w:()=>De});var m=x(8421),h=x(4482),A=x(5403);function De(N,ze){return(0,h.e)((Ye,ie)=>{let qe=null,q=0,Pe=!1;const Ee=()=>Pe&&!qe&&ie.complete();Ye.subscribe((0,A.x)(ie,Le=>{qe?.unsubscribe();let gt=0;const ht=q++;(0,m.Xf)(N(Le,ht)).subscribe(qe=(0,A.x)(ie,St=>ie.next(ze?ze(Le,St,ht,gt++):St),()=>{qe=null,Ee()}))},()=>{Pe=!0,Ee()}))})}},5698:(bn,xt,x)=>{x.d(xt,{q:()=>De});var m=x(515),h=x(4482),A=x(5403);function De(N){return N<=0?()=>m.E:(0,h.e)((ze,Ye)=>{let ie=0;ze.subscribe((0,A.x)(Ye,qe=>{++ie<=N&&(Ye.next(qe),N<=ie&&Ye.complete())}))})}},2722:(bn,xt,x)=>{x.d(xt,{R:()=>N});var m=x(4482),h=x(5403),A=x(8421),De=x(5032);function N(ze){return(0,m.e)((Ye,ie)=>{(0,A.Xf)(ze).subscribe((0,h.x)(ie,()=>ie.complete(),De.Z)),!ie.closed&&Ye.subscribe(ie)})}},8505:(bn,xt,x)=>{x.d(xt,{b:()=>N});var m=x(576),h=x(4482),A=x(5403),De=x(4671);function N(ze,Ye,ie){const qe=(0,m.m)(ze)||Ye||ie?{next:ze,error:Ye,complete:ie}:ze;return qe?(0,h.e)((q,Pe)=>{var Ee;null===(Ee=qe.subscribe)||void 0===Ee||Ee.call(qe);let Le=!0;q.subscribe((0,A.x)(Pe,gt=>{var ht;null===(ht=qe.next)||void 0===ht||ht.call(qe,gt),Pe.next(gt)},()=>{var gt;Le=!1,null===(gt=qe.complete)||void 0===gt||gt.call(qe),Pe.complete()},gt=>{var ht;Le=!1,null===(ht=qe.error)||void 0===ht||ht.call(qe,gt),Pe.error(gt)},()=>{var gt,ht;Le&&(null===(gt=qe.unsubscribe)||void 0===gt||gt.call(qe)),null===(ht=qe.finalize)||void 0===ht||ht.call(qe)}))}):De.y}},8068:(bn,xt,x)=>{x.d(xt,{T:()=>De});var m=x(6805),h=x(4482),A=x(5403);function De(ze=N){return(0,h.e)((Ye,ie)=>{let qe=!1;Ye.subscribe((0,A.x)(ie,q=>{qe=!0,ie.next(q)},()=>qe?ie.complete():ie.error(ze())))})}function N(){return new m.K}},4408:(bn,xt,x)=>{x.d(xt,{o:()=>N});var m=x(727);class h extends m.w0{constructor(Ye,ie){super()}schedule(Ye,ie=0){return this}}const A={setInterval(ze,Ye,...ie){const{delegate:qe}=A;return qe?.setInterval?qe.setInterval(ze,Ye,...ie):setInterval(ze,Ye,...ie)},clearInterval(ze){const{delegate:Ye}=A;return(Ye?.clearInterval||clearInterval)(ze)},delegate:void 0};var De=x(8737);class N extends h{constructor(Ye,ie){super(Ye,ie),this.scheduler=Ye,this.work=ie,this.pending=!1}schedule(Ye,ie=0){if(this.closed)return this;this.state=Ye;const qe=this.id,q=this.scheduler;return null!=qe&&(this.id=this.recycleAsyncId(q,qe,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(q,this.id,ie),this}requestAsyncId(Ye,ie,qe=0){return A.setInterval(Ye.flush.bind(Ye,this),qe)}recycleAsyncId(Ye,ie,qe=0){if(null!=qe&&this.delay===qe&&!1===this.pending)return ie;A.clearInterval(ie)}execute(Ye,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const qe=this._execute(Ye,ie);if(qe)return qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ye,ie){let q,qe=!1;try{this.work(Ye)}catch(Pe){qe=!0,q=Pe||new Error("Scheduled action threw falsy error")}if(qe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Ye,scheduler:ie}=this,{actions:qe}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(qe,this),null!=Ye&&(this.id=this.recycleAsyncId(ie,Ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(bn,xt,x)=>{x.d(xt,{v:()=>A});var m=x(6063);class h{constructor(N,ze=h.now){this.schedulerActionCtor=N,this.now=ze}schedule(N,ze=0,Ye){return new this.schedulerActionCtor(this,N).schedule(Ye,ze)}}h.now=m.l.now;class A extends h{constructor(N,ze=h.now){super(N,ze),this.actions=[],this._active=!1,this._scheduled=void 0}flush(N){const{actions:ze}=this;if(this._active)return void ze.push(N);let Ye;this._active=!0;do{if(Ye=N.execute(N.state,N.delay))break}while(N=ze.shift());if(this._active=!1,Ye){for(;N=ze.shift();)N.unsubscribe();throw Ye}}}},4986:(bn,xt,x)=>{x.d(xt,{P:()=>De,z:()=>A});var m=x(4408);const A=new(x(7565).v)(m.o),De=A},6063:(bn,xt,x)=>{x.d(xt,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(bn,xt,x)=>{x.d(xt,{z:()=>m});const m={setTimeout(h,A,...De){const{delegate:N}=m;return N?.setTimeout?N.setTimeout(h,A,...De):setTimeout(h,A,...De)},clearTimeout(h){const{delegate:A}=m;return(A?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(bn,xt,x)=>{x.d(xt,{h:()=>h});const h=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bn,xt,x)=>{x.d(xt,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(bn,xt,x)=>{x.d(xt,{K:()=>h});const h=(0,x(3888).d)(A=>function(){A(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(bn,xt,x)=>{x.d(xt,{_6:()=>ze,jO:()=>De,yG:()=>N});var m=x(576),h=x(3532);function A(Ye){return Ye[Ye.length-1]}function De(Ye){return(0,m.m)(A(Ye))?Ye.pop():void 0}function N(Ye){return(0,h.K)(A(Ye))?Ye.pop():void 0}function ze(Ye,ie){return"number"==typeof A(Ye)?Ye.pop():ie}},4742:(bn,xt,x)=>{x.d(xt,{D:()=>N});const{isArray:m}=Array,{getPrototypeOf:h,prototype:A,keys:De}=Object;function N(Ye){if(1===Ye.length){const ie=Ye[0];if(m(ie))return{args:ie,keys:null};if(function ze(Ye){return Ye&&"object"==typeof Ye&&h(Ye)===A}(ie)){const qe=De(ie);return{args:qe.map(q=>ie[q]),keys:qe}}}return{args:Ye,keys:null}}},8737:(bn,xt,x)=>{function m(h,A){if(h){const De=h.indexOf(A);0<=De&&h.splice(De,1)}}x.d(xt,{P:()=>m})},3888:(bn,xt,x)=>{function m(h){const De=h(N=>{Error.call(N),N.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}x.d(xt,{d:()=>m})},1810:(bn,xt,x)=>{function m(h,A){return h.reduce((De,N,ze)=>(De[N]=A[ze],De),{})}x.d(xt,{n:()=>m})},2806:(bn,xt,x)=>{x.d(xt,{O:()=>De,x:()=>A});var m=x(2416);let h=null;function A(N){if(m.v.useDeprecatedSynchronousErrorHandling){const ze=!h;if(ze&&(h={errorThrown:!1,error:null}),N(),ze){const{errorThrown:Ye,error:ie}=h;if(h=null,Ye)throw ie}}else N()}function De(N){m.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=N)}},9672:(bn,xt,x)=>{function m(h,A,De,N=0,ze=!1){const Ye=A.schedule(function(){De(),ze?h.add(this.schedule(null,N)):this.unsubscribe()},N);if(h.add(Ye),!ze)return Ye}x.d(xt,{f:()=>m})},4671:(bn,xt,x)=>{function m(h){return h}x.d(xt,{y:()=>m})},1144:(bn,xt,x)=>{x.d(xt,{z:()=>m});const m=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(bn,xt,x)=>{x.d(xt,{D:()=>h});var m=x(576);function h(A){return Symbol.asyncIterator&&(0,m.m)(A?.[Symbol.asyncIterator])}},576:(bn,xt,x)=>{function m(h){return"function"==typeof h}x.d(xt,{m:()=>m})},3670:(bn,xt,x)=>{x.d(xt,{c:()=>A});var m=x(8822),h=x(576);function A(De){return(0,h.m)(De[m.L])}},6495:(bn,xt,x)=>{x.d(xt,{T:()=>A});var m=x(2202),h=x(576);function A(De){return(0,h.m)(De?.[m.h])}},8239:(bn,xt,x)=>{x.d(xt,{t:()=>h});var m=x(576);function h(A){return(0,m.m)(A?.then)}},3260:(bn,xt,x)=>{x.d(xt,{L:()=>De,Q:()=>A});var m=x(655),h=x(576);function A(N){return(0,m.FC)(this,arguments,function*(){const Ye=N.getReader();try{for(;;){const{value:ie,done:qe}=yield(0,m.qq)(Ye.read());if(qe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(ie)}}finally{Ye.releaseLock()}})}function De(N){return(0,h.m)(N?.getReader)}},3532:(bn,xt,x)=>{x.d(xt,{K:()=>h});var m=x(576);function h(A){return A&&(0,m.m)(A.schedule)}},4482:(bn,xt,x)=>{x.d(xt,{A:()=>h,e:()=>A});var m=x(576);function h(De){return(0,m.m)(De?.lift)}function A(De){return N=>{if(h(N))return N.lift(function(ze){try{return De(ze,this)}catch(Ye){this.error(Ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bn,xt,x)=>{x.d(xt,{Z:()=>De});var m=x(4004);const{isArray:h}=Array;function De(N){return(0,m.U)(ze=>function A(N,ze){return h(ze)?N(...ze):N(ze)}(N,ze))}},5032:(bn,xt,x)=>{function m(){}x.d(xt,{Z:()=>m})},9635:(bn,xt,x)=>{x.d(xt,{U:()=>A,z:()=>h});var m=x(4671);function h(...De){return A(De)}function A(De){return 0===De.length?m.y:1===De.length?De[0]:function(ze){return De.reduce((Ye,ie)=>ie(Ye),ze)}}},7849:(bn,xt,x)=>{x.d(xt,{h:()=>A});var m=x(2416),h=x(3410);function A(De){h.z.setTimeout(()=>{const{onUnhandledError:N}=m.v;if(!N)throw De;N(De)})}},4532:(bn,xt,x)=>{function m(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(xt,{z:()=>m})},655:(bn,xt,x)=>{x.d(xt,{FC:()=>bt,KL:()=>Pt,_T:()=>De,mG:()=>ie,pi:()=>A,qq:()=>Ge});var A=function(){return A=Object.assign||function(dt){for(var Rt,It=1,Jt=arguments.length;It<Jt;It++)for(var Kt in Rt=arguments[It])Object.prototype.hasOwnProperty.call(Rt,Kt)&&(dt[Kt]=Rt[Kt]);return dt},A.apply(this,arguments)};function De(ot,dt){var Rt={};for(var It in ot)Object.prototype.hasOwnProperty.call(ot,It)&&dt.indexOf(It)<0&&(Rt[It]=ot[It]);if(null!=ot&&"function"==typeof Object.getOwnPropertySymbols){var Jt=0;for(It=Object.getOwnPropertySymbols(ot);Jt<It.length;Jt++)dt.indexOf(It[Jt])<0&&Object.prototype.propertyIsEnumerable.call(ot,It[Jt])&&(Rt[It[Jt]]=ot[It[Jt]])}return Rt}function ie(ot,dt,Rt,It){return new(Rt||(Rt=Promise))(function(Kt,an){function fn(qt){try{vt(It.next(qt))}catch(Yt){an(Yt)}}function sn(qt){try{vt(It.throw(qt))}catch(Yt){an(Yt)}}function vt(qt){qt.done?Kt(qt.value):function Jt(Kt){return Kt instanceof Rt?Kt:new Rt(function(an){an(Kt)})}(qt.value).then(fn,sn)}vt((It=It.apply(ot,dt||[])).next())})}function Ge(ot){return this instanceof Ge?(this.v=ot,this):new Ge(ot)}function bt(ot,dt,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Jt,It=Rt.apply(ot,dt||[]),Kt=[];return Jt={},an("next"),an("throw"),an("return"),Jt[Symbol.asyncIterator]=function(){return this},Jt;function an(nn){It[nn]&&(Jt[nn]=function(Qt){return new Promise(function(Dn,Xt){Kt.push([nn,Qt,Dn,Xt])>1||fn(nn,Qt)})})}function fn(nn,Qt){try{!function sn(nn){nn.value instanceof Ge?Promise.resolve(nn.value.v).then(vt,qt):Yt(Kt[0][2],nn)}(It[nn](Qt))}catch(Dn){Yt(Kt[0][3],Dn)}}function vt(nn){fn("next",nn)}function qt(nn){fn("throw",nn)}function Yt(nn,Qt){nn(Qt),Kt.shift(),Kt.length&&fn(Kt[0][0],Kt[0][1])}}function Pt(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,dt=ot[Symbol.asyncIterator];return dt?dt.call(ot):(ot=function Ee(ot){var dt="function"==typeof Symbol&&Symbol.iterator,Rt=dt&&ot[dt],It=0;if(Rt)return Rt.call(ot);if(ot&&"number"==typeof ot.length)return{next:function(){return ot&&It>=ot.length&&(ot=void 0),{value:ot&&ot[It++],done:!ot}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ot),Rt={},It("next"),It("throw"),It("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function It(Kt){Rt[Kt]=ot[Kt]&&function(an){return new Promise(function(fn,sn){!function Jt(Kt,an,fn,sn){Promise.resolve(sn).then(function(vt){Kt({value:vt,done:fn})},an)}(fn,sn,(an=ot[Kt](an)).done,an.value)})}}}},7340:(bn,xt,x)=>{x.d(xt,{F4:()=>q,IO:()=>ht,LC:()=>h,SB:()=>qe,X$:()=>De,ZE:()=>Ht,ZN:()=>bt,_j:()=>m,eR:()=>Pe,jt:()=>N,k1:()=>Pt,l3:()=>A,oB:()=>ie,pV:()=>Le,ru:()=>ze,vP:()=>Ye});class m{}class h{}const A="*";function De(tt,Qe){return{type:7,name:tt,definitions:Qe,options:{}}}function N(tt,Qe=null){return{type:4,styles:Qe,timings:tt}}function ze(tt,Qe=null){return{type:3,steps:tt,options:Qe}}function Ye(tt,Qe=null){return{type:2,steps:tt,options:Qe}}function ie(tt){return{type:6,styles:tt,offset:null}}function qe(tt,Qe,He){return{type:0,name:tt,styles:Qe,options:He}}function q(tt){return{type:5,steps:tt}}function Pe(tt,Qe,He=null){return{type:1,expr:tt,animation:Qe,options:He}}function Le(tt=null){return{type:9,options:tt}}function ht(tt,Qe,He=null){return{type:11,selector:tt,animation:Qe,options:He}}function Ge(tt){Promise.resolve().then(tt)}class bt{constructor(Qe=0,He=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Qe+He}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}onStart(Qe){this._originalOnStartFns.push(Qe),this._onStartFns.push(Qe)}onDone(Qe){this._originalOnDoneFns.push(Qe),this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ge(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Qe){this._position=this.totalTime?Qe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Qe){const He="start"==Qe?this._onStartFns:this._onDoneFns;He.forEach(Ke=>Ke()),He.length=0}}class Ht{constructor(Qe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Qe;let He=0,Ke=0,ke=0;const $e=this.players.length;0==$e?Ge(()=>this._onFinish()):this.players.forEach(Dt=>{Dt.onDone(()=>{++He==$e&&this._onFinish()}),Dt.onDestroy(()=>{++Ke==$e&&this._onDestroy()}),Dt.onStart(()=>{++ke==$e&&this._onStart()})}),this.totalTime=this.players.reduce((Dt,ot)=>Math.max(Dt,ot.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}init(){this.players.forEach(Qe=>Qe.init())}onStart(Qe){this._onStartFns.push(Qe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[])}onDone(Qe){this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Qe=>Qe.play())}pause(){this.players.forEach(Qe=>Qe.pause())}restart(){this.players.forEach(Qe=>Qe.restart())}finish(){this._onFinish(),this.players.forEach(Qe=>Qe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Qe=>Qe.destroy()),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this.players.forEach(Qe=>Qe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Qe){const He=Qe*this.totalTime;this.players.forEach(Ke=>{const ke=Ke.totalTime?Math.min(1,He/Ke.totalTime):1;Ke.setPosition(ke)})}getPosition(){const Qe=this.players.reduce((He,Ke)=>null===He||Ke.totalTime>He.totalTime?Ke:He,null);return null!=Qe?Qe.getPosition():0}beforeDestroy(){this.players.forEach(Qe=>{Qe.beforeDestroy&&Qe.beforeDestroy()})}triggerCallback(Qe){const He="start"==Qe?this._onStartFns:this._onDoneFns;He.forEach(Ke=>Ke()),He.length=0}}const Pt="!"},2693:(bn,xt,x)=>{x.d(xt,{rt:()=>pt,kH:()=>nt,mK:()=>jt,Em:()=>An,tE:()=>je,qV:()=>un,qm:()=>Oe,ic:()=>Rn,X6:()=>Nn,yG:()=>vn});var m=x(6895),h=x(4650),A=x(3353),De=x(7579),N=x(727),ze=x(1135),Ye=x(9646),ie=x(9521),qe=x(8505),q=x(8372),Pe=x(9300),Ee=x(4004),Le=x(5698),gt=x(5684),ht=x(1884),St=x(2722),Ge=x(1281),bt=x(9643),Ht=x(9841),Pt=x(7272),tt=x(9751),Qe=x(8675);const Ke=new Set;let ke,$e=(()=>{class Ze{constructor(Re){this._platform=Re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ot}matchMedia(Re){return(this._platform.WEBKIT||this._platform.BLINK)&&function Dt(Ze){if(!Ke.has(Ze))try{ke||(ke=document.createElement("style"),ke.setAttribute("type","text/css"),document.head.appendChild(ke)),ke.sheet&&(ke.sheet.insertRule(`@media ${Ze} {body{ }}`,0),Ke.add(Ze))}catch(We){console.error(We)}}(Re),this._matchMedia(Re)}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(A.t4))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();function ot(Ze){return{matches:"all"===Ze||""===Ze,media:Ze,addListener:()=>{},removeListener:()=>{}}}let dt=(()=>{class Ze{constructor(Re,se){this._mediaMatcher=Re,this._zone=se,this._queries=new Map,this._destroySubject=new De.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Re){return Rt((0,Ge.Eq)(Re)).some(he=>this._registerQuery(he).mql.matches)}observe(Re){const he=Rt((0,Ge.Eq)(Re)).map(Se=>this._registerQuery(Se).observable);let me=(0,Ht.a)(he);return me=(0,Pt.z)(me.pipe((0,Le.q)(1)),me.pipe((0,gt.T)(1),(0,q.b)(0))),me.pipe((0,Ee.U)(Se=>{const _e={matches:!1,breakpoints:{}};return Se.forEach(({matches:we,query:H})=>{_e.matches=_e.matches||we,_e.breakpoints[H]=we}),_e}))}_registerQuery(Re){if(this._queries.has(Re))return this._queries.get(Re);const se=this._mediaMatcher.matchMedia(Re),me={observable:new tt.y(Se=>{const _e=we=>this._zone.run(()=>Se.next(we));return se.addListener(_e),()=>{se.removeListener(_e)}}).pipe((0,Qe.O)(se),(0,Ee.U)(({matches:Se})=>({query:Re,matches:Se})),(0,St.R)(this._destroySubject)),mql:se};return this._queries.set(Re,me),me}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG($e),h.LFG(h.R0b))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();function Rt(Ze){return Ze.map(We=>We.split(",")).reduce((We,Re)=>We.concat(Re)).map(We=>We.trim())}class An extends class Xt{constructor(We){this._items=We,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new De.x,this._typeaheadSubscription=N.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Re=>Re.disabled,this._pressedLetters=[],this.tabOut=new De.x,this.change=new De.x,We instanceof h.n_E&&We.changes.subscribe(Re=>{if(this._activeItem){const he=Re.toArray().indexOf(this._activeItem);he>-1&&he!==this._activeItemIndex&&(this._activeItemIndex=he)}})}skipPredicate(We){return this._skipPredicateFn=We,this}withWrap(We=!0){return this._wrap=We,this}withVerticalOrientation(We=!0){return this._vertical=We,this}withHorizontalOrientation(We){return this._horizontal=We,this}withAllowedModifierKeys(We){return this._allowedModifierKeys=We,this}withTypeAhead(We=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,qe.b)(Re=>this._pressedLetters.push(Re)),(0,q.b)(We),(0,Pe.h)(()=>this._pressedLetters.length>0),(0,Ee.U)(()=>this._pressedLetters.join(""))).subscribe(Re=>{const se=this._getItemsArray();for(let he=1;he<se.length+1;he++){const me=(this._activeItemIndex+he)%se.length,Se=se[me];if(!this._skipPredicateFn(Se)&&0===Se.getLabel().toUpperCase().trim().indexOf(Re)){this.setActiveItem(me);break}}this._pressedLetters=[]}),this}withHomeAndEnd(We=!0){return this._homeAndEnd=We,this}setActiveItem(We){const Re=this._activeItem;this.updateActiveItem(We),this._activeItem!==Re&&this.change.next(this._activeItemIndex)}onKeydown(We){const Re=We.keyCode,he=["altKey","ctrlKey","metaKey","shiftKey"].every(me=>!We[me]||this._allowedModifierKeys.indexOf(me)>-1);switch(Re){case ie.Mf:return void this.tabOut.next();case ie.JH:if(this._vertical&&he){this.setNextItemActive();break}return;case ie.LH:if(this._vertical&&he){this.setPreviousItemActive();break}return;case ie.SV:if(this._horizontal&&he){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ie.oh:if(this._horizontal&&he){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ie.Sd:if(this._homeAndEnd&&he){this.setFirstItemActive();break}return;case ie.uR:if(this._homeAndEnd&&he){this.setLastItemActive();break}return;default:return void((he||(0,ie.Vb)(We,"shiftKey"))&&(We.key&&1===We.key.length?this._letterKeyStream.next(We.key.toLocaleUpperCase()):(Re>=ie.A&&Re<=ie.Z||Re>=ie.xE&&Re<=ie.aO)&&this._letterKeyStream.next(String.fromCharCode(Re))))}this._pressedLetters=[],We.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(We){const Re=this._getItemsArray(),se="number"==typeof We?We:Re.indexOf(We);this._activeItem=Re[se]??null,this._activeItemIndex=se}_setActiveItemByDelta(We){this._wrap?this._setActiveInWrapMode(We):this._setActiveInDefaultMode(We)}_setActiveInWrapMode(We){const Re=this._getItemsArray();for(let se=1;se<=Re.length;se++){const he=(this._activeItemIndex+We*se+Re.length)%Re.length;if(!this._skipPredicateFn(Re[he]))return void this.setActiveItem(he)}}_setActiveInDefaultMode(We){this._setActiveItemByIndex(this._activeItemIndex+We,We)}_setActiveItemByIndex(We,Re){const se=this._getItemsArray();if(se[We]){for(;this._skipPredicateFn(se[We]);)if(!se[We+=Re])return;this.setActiveItem(We)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(We){return this._origin=We,this}setActiveItem(We){super.setActiveItem(We),this.activeItem&&this.activeItem.focus(this._origin)}}let Rn=(()=>{class Ze{constructor(Re){this._platform=Re}isDisabled(Re){return Re.hasAttribute("disabled")}isVisible(Re){return function $n(Ze){return!!(Ze.offsetWidth||Ze.offsetHeight||"function"==typeof Ze.getClientRects&&Ze.getClientRects().length)}(Re)&&"visible"===getComputedStyle(Re).visibility}isTabbable(Re){if(!this._platform.isBrowser)return!1;const se=function zn(Ze){try{return Ze.frameElement}catch{return null}}(function wt(Ze){return Ze.ownerDocument&&Ze.ownerDocument.defaultView||window}(Re));if(se&&(-1===ge(se)||!this.isVisible(se)))return!1;let he=Re.nodeName.toLowerCase(),me=ge(Re);return Re.hasAttribute("contenteditable")?-1!==me:!("iframe"===he||"object"===he||this._platform.WEBKIT&&this._platform.IOS&&!function rt(Ze){let We=Ze.nodeName.toLowerCase(),Re="input"===We&&Ze.type;return"text"===Re||"password"===Re||"select"===We||"textarea"===We}(Re))&&("audio"===he?!!Re.hasAttribute("controls")&&-1!==me:"video"===he?-1!==me&&(null!==me||this._platform.FIREFOX||Re.hasAttribute("controls")):Re.tabIndex>=0)}isFocusable(Re,se){return function Xe(Ze){return!function Gn(Ze){return function _n(Ze){return"input"==Ze.nodeName.toLowerCase()}(Ze)&&"hidden"==Ze.type}(Ze)&&(function Vn(Ze){let We=Ze.nodeName.toLowerCase();return"input"===We||"select"===We||"button"===We||"textarea"===We}(Ze)||function qn(Ze){return function Be(Ze){return"a"==Ze.nodeName.toLowerCase()}(Ze)&&Ze.hasAttribute("href")}(Ze)||Ze.hasAttribute("contenteditable")||le(Ze))}(Re)&&!this.isDisabled(Re)&&(se?.ignoreVisibility||this.isVisible(Re))}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(A.t4))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();function le(Ze){if(!Ze.hasAttribute("tabindex")||void 0===Ze.tabIndex)return!1;let We=Ze.getAttribute("tabindex");return!(!We||isNaN(parseInt(We,10)))}function ge(Ze){if(!le(Ze))return null;const We=parseInt(Ze.getAttribute("tabindex")||"",10);return isNaN(We)?-1:We}class $t{constructor(We,Re,se,he,me=!1){this._element=We,this._checker=Re,this._ngZone=se,this._document=he,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,me||this.attachAnchors()}get enabled(){return this._enabled}set enabled(We){this._enabled=We,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(We,this._startAnchor),this._toggleAnchorTabIndex(We,this._endAnchor))}destroy(){const We=this._startAnchor,Re=this._endAnchor;We&&(We.removeEventListener("focus",this.startAnchorListener),We.remove()),Re&&(Re.removeEventListener("focus",this.endAnchorListener),Re.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(We){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusInitialElement(We)))})}focusFirstTabbableElementWhenReady(We){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusFirstTabbableElement(We)))})}focusLastTabbableElementWhenReady(We){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusLastTabbableElement(We)))})}_getRegionBoundary(We){const Re=this._element.querySelectorAll(`[cdk-focus-region-${We}], [cdkFocusRegion${We}], [cdk-focus-${We}]`);return"start"==We?Re.length?Re[0]:this._getFirstTabbableElement(this._element):Re.length?Re[Re.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(We){const Re=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Re){if(!this._checker.isFocusable(Re)){const se=this._getFirstTabbableElement(Re);return se?.focus(We),!!se}return Re.focus(We),!0}return this.focusFirstTabbableElement(We)}focusFirstTabbableElement(We){const Re=this._getRegionBoundary("start");return Re&&Re.focus(We),!!Re}focusLastTabbableElement(We){const Re=this._getRegionBoundary("end");return Re&&Re.focus(We),!!Re}hasAttached(){return this._hasAttached}_getFirstTabbableElement(We){if(this._checker.isFocusable(We)&&this._checker.isTabbable(We))return We;const Re=We.children;for(let se=0;se<Re.length;se++){const he=Re[se].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Re[se]):null;if(he)return he}return null}_getLastTabbableElement(We){if(this._checker.isFocusable(We)&&this._checker.isTabbable(We))return We;const Re=We.children;for(let se=Re.length-1;se>=0;se--){const he=Re[se].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Re[se]):null;if(he)return he}return null}_createAnchor(){const We=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,We),We.classList.add("cdk-visually-hidden"),We.classList.add("cdk-focus-trap-anchor"),We.setAttribute("aria-hidden","true"),We}_toggleAnchorTabIndex(We,Re){We?Re.setAttribute("tabindex","0"):Re.removeAttribute("tabindex")}toggleAnchors(We){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(We,this._startAnchor),this._toggleAnchorTabIndex(We,this._endAnchor))}_executeOnStable(We){this._ngZone.isStable?We():this._ngZone.onStable.pipe((0,Le.q)(1)).subscribe(We)}}let un=(()=>{class Ze{constructor(Re,se,he){this._checker=Re,this._ngZone=se,this._document=he}create(Re,se=!1){return new $t(Re,this._checker,this._ngZone,this._document,se)}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(Rn),h.LFG(h.R0b),h.LFG(m.K0))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),jt=(()=>{class Ze{constructor(Re,se,he){this._elementRef=Re,this._focusTrapFactory=se,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Re){this.focusTrap.enabled=(0,Ge.Ig)(Re)}get autoCapture(){return this._autoCapture}set autoCapture(Re){this._autoCapture=(0,Ge.Ig)(Re)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Re){const se=Re.autoCapture;se&&!se.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,A.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.Y36(h.SBq),h.Y36(un),h.Y36(m.K0))},Ze.\u0275dir=h.lG2({type:Ze,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[h.TTD]}),Ze})();function Nn(Ze){return 0===Ze.buttons||0===Ze.offsetX&&0===Ze.offsetY}function vn(Ze){const We=Ze.touches&&Ze.touches[0]||Ze.changedTouches&&Ze.changedTouches[0];return!(!We||-1!==We.identifier||null!=We.radiusX&&1!==We.radiusX||null!=We.radiusY&&1!==We.radiusY)}const kt=new h.OlP("cdk-input-modality-detector-options"),Ot={ignoreKeys:[ie.zL,ie.jx,ie.b2,ie.MW,ie.JU]},ae=(0,A.i$)({passive:!0,capture:!0});let K=(()=>{class Ze{constructor(Re,se,he,me){this._platform=Re,this._mostRecentTarget=null,this._modality=new ze.X(null),this._lastTouchMs=0,this._onKeydown=Se=>{this._options?.ignoreKeys?.some(_e=>_e===Se.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,A.sA)(Se))},this._onMousedown=Se=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Nn(Se)?"keyboard":"mouse"),this._mostRecentTarget=(0,A.sA)(Se))},this._onTouchstart=Se=>{vn(Se)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,A.sA)(Se))},this._options={...Ot,...me},this.modalityDetected=this._modality.pipe((0,gt.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ht.x)()),Re.isBrowser&&se.runOutsideAngular(()=>{he.addEventListener("keydown",this._onKeydown,ae),he.addEventListener("mousedown",this._onMousedown,ae),he.addEventListener("touchstart",this._onTouchstart,ae)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ae),document.removeEventListener("mousedown",this._onMousedown,ae),document.removeEventListener("touchstart",this._onTouchstart,ae))}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(A.t4),h.LFG(h.R0b),h.LFG(m.K0),h.LFG(kt,8))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const Mt=new h.OlP("cdk-focus-monitor-default-options"),Lt=(0,A.i$)({passive:!0,capture:!0});let je=(()=>{class Ze{constructor(Re,se,he,me,Se){this._ngZone=Re,this._platform=se,this._inputModalityDetector=he,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new De.x,this._rootNodeFocusAndBlurListener=_e=>{for(let H=(0,A.sA)(_e);H;H=H.parentElement)"focus"===_e.type?this._onFocus(_e,H):this._onBlur(_e,H)},this._document=me,this._detectionMode=Se?.detectionMode||0}monitor(Re,se=!1){const he=(0,Ge.fI)(Re);if(!this._platform.isBrowser||1!==he.nodeType)return(0,Ye.of)(null);const me=(0,A.kV)(he)||this._getDocument(),Se=this._elementInfo.get(he);if(Se)return se&&(Se.checkChildren=!0),Se.subject;const _e={checkChildren:se,subject:new De.x,rootNode:me};return this._elementInfo.set(he,_e),this._registerGlobalListeners(_e),_e.subject}stopMonitoring(Re){const se=(0,Ge.fI)(Re),he=this._elementInfo.get(se);he&&(he.subject.complete(),this._setClasses(se),this._elementInfo.delete(se),this._removeGlobalListeners(he))}focusVia(Re,se,he){const me=(0,Ge.fI)(Re);me===this._getDocument().activeElement?this._getClosestElementsInfo(me).forEach(([_e,we])=>this._originChanged(_e,se,we)):(this._setOrigin(se),"function"==typeof me.focus&&me.focus(he))}ngOnDestroy(){this._elementInfo.forEach((Re,se)=>this.stopMonitoring(se))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Re){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Re)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Re&&this._isLastInteractionFromInputLabel(Re)?"mouse":"program"}_shouldBeAttributedToTouch(Re){return 1===this._detectionMode||!!Re?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Re,se){Re.classList.toggle("cdk-focused",!!se),Re.classList.toggle("cdk-touch-focused","touch"===se),Re.classList.toggle("cdk-keyboard-focused","keyboard"===se),Re.classList.toggle("cdk-mouse-focused","mouse"===se),Re.classList.toggle("cdk-program-focused","program"===se)}_setOrigin(Re,se=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Re,this._originFromTouchInteraction="touch"===Re&&se,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Re,se){const he=this._elementInfo.get(se),me=(0,A.sA)(Re);!he||!he.checkChildren&&se!==me||this._originChanged(se,this._getFocusOrigin(me),he)}_onBlur(Re,se){const he=this._elementInfo.get(se);!he||he.checkChildren&&Re.relatedTarget instanceof Node&&se.contains(Re.relatedTarget)||(this._setClasses(se),this._emitOrigin(he,null))}_emitOrigin(Re,se){Re.subject.observers.length&&this._ngZone.run(()=>Re.subject.next(se))}_registerGlobalListeners(Re){if(!this._platform.isBrowser)return;const se=Re.rootNode,he=this._rootNodeFocusListenerCount.get(se)||0;he||this._ngZone.runOutsideAngular(()=>{se.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),se.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lt)}),this._rootNodeFocusListenerCount.set(se,he+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,St.R)(this._stopInputModalityDetector)).subscribe(me=>{this._setOrigin(me,!0)}))}_removeGlobalListeners(Re){const se=Re.rootNode;if(this._rootNodeFocusListenerCount.has(se)){const he=this._rootNodeFocusListenerCount.get(se);he>1?this._rootNodeFocusListenerCount.set(se,he-1):(se.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),se.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lt),this._rootNodeFocusListenerCount.delete(se))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Re,se,he){this._setClasses(Re,se),this._emitOrigin(he,se),this._lastFocusOrigin=se}_getClosestElementsInfo(Re){const se=[];return this._elementInfo.forEach((he,me)=>{(me===Re||he.checkChildren&&me.contains(Re))&&se.push([me,he])}),se}_isLastInteractionFromInputLabel(Re){const{_mostRecentTarget:se,mostRecentModality:he}=this._inputModalityDetector;if("mouse"!==he||!se||se===Re||"INPUT"!==Re.nodeName&&"TEXTAREA"!==Re.nodeName||Re.disabled)return!1;const me=Re.labels;if(me)for(let Se=0;Se<me.length;Se++)if(me[Se].contains(se))return!0;return!1}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(h.R0b),h.LFG(A.t4),h.LFG(K),h.LFG(m.K0,8),h.LFG(Mt,8))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),nt=(()=>{class Ze{constructor(Re,se){this._elementRef=Re,this._focusMonitor=se,this._focusOrigin=null,this.cdkFocusChange=new h.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Re=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Re,1===Re.nodeType&&Re.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(se=>{this._focusOrigin=se,this.cdkFocusChange.emit(se)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.Y36(h.SBq),h.Y36(je))},Ze.\u0275dir=h.lG2({type:Ze,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),Ze})();const ve="cdk-high-contrast-black-on-white",Ce="cdk-high-contrast-white-on-black",ne="cdk-high-contrast-active";let Oe=(()=>{class Ze{constructor(Re,se){this._platform=Re,this._document=se,this._breakpointSubscription=(0,h.f3M)(dt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Re=this._document.createElement("div");Re.style.backgroundColor="rgb(1,2,3)",Re.style.position="absolute",this._document.body.appendChild(Re);const se=this._document.defaultView||window,he=se&&se.getComputedStyle?se.getComputedStyle(Re):null,me=(he&&he.backgroundColor||"").replace(/ /g,"");switch(Re.remove(),me){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Re=this._document.body.classList;Re.remove(ne,ve,Ce),this._hasCheckedHighContrastMode=!0;const se=this.getHighContrastMode();1===se?Re.add(ne,ve):2===se&&Re.add(ne,Ce)}}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(A.t4),h.LFG(m.K0))},Ze.\u0275prov=h.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),pt=(()=>{class Ze{constructor(Re){Re._applyBodyHighContrastModeCssClasses()}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(h.LFG(Oe))},Ze.\u0275mod=h.oAB({type:Ze}),Ze.\u0275inj=h.cJS({imports:[bt.Q8]}),Ze})()},445:(bn,xt,x)=>{x.d(xt,{Is:()=>Ye,vT:()=>qe});var m=x(4650),h=x(6895);const A=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function De(){return(0,m.f3M)(h.K0)}}),N=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ye=(()=>{class q{constructor(Ee){if(this.value="ltr",this.change=new m.vpe,Ee){const gt=Ee.documentElement?Ee.documentElement.dir:null;this.value=function ze(q){const Pe=q?.toLowerCase()||"";return"auto"===Pe&&typeof navigator<"u"&&navigator?.language?N.test(navigator.language)?"rtl":"ltr":"rtl"===Pe?"rtl":"ltr"}((Ee.body?Ee.body.dir:null)||gt||"ltr")}}ngOnDestroy(){this.change.complete()}}return q.\u0275fac=function(Ee){return new(Ee||q)(m.LFG(A,8))},q.\u0275prov=m.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),qe=(()=>{class q{}return q.\u0275fac=function(Ee){return new(Ee||q)},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({}),q})()},1281:(bn,xt,x)=>{x.d(xt,{Eq:()=>N,HM:()=>ze,Ig:()=>h,du:()=>ie,fI:()=>Ye,su:()=>A});var m=x(4650);function h(qe){return null!=qe&&"false"!=`${qe}`}function A(qe,q=0){return function De(qe){return!isNaN(parseFloat(qe))&&!isNaN(Number(qe))}(qe)?Number(qe):q}function N(qe){return Array.isArray(qe)?qe:[qe]}function ze(qe){return null==qe?"":"string"==typeof qe?qe:`${qe}px`}function Ye(qe){return qe instanceof m.SBq?qe.nativeElement:qe}function ie(qe,q=/\s+/){const Pe=[];if(null!=qe){const Ee=Array.isArray(qe)?qe:`${qe}`.split(q);for(const Le of Ee){const gt=`${Le}`.trim();gt&&Pe.push(gt)}}return Pe}},9521:(bn,xt,x)=>{x.d(xt,{A:()=>Yt,JH:()=>Pt,JU:()=>ze,K5:()=>N,Ku:()=>Le,LH:()=>bt,L_:()=>Ee,MW:()=>yt,Mf:()=>A,SV:()=>Ht,Sd:()=>St,VM:()=>gt,Vb:()=>Bt,Z:()=>Ne,aO:()=>an,b2:()=>Vt,hY:()=>Pe,jx:()=>Ye,oh:()=>Ge,uR:()=>ht,xE:()=>ke,zL:()=>ie});const A=9,N=13,ze=16,Ye=17,ie=18,Pe=27,Ee=32,Le=33,gt=34,ht=35,St=36,Ge=37,bt=38,Ht=39,Pt=40,ke=48,an=57,Yt=65,Ne=90,yt=91,Vt=224;function Bt(zt,...yn){return yn.length?yn.some(In=>zt[In]):zt.altKey||zt.shiftKey||zt.ctrlKey||zt.metaKey}},9643:(bn,xt,x)=>{x.d(xt,{Q8:()=>qe,wD:()=>ie});var m=x(1281),h=x(4650),A=x(9751),De=x(7579),N=x(8372);let ze=(()=>{class q{create(Ee){return typeof MutationObserver>"u"?null:new MutationObserver(Ee)}}return q.\u0275fac=function(Ee){return new(Ee||q)},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Ye=(()=>{class q{constructor(Ee){this._mutationObserverFactory=Ee,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Ee,Le)=>this._cleanupObserver(Le))}observe(Ee){const Le=(0,m.fI)(Ee);return new A.y(gt=>{const St=this._observeElement(Le).subscribe(gt);return()=>{St.unsubscribe(),this._unobserveElement(Le)}})}_observeElement(Ee){if(this._observedElements.has(Ee))this._observedElements.get(Ee).count++;else{const Le=new De.x,gt=this._mutationObserverFactory.create(ht=>Le.next(ht));gt&&gt.observe(Ee,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ee,{observer:gt,stream:Le,count:1})}return this._observedElements.get(Ee).stream}_unobserveElement(Ee){this._observedElements.has(Ee)&&(this._observedElements.get(Ee).count--,this._observedElements.get(Ee).count||this._cleanupObserver(Ee))}_cleanupObserver(Ee){if(this._observedElements.has(Ee)){const{observer:Le,stream:gt}=this._observedElements.get(Ee);Le&&Le.disconnect(),gt.complete(),this._observedElements.delete(Ee)}}}return q.\u0275fac=function(Ee){return new(Ee||q)(h.LFG(ze))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),ie=(()=>{class q{constructor(Ee,Le,gt){this._contentObserver=Ee,this._elementRef=Le,this._ngZone=gt,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Ee){this._disabled=(0,m.Ig)(Ee),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ee){this._debounce=(0,m.su)(Ee),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ee=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Ee.pipe((0,N.b)(this.debounce)):Ee).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return q.\u0275fac=function(Ee){return new(Ee||q)(h.Y36(Ye),h.Y36(h.SBq),h.Y36(h.R0b))},q.\u0275dir=h.lG2({type:q,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),q})(),qe=(()=>{class q{}return q.\u0275fac=function(Ee){return new(Ee||q)},q.\u0275mod=h.oAB({type:q}),q.\u0275inj=h.cJS({providers:[ze]}),q})()},8184:(bn,xt,x)=>{x.d(xt,{Iu:()=>Jt,U8:()=>qn,X_:()=>Qe,Xj:()=>It,_G:()=>fn,aV:()=>An});var m=x(8605),h=x(6895),A=x(4650),De=x(1281),N=x(3353),ze=x(445),Ye=x(4080),ie=x(7579),qe=x(727),q=x(6451),Pe=x(5698),Ee=x(2722);const Le=(0,N.Mq)();class gt{constructor(le,ge){this._viewportRuler=le,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ge}attach(){}enable(){if(this._canBeEnabled()){const le=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=le.style.left||"",this._previousHTMLStyles.top=le.style.top||"",le.style.left=(0,De.HM)(-this._previousScrollPosition.left),le.style.top=(0,De.HM)(-this._previousScrollPosition.top),le.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const le=this._document.documentElement,rt=le.style,Xe=this._document.body.style,wt=rt.scrollBehavior||"",$t=Xe.scrollBehavior||"";this._isEnabled=!1,rt.left=this._previousHTMLStyles.left,rt.top=this._previousHTMLStyles.top,le.classList.remove("cdk-global-scrollblock"),Le&&(rt.scrollBehavior=Xe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Le&&(rt.scrollBehavior=wt,Xe.scrollBehavior=$t)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ge=this._document.body,rt=this._viewportRuler.getViewportSize();return ge.scrollHeight>rt.height||ge.scrollWidth>rt.width}}class St{constructor(le,ge,rt,Xe){this._scrollDispatcher=le,this._ngZone=ge,this._viewportRuler=rt,this._config=Xe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(le){this._overlayRef=le}enable(){if(this._scrollSubscription)return;const le=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=le.subscribe(()=>{const ge=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ge-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=le.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ge{enable(){}disable(){}attach(){}}function bt(Be,le){return le.some(ge=>Be.bottom<ge.top||Be.top>ge.bottom||Be.right<ge.left||Be.left>ge.right)}function Ht(Be,le){return le.some(ge=>Be.top<ge.top||Be.bottom>ge.bottom||Be.left<ge.left||Be.right>ge.right)}class Pt{constructor(le,ge,rt,Xe){this._scrollDispatcher=le,this._viewportRuler=ge,this._ngZone=rt,this._config=Xe,this._scrollSubscription=null}attach(le){this._overlayRef=le}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ge=this._overlayRef.overlayElement.getBoundingClientRect(),{width:rt,height:Xe}=this._viewportRuler.getViewportSize();bt(ge,[{width:rt,height:Xe,bottom:Xe,right:rt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tt=(()=>{class Be{constructor(ge,rt,Xe,wt){this._scrollDispatcher=ge,this._viewportRuler=rt,this._ngZone=Xe,this.noop=()=>new Ge,this.close=$t=>new St(this._scrollDispatcher,this._ngZone,this._viewportRuler,$t),this.block=()=>new gt(this._viewportRuler,this._document),this.reposition=$t=>new Pt(this._scrollDispatcher,this._viewportRuler,this._ngZone,$t),this._document=wt}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(m.mF),A.LFG(m.rL),A.LFG(A.R0b),A.LFG(h.K0))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();class Qe{constructor(le){if(this.scrollStrategy=new Ge,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,le){const ge=Object.keys(le);for(const rt of ge)void 0!==le[rt]&&(this[rt]=le[rt])}}}class ke{constructor(le,ge){this.connectionPair=le,this.scrollableViewProperties=ge}}let ot=(()=>{class Be{constructor(ge){this._attachedOverlays=[],this._document=ge}ngOnDestroy(){this.detach()}add(ge){this.remove(ge),this._attachedOverlays.push(ge)}remove(ge){const rt=this._attachedOverlays.indexOf(ge);rt>-1&&this._attachedOverlays.splice(rt,1),0===this._attachedOverlays.length&&this.detach()}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(h.K0))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),dt=(()=>{class Be extends ot{constructor(ge,rt){super(ge),this._ngZone=rt,this._keydownListener=Xe=>{const wt=this._attachedOverlays;for(let $t=wt.length-1;$t>-1;$t--)if(wt[$t]._keydownEvents.observers.length>0){const un=wt[$t]._keydownEvents;this._ngZone?this._ngZone.run(()=>un.next(Xe)):un.next(Xe);break}}}add(ge){super.add(ge),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(h.K0),A.LFG(A.R0b,8))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),Rt=(()=>{class Be extends ot{constructor(ge,rt,Xe){super(ge),this._platform=rt,this._ngZone=Xe,this._cursorStyleIsSet=!1,this._pointerDownListener=wt=>{this._pointerDownEventTarget=(0,N.sA)(wt)},this._clickListener=wt=>{const $t=(0,N.sA)(wt),un="click"===wt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:$t;this._pointerDownEventTarget=null;const jt=this._attachedOverlays.slice();for(let mt=jt.length-1;mt>-1;mt--){const Ne=jt[mt];if(Ne._outsidePointerEvents.observers.length<1||!Ne.hasAttached())continue;if(Ne.overlayElement.contains($t)||Ne.overlayElement.contains(un))break;const yt=Ne._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>yt.next(wt)):yt.next(wt)}}}add(ge){if(super.add(ge),!this._isAttached){const rt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(rt)):this._addEventListeners(rt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=rt.style.cursor,rt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ge=this._document.body;ge.removeEventListener("pointerdown",this._pointerDownListener,!0),ge.removeEventListener("click",this._clickListener,!0),ge.removeEventListener("auxclick",this._clickListener,!0),ge.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ge.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ge){ge.addEventListener("pointerdown",this._pointerDownListener,!0),ge.addEventListener("click",this._clickListener,!0),ge.addEventListener("auxclick",this._clickListener,!0),ge.addEventListener("contextmenu",this._clickListener,!0)}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(h.K0),A.LFG(N.t4),A.LFG(A.R0b,8))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),It=(()=>{class Be{constructor(ge,rt){this._platform=rt,this._document=ge}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ge="cdk-overlay-container";if(this._platform.isBrowser||(0,N.Oy)()){const Xe=this._document.querySelectorAll(`.${ge}[platform="server"], .${ge}[platform="test"]`);for(let wt=0;wt<Xe.length;wt++)Xe[wt].remove()}const rt=this._document.createElement("div");rt.classList.add(ge),(0,N.Oy)()?rt.setAttribute("platform","test"):this._platform.isBrowser||rt.setAttribute("platform","server"),this._document.body.appendChild(rt),this._containerElement=rt}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(h.K0),A.LFG(N.t4))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();class Jt{constructor(le,ge,rt,Xe,wt,$t,un,jt,mt,Ne=!1){this._portalOutlet=le,this._host=ge,this._pane=rt,this._config=Xe,this._ngZone=wt,this._keyboardDispatcher=$t,this._document=un,this._location=jt,this._outsideClickDispatcher=mt,this._animationsDisabled=Ne,this._backdropElement=null,this._backdropClick=new ie.x,this._attachments=new ie.x,this._detachments=new ie.x,this._locationChanges=qe.w0.EMPTY,this._backdropClickHandler=yt=>this._backdropClick.next(yt),this._backdropTransitionendHandler=yt=>{this._disposeBackdrop(yt.target)},this._keydownEvents=new ie.x,this._outsidePointerEvents=new ie.x,Xe.scrollStrategy&&(this._scrollStrategy=Xe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Xe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(le){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ge=this._portalOutlet.attach(le);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pe.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ge?.onDestroy&&ge.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ge}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const le=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),le}dispose(){const le=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,le&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(le){le!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=le,this.hasAttached()&&(le.attach(this),this.updatePosition()))}updateSize(le){this._config={...this._config,...le},this._updateElementSize()}setDirection(le){this._config={...this._config,direction:le},this._updateElementDirection()}addPanelClass(le){this._pane&&this._toggleClasses(this._pane,le,!0)}removePanelClass(le){this._pane&&this._toggleClasses(this._pane,le,!1)}getDirection(){const le=this._config.direction;return le?"string"==typeof le?le:le.value:"ltr"}updateScrollStrategy(le){le!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=le,this.hasAttached()&&(le.attach(this),le.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const le=this._pane.style;le.width=(0,De.HM)(this._config.width),le.height=(0,De.HM)(this._config.height),le.minWidth=(0,De.HM)(this._config.minWidth),le.minHeight=(0,De.HM)(this._config.minHeight),le.maxWidth=(0,De.HM)(this._config.maxWidth),le.maxHeight=(0,De.HM)(this._config.maxHeight)}_togglePointerEvents(le){this._pane.style.pointerEvents=le?"":"none"}_attachBackdrop(){const le="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(le)})}):this._backdropElement.classList.add(le)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const le=this._backdropElement;if(le){if(this._animationsDisabled)return void this._disposeBackdrop(le);le.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{le.addEventListener("transitionend",this._backdropTransitionendHandler)}),le.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(le)},500))}}_toggleClasses(le,ge,rt){const Xe=(0,De.Eq)(ge||[]).filter(wt=>!!wt);Xe.length&&(rt?le.classList.add(...Xe):le.classList.remove(...Xe))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const le=this._ngZone.onStable.pipe((0,Ee.R)((0,q.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),le.unsubscribe())})})}_disposeScrollStrategy(){const le=this._scrollStrategy;le&&(le.disable(),le.detach&&le.detach())}_disposeBackdrop(le){le&&(le.removeEventListener("click",this._backdropClickHandler),le.removeEventListener("transitionend",this._backdropTransitionendHandler),le.remove(),this._backdropElement===le&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Kt="cdk-overlay-connected-position-bounding-box",an=/([A-Za-z%]+)$/;class fn{constructor(le,ge,rt,Xe,wt){this._viewportRuler=ge,this._document=rt,this._platform=Xe,this._overlayContainer=wt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ie.x,this._resizeSubscription=qe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(le)}get positions(){return this._preferredPositions}attach(le){this._validatePositions(),le.hostElement.classList.add(Kt),this._overlayRef=le,this._boundingBox=le.hostElement,this._pane=le.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const le=this._originRect,ge=this._overlayRect,rt=this._viewportRect,Xe=this._containerRect,wt=[];let $t;for(let un of this._preferredPositions){let jt=this._getOriginPoint(le,Xe,un),mt=this._getOverlayPoint(jt,ge,un),Ne=this._getOverlayFit(mt,ge,rt,un);if(Ne.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(un,jt);this._canFitWithFlexibleDimensions(Ne,mt,rt)?wt.push({position:un,origin:jt,overlayRect:ge,boundingBoxRect:this._calculateBoundingBoxRect(jt,un)}):(!$t||$t.overlayFit.visibleArea<Ne.visibleArea)&&($t={overlayFit:Ne,overlayPoint:mt,originPoint:jt,position:un,overlayRect:ge})}if(wt.length){let un=null,jt=-1;for(const mt of wt){const Ne=mt.boundingBoxRect.width*mt.boundingBoxRect.height*(mt.position.weight||1);Ne>jt&&(jt=Ne,un=mt)}return this._isPushed=!1,void this._applyPosition(un.position,un.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition($t.position,$t.originPoint);this._applyPosition($t.position,$t.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Kt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const le=this._lastPosition;if(le){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ge=this._getOriginPoint(this._originRect,this._containerRect,le);this._applyPosition(le,ge)}else this.apply()}withScrollableContainers(le){return this._scrollables=le,this}withPositions(le){return this._preferredPositions=le,-1===le.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(le){return this._viewportMargin=le,this}withFlexibleDimensions(le=!0){return this._hasFlexibleDimensions=le,this}withGrowAfterOpen(le=!0){return this._growAfterOpen=le,this}withPush(le=!0){return this._canPush=le,this}withLockedPosition(le=!0){return this._positionLocked=le,this}setOrigin(le){return this._origin=le,this}withDefaultOffsetX(le){return this._offsetX=le,this}withDefaultOffsetY(le){return this._offsetY=le,this}withTransformOriginOn(le){return this._transformOriginSelector=le,this}_getOriginPoint(le,ge,rt){let Xe,wt;if("center"==rt.originX)Xe=le.left+le.width/2;else{const $t=this._isRtl()?le.right:le.left,un=this._isRtl()?le.left:le.right;Xe="start"==rt.originX?$t:un}return ge.left<0&&(Xe-=ge.left),wt="center"==rt.originY?le.top+le.height/2:"top"==rt.originY?le.top:le.bottom,ge.top<0&&(wt-=ge.top),{x:Xe,y:wt}}_getOverlayPoint(le,ge,rt){let Xe,wt;return Xe="center"==rt.overlayX?-ge.width/2:"start"===rt.overlayX?this._isRtl()?-ge.width:0:this._isRtl()?0:-ge.width,wt="center"==rt.overlayY?-ge.height/2:"top"==rt.overlayY?0:-ge.height,{x:le.x+Xe,y:le.y+wt}}_getOverlayFit(le,ge,rt,Xe){const wt=qt(ge);let{x:$t,y:un}=le,jt=this._getOffset(Xe,"x"),mt=this._getOffset(Xe,"y");jt&&($t+=jt),mt&&(un+=mt);let Ut=0-un,cn=un+wt.height-rt.height,Nn=this._subtractOverflows(wt.width,0-$t,$t+wt.width-rt.width),vn=this._subtractOverflows(wt.height,Ut,cn),kt=Nn*vn;return{visibleArea:kt,isCompletelyWithinViewport:wt.width*wt.height===kt,fitsInViewportVertically:vn===wt.height,fitsInViewportHorizontally:Nn==wt.width}}_canFitWithFlexibleDimensions(le,ge,rt){if(this._hasFlexibleDimensions){const Xe=rt.bottom-ge.y,wt=rt.right-ge.x,$t=vt(this._overlayRef.getConfig().minHeight),un=vt(this._overlayRef.getConfig().minWidth),mt=le.fitsInViewportHorizontally||null!=un&&un<=wt;return(le.fitsInViewportVertically||null!=$t&&$t<=Xe)&&mt}return!1}_pushOverlayOnScreen(le,ge,rt){if(this._previousPushAmount&&this._positionLocked)return{x:le.x+this._previousPushAmount.x,y:le.y+this._previousPushAmount.y};const Xe=qt(ge),wt=this._viewportRect,$t=Math.max(le.x+Xe.width-wt.width,0),un=Math.max(le.y+Xe.height-wt.height,0),jt=Math.max(wt.top-rt.top-le.y,0),mt=Math.max(wt.left-rt.left-le.x,0);let Ne=0,yt=0;return Ne=Xe.width<=wt.width?mt||-$t:le.x<this._viewportMargin?wt.left-rt.left-le.x:0,yt=Xe.height<=wt.height?jt||-un:le.y<this._viewportMargin?wt.top-rt.top-le.y:0,this._previousPushAmount={x:Ne,y:yt},{x:le.x+Ne,y:le.y+yt}}_applyPosition(le,ge){if(this._setTransformOrigin(le),this._setOverlayElementStyles(ge,le),this._setBoundingBoxStyles(ge,le),le.panelClass&&this._addPanelClasses(le.panelClass),this._lastPosition=le,this._positionChanges.observers.length){const rt=this._getScrollVisibility(),Xe=new ke(le,rt);this._positionChanges.next(Xe)}this._isInitialRender=!1}_setTransformOrigin(le){if(!this._transformOriginSelector)return;const ge=this._boundingBox.querySelectorAll(this._transformOriginSelector);let rt,Xe=le.overlayY;rt="center"===le.overlayX?"center":this._isRtl()?"start"===le.overlayX?"right":"left":"start"===le.overlayX?"left":"right";for(let wt=0;wt<ge.length;wt++)ge[wt].style.transformOrigin=`${rt} ${Xe}`}_calculateBoundingBoxRect(le,ge){const rt=this._viewportRect,Xe=this._isRtl();let wt,$t,un,Ne,yt,Ut;if("top"===ge.overlayY)$t=le.y,wt=rt.height-$t+this._viewportMargin;else if("bottom"===ge.overlayY)un=rt.height-le.y+2*this._viewportMargin,wt=rt.height-un+this._viewportMargin;else{const cn=Math.min(rt.bottom-le.y+rt.top,le.y),Nn=this._lastBoundingBoxSize.height;wt=2*cn,$t=le.y-cn,wt>Nn&&!this._isInitialRender&&!this._growAfterOpen&&($t=le.y-Nn/2)}if("end"===ge.overlayX&&!Xe||"start"===ge.overlayX&&Xe)Ut=rt.width-le.x+this._viewportMargin,Ne=le.x-this._viewportMargin;else if("start"===ge.overlayX&&!Xe||"end"===ge.overlayX&&Xe)yt=le.x,Ne=rt.right-le.x;else{const cn=Math.min(rt.right-le.x+rt.left,le.x),Nn=this._lastBoundingBoxSize.width;Ne=2*cn,yt=le.x-cn,Ne>Nn&&!this._isInitialRender&&!this._growAfterOpen&&(yt=le.x-Nn/2)}return{top:$t,left:yt,bottom:un,right:Ut,width:Ne,height:wt}}_setBoundingBoxStyles(le,ge){const rt=this._calculateBoundingBoxRect(le,ge);!this._isInitialRender&&!this._growAfterOpen&&(rt.height=Math.min(rt.height,this._lastBoundingBoxSize.height),rt.width=Math.min(rt.width,this._lastBoundingBoxSize.width));const Xe={};if(this._hasExactPosition())Xe.top=Xe.left="0",Xe.bottom=Xe.right=Xe.maxHeight=Xe.maxWidth="",Xe.width=Xe.height="100%";else{const wt=this._overlayRef.getConfig().maxHeight,$t=this._overlayRef.getConfig().maxWidth;Xe.height=(0,De.HM)(rt.height),Xe.top=(0,De.HM)(rt.top),Xe.bottom=(0,De.HM)(rt.bottom),Xe.width=(0,De.HM)(rt.width),Xe.left=(0,De.HM)(rt.left),Xe.right=(0,De.HM)(rt.right),Xe.alignItems="center"===ge.overlayX?"center":"end"===ge.overlayX?"flex-end":"flex-start",Xe.justifyContent="center"===ge.overlayY?"center":"bottom"===ge.overlayY?"flex-end":"flex-start",wt&&(Xe.maxHeight=(0,De.HM)(wt)),$t&&(Xe.maxWidth=(0,De.HM)($t))}this._lastBoundingBoxSize=rt,sn(this._boundingBox.style,Xe)}_resetBoundingBoxStyles(){sn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(le,ge){const rt={},Xe=this._hasExactPosition(),wt=this._hasFlexibleDimensions,$t=this._overlayRef.getConfig();if(Xe){const Ne=this._viewportRuler.getViewportScrollPosition();sn(rt,this._getExactOverlayY(ge,le,Ne)),sn(rt,this._getExactOverlayX(ge,le,Ne))}else rt.position="static";let un="",jt=this._getOffset(ge,"x"),mt=this._getOffset(ge,"y");jt&&(un+=`translateX(${jt}px) `),mt&&(un+=`translateY(${mt}px)`),rt.transform=un.trim(),$t.maxHeight&&(Xe?rt.maxHeight=(0,De.HM)($t.maxHeight):wt&&(rt.maxHeight="")),$t.maxWidth&&(Xe?rt.maxWidth=(0,De.HM)($t.maxWidth):wt&&(rt.maxWidth="")),sn(this._pane.style,rt)}_getExactOverlayY(le,ge,rt){let Xe={top:"",bottom:""},wt=this._getOverlayPoint(ge,this._overlayRect,le);return this._isPushed&&(wt=this._pushOverlayOnScreen(wt,this._overlayRect,rt)),"bottom"===le.overlayY?Xe.bottom=this._document.documentElement.clientHeight-(wt.y+this._overlayRect.height)+"px":Xe.top=(0,De.HM)(wt.y),Xe}_getExactOverlayX(le,ge,rt){let $t,Xe={left:"",right:""},wt=this._getOverlayPoint(ge,this._overlayRect,le);return this._isPushed&&(wt=this._pushOverlayOnScreen(wt,this._overlayRect,rt)),$t=this._isRtl()?"end"===le.overlayX?"left":"right":"end"===le.overlayX?"right":"left","right"===$t?Xe.right=this._document.documentElement.clientWidth-(wt.x+this._overlayRect.width)+"px":Xe.left=(0,De.HM)(wt.x),Xe}_getScrollVisibility(){const le=this._getOriginRect(),ge=this._pane.getBoundingClientRect(),rt=this._scrollables.map(Xe=>Xe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ht(le,rt),isOriginOutsideView:bt(le,rt),isOverlayClipped:Ht(ge,rt),isOverlayOutsideView:bt(ge,rt)}}_subtractOverflows(le,...ge){return ge.reduce((rt,Xe)=>rt-Math.max(Xe,0),le)}_getNarrowedViewportRect(){const le=this._document.documentElement.clientWidth,ge=this._document.documentElement.clientHeight,rt=this._viewportRuler.getViewportScrollPosition();return{top:rt.top+this._viewportMargin,left:rt.left+this._viewportMargin,right:rt.left+le-this._viewportMargin,bottom:rt.top+ge-this._viewportMargin,width:le-2*this._viewportMargin,height:ge-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(le,ge){return"x"===ge?le.offsetX??this._offsetX:le.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(le){this._pane&&(0,De.Eq)(le).forEach(ge=>{""!==ge&&-1===this._appliedPanelClasses.indexOf(ge)&&(this._appliedPanelClasses.push(ge),this._pane.classList.add(ge))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(le=>{this._pane.classList.remove(le)}),this._appliedPanelClasses=[])}_getOriginRect(){const le=this._origin;if(le instanceof A.SBq)return le.nativeElement.getBoundingClientRect();if(le instanceof Element)return le.getBoundingClientRect();const ge=le.width||0,rt=le.height||0;return{top:le.y,bottom:le.y+rt,left:le.x,right:le.x+ge,height:rt,width:ge}}}function sn(Be,le){for(let ge in le)le.hasOwnProperty(ge)&&(Be[ge]=le[ge]);return Be}function vt(Be){if("number"!=typeof Be&&null!=Be){const[le,ge]=Be.split(an);return ge&&"px"!==ge?null:parseFloat(le)}return Be||null}function qt(Be){return{top:Math.floor(Be.top),right:Math.floor(Be.right),bottom:Math.floor(Be.bottom),left:Math.floor(Be.left),width:Math.floor(Be.width),height:Math.floor(Be.height)}}const Qt="cdk-global-overlay-wrapper";class Dn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(le){const ge=le.getConfig();this._overlayRef=le,this._width&&!ge.width&&le.updateSize({width:this._width}),this._height&&!ge.height&&le.updateSize({height:this._height}),le.hostElement.classList.add(Qt),this._isDisposed=!1}top(le=""){return this._bottomOffset="",this._topOffset=le,this._alignItems="flex-start",this}left(le=""){return this._xOffset=le,this._xPosition="left",this}bottom(le=""){return this._topOffset="",this._bottomOffset=le,this._alignItems="flex-end",this}right(le=""){return this._xOffset=le,this._xPosition="right",this}start(le=""){return this._xOffset=le,this._xPosition="start",this}end(le=""){return this._xOffset=le,this._xPosition="end",this}width(le=""){return this._overlayRef?this._overlayRef.updateSize({width:le}):this._width=le,this}height(le=""){return this._overlayRef?this._overlayRef.updateSize({height:le}):this._height=le,this}centerHorizontally(le=""){return this.left(le),this._xPosition="center",this}centerVertically(le=""){return this.top(le),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const le=this._overlayRef.overlayElement.style,ge=this._overlayRef.hostElement.style,rt=this._overlayRef.getConfig(),{width:Xe,height:wt,maxWidth:$t,maxHeight:un}=rt,jt=!("100%"!==Xe&&"100vw"!==Xe||$t&&"100%"!==$t&&"100vw"!==$t),mt=!("100%"!==wt&&"100vh"!==wt||un&&"100%"!==un&&"100vh"!==un),Ne=this._xPosition,yt=this._xOffset,Ut="rtl"===this._overlayRef.getConfig().direction;let cn="",Nn="",vn="";jt?vn="flex-start":"center"===Ne?(vn="center",Ut?Nn=yt:cn=yt):Ut?"left"===Ne||"end"===Ne?(vn="flex-end",cn=yt):("right"===Ne||"start"===Ne)&&(vn="flex-start",Nn=yt):"left"===Ne||"start"===Ne?(vn="flex-start",cn=yt):("right"===Ne||"end"===Ne)&&(vn="flex-end",Nn=yt),le.position=this._cssPosition,le.marginLeft=jt?"0":cn,le.marginTop=mt?"0":this._topOffset,le.marginBottom=this._bottomOffset,le.marginRight=jt?"0":Nn,ge.justifyContent=vn,ge.alignItems=mt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const le=this._overlayRef.overlayElement.style,ge=this._overlayRef.hostElement,rt=ge.style;ge.classList.remove(Qt),rt.justifyContent=rt.alignItems=le.marginTop=le.marginBottom=le.marginLeft=le.marginRight=le.position="",this._overlayRef=null,this._isDisposed=!0}}let Xt=(()=>{class Be{constructor(ge,rt,Xe,wt){this._viewportRuler=ge,this._document=rt,this._platform=Xe,this._overlayContainer=wt}global(){return new Dn}flexibleConnectedTo(ge){return new fn(ge,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(m.rL),A.LFG(h.K0),A.LFG(N.t4),A.LFG(It))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),mn=0,An=(()=>{class Be{constructor(ge,rt,Xe,wt,$t,un,jt,mt,Ne,yt,Ut,cn){this.scrollStrategies=ge,this._overlayContainer=rt,this._componentFactoryResolver=Xe,this._positionBuilder=wt,this._keyboardDispatcher=$t,this._injector=un,this._ngZone=jt,this._document=mt,this._directionality=Ne,this._location=yt,this._outsideClickDispatcher=Ut,this._animationsModuleType=cn}create(ge){const rt=this._createHostElement(),Xe=this._createPaneElement(rt),wt=this._createPortalOutlet(Xe),$t=new Qe(ge);return $t.direction=$t.direction||this._directionality.value,new Jt(wt,rt,Xe,$t,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ge){const rt=this._document.createElement("div");return rt.id="cdk-overlay-"+mn++,rt.classList.add("cdk-overlay-pane"),ge.appendChild(rt),rt}_createHostElement(){const ge=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ge),ge}_createPortalOutlet(ge){return this._appRef||(this._appRef=this._injector.get(A.z2F)),new Ye.u0(ge,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Be.\u0275fac=function(ge){return new(ge||Be)(A.LFG(tt),A.LFG(It),A.LFG(A._Vd),A.LFG(Xt),A.LFG(dt),A.LFG(A.zs3),A.LFG(A.R0b),A.LFG(h.K0),A.LFG(ze.Is),A.LFG(h.Ye),A.LFG(Rt),A.LFG(A.QbO,8))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Gn={provide:new A.OlP("cdk-connected-overlay-scroll-strategy"),deps:[An],useFactory:function Vn(Be){return()=>Be.scrollStrategies.reposition()}};let qn=(()=>{class Be{}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=A.oAB({type:Be}),Be.\u0275inj=A.cJS({providers:[An,Gn],imports:[ze.vT,Ye.eL,m.Cl,m.Cl]}),Be})()},3353:(bn,xt,x)=>{x.d(xt,{Mq:()=>gt,Oy:()=>tt,_i:()=>ht,ht:()=>Ht,i$:()=>Pe,kV:()=>bt,qK:()=>ie,sA:()=>Pt,t4:()=>De});var m=x(4650),h=x(6895);let A;try{A=typeof Intl<"u"&&Intl.v8BreakIterator}catch{A=!1}let ze,De=(()=>{class Qe{constructor(Ke){this._platformId=Ke,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!A)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Qe.\u0275fac=function(Ke){return new(Ke||Qe)(m.LFG(m.Lbi))},Qe.\u0275prov=m.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();const Ye=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ie(){if(ze)return ze;if("object"!=typeof document||!document)return ze=new Set(Ye),ze;let Qe=document.createElement("input");return ze=new Set(Ye.filter(He=>(Qe.setAttribute("type",He),Qe.type===He))),ze}let qe,Ee,Le,St;function Pe(Qe){return function q(){if(null==qe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qe=!0}))}finally{qe=qe||!1}return qe}()?Qe:!!Qe.capture}function gt(){if(null==Le){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Le=!1,Le;if("scrollBehavior"in document.documentElement.style)Le=!0;else{const Qe=Element.prototype.scrollTo;Le=!!Qe&&!/\{\s*\[native code\]\s*\}/.test(Qe.toString())}}return Le}function ht(){if("object"!=typeof document||!document)return 0;if(null==Ee){const Qe=document.createElement("div"),He=Qe.style;Qe.dir="rtl",He.width="1px",He.overflow="auto",He.visibility="hidden",He.pointerEvents="none",He.position="absolute";const Ke=document.createElement("div"),ke=Ke.style;ke.width="2px",ke.height="1px",Qe.appendChild(Ke),document.body.appendChild(Qe),Ee=0,0===Qe.scrollLeft&&(Qe.scrollLeft=1,Ee=0===Qe.scrollLeft?1:2),Qe.remove()}return Ee}function bt(Qe){if(function Ge(){if(null==St){const Qe=typeof document<"u"?document.head:null;St=!(!Qe||!Qe.createShadowRoot&&!Qe.attachShadow)}return St}()){const He=Qe.getRootNode?Qe.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&He instanceof ShadowRoot)return He}return null}function Ht(){let Qe=typeof document<"u"&&document?document.activeElement:null;for(;Qe&&Qe.shadowRoot;){const He=Qe.shadowRoot.activeElement;if(He===Qe)break;Qe=He}return Qe}function Pt(Qe){return Qe.composedPath?Qe.composedPath()[0]:Qe.target}function tt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(bn,xt,x)=>{x.d(xt,{C5:()=>q,Pl:()=>Ht,UE:()=>Pe,eL:()=>tt,en:()=>Le,u0:()=>ht});var m=x(4650),h=x(6895);class qe{attach(Ke){return this._attachedHost=Ke,Ke.attach(this)}detach(){let Ke=this._attachedHost;null!=Ke&&(this._attachedHost=null,Ke.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ke){this._attachedHost=Ke}}class q extends qe{constructor(Ke,ke,$e,Dt){super(),this.component=Ke,this.viewContainerRef=ke,this.injector=$e,this.componentFactoryResolver=Dt}}class Pe extends qe{constructor(Ke,ke,$e,Dt){super(),this.templateRef=Ke,this.viewContainerRef=ke,this.context=$e,this.injector=Dt}get origin(){return this.templateRef.elementRef}attach(Ke,ke=this.context){return this.context=ke,super.attach(Ke)}detach(){return this.context=void 0,super.detach()}}class Ee extends qe{constructor(Ke){super(),this.element=Ke instanceof m.SBq?Ke.nativeElement:Ke}}class Le{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ke){return Ke instanceof q?(this._attachedPortal=Ke,this.attachComponentPortal(Ke)):Ke instanceof Pe?(this._attachedPortal=Ke,this.attachTemplatePortal(Ke)):this.attachDomPortal&&Ke instanceof Ee?(this._attachedPortal=Ke,this.attachDomPortal(Ke)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ke){this._disposeFn=Ke}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ht extends Le{constructor(Ke,ke,$e,Dt,ot){super(),this.outletElement=Ke,this._componentFactoryResolver=ke,this._appRef=$e,this._defaultInjector=Dt,this.attachDomPortal=dt=>{const Rt=dt.element,It=this._document.createComment("dom-portal");Rt.parentNode.insertBefore(It,Rt),this.outletElement.appendChild(Rt),this._attachedPortal=dt,super.setDisposeFn(()=>{It.parentNode&&It.parentNode.replaceChild(Rt,It)})},this._document=ot}attachComponentPortal(Ke){const $e=(Ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ke.component);let Dt;return Ke.viewContainerRef?(Dt=Ke.viewContainerRef.createComponent($e,Ke.viewContainerRef.length,Ke.injector||Ke.viewContainerRef.injector),this.setDisposeFn(()=>Dt.destroy())):(Dt=$e.create(Ke.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(Dt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Dt.hostView),Dt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Dt)),this._attachedPortal=Ke,Dt}attachTemplatePortal(Ke){let ke=Ke.viewContainerRef,$e=ke.createEmbeddedView(Ke.templateRef,Ke.context,{injector:Ke.injector});return $e.rootNodes.forEach(Dt=>this.outletElement.appendChild(Dt)),$e.detectChanges(),this.setDisposeFn(()=>{let Dt=ke.indexOf($e);-1!==Dt&&ke.remove(Dt)}),this._attachedPortal=Ke,$e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ke){return Ke.hostView.rootNodes[0]}}let Ht=(()=>{class He extends Le{constructor(ke,$e,Dt){super(),this._componentFactoryResolver=ke,this._viewContainerRef=$e,this._isInitialized=!1,this.attached=new m.vpe,this.attachDomPortal=ot=>{const dt=ot.element,Rt=this._document.createComment("dom-portal");ot.setAttachedHost(this),dt.parentNode.insertBefore(Rt,dt),this._getRootNode().appendChild(dt),this._attachedPortal=ot,super.setDisposeFn(()=>{Rt.parentNode&&Rt.parentNode.replaceChild(dt,Rt)})},this._document=Dt}get portal(){return this._attachedPortal}set portal(ke){this.hasAttached()&&!ke&&!this._isInitialized||(this.hasAttached()&&super.detach(),ke&&super.attach(ke),this._attachedPortal=ke||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ke){ke.setAttachedHost(this);const $e=null!=ke.viewContainerRef?ke.viewContainerRef:this._viewContainerRef,ot=(ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ke.component),dt=$e.createComponent(ot,$e.length,ke.injector||$e.injector);return $e!==this._viewContainerRef&&this._getRootNode().appendChild(dt.hostView.rootNodes[0]),super.setDisposeFn(()=>dt.destroy()),this._attachedPortal=ke,this._attachedRef=dt,this.attached.emit(dt),dt}attachTemplatePortal(ke){ke.setAttachedHost(this);const $e=this._viewContainerRef.createEmbeddedView(ke.templateRef,ke.context,{injector:ke.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ke,this._attachedRef=$e,this.attached.emit($e),$e}_getRootNode(){const ke=this._viewContainerRef.element.nativeElement;return ke.nodeType===ke.ELEMENT_NODE?ke:ke.parentNode}}return He.\u0275fac=function(ke){return new(ke||He)(m.Y36(m._Vd),m.Y36(m.s_b),m.Y36(h.K0))},He.\u0275dir=m.lG2({type:He,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[m.qOj]}),He})(),tt=(()=>{class He{}return He.\u0275fac=function(ke){return new(ke||He)},He.\u0275mod=m.oAB({type:He}),He.\u0275inj=m.cJS({}),He})()},8605:(bn,xt,x)=>{x.d(xt,{PQ:()=>zn,ZD:()=>$t,mF:()=>Rn,Cl:()=>un,rL:()=>Vn});var m=x(1281),h=x(4650),A=x(7579),De=x(9646),N=x(9751),ze=x(4968),Ye=x(4408),ie=x(727);const qe={schedule(jt){let mt=requestAnimationFrame,Ne=cancelAnimationFrame;const{delegate:yt}=qe;yt&&(mt=yt.requestAnimationFrame,Ne=yt.cancelAnimationFrame);const Ut=mt(cn=>{Ne=void 0,jt(cn)});return new ie.w0(()=>Ne?.(Ut))},requestAnimationFrame(...jt){const{delegate:mt}=qe;return(mt?.requestAnimationFrame||requestAnimationFrame)(...jt)},cancelAnimationFrame(...jt){const{delegate:mt}=qe;return(mt?.cancelAnimationFrame||cancelAnimationFrame)(...jt)},delegate:void 0};var Pe=x(7565);new class Ee extends Pe.v{flush(mt){this._active=!0;const Ne=this._scheduled;this._scheduled=void 0;const{actions:yt}=this;let Ut;mt=mt||yt.shift();do{if(Ut=mt.execute(mt.state,mt.delay))break}while((mt=yt[0])&&mt.id===Ne&&yt.shift());if(this._active=!1,Ut){for(;(mt=yt[0])&&mt.id===Ne&&yt.shift();)mt.unsubscribe();throw Ut}}}(class q extends Ye.o{constructor(mt,Ne){super(mt,Ne),this.scheduler=mt,this.work=Ne}requestAsyncId(mt,Ne,yt=0){return null!==yt&&yt>0?super.requestAsyncId(mt,Ne,yt):(mt.actions.push(this),mt._scheduled||(mt._scheduled=qe.requestAnimationFrame(()=>mt.flush(void 0))))}recycleAsyncId(mt,Ne,yt=0){if(null!=yt&&yt>0||null==yt&&this.delay>0)return super.recycleAsyncId(mt,Ne,yt);mt.actions.some(Ut=>Ut.id===Ne)||(qe.cancelAnimationFrame(Ne),mt._scheduled=void 0)}});let St,ht=1;const Ge={};function bt(jt){return jt in Ge&&(delete Ge[jt],!0)}const Ht={setImmediate(jt){const mt=ht++;return Ge[mt]=!0,St||(St=Promise.resolve()),St.then(()=>bt(mt)&&jt()),mt},clearImmediate(jt){bt(jt)}},{setImmediate:tt,clearImmediate:Qe}=Ht,He={setImmediate(...jt){const{delegate:mt}=He;return(mt?.setImmediate||tt)(...jt)},clearImmediate(jt){const{delegate:mt}=He;return(mt?.clearImmediate||Qe)(jt)},delegate:void 0};new class ke extends Pe.v{flush(mt){this._active=!0;const Ne=this._scheduled;this._scheduled=void 0;const{actions:yt}=this;let Ut;mt=mt||yt.shift();do{if(Ut=mt.execute(mt.state,mt.delay))break}while((mt=yt[0])&&mt.id===Ne&&yt.shift());if(this._active=!1,Ut){for(;(mt=yt[0])&&mt.id===Ne&&yt.shift();)mt.unsubscribe();throw Ut}}}(class Ke extends Ye.o{constructor(mt,Ne){super(mt,Ne),this.scheduler=mt,this.work=Ne}requestAsyncId(mt,Ne,yt=0){return null!==yt&&yt>0?super.requestAsyncId(mt,Ne,yt):(mt.actions.push(this),mt._scheduled||(mt._scheduled=He.setImmediate(mt.flush.bind(mt,void 0))))}recycleAsyncId(mt,Ne,yt=0){if(null!=yt&&yt>0||null==yt&&this.delay>0)return super.recycleAsyncId(mt,Ne,yt);mt.actions.some(Ut=>Ut.id===Ne)||(He.clearImmediate(Ne),mt._scheduled=void 0)}});var ot=x(4986),dt=x(4482),Rt=x(8421),It=x(5403),Kt=x(5963);function an(jt,mt=ot.z){return function Jt(jt){return(0,dt.e)((mt,Ne)=>{let yt=!1,Ut=null,cn=null,Nn=!1;const vn=()=>{if(cn?.unsubscribe(),cn=null,yt){yt=!1;const Ot=Ut;Ut=null,Ne.next(Ot)}Nn&&Ne.complete()},kt=()=>{cn=null,Nn&&Ne.complete()};mt.subscribe((0,It.x)(Ne,Ot=>{yt=!0,Ut=Ot,cn||(0,Rt.Xf)(jt(Ot)).subscribe(cn=(0,It.x)(Ne,vn,kt))},()=>{Nn=!0,(!yt||!cn||cn.closed)&&Ne.complete()}))})}(()=>(0,Kt.H)(jt,mt))}var fn=x(9300),sn=x(2722),vt=x(3353),qt=x(6895),Yt=x(445);let Rn=(()=>{class jt{constructor(Ne,yt,Ut){this._ngZone=Ne,this._platform=yt,this._scrolled=new A.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ut}register(Ne){this.scrollContainers.has(Ne)||this.scrollContainers.set(Ne,Ne.elementScrolled().subscribe(()=>this._scrolled.next(Ne)))}deregister(Ne){const yt=this.scrollContainers.get(Ne);yt&&(yt.unsubscribe(),this.scrollContainers.delete(Ne))}scrolled(Ne=20){return this._platform.isBrowser?new N.y(yt=>{this._globalSubscription||this._addGlobalListener();const Ut=Ne>0?this._scrolled.pipe(an(Ne)).subscribe(yt):this._scrolled.subscribe(yt);return this._scrolledCount++,()=>{Ut.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,De.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ne,yt)=>this.deregister(yt)),this._scrolled.complete()}ancestorScrolled(Ne,yt){const Ut=this.getAncestorScrollContainers(Ne);return this.scrolled(yt).pipe((0,fn.h)(cn=>!cn||Ut.indexOf(cn)>-1))}getAncestorScrollContainers(Ne){const yt=[];return this.scrollContainers.forEach((Ut,cn)=>{this._scrollableContainsElement(cn,Ne)&&yt.push(cn)}),yt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ne,yt){let Ut=(0,m.fI)(yt),cn=Ne.getElementRef().nativeElement;do{if(Ut==cn)return!0}while(Ut=Ut.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ne=this._getWindow();return(0,ze.R)(Ne.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return jt.\u0275fac=function(Ne){return new(Ne||jt)(h.LFG(h.R0b),h.LFG(vt.t4),h.LFG(qt.K0,8))},jt.\u0275prov=h.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"root"}),jt})(),zn=(()=>{class jt{constructor(Ne,yt,Ut,cn){this.elementRef=Ne,this.scrollDispatcher=yt,this.ngZone=Ut,this.dir=cn,this._destroyed=new A.x,this._elementScrolled=new N.y(Nn=>this.ngZone.runOutsideAngular(()=>(0,ze.R)(this.elementRef.nativeElement,"scroll").pipe((0,sn.R)(this._destroyed)).subscribe(Nn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ne){const yt=this.elementRef.nativeElement,Ut=this.dir&&"rtl"==this.dir.value;null==Ne.left&&(Ne.left=Ut?Ne.end:Ne.start),null==Ne.right&&(Ne.right=Ut?Ne.start:Ne.end),null!=Ne.bottom&&(Ne.top=yt.scrollHeight-yt.clientHeight-Ne.bottom),Ut&&0!=(0,vt._i)()?(null!=Ne.left&&(Ne.right=yt.scrollWidth-yt.clientWidth-Ne.left),2==(0,vt._i)()?Ne.left=Ne.right:1==(0,vt._i)()&&(Ne.left=Ne.right?-Ne.right:Ne.right)):null!=Ne.right&&(Ne.left=yt.scrollWidth-yt.clientWidth-Ne.right),this._applyScrollToOptions(Ne)}_applyScrollToOptions(Ne){const yt=this.elementRef.nativeElement;(0,vt.Mq)()?yt.scrollTo(Ne):(null!=Ne.top&&(yt.scrollTop=Ne.top),null!=Ne.left&&(yt.scrollLeft=Ne.left))}measureScrollOffset(Ne){const yt="left",cn=this.elementRef.nativeElement;if("top"==Ne)return cn.scrollTop;if("bottom"==Ne)return cn.scrollHeight-cn.clientHeight-cn.scrollTop;const Nn=this.dir&&"rtl"==this.dir.value;return"start"==Ne?Ne=Nn?"right":yt:"end"==Ne&&(Ne=Nn?yt:"right"),Nn&&2==(0,vt._i)()?Ne==yt?cn.scrollWidth-cn.clientWidth-cn.scrollLeft:cn.scrollLeft:Nn&&1==(0,vt._i)()?Ne==yt?cn.scrollLeft+cn.scrollWidth-cn.clientWidth:-cn.scrollLeft:Ne==yt?cn.scrollLeft:cn.scrollWidth-cn.clientWidth-cn.scrollLeft}}return jt.\u0275fac=function(Ne){return new(Ne||jt)(h.Y36(h.SBq),h.Y36(Rn),h.Y36(h.R0b),h.Y36(Yt.Is,8))},jt.\u0275dir=h.lG2({type:jt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),jt})(),Vn=(()=>{class jt{constructor(Ne,yt,Ut){this._platform=Ne,this._change=new A.x,this._changeListener=cn=>{this._change.next(cn)},this._document=Ut,yt.runOutsideAngular(()=>{if(Ne.isBrowser){const cn=this._getWindow();cn.addEventListener("resize",this._changeListener),cn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ne=this._getWindow();Ne.removeEventListener("resize",this._changeListener),Ne.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ne={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ne}getViewportRect(){const Ne=this.getViewportScrollPosition(),{width:yt,height:Ut}=this.getViewportSize();return{top:Ne.top,left:Ne.left,bottom:Ne.top+Ut,right:Ne.left+yt,height:Ut,width:yt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ne=this._document,yt=this._getWindow(),Ut=Ne.documentElement,cn=Ut.getBoundingClientRect();return{top:-cn.top||Ne.body.scrollTop||yt.scrollY||Ut.scrollTop||0,left:-cn.left||Ne.body.scrollLeft||yt.scrollX||Ut.scrollLeft||0}}change(Ne=20){return Ne>0?this._change.pipe(an(Ne)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ne=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ne.innerWidth,height:Ne.innerHeight}:{width:0,height:0}}}return jt.\u0275fac=function(Ne){return new(Ne||jt)(h.LFG(vt.t4),h.LFG(h.R0b),h.LFG(qt.K0,8))},jt.\u0275prov=h.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"root"}),jt})(),$t=(()=>{class jt{}return jt.\u0275fac=function(Ne){return new(Ne||jt)},jt.\u0275mod=h.oAB({type:jt}),jt.\u0275inj=h.cJS({}),jt})(),un=(()=>{class jt{}return jt.\u0275fac=function(Ne){return new(Ne||jt)},jt.\u0275mod=h.oAB({type:jt}),jt.\u0275inj=h.cJS({imports:[Yt.vT,$t,Yt.vT,$t]}),jt})()},6895:(bn,xt,x)=>{x.d(xt,{Do:()=>Pt,EM:()=>ua,Gx:()=>ca,HT:()=>N,JF:()=>Br,K0:()=>Ye,Mx:()=>di,NF:()=>sr,O5:()=>zt,PC:()=>Ks,PM:()=>ko,RF:()=>Ai,S$:()=>Ge,V_:()=>q,Ye:()=>tt,b0:()=>Ht,bD:()=>bo,ez:()=>sl,gd:()=>Zs,mk:()=>wi,n9:()=>mr,p6:()=>yt,q:()=>A,sg:()=>Xr,tP:()=>$r,w_:()=>ze});var m=x(4650);let h=null;function A(){return h}function N(U){h||(h=U)}class ze{}const Ye=new m.OlP("DocumentToken");let ie=(()=>{class U{historyGo(W){throw new Error("Not implemented")}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return function qe(){return(0,m.LFG)(Pe)}()},providedIn:"platform"}),U})();const q=new m.OlP("Location Initialized");let Pe=(()=>{class U extends ie{constructor(W){super(),this._doc=W,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(W){const Ie=A().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("popstate",W,!1),()=>Ie.removeEventListener("popstate",W)}onHashChange(W){const Ie=A().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("hashchange",W,!1),()=>Ie.removeEventListener("hashchange",W)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(W){this.location.pathname=W}pushState(W,Ie,Tt){Ee()?this._history.pushState(W,Ie,Tt):this.location.hash=Tt}replaceState(W,Ie,Tt){Ee()?this._history.replaceState(W,Ie,Tt):this.location.hash=Tt}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(Ye))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function Le(){return new Pe((0,m.LFG)(Ye))}()},providedIn:"platform"}),U})();function Ee(){return!!window.history.pushState}function gt(U,fe){if(0==U.length)return fe;if(0==fe.length)return U;let W=0;return U.endsWith("/")&&W++,fe.startsWith("/")&&W++,2==W?U+fe.substring(1):1==W?U+fe:U+"/"+fe}function ht(U){const fe=U.match(/#|\?|$/),W=fe&&fe.index||U.length;return U.slice(0,W-("/"===U[W-1]?1:0))+U.slice(W)}function St(U){return U&&"?"!==U[0]?"?"+U:U}let Ge=(()=>{class U{historyGo(W){throw new Error("Not implemented")}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return(0,m.f3M)(Ht)},providedIn:"root"}),U})();const bt=new m.OlP("appBaseHref");let Ht=(()=>{class U extends Ge{constructor(W,Ie){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=Ie??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return gt(this._baseHref,W)}path(W=!1){const Ie=this._platformLocation.pathname+St(this._platformLocation.search),Tt=this._platformLocation.hash;return Tt&&W?`${Ie}${Tt}`:Ie}pushState(W,Ie,Tt,ln){const pn=this.prepareExternalUrl(Tt+St(ln));this._platformLocation.pushState(W,Ie,pn)}replaceState(W,Ie,Tt,ln){const pn=this.prepareExternalUrl(Tt+St(ln));this._platformLocation.replaceState(W,Ie,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(ie),m.LFG(bt,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),Pt=(()=>{class U extends Ge{constructor(W,Ie){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=Ie&&(this._baseHref=Ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let Ie=this._platformLocation.hash;return null==Ie&&(Ie="#"),Ie.length>0?Ie.substring(1):Ie}prepareExternalUrl(W){const Ie=gt(this._baseHref,W);return Ie.length>0?"#"+Ie:Ie}pushState(W,Ie,Tt,ln){let pn=this.prepareExternalUrl(Tt+St(ln));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.pushState(W,Ie,pn)}replaceState(W,Ie,Tt,ln){let pn=this.prepareExternalUrl(Tt+St(ln));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.replaceState(W,Ie,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(ie),m.LFG(bt,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})(),tt=(()=>{class U{constructor(W){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const Ie=this._locationStrategy.getBaseHref();this._baseHref=ht(Ke(Ie)),this._locationStrategy.onPopState(Tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Tt.state,type:Tt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,Ie=""){return this.path()==this.normalize(W+St(Ie))}normalize(W){return U.stripTrailingSlash(function He(U,fe){return U&&fe.startsWith(U)?fe.substring(U.length):fe}(this._baseHref,Ke(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,Ie="",Tt=null){this._locationStrategy.pushState(Tt,"",W,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+St(Ie)),Tt)}replaceState(W,Ie="",Tt=null){this._locationStrategy.replaceState(Tt,"",W,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+St(Ie)),Tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ie=>{this._notifyUrlChangeListeners(Ie.url,Ie.state)})),()=>{const Ie=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(Ie,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",Ie){this._urlChangeListeners.forEach(Tt=>Tt(W,Ie))}subscribe(W,Ie,Tt){return this._subject.subscribe({next:W,error:Ie,complete:Tt})}}return U.normalizeQueryParams=St,U.joinWithSlash=gt,U.stripTrailingSlash=ht,U.\u0275fac=function(W){return new(W||U)(m.LFG(Ge))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function Qe(){return new tt((0,m.LFG)(Ge))}()},providedIn:"root"}),U})();function Ke(U){return U.replace(/\/index.html$/,"")}var Dt=(()=>((Dt=Dt||{})[Dt.Zero=0]="Zero",Dt[Dt.One=1]="One",Dt[Dt.Two=2]="Two",Dt[Dt.Few=3]="Few",Dt[Dt.Many=4]="Many",Dt[Dt.Other=5]="Other",Dt))(),ot=(()=>((ot=ot||{})[ot.Format=0]="Format",ot[ot.Standalone=1]="Standalone",ot))(),dt=(()=>((dt=dt||{})[dt.Narrow=0]="Narrow",dt[dt.Abbreviated=1]="Abbreviated",dt[dt.Wide=2]="Wide",dt[dt.Short=3]="Short",dt))(),Rt=(()=>((Rt=Rt||{})[Rt.Short=0]="Short",Rt[Rt.Medium=1]="Medium",Rt[Rt.Long=2]="Long",Rt[Rt.Full=3]="Full",Rt))(),It=(()=>((It=It||{})[It.Decimal=0]="Decimal",It[It.Group=1]="Group",It[It.List=2]="List",It[It.PercentSign=3]="PercentSign",It[It.PlusSign=4]="PlusSign",It[It.MinusSign=5]="MinusSign",It[It.Exponential=6]="Exponential",It[It.SuperscriptingExponent=7]="SuperscriptingExponent",It[It.PerMille=8]="PerMille",It[It.Infinity=9]="Infinity",It[It.NaN=10]="NaN",It[It.TimeSeparator=11]="TimeSeparator",It[It.CurrencyDecimal=12]="CurrencyDecimal",It[It.CurrencyGroup=13]="CurrencyGroup",It))();function nn(U,fe){return Be((0,m.cg1)(U)[m.wAp.DateFormat],fe)}function Qt(U,fe){return Be((0,m.cg1)(U)[m.wAp.TimeFormat],fe)}function Dn(U,fe){return Be((0,m.cg1)(U)[m.wAp.DateTimeFormat],fe)}function Xt(U,fe){const W=(0,m.cg1)(U),Ie=W[m.wAp.NumberSymbols][fe];if(typeof Ie>"u"){if(fe===It.CurrencyDecimal)return W[m.wAp.NumberSymbols][It.Decimal];if(fe===It.CurrencyGroup)return W[m.wAp.NumberSymbols][It.Group]}return Ie}const $n=m.kL8;function Vn(U){if(!U[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Be(U,fe){for(let W=fe;W>-1;W--)if(typeof U[W]<"u")return U[W];throw new Error("Locale data API: locale data undefined")}function le(U){const[fe,W]=U.split(":");return{hours:+fe,minutes:+W}}const wt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$t={},un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jt=(()=>((jt=jt||{})[jt.Short=0]="Short",jt[jt.ShortGMT=1]="ShortGMT",jt[jt.Long=2]="Long",jt[jt.Extended=3]="Extended",jt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),Ne=(()=>((Ne=Ne||{})[Ne.DayPeriods=0]="DayPeriods",Ne[Ne.Days=1]="Days",Ne[Ne.Months=2]="Months",Ne[Ne.Eras=3]="Eras",Ne))();function yt(U,fe,W,Ie){let Tt=function Oe(U){if(Ze(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Tt,ln=1,pn=1]=U.split("-").map(li=>+li);return Ut(Tt,ln-1,pn)}const W=parseFloat(U);if(!isNaN(U-W))return new Date(W);let Ie;if(Ie=U.match(wt))return function pt(U){const fe=new Date(0);let W=0,Ie=0;const Tt=U[8]?fe.setUTCFullYear:fe.setFullYear,ln=U[8]?fe.setUTCHours:fe.setHours;U[9]&&(W=Number(U[9]+U[10]),Ie=Number(U[9]+U[11])),Tt.call(fe,Number(U[1]),Number(U[2])-1,Number(U[3]));const pn=Number(U[4]||0)-W,li=Number(U[5]||0)-Ie,Ki=Number(U[6]||0),Wi=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return ln.call(fe,pn,li,Ki,Wi),fe}(Ie)}const fe=new Date(U);if(!Ze(fe))throw new Error(`Unable to convert "${U}" into a date`);return fe}(U);fe=cn(W,fe)||fe;let li,pn=[];for(;fe;){if(li=un.exec(fe),!li){pn.push(fe);break}{pn=pn.concat(li.slice(1));const Zi=pn.pop();if(!Zi)break;fe=Zi}}let Ki=Tt.getTimezoneOffset();Ie&&(Ki=ve(Ie,Ki),Tt=function ne(U,fe,W){const Ie=W?-1:1,Tt=U.getTimezoneOffset();return function Ce(U,fe){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+fe),U}(U,Ie*(ve(fe,Tt)-Tt))}(Tt,Ie,!0));let Wi="";return pn.forEach(Zi=>{const Hi=function nt(U){if(je[U])return je[U];let fe;switch(U){case"G":case"GG":case"GGG":fe=ae(Ne.Eras,dt.Abbreviated);break;case"GGGG":fe=ae(Ne.Eras,dt.Wide);break;case"GGGGG":fe=ae(Ne.Eras,dt.Narrow);break;case"y":fe=Ot(mt.FullYear,1,0,!1,!0);break;case"yy":fe=Ot(mt.FullYear,2,0,!0,!0);break;case"yyy":fe=Ot(mt.FullYear,3,0,!1,!0);break;case"yyyy":fe=Ot(mt.FullYear,4,0,!1,!0);break;case"Y":fe=Lt(1);break;case"YY":fe=Lt(2,!0);break;case"YYY":fe=Lt(3);break;case"YYYY":fe=Lt(4);break;case"M":case"L":fe=Ot(mt.Month,1,1);break;case"MM":case"LL":fe=Ot(mt.Month,2,1);break;case"MMM":fe=ae(Ne.Months,dt.Abbreviated);break;case"MMMM":fe=ae(Ne.Months,dt.Wide);break;case"MMMMM":fe=ae(Ne.Months,dt.Narrow);break;case"LLL":fe=ae(Ne.Months,dt.Abbreviated,ot.Standalone);break;case"LLLL":fe=ae(Ne.Months,dt.Wide,ot.Standalone);break;case"LLLLL":fe=ae(Ne.Months,dt.Narrow,ot.Standalone);break;case"w":fe=Mt(1);break;case"ww":fe=Mt(2);break;case"W":fe=Mt(1,!0);break;case"d":fe=Ot(mt.Date,1);break;case"dd":fe=Ot(mt.Date,2);break;case"c":case"cc":fe=Ot(mt.Day,1);break;case"ccc":fe=ae(Ne.Days,dt.Abbreviated,ot.Standalone);break;case"cccc":fe=ae(Ne.Days,dt.Wide,ot.Standalone);break;case"ccccc":fe=ae(Ne.Days,dt.Narrow,ot.Standalone);break;case"cccccc":fe=ae(Ne.Days,dt.Short,ot.Standalone);break;case"E":case"EE":case"EEE":fe=ae(Ne.Days,dt.Abbreviated);break;case"EEEE":fe=ae(Ne.Days,dt.Wide);break;case"EEEEE":fe=ae(Ne.Days,dt.Narrow);break;case"EEEEEE":fe=ae(Ne.Days,dt.Short);break;case"a":case"aa":case"aaa":fe=ae(Ne.DayPeriods,dt.Abbreviated);break;case"aaaa":fe=ae(Ne.DayPeriods,dt.Wide);break;case"aaaaa":fe=ae(Ne.DayPeriods,dt.Narrow);break;case"b":case"bb":case"bbb":fe=ae(Ne.DayPeriods,dt.Abbreviated,ot.Standalone,!0);break;case"bbbb":fe=ae(Ne.DayPeriods,dt.Wide,ot.Standalone,!0);break;case"bbbbb":fe=ae(Ne.DayPeriods,dt.Narrow,ot.Standalone,!0);break;case"B":case"BB":case"BBB":fe=ae(Ne.DayPeriods,dt.Abbreviated,ot.Format,!0);break;case"BBBB":fe=ae(Ne.DayPeriods,dt.Wide,ot.Format,!0);break;case"BBBBB":fe=ae(Ne.DayPeriods,dt.Narrow,ot.Format,!0);break;case"h":fe=Ot(mt.Hours,1,-12);break;case"hh":fe=Ot(mt.Hours,2,-12);break;case"H":fe=Ot(mt.Hours,1);break;case"HH":fe=Ot(mt.Hours,2);break;case"m":fe=Ot(mt.Minutes,1);break;case"mm":fe=Ot(mt.Minutes,2);break;case"s":fe=Ot(mt.Seconds,1);break;case"ss":fe=Ot(mt.Seconds,2);break;case"S":fe=Ot(mt.FractionalSeconds,1);break;case"SS":fe=Ot(mt.FractionalSeconds,2);break;case"SSS":fe=Ot(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":fe=z(jt.Short);break;case"ZZZZZ":fe=z(jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":fe=z(jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":fe=z(jt.Long);break;default:return null}return je[U]=fe,fe}(Zi);Wi+=Hi?Hi(Tt,W,Ki):"''"===Zi?"'":Zi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wi}function Ut(U,fe,W){const Ie=new Date(0);return Ie.setFullYear(U,fe,W),Ie.setHours(0,0,0),Ie}function cn(U,fe){const W=function Kt(U){return(0,m.cg1)(U)[m.wAp.LocaleId]}(U);if($t[W]=$t[W]||{},$t[W][fe])return $t[W][fe];let Ie="";switch(fe){case"shortDate":Ie=nn(U,Rt.Short);break;case"mediumDate":Ie=nn(U,Rt.Medium);break;case"longDate":Ie=nn(U,Rt.Long);break;case"fullDate":Ie=nn(U,Rt.Full);break;case"shortTime":Ie=Qt(U,Rt.Short);break;case"mediumTime":Ie=Qt(U,Rt.Medium);break;case"longTime":Ie=Qt(U,Rt.Long);break;case"fullTime":Ie=Qt(U,Rt.Full);break;case"short":const Tt=cn(U,"shortTime"),ln=cn(U,"shortDate");Ie=Nn(Dn(U,Rt.Short),[Tt,ln]);break;case"medium":const pn=cn(U,"mediumTime"),li=cn(U,"mediumDate");Ie=Nn(Dn(U,Rt.Medium),[pn,li]);break;case"long":const Ki=cn(U,"longTime"),Wi=cn(U,"longDate");Ie=Nn(Dn(U,Rt.Long),[Ki,Wi]);break;case"full":const Zi=cn(U,"fullTime"),Hi=cn(U,"fullDate");Ie=Nn(Dn(U,Rt.Full),[Zi,Hi])}return Ie&&($t[W][fe]=Ie),Ie}function Nn(U,fe){return fe&&(U=U.replace(/\{([^}]+)}/g,function(W,Ie){return null!=fe&&Ie in fe?fe[Ie]:W})),U}function vn(U,fe,W="-",Ie,Tt){let ln="";(U<0||Tt&&U<=0)&&(Tt?U=1-U:(U=-U,ln=W));let pn=String(U);for(;pn.length<fe;)pn="0"+pn;return Ie&&(pn=pn.slice(pn.length-fe)),ln+pn}function Ot(U,fe,W=0,Ie=!1,Tt=!1){return function(ln,pn){let li=function te(U,fe){switch(U){case mt.FullYear:return fe.getFullYear();case mt.Month:return fe.getMonth();case mt.Date:return fe.getDate();case mt.Hours:return fe.getHours();case mt.Minutes:return fe.getMinutes();case mt.Seconds:return fe.getSeconds();case mt.FractionalSeconds:return fe.getMilliseconds();case mt.Day:return fe.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,ln);if((W>0||li>-W)&&(li+=W),U===mt.Hours)0===li&&-12===W&&(li=12);else if(U===mt.FractionalSeconds)return function kt(U,fe){return vn(U,3).substring(0,fe)}(li,fe);const Ki=Xt(pn,It.MinusSign);return vn(li,fe,Ki,Ie,Tt)}}function ae(U,fe,W=ot.Format,Ie=!1){return function(Tt,ln){return function K(U,fe,W,Ie,Tt,ln){switch(W){case Ne.Months:return function sn(U,fe,W){const Ie=(0,m.cg1)(U),ln=Be([Ie[m.wAp.MonthsFormat],Ie[m.wAp.MonthsStandalone]],fe);return Be(ln,W)}(fe,Tt,Ie)[U.getMonth()];case Ne.Days:return function fn(U,fe,W){const Ie=(0,m.cg1)(U),ln=Be([Ie[m.wAp.DaysFormat],Ie[m.wAp.DaysStandalone]],fe);return Be(ln,W)}(fe,Tt,Ie)[U.getDay()];case Ne.DayPeriods:const pn=U.getHours(),li=U.getMinutes();if(ln){const Wi=function Gn(U){const fe=(0,m.cg1)(U);return Vn(fe),(fe[m.wAp.ExtraData][2]||[]).map(Ie=>"string"==typeof Ie?le(Ie):[le(Ie[0]),le(Ie[1])])}(fe),Zi=function qn(U,fe,W){const Ie=(0,m.cg1)(U);Vn(Ie);const ln=Be([Ie[m.wAp.ExtraData][0],Ie[m.wAp.ExtraData][1]],fe)||[];return Be(ln,W)||[]}(fe,Tt,Ie),Hi=Wi.findIndex(ur=>{if(Array.isArray(ur)){const[ir,Dr]=ur,qo=pn>=ir.hours&&li>=ir.minutes,Do=pn<Dr.hours||pn===Dr.hours&&li<Dr.minutes;if(ir.hours<Dr.hours){if(qo&&Do)return!0}else if(qo||Do)return!0}else if(ur.hours===pn&&ur.minutes===li)return!0;return!1});if(-1!==Hi)return Zi[Hi]}return function an(U,fe,W){const Ie=(0,m.cg1)(U),ln=Be([Ie[m.wAp.DayPeriodsFormat],Ie[m.wAp.DayPeriodsStandalone]],fe);return Be(ln,W)}(fe,Tt,Ie)[pn<12?0:1];case Ne.Eras:return function vt(U,fe){return Be((0,m.cg1)(U)[m.wAp.Eras],fe)}(fe,Ie)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(Tt,ln,U,fe,W,Ie)}}function z(U){return function(fe,W,Ie){const Tt=-1*Ie,ln=Xt(W,It.MinusSign),pn=Tt>0?Math.floor(Tt/60):Math.ceil(Tt/60);switch(U){case jt.Short:return(Tt>=0?"+":"")+vn(pn,2,ln)+vn(Math.abs(Tt%60),2,ln);case jt.ShortGMT:return"GMT"+(Tt>=0?"+":"")+vn(pn,1,ln);case jt.Long:return"GMT"+(Tt>=0?"+":"")+vn(pn,2,ln)+":"+vn(Math.abs(Tt%60),2,ln);case jt.Extended:return 0===Ie?"Z":(Tt>=0?"+":"")+vn(pn,2,ln)+":"+vn(Math.abs(Tt%60),2,ln);default:throw new Error(`Unknown zone width "${U}"`)}}}function st(U){return Ut(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Mt(U,fe=!1){return function(W,Ie){let Tt;if(fe){const ln=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,pn=W.getDate();Tt=1+Math.floor((pn+ln)/7)}else{const ln=st(W),pn=function ct(U){const fe=Ut(U,0,1).getDay();return Ut(U,0,1+(fe<=4?4:11)-fe)}(ln.getFullYear()),li=ln.getTime()-pn.getTime();Tt=1+Math.round(li/6048e5)}return vn(Tt,U,Xt(Ie,It.MinusSign))}}function Lt(U,fe=!1){return function(W,Ie){return vn(st(W).getFullYear(),U,Xt(Ie,It.MinusSign),fe)}}const je={};function ve(U,fe){U=U.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(W)?fe:W}function Ze(U){return U instanceof Date&&!isNaN(U.valueOf())}let re=(()=>{class U{}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=m.Yz7({token:U,factory:function(W){let Ie=null;return W?Ie=new W:(Tt=m.LFG(m.soG),Ie=new _t(Tt)),Ie;var Tt},providedIn:"root"}),U})();let _t=(()=>{class U extends re{constructor(W){super(),this.locale=W}getPluralCategory(W,Ie){switch($n(Ie||this.locale)(W)){case Dt.Zero:return"zero";case Dt.One:return"one";case Dt.Two:return"two";case Dt.Few:return"few";case Dt.Many:return"many";default:return"other"}}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(m.soG))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})();function di(U,fe){fe=encodeURIComponent(fe);for(const W of U.split(";")){const Ie=W.indexOf("="),[Tt,ln]=-1==Ie?[W,""]:[W.slice(0,Ie),W.slice(Ie+1)];if(Tt.trim()===fe)return decodeURIComponent(ln)}return null}let wi=(()=>{class U{constructor(W,Ie,Tt,ln){this._iterableDiffers=W,this._keyValueDiffers=Ie,this._ngEl=Tt,this._renderer=ln,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(W){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof W?W.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(W){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof W?W.split(/\s+/):W,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const W=this._iterableDiffer.diff(this._rawClass);W&&this._applyIterableChanges(W)}else if(this._keyValueDiffer){const W=this._keyValueDiffer.diff(this._rawClass);W&&this._applyKeyValueChanges(W)}}_applyKeyValueChanges(W){W.forEachAddedItem(Ie=>this._toggleClass(Ie.key,Ie.currentValue)),W.forEachChangedItem(Ie=>this._toggleClass(Ie.key,Ie.currentValue)),W.forEachRemovedItem(Ie=>{Ie.previousValue&&this._toggleClass(Ie.key,!1)})}_applyIterableChanges(W){W.forEachAddedItem(Ie=>{if("string"!=typeof Ie.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(Ie.item)}`);this._toggleClass(Ie.item,!0)}),W.forEachRemovedItem(Ie=>this._toggleClass(Ie.item,!1))}_applyClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(Ie=>this._toggleClass(Ie,!0)):Object.keys(W).forEach(Ie=>this._toggleClass(Ie,!!W[Ie])))}_removeClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(Ie=>this._toggleClass(Ie,!1)):Object.keys(W).forEach(Ie=>this._toggleClass(Ie,!1)))}_toggleClass(W,Ie){(W=W.trim())&&W.split(/\s+/g).forEach(Tt=>{Ie?this._renderer.addClass(this._ngEl.nativeElement,Tt):this._renderer.removeClass(this._ngEl.nativeElement,Tt)})}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class is{constructor(fe,W,Ie,Tt){this.$implicit=fe,this.ngForOf=W,this.index=Ie,this.count=Tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xr=(()=>{class U{constructor(W,Ie,Tt){this._viewContainer=W,this._template=Ie,this._differs=Tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const Ie=this._viewContainer;W.forEachOperation((Tt,ln,pn)=>{if(null==Tt.previousIndex)Ie.createEmbeddedView(this._template,new is(Tt.item,this._ngForOf,-1,-1),null===pn?void 0:pn);else if(null==pn)Ie.remove(null===ln?void 0:ln);else if(null!==ln){const li=Ie.get(ln);Ie.move(li,pn),Vt(li,Tt)}});for(let Tt=0,ln=Ie.length;Tt<ln;Tt++){const li=Ie.get(Tt).context;li.index=Tt,li.count=ln,li.ngForOf=this._ngForOf}W.forEachIdentityChange(Tt=>{Vt(Ie.get(Tt.currentIndex),Tt)})}static ngTemplateContextGuard(W,Ie){return!0}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function Vt(U,fe){U.context.$implicit=fe.item}let zt=(()=>{class U{constructor(W,Ie){this._viewContainer=W,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ie}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){In("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){In("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,Ie){return!0}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b),m.Y36(m.Rgc))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function In(U,fe){if(fe&&!fe.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,m.AaK)(fe)}'.`)}class Zn{constructor(fe,W){this._viewContainerRef=fe,this._templateRef=W,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(fe){fe&&!this._created?this.create():!fe&&this._created&&this.destroy()}}let Ai=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(W){this._ngSwitch=W,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(W){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(W)}_matchCase(W){const Ie=W==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ie,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ie}_updateDefaultCases(W){if(this._defaultViews&&W!==this._defaultUsed){this._defaultUsed=W;for(let Ie=0;Ie<this._defaultViews.length;Ie++)this._defaultViews[Ie].enforceState(W)}}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275dir=m.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),U})(),mr=(()=>{class U{constructor(W,Ie,Tt){this.ngSwitch=Tt,Tt._addCase(),this._view=new Zn(W,Ie)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Ai,9))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),U})(),Ks=(()=>{class U{constructor(W,Ie,Tt){this._ngEl=W,this._differs=Ie,this._renderer=Tt,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,Ie){const[Tt,ln]=W.split("."),pn=-1===Tt.indexOf("-")?void 0:m.JOm.DashCase;null!=Ie?this._renderer.setStyle(this._ngEl.nativeElement,Tt,ln?`${Ie}${ln}`:Ie,pn):this._renderer.removeStyle(this._ngEl.nativeElement,Tt,pn)}_applyChanges(W){W.forEachRemovedItem(Ie=>this._setStyle(Ie.key,null)),W.forEachAddedItem(Ie=>this._setStyle(Ie.key,Ie.currentValue)),W.forEachChangedItem(Ie=>this._setStyle(Ie.key,Ie.currentValue))}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),U})(),$r=(()=>{class U{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const Ie=this._viewContainerRef;if(this._viewRef&&Ie.remove(Ie.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Tt,ngTemplateOutletContext:ln,ngTemplateOutletInjector:pn}=this;this._viewRef=Ie.createEmbeddedView(Tt,ln,pn?{injector:pn}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),U})();function rs(U,fe){return new m.vHH(2100,!1)}let Zs=(()=>{class U{transform(W){if(null==W)return null;if("string"!=typeof W)throw rs();return W.toUpperCase()}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275pipe=m.Yjl({name:"uppercase",type:U,pure:!0,standalone:!0}),U})();const Cs=/#/g;let ca=(()=>{class U{constructor(W){this._localization=W}transform(W,Ie,Tt){if(null==W)return"";if("object"!=typeof Ie||null===Ie)throw rs();return Ie[function Me(U,fe,W,Ie){let Tt=`=${U}`;if(fe.indexOf(Tt)>-1||(Tt=W.getPluralCategory(U,Ie),fe.indexOf(Tt)>-1))return Tt;if(fe.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${U}"`)}(W,Object.keys(Ie),this._localization,Tt)].replace(Cs,W.toString())}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(re,16))},U.\u0275pipe=m.Yjl({name:"i18nPlural",type:U,pure:!0,standalone:!0}),U})(),sl=(()=>{class U{}return U.\u0275fac=function(W){return new(W||U)},U.\u0275mod=m.oAB({type:U}),U.\u0275inj=m.cJS({}),U})();const bo="browser";function sr(U){return U===bo}function ko(U){return"server"===U}let ua=(()=>{class U{}return U.\u0275prov=(0,m.Yz7)({token:U,providedIn:"root",factory:()=>new Ga((0,m.LFG)(Ye),window)}),U})();class Ga{constructor(fe,W){this.document=fe,this.window=W,this.offset=()=>[0,0]}setOffset(fe){this.offset=Array.isArray(fe)?()=>fe:fe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(fe){this.supportsScrolling()&&this.window.scrollTo(fe[0],fe[1])}scrollToAnchor(fe){if(!this.supportsScrolling())return;const W=function ds(U,fe){const W=U.getElementById(fe)||U.getElementsByName(fe)[0];if(W)return W;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const Ie=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Tt=Ie.currentNode;for(;Tt;){const ln=Tt.shadowRoot;if(ln){const pn=ln.getElementById(fe)||ln.querySelector(`[name="${fe}"]`);if(pn)return pn}Tt=Ie.nextNode()}}return null}(this.document,fe);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(fe){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=fe)}}scrollToElement(fe){const W=fe.getBoundingClientRect(),Ie=W.left+this.window.pageXOffset,Tt=W.top+this.window.pageYOffset,ln=this.offset();this.window.scrollTo(Ie-ln[0],Tt-ln[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const fe=No(this.window.history)||No(Object.getPrototypeOf(this.window.history));return!(!fe||!fe.writable&&!fe.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function No(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Br{}},4650:(bn,xt,x)=>{x.d(xt,{$8M:()=>Ka,$Z:()=>_g,AFp:()=>$o,ALo:()=>hE,AaK:()=>ie,BQk:()=>Wc,CHM:()=>Bl,CRH:()=>Gw,CZH:()=>my,CqO:()=>Uv,D6c:()=>QS,EJc:()=>Al,EiD:()=>ff,EpF:()=>Wu,F$t:()=>Wg,F4k:()=>Bh,FYo:()=>qy,FiY:()=>$l,G48:()=>Kh,Gf:()=>Hw,GfV:()=>tv,GkF:()=>Lh,Gpc:()=>Pe,HOy:()=>Xn,Hsn:()=>Yg,Ikx:()=>dw,JOm:()=>Uo,JVY:()=>hf,KtG:()=>al,L6k:()=>Yr,LAX:()=>Kr,LFG:()=>as,LMc:()=>eA,LSH:()=>ad,Lbi:()=>HE,Lck:()=>qx,MAs:()=>ap,MGl:()=>Vd,MMx:()=>Mw,NdJ:()=>g_,O4$:()=>li,OlP:()=>hr,Oqu:()=>At,PXZ:()=>mC,Q6J:()=>ju,QGY:()=>p_,QP$:()=>Ze,QbO:()=>Z0,Qsj:()=>qb,QtT:()=>WD,R0b:()=>oc,RDi:()=>af,Rgc:()=>uy,SBq:()=>jp,SDv:()=>$D,Sil:()=>jE,Suo:()=>Uw,TTD:()=>Ji,TgZ:()=>zu,Tol:()=>v_,Udp:()=>Yv,VKq:()=>rE,W1O:()=>Ww,WFA:()=>m_,WLB:()=>sE,X6Q:()=>iT,XFs:()=>Be,Xpm:()=>J,Xts:()=>W_,Y36:()=>eo,YKP:()=>ZD,YNc:()=>zc,Yjl:()=>Ce,Yz7:()=>Qt,Z0I:()=>An,ZZ4:()=>db,_Bn:()=>KD,_UZ:()=>cp,_Vd:()=>ud,_c5:()=>ZS,_uU:()=>et,aQg:()=>hb,c2e:()=>UE,cJS:()=>Xt,cg1:()=>Qg,d8E:()=>Jv,dDg:()=>pC,dqk:()=>yt,eBb:()=>ah,eFA:()=>vC,ekj:()=>jh,eoX:()=>gC,f3M:()=>Mp,g9A:()=>Io,h0i:()=>T_,hGG:()=>qS,hij:()=>rn,iGM:()=>yp,ifc:()=>Ne,ip1:()=>Y0,jDz:()=>oy,kEZ:()=>oE,kL8:()=>hw,kcU:()=>Wi,lG2:()=>ve,lcZ:()=>fE,lqb:()=>cd,lri:()=>vy,mCW:()=>D,n5z:()=>fc,n_E:()=>N0,oAB:()=>Lt,oxw:()=>jv,pB0:()=>lh,pQV:()=>Ew,q3G:()=>Zr,q4F:()=>Qy,qLn:()=>Za,qOj:()=>u_,qZA:()=>$u,qzn:()=>Aa,rWj:()=>yy,s9C:()=>up,sBO:()=>sT,sIi:()=>Rh,s_b:()=>F0,soG:()=>tm,tb:()=>K0,tp0:()=>Wr,uIk:()=>tc,vHH:()=>ht,vpe:()=>Gd,wAp:()=>Oi,xp6:()=>pg,ynx:()=>Bd,z2F:()=>Ey,z3N:()=>vl,zSh:()=>Q_,zs3:()=>wl});var m=x(7579),h=x(727),A=x(9751),De=x(6451),N=x(3099);function ze(s){for(let a in s)if(s[a]===ze)return a;throw Error("Could not find renamed property on target object.")}function Ye(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function qe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const q=ze({__forward_ref__:ze});function Pe(s){return s.__forward_ref__=Pe,s.toString=function(){return ie(this())},s}function Ee(s){return Le(s)?s():s}function Le(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===Pe}class ht extends Error{constructor(a,u){super(function St(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function Ge(s){return"string"==typeof s?s:null==s?"":String(s)}function Qe(s,a){throw new ht(-201,!1)}function vt(s,a,u,p){throw new Error(`ASSERTION ERROR: ${s}`+(null==p?"":` [Expected=> ${u} ${p} ${a} <=Actual]`))}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function mn(s){return Un(s,Vn)||Un(s,qn)}function An(s){return null!==mn(s)}function Un(s,a){return s.hasOwnProperty(a)?s[a]:null}function $n(s){return s&&(s.hasOwnProperty(Gn)||s.hasOwnProperty(_n))?s[Gn]:null}const Vn=ze({\u0275prov:ze}),Gn=ze({\u0275inj:ze}),qn=ze({ngInjectableDef:ze}),_n=ze({ngInjectorDef:ze});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let le;function rt(s){const a=le;return le=s,a}function Xe(s,a,u){const p=mn(s);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&Be.Optional?null:void 0!==a?a:void Qe(ie(s))}function $t(s){return{toString:s}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),Ne=(()=>{return(s=Ne||(Ne={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ne;var s})();const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nn={},vn=[],kt=ze({\u0275cmp:ze}),Ot=ze({\u0275dir:ze}),te=ze({\u0275pipe:ze}),ae=ze({\u0275mod:ze}),K=ze({\u0275fac:ze}),z=ze({__NG_ELEMENT_ID__:ze});let de=0;function J(s){return $t(()=>{const u=!0===s.standalone,p={},_={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||vn,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ne.Emulated,id:"c"+de++,styles:s.styles||vn,_:null,setInput:null,schemas:s.schemas||null,tView:null},b=s.dependencies,T=s.features;return _.inputs=nt(s.inputs,p),_.outputs=nt(s.outputs),T&&T.forEach(P=>P(_)),_.directiveDefs=b?()=>("function"==typeof b?b():b).map(st).filter(Mt):null,_.pipeDefs=b?()=>("function"==typeof b?b():b).map(pt).filter(Mt):null,_})}function st(s){return ne(s)||Oe(s)}function Mt(s){return null!==s}function Lt(s){return $t(()=>({type:s.type,bootstrap:s.bootstrap||vn,declarations:s.declarations||vn,imports:s.imports||vn,exports:s.exports||vn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function nt(s,a){if(null==s)return Nn;const u={};for(const p in s)if(s.hasOwnProperty(p)){let _=s[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),u[_]=p,a&&(a[_]=b)}return u}const ve=J;function Ce(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ne(s){return s[kt]||null}function Oe(s){return s[Ot]||null}function pt(s){return s[te]||null}function Ze(s){const a=ne(s)||Oe(s)||pt(s);return null!==a&&a.standalone}function We(s,a){const u=s[ae]||null;if(!u&&!0===a)throw new Error(`Type ${ie(s)} does not have '\u0275mod' property.`);return u}const O=16;function In(s){return Array.isArray(s)&&"object"==typeof s[1]}function Zn(s){return Array.isArray(s)&&!0===s[1]}function Ai(s){return 0!=(8&s.flags)}function mr(s){return 2==(2&s.flags)}function Ni(s){return 1==(1&s.flags)}function cr(s){return null!==s.template}function so(s){return 0!=(256&s[2])}function wr(s,a){return s.hasOwnProperty(K)?s[K]:null}class Ls{constructor(a,u,p){this.previousValue=a,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function Ji(){return lo}function lo(s){return s.type.prototype.ngOnChanges&&(s.setInput=co),Es}function Es(){const s=Yo(this),a=s?.current;if(a){const u=s.previous;if(u===Nn)s.previous=a;else for(let p in a)u[p]=a[p];s.current=null,this.ngOnChanges(a)}}function co(s,a,u,p){const _=Yo(s)||function sl(s,a){return s[Ua]=a}(s,{previous:Nn,current:null}),b=_.current||(_.current={}),T=_.previous,P=this.declaredInputs[u],G=T[P];b[P]=new Ls(G&&G.currentValue,a,T===Nn),s[p]=a}Ji.ngInherit=!0;const Ua="__ngSimpleChanges__";function Yo(s){return s[Ua]||null}function Ui(s){for(;Array.isArray(s);)s=s[0];return s}function No(s,a){return Ui(a[s])}function ds(s,a){return Ui(a[s.index])}function Br(s,a){return s.data[a]}function Bs(s,a){return s[a]}function Li(s,a){const u=a[s];return In(u)?u:u[0]}function Jr(s){return 64==(64&s[2])}function Vs(s,a){return null==a?null:s[a]}function uo(s){s[18]=0}function Ts(s,a){s[5]+=a;let u=s,p=s[3];for(;null!==p&&(1===a&&1===u[5]||-1===a&&0===u[5]);)p[5]+=a,u=p,p=p[3]}const Di={lFrame:Vl(null),bindingsEnabled:!0};function os(){return Di.bindingsEnabled}function En(){return Di.lFrame.lView}function ki(){return Di.lFrame.tView}function Bl(s){return Di.lFrame.contextLView=s,s[8]}function al(s){return Di.lFrame.contextLView=null,s}function Vr(){let s=Q();for(;null!==s&&64===s.type;)s=s.parent;return s}function Q(){return Di.lFrame.currentTNode}function Y(){const s=Di.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function $(s,a){const u=Di.lFrame;u.currentTNode=s,u.isParent=a}function Ue(){return Di.lFrame.isParent}function dn(){Di.lFrame.isParent=!1}function Mr(){const s=Di.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ss(){return Di.lFrame.bindingIndex}function ja(){return Di.lFrame.bindingIndex++}function wo(s){const a=Di.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function cl(s){Di.lFrame.inI18n=s}function Ca(s,a){const u=Di.lFrame;u.bindingIndex=u.bindingRootIndex=s,ul(a)}function ul(s){Di.lFrame.currentDirectiveIndex=s}function Ko(s){const a=Di.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Da(){return Di.lFrame.currentQueryIndex}function za(s){Di.lFrame.currentQueryIndex=s}function Zo(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function nu(s,a,u){if(u&Be.SkipSelf){let _=a,b=s;for(;!(_=_.parent,null!==_||u&Be.Host||(_=Zo(b),null===_||(b=b[15],10&_.type))););if(null===_)return!1;a=_,s=b}const p=Di.lFrame=Ea();return p.currentTNode=a,p.lView=s,!0}function dl(s){const a=Ea(),u=s[1];Di.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Ea(){const s=Di.lFrame,a=null===s?null:s.child;return null===a?Vl(s):a}function Vl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Co(){const s=Di.lFrame;return Di.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const U=Co;function fe(){const s=Co();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tt(){return Di.lFrame.selectedIndex}function ln(s){Di.lFrame.selectedIndex=s}function pn(){const s=Di.lFrame;return Br(s.tView,s.selectedIndex)}function li(){Di.lFrame.currentNamespace="svg"}function Wi(){!function Zi(){Di.lFrame.currentNamespace=null}()}function ir(s,a){for(let u=a.directiveStart,p=a.directiveEnd;u<p;u++){const b=s.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:P,ngAfterViewInit:G,ngAfterViewChecked:oe,ngOnDestroy:Fe}=b;T&&(s.contentHooks||(s.contentHooks=[])).push(-u,T),P&&((s.contentHooks||(s.contentHooks=[])).push(u,P),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,P)),G&&(s.viewHooks||(s.viewHooks=[])).push(-u,G),oe&&((s.viewHooks||(s.viewHooks=[])).push(u,oe),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,oe)),null!=Fe&&(s.destroyHooks||(s.destroyHooks=[])).push(u,Fe)}}function Dr(s,a,u){dr(s,a,3,u)}function qo(s,a,u,p){(3&s[2])===u&&dr(s,a,u,p)}function Do(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function dr(s,a,u,p){const b=p??-1,T=a.length-1;let P=0;for(let G=void 0!==p?65535&s[18]:0;G<T;G++)if("number"==typeof a[G+1]){if(P=a[G],null!=p&&P>=p)break}else a[G]<0&&(s[18]+=65536),(P<b||-1==b)&&(Eo(s,u,a,G),s[18]=(4294901760&s[18])+G+2),G++}function Eo(s,a,u,p){const _=u[p]<0,b=u[p+1],P=s[_?-u[p]:u[p]];if(_){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{b.call(P)}finally{}}}else try{b.call(P)}finally{}}class fs{constructor(a,u,p){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function Kn(s,a,u){let p=0;for(;p<u.length;){const _=u[p];if("number"==typeof _){if(0!==_)break;p++;const b=u[p++],T=u[p++],P=u[p++];s.setAttribute(a,T,P,b)}else{const b=_,T=u[++p];kn(b)?s.setProperty(a,b,T):s.setAttribute(a,b,T),p++}}return p}function hn(s){return 3===s||4===s||6===s}function kn(s){return 64===s.charCodeAt(0)}function Ur(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let p=0;p<a.length;p++){const _=a[p];"number"==typeof _?u=_:0===u||ru(s,u,_,null,-1===u||2===u?a[++p]:null)}}return s}function ru(s,a,u,p,_){let b=0,T=s.length;if(-1===a)T=-1;else for(;b<s.length;){const P=s[b++];if("number"==typeof P){if(P===a){T=-1;break}if(P>a){T=b-1;break}}}for(;b<s.length;){const P=s[b];if("number"==typeof P)break;if(P===u){if(null===p)return void(null!==_&&(s[b+1]=_));if(p===s[b+1])return void(s[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==T&&(s.splice(T,0,a),b=T+1),s.splice(b++,0,u),null!==p&&s.splice(b++,0,p),null!==_&&s.splice(b++,0,_)}function su(s){return-1!==s}function $a(s){return 32767&s}function fl(s,a){let u=function Xu(s){return s>>16}(s),p=a;for(;u>0;)p=p[15],u--;return p}let Ju=!0;function dc(s){const a=Ju;return Ju=s,a}let ho=0;const mi={};function pa(s,a){const u=bi(s,a);if(-1!==u)return u;const p=a[1];p.firstCreatePass&&(s.injectorIndex=a.length,Er(p.data,s),Er(a,null),Er(p.blueprint,null));const _=Qo(s,a),b=s.injectorIndex;if(su(_)){const T=$a(_),P=fl(_,a),G=P[1].data;for(let oe=0;oe<8;oe++)a[b+oe]=P[T+oe]|G[T+oe]}return a[b+8]=_,b}function Er(s,a){s.push(0,0,0,0,0,0,0,0,a)}function bi(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Qo(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,p=null,_=a;for(;null!==_;){if(p=Lo(_),null===p)return-1;if(u++,_=_[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function Gi(s,a,u){!function Fo(s,a,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(z)&&(p=u[z]),null==p&&(p=u[z]=ho++);const _=255&p;a.data[s+(_>>5)]|=1<<_}(s,a,u)}function vr(s,a,u){if(u&Be.Optional||void 0!==s)return s;Qe()}function Yn(s,a,u,p){if(u&Be.Optional&&void 0===p&&(p=null),0==(u&(Be.Self|Be.Host))){const _=s[9],b=rt(void 0);try{return _?_.get(a,p,u&Be.Optional):Xe(a,p,u&Be.Optional)}finally{rt(b)}}return vr(p,0,u)}function ga(s,a,u,p=Be.Default,_){if(null!==s){if(1024&a[2]){const T=function cu(s,a,u,p,_){let b=s,T=a;for(;null!==b&&null!==T&&1024&T[2]&&!(256&T[2]);){const P=Gr(b,T,u,p|Be.Self,mi);if(P!==mi)return P;let G=b.parent;if(!G){const oe=T[21];if(oe){const Fe=oe.get(u,mi,p);if(Fe!==mi)return Fe}G=Lo(T),T=T[15]}b=G}return _}(s,a,u,p,mi);if(T!==mi)return T}const b=Gr(s,a,u,p,mi);if(b!==mi)return b}return Yn(a,u,p,_)}function Gr(s,a,u,p,_){const b=function lu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(z)?s[z]:void 0;return"number"==typeof a?a>=0?255&a:To:a}(u);if("function"==typeof b){if(!nu(a,s,p))return p&Be.Host?vr(_,0,p):Yn(a,u,p,_);try{const T=b(p);if(null!=T||p&Be.Optional)return T;Qe()}finally{U()}}else if("number"==typeof b){let T=null,P=bi(s,a),G=-1,oe=p&Be.Host?a[O][6]:null;for((-1===P||p&Be.SkipSelf)&&(G=-1===P?Qo(s,a):a[P+8],-1!==G&&hc(p,!1)?(T=a[1],P=$a(G),a=fl(G,a)):P=-1);-1!==P;){const Fe=a[1];if(Wa(b,P,Fe.data)){const at=ma(P,a,u,T,p,oe);if(at!==mi)return at}G=a[P+8],-1!==G&&hc(p,a[1].data[P+8]===oe)&&Wa(b,P,a)?(T=Fe,P=$a(G),a=fl(G,a)):P=-1}}return _}function ma(s,a,u,p,_,b){const T=a[1],P=T.data[s+8],Fe=As(P,T,u,null==p?mr(P)&&Ju:p!=T&&0!=(3&P.type),_&Be.Host&&b===P);return null!==Fe?ps(a,T,Fe,P):mi}function As(s,a,u,p,_){const b=s.providerIndexes,T=a.data,P=1048575&b,G=s.directiveStart,Fe=b>>20,Ft=_?P+Fe:s.directiveEnd;for(let en=p?P:P+Fe;en<Ft;en++){const Tn=T[en];if(en<G&&u===Tn||en>=G&&Tn.type===u)return en}if(_){const en=T[G];if(en&&cr(en)&&en.type===u)return G}return null}function ps(s,a,u,p){let _=s[u];const b=a.data;if(function hl(s){return s instanceof fs}(_)){const T=_;T.resolving&&function Ht(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ht(-200,`Circular dependency in DI detected for ${s}${u}`)}(function bt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ge(s)}(b[u]));const P=dc(T.canSeeViewProviders);T.resolving=!0;const G=T.injectImpl?rt(T.injectImpl):null;nu(s,p,Be.Default);try{_=s[u]=T.factory(void 0,b,s,p),a.firstCreatePass&&u>=p.directiveStart&&function ur(s,a,u){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=a.type.prototype;if(p){const T=lo(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,T)}_&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,_),b&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,b))}(u,b[u],a)}finally{null!==G&&rt(G),dc(P),T.resolving=!1,U()}}return _}function Wa(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function hc(s,a){return!(s&Be.Self||s&Be.Host&&a)}class Ya{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,p){return ga(this._tNode,this._lView,a,p,u)}}function To(){return new Ya(Vr(),En())}function fc(s){return $t(()=>{const a=s.prototype.constructor,u=a[K]||pc(a),p=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==p;){const b=_[K]||pc(_);if(b&&b!==u)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function pc(s){return Le(s)?()=>{const a=pc(Ee(s));return a&&a()}:wr(s)}function Lo(s){const a=s[1],u=a.type;return 2===u?a.declTNode:1===u?s[6]:null}function Ka(s){return function au(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const p=u.length;let _=0;for(;_<p;){const b=u[_];if(hn(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof u[_];)_++;else{if(b===a)return u[_+1];_+=2}}}return null}(Vr(),s)}const _a="__parameters__";function qs(s,a,u){return $t(()=>{const p=function Hl(s){return function(...u){if(s){const p=s(...u);for(const _ in p)this[_]=p[_]}}}(a);function _(...b){if(this instanceof _)return p.apply(this,b),this;const T=new _(...b);return P.annotation=T,P;function P(G,oe,Fe){const at=G.hasOwnProperty(_a)?G[_a]:Object.defineProperty(G,_a,{value:[]})[_a];for(;at.length<=Fe;)at.push(null);return(at[Fe]=at[Fe]||[]).push(T),G}}return u&&(_.prototype=Object.create(u.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}class hr{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qi(s,a){void 0===a&&(a=s);for(let u=0;u<s.length;u++){let p=s[u];Array.isArray(p)?(a===s&&(a=s.slice(0,u)),qi(p,a)):a!==s&&a.push(p)}return a}function ya(s,a){s.forEach(u=>Array.isArray(u)?ya(u,a):a(u))}function Xo(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function yr(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function M(s,a){const u=[];for(let p=0;p<s;p++)u.push(a);return u}function Ct(s,a,u){let p=Hn(s,a);return p>=0?s[1|p]=u:(p=~p,function j(s,a,u,p){let _=s.length;if(_==a)s.push(u,p);else if(1===_)s.push(p,s[0]),s[0]=u;else{for(_--,s.push(s[_-1],s[_]);_>a;)s[_]=s[_-2],_--;s[a]=u,s[a+1]=p}}(s,p,a,u)),p}function gn(s,a){const u=Hn(s,a);if(u>=0)return s[1|u]}function Hn(s,a){return function ii(s,a,u){let p=0,_=s.length>>u;for(;_!==p;){const b=p+(_-p>>1),T=s[b<<u];if(a===T)return b<<u;T>a?_=b:p=b+1}return~(_<<u)}(s,a,1)}const uu={},tf="__NG_DI_FLAG__",gl="ngTempTokenPath",Xd=/\n/gm,nf="__source";let yc;function zl(s){const a=yc;return yc=s,a}function fo(s,a=Be.Default){if(void 0===yc)throw new ht(-203,!1);return null===yc?Xe(s,void 0,a):yc.get(s,a&Be.Optional?null:void 0,a)}function as(s,a=Be.Default){return(function ge(){return le}()||fo)(Ee(s),a)}function Mp(s,a=Be.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),as(s,a)}function Jd(s){const a=[];for(let u=0;u<s.length;u++){const p=Ee(s[u]);if(Array.isArray(p)){if(0===p.length)throw new ht(900,!1);let _,b=Be.Default;for(let T=0;T<p.length;T++){const P=p[T],G=cm(P);"number"==typeof G?-1===G?_=P.token:b|=G:_=P}a.push(as(_,b))}else a.push(as(p))}return a}function ea(s,a){return s[tf]=a,s.prototype[tf]=a,s}function cm(s){return s[tf]}const $l=ea(qs("Optional"),8),Wr=ea(qs("SkipSelf"),4);let rh,od;function af(s){rh=s}function mu(s){return function lf(){if(void 0===od&&(od=null,yt.trustedTypes))try{od=yt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return od}()?.createHTML(s)||s}class Ho{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class sh extends Ho{getTypeName(){return"HTML"}}class Dc extends Ho{getTypeName(){return"Style"}}class df extends Ho{getTypeName(){return"Script"}}class _u extends Ho{getTypeName(){return"URL"}}class oh extends Ho{getTypeName(){return"ResourceURL"}}function vl(s){return s instanceof Ho?s.changingThisBreaksApplicationSecurity:s}function Aa(s,a){const u=function hm(s){return s instanceof Ho&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function hf(s){return new sh(s)}function Yr(s){return new Dc(s)}function ah(s){return new df(s)}function Kr(s){return new _u(s)}function lh(s){return new oh(s)}function fi(s){const a=new ch(s);return function k(){try{return!!(new window.DOMParser).parseFromString(mu(""),"text/html")}catch{return!1}}()?new Ia(a):a}class Ia{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(mu(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class ch{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=mu(a),u;const p=this.inertDocument.createElement("body");return p.innerHTML=mu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(a){const u=a.attributes;for(let _=u.length-1;0<_;_--){const T=u.item(_).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&a.removeAttribute(T)}let p=a.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const w=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function D(s){return(s=String(s)).match(w)?s:"unsafe:"+s}function F(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function be(...s){const a={};for(const u of s)for(const p in u)u.hasOwnProperty(p)&&(a[p]=!0);return a}const Je=F("area,br,col,hr,img,wbr"),Zt=F("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wn=F("rp,rt"),Tr=be(Je,be(Zt,F("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),be(wn,F("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),be(wn,Zt)),Wt=F("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Os=be(Wt,F("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),F("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uh=F("script,style,template");class yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let _=this.checkClobberedElement(u,u.nextSibling);if(_){u=_;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Tr.hasOwnProperty(u))return this.sanitizedSomething=!0,!uh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=a.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),T=b.name,P=T.toLowerCase();if(!Os.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let G=b.value;Wt[P]&&(G=D(G)),this.buf.push(" ",T,'="',Ec(G),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Tr.hasOwnProperty(u)&&!Je.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Ec(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Vp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ta=/([^\#-~ |!])/g;function Ec(s){return s.replace(/&/g,"&amp;").replace(Vp,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ta,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let na;function ff(s,a){let u=null;try{na=na||fi(s);let p=a?String(a):"";u=na.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=u.innerHTML,u=na.getInertBodyElement(p)}while(p!==b);return mu((new yu).sanitizeChildren(bu(u)||u))}finally{if(u){const p=bu(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function bu(s){return"content"in s&&function Bi(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Zr=(()=>((Zr=Zr||{})[Zr.NONE=0]="NONE",Zr[Zr.HTML=1]="HTML",Zr[Zr.STYLE=2]="STYLE",Zr[Zr.SCRIPT=3]="SCRIPT",Zr[Zr.URL=4]="URL",Zr[Zr.RESOURCE_URL=5]="RESOURCE_URL",Zr))();function ad(s){const a=function Hp(){const s=En();return s&&s[12]}();return a?a.sanitize(Zr.URL,s)||"":Aa(s,"URL")?vl(s):D(Ge(s))}const W_=new hr("ENVIRONMENT_INITIALIZER"),mf=new hr("INJECTOR",-1),Y_=new hr("INJECTOR_DEF_TYPES");class jy{get(a,u=uu){if(u===uu){const p=new Error(`NullInjectorError: No provider for ${ie(a)}!`);throw p.name="NullInjectorError",p}return u}}function po(...s){return{\u0275providers:fm(0,s)}}function fm(s,...a){const u=[],p=new Set;let _;return ya(a,b=>{const T=b;hh(T,u,[],p)&&(_||(_=[]),_.push(T))}),void 0!==_&&K_(_,u),u}function K_(s,a){for(let u=0;u<s.length;u++){const{providers:_}=s[u];ya(_,b=>{a.push(b)})}}function hh(s,a,u,p){if(!(s=Ee(s)))return!1;let _=null,b=$n(s);const T=!b&&ne(s);if(b||T){if(T&&!T.standalone)return!1;_=s}else{const G=s.ngModule;if(b=$n(G),!b)return!1;_=G}const P=p.has(_);if(T){if(P)return!1;if(p.add(_),T.dependencies){const G="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const oe of G)hh(oe,a,u,p)}}else{if(!b)return!1;{if(null!=b.imports&&!P){let oe;p.add(_);try{ya(b.imports,Fe=>{hh(Fe,a,u,p)&&(oe||(oe=[]),oe.push(Fe))})}finally{}void 0!==oe&&K_(oe,a)}if(!P){const oe=wr(_)||(()=>new _);a.push({provide:_,useFactory:oe,deps:vn},{provide:Y_,useValue:_,multi:!0},{provide:W_,useValue:()=>as(_),multi:!0})}const G=b.providers;null==G||P||ya(G,Fe=>{a.push(Fe)})}}return _!==s&&void 0!==s.providers}const Z_=ze({provide:String,useValue:ze});function pm(s){return null!==s&&"object"==typeof s&&Z_ in s}function ld(s){return"function"==typeof s}const Q_=new hr("Set Injector scope."),gm={},Up={};let Gp;function mm(){return void 0===Gp&&(Gp=new jy),Gp}class cd{}class _m extends cd{constructor(a,u,p,_){super(),this.parent=u,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X_(a,T=>this.processProvider(T)),this.records.set(mf,vf(void 0,this)),_.has("environment")&&this.records.set(cd,vf(void 0,this));const b=this.records.get(Q_);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Y_.multi,vn,Be.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=zl(this),p=rt(void 0);try{return a()}finally{zl(u),rt(p)}}get(a,u=uu,p=Be.Default){this.assertNotDestroyed();const _=zl(this),b=rt(void 0);try{if(!(p&Be.SkipSelf)){let P=this.records.get(a);if(void 0===P){const G=function Wb(s){return"function"==typeof s||"object"==typeof s&&s instanceof hr}(a)&&mn(a);P=G&&this.injectableDefInScope(G)?vf(vm(a),gm):null,this.records.set(a,P)}if(null!=P)return this.hydrate(a,P)}return(p&Be.Self?mm():this.parent).get(a,u=p&Be.Optional&&u===uu?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[gl]=T[gl]||[]).unshift(ie(a)),_)throw T;return function td(s,a,u,p){const _=s[gl];throw a[nf]&&_.unshift(a[nf]),s.message=function du(s,a,u,p=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let _=ie(a);if(Array.isArray(a))_=a.map(ie).join(" -> ");else if("object"==typeof a){let b=[];for(let T in a)if(a.hasOwnProperty(T)){let P=a[T];b.push(T+":"+("string"==typeof P?JSON.stringify(P):ie(P)))}_=`{${b.join(", ")}}`}return`${u}${p?"("+p+")":""}[${_}]: ${s.replace(Xd,"\n  ")}`}("\n"+s.message,_,u,p),s.ngTokenPath=_,s[gl]=null,s}(T,a,"R3InjectorError",this.source)}throw T}finally{rt(b),zl(_)}}resolveInjectorInitializers(){const a=zl(this),u=rt(void 0);try{const p=this.get(W_.multi,vn,Be.Self);for(const _ of p)_()}finally{zl(a),rt(u)}}toString(){const a=[],u=this.records;for(const p of u.keys())a.push(ie(p));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processProvider(a){let u=ld(a=Ee(a))?a:Ee(a&&a.provide);const p=function $y(s){return pm(s)?vf(void 0,s.useValue):vf(Wy(s),gm)}(a);if(ld(a)||!0!==a.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=vf(void 0,gm,!0),_.factory=()=>Jd(_.multi),this.records.set(u,_)),u=a,_.multi.push(a)}this.records.set(u,p)}hydrate(a,u){return u.value===gm&&(u.value=Up,u.value=u.factory()),"object"==typeof u.value&&u.value&&function bf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Ee(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function vm(s){const a=mn(s),u=null!==a?a.factory:wr(s);if(null!==u)return u;if(s instanceof hr)throw new ht(204,!1);if(s instanceof Function)return function $b(s){const a=s.length;if(a>0)throw M(a,"?"),new ht(204,!1);const u=function Rn(s){const a=s&&(s[Vn]||s[qn]);if(a){const u=function zn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ht(204,!1)}function Wy(s,a,u){let p;if(ld(s)){const _=Ee(s);return wr(_)||vm(_)}if(pm(s))p=()=>Ee(s.useValue);else if(function q_(s){return!(!s||!s.useFactory)}(s))p=()=>s.useFactory(...Jd(s.deps||[]));else if(function _f(s){return!(!s||!s.useExisting)}(s))p=()=>as(Ee(s.useExisting));else{const _=Ee(s&&(s.useClass||s.provide));if(!function yf(s){return!!s.deps}(s))return wr(_)||vm(_);p=()=>new _(...Jd(s.deps))}return p}function vf(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Yb(s){return!!s.\u0275providers}function X_(s,a){for(const u of s)Array.isArray(u)?X_(u,a):Yb(u)?X_(u.\u0275providers,a):a(u)}class ia{}class Ky{resolveComponentFactory(a){throw function Kb(s){const a=Error(`No component factory found for ${ie(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let ud=(()=>{class s{}return s.NULL=new Ky,s})();function Zy(){return wf(Vr(),En())}function wf(s,a){return new jp(ds(s,a))}let jp=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Zy,s})();function Zb(s){return s instanceof jp?s.nativeElement:s}class qy{}let qb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Cf(){const s=En(),u=Li(Vr().index,s);return(In(u)?u:s)[11]}(),s})(),ev=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class tv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Qy=new tv("14.2.7"),zp={};function Ma(s){return s.ngOriginalError}class Za{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Ma(a);for(;u&&Ma(u);)u=Ma(u);return u||null}}const dd=/^>|^->|<!--|-->|--!>|<!-$/g,Ef=/(<|>)/;const fh=new Map;let cv=0;const Tc="__ngContext__";function ms(s,a){In(a)?(s[Tc]=a[20],function xf(s){fh.set(s[20],s)}(a)):s[Tc]=a}function ks(s){return s instanceof Function?s():s}var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();let Eu;function Tu(s,a){return Eu(s,a)}function mh(s){const a=s[3];return Zn(a)?a[3]:a}function _h(s){return Sm(s[13])}function Jp(s){return Sm(s[4])}function Sm(s){for(;null!==s&&!Zn(s);)s=s[4];return s}function Ac(s,a,u,p,_){if(null!=p){let b,T=!1;Zn(p)?b=p:In(p)&&(T=!0,p=p[0]);const P=Ui(p);0===s&&null!==u?null==_?rg(a,u,P):pd(a,u,P,_||null,!0):1===s&&null!==u?pd(a,u,P,_||null,!0):2===s?Fm(a,P,T):3===s&&a.destroyNode(P),null!=b&&function Rf(s,a,u,p,_){const b=u[7];b!==Ui(u)&&Ac(a,s,p,b,_);for(let P=10;P<u.length;P++){const G=u[P];Xl(G[1],G,s,a,p,b)}}(a,s,b,u,_)}}function Ic(s,a){return s.createText(a)}function xu(s,a,u){s.setValue(a,u)}function Mc(s,a){return s.createComment(function Zp(s){return s.replace(dd,a=>a.replace(Ef,"\u200b$1\u200b"))}(a))}function eg(s,a,u){return s.createElement(a,u)}function zs(s,a){const u=s[9],p=u.indexOf(a),_=a[3];512&a[2]&&(a[2]&=-513,Ts(_,-1)),u.splice(p,1)}function ng(s,a){if(s.length<=10)return;const u=10+a,p=s[u];if(p){const _=p[17];null!==_&&_!==s&&zs(_,p),a>0&&(s[u-1][4]=p[4]);const b=yr(s,10+a);!function fv(s,a){Xl(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(p[1],p);const T=b[19];null!==T&&T.detachView(b[1]),p[3]=null,p[4]=null,p[2]&=-65}return p}function Im(s,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Xl(s,a,u,3,null,null),function pv(s){let a=s[13];if(!a)return ig(s[1],s);for(;a;){let u=null;if(In(a))u=a[13];else{const p=a[10];p&&(u=p)}if(!u){for(;a&&!a[4]&&a!==s;)In(a)&&ig(a[1],a),a=a[3];null===a&&(a=s),In(a)&&ig(a[1],a),u=a&&a[4]}a=u}}(a)}}function ig(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Om(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let p=0;p<u.length;p+=2){const _=a[u[p]];if(!(_ instanceof fs)){const b=u[p+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const P=_[b[T]],G=b[T+1];try{G.call(P)}finally{}}else try{b.call(_)}finally{}}}}(s,a),function Mm(s,a){const u=s.cleanup,p=a[7];let _=-1;if(null!==u)for(let b=0;b<u.length-1;b+=2)if("string"==typeof u[b]){const T=u[b+1],P="function"==typeof T?T(a):Ui(a[T]),G=p[_=u[b+2]],oe=u[b+3];"boolean"==typeof oe?P.removeEventListener(u[b],G,oe):oe>=0?p[_=oe]():p[_=-oe].unsubscribe(),b+=2}else{const T=p[_=u[b+1]];u[b].call(T)}if(null!==p){for(let b=_+1;b<p.length;b++)(0,p[b])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&Zn(a[3])){u!==a[3]&&zs(u,a);const p=a[19];null!==p&&p.detachView(s)}!function e0(s){fh.delete(s[20])}(a)}}function km(s,a,u){return fd(s,a.parent,u)}function fd(s,a,u){let p=a;for(;null!==p&&40&p.type;)p=(a=p).parent;if(null===p)return u[0];if(2&p.flags){const _=s.data[p.directiveStart].encapsulation;if(_===Ne.None||_===Ne.Emulated)return null}return ds(p,u)}function pd(s,a,u,p,_){s.insertBefore(a,u,p,_)}function rg(s,a,u){s.appendChild(a,u)}function sg(s,a,u,p,_){null!==p?pd(s,a,u,p,_):rg(s,a,u)}function Oc(s,a){return s.parentNode(a)}function og(s,a,u){return mv(s,a,u)}function ag(s,a,u){return 40&s.type?ds(s,u):null}let lg,mv=ag;function Nm(s,a){mv=s,lg=a}function gd(s,a,u,p){const _=km(s,p,a),b=a[11],P=og(p.parent||a[6],p,a);if(null!=_)if(Array.isArray(u))for(let G=0;G<u.length;G++)sg(b,_,u[G],P,!1);else sg(b,_,u,P,!1);void 0!==lg&&lg(b,p,a,u,_)}function Of(s,a){if(null!==a){const u=a.type;if(3&u)return ds(a,s);if(4&u)return Pm(-1,s[a.index]);if(8&u){const p=a.child;if(null!==p)return Of(s,p);{const _=s[a.index];return Zn(_)?Pm(-1,_):Ui(_)}}if(32&u)return Tu(a,s)()||Ui(s[a.index]);{const p=cg(s,a);return null!==p?Array.isArray(p)?p[0]:Of(mh(s[O]),p):Of(s,a.next)}}return null}function cg(s,a){return null!==a?s[O][6].projection[a.projection]:null}function Pm(s,a){const u=10+s+1;if(u<a.length){const p=a[u],_=p[1].firstChild;if(null!==_)return Of(p,_)}return a[7]}function Fm(s,a,u){const p=Oc(s,a);p&&function Mf(s,a,u,p){s.removeChild(a,u,p)}(s,p,a,u)}function Lm(s,a,u,p,_,b,T){for(;null!=u;){const P=p[u.index],G=u.type;if(T&&0===a&&(P&&ms(Ui(P),p),u.flags|=4),64!=(64&u.flags))if(8&G)Lm(s,a,u.child,p,_,b,!1),Ac(a,s,_,P,b);else if(32&G){const oe=Tu(u,p);let Fe;for(;Fe=oe();)Ac(a,s,_,Fe,b);Ac(a,s,_,P,b)}else 16&G?kf(s,a,p,u,_,b):Ac(a,s,_,P,b);u=T?u.projectionNext:u.next}}function Xl(s,a,u,p,_,b){Lm(u,p,s.firstChild,a,_,b,!1)}function kf(s,a,u,p,_,b){const T=u[O],G=T[6].projection[p.projection];if(Array.isArray(G))for(let oe=0;oe<G.length;oe++)Ac(a,s,_,G[oe],b);else Lm(s,a,G,T[3],_,b,!0)}function Bm(s,a,u){s.setAttribute(a,"style",u)}function ug(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function kc(s,a,u){let p=s.length;for(;;){const _=s.indexOf(a,u);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const b=a.length;if(_+b===p||s.charCodeAt(_+b)<=32)return _}u=_+1}}const vv="ng-template";function Vm(s,a,u){let p=0;for(;p<s.length;){let _=s[p++];if(u&&"class"===_){if(_=s[p],-1!==kc(_.toLowerCase(),a,0))return!0}else if(1===_){for(;p<s.length&&"string"==typeof(_=s[p++]);)if(_.toLowerCase()===a)return!0;return!1}}return!1}function bh(s){return 4===s.type&&s.value!==vv}function md(s,a,u){return a===(4!==s.type||u?s.value:vv)}function hg(s,a,u){let p=4;const _=s.attrs||[],b=function Ff(s){for(let a=0;a<s.length;a++)if(hn(s[a]))return a;return s.length}(_);let T=!1;for(let P=0;P<a.length;P++){const G=a[P];if("number"!=typeof G){if(!T)if(4&p){if(p=2|1&p,""!==G&&!md(s,G,u)||""===G&&1===a.length){if(ba(p))return!1;T=!0}}else{const oe=8&p?G:a[++P];if(8&p&&null!==s.attrs){if(!Vm(s.attrs,oe,u)){if(ba(p))return!1;T=!0}continue}const at=Nf(8&p?"class":G,_,bh(s),u);if(-1===at){if(ba(p))return!1;T=!0;continue}if(""!==oe){let Ft;Ft=at>b?"":_[at+1].toLowerCase();const en=8&p?Ft:null;if(en&&-1!==kc(en,oe,0)||2&p&&oe!==Ft){if(ba(p))return!1;T=!0}}}}else{if(!T&&!ba(p)&&!ba(G))return!1;if(T&&ba(G))continue;T=!1,p=G|1&p}}return ba(p)||T}function ba(s){return 0==(1&s)}function Nf(s,a,u,p){if(null===a)return-1;let _=0;if(p||!u){let b=!1;for(;_<a.length;){const T=a[_];if(T===s)return _;if(3===T||6===T)b=!0;else{if(1===T||2===T){let P=a[++_];for(;"string"==typeof P;)P=a[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=b?1:2}return-1}return function fg(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const p=s[u];if("number"==typeof p)return-1;if(p===a)return u;u++}return-1}(a,s)}function Pf(s,a,u=!1){for(let p=0;p<a.length;p++)if(hg(s,a[p],u))return!0;return!1}function yv(s,a){e:for(let u=0;u<a.length;u++){const p=a[u];if(s.length===p.length){for(let _=0;_<s.length;_++)if(s[_]!==p[_])continue e;return!0}}return!1}function Um(s,a){return s?":not("+a.trim()+")":a}function bv(s){let a=s[0],u=1,p=2,_="",b=!1;for(;u<s.length;){let T=s[u];if("string"==typeof T)if(2&p){const P=s[++u];_+="["+T+(P.length>0?'="'+P+'"':"")+"]"}else 8&p?_+="."+T:4&p&&(_+=" "+T);else""!==_&&!ba(T)&&(a+=Um(b,_),_=""),p=T,b=b||!ba(p);u++}return""!==_&&(a+=Um(b,_)),a}const Pi={};function pg(s){Lf(ki(),En(),Tt()+s,!1)}function Lf(s,a,u,p){if(!p)if(3==(3&a[2])){const b=s.preOrderCheckHooks;null!==b&&Dr(a,b,u)}else{const b=s.preOrderHooks;null!==b&&qo(a,b,0,u)}ln(u)}function Rc(s,a=null,u=null,p){const _=fr(s,a,u,p);return _.resolveInjectorInitializers(),_}function fr(s,a=null,u=null,p,_=new Set){const b=[u||vn,po(s)];return p=p||("object"==typeof s?void 0:ie(s)),new _m(b,a||mm(),p||null,_)}let wl=(()=>{class s{static create(u,p){if(Array.isArray(u))return Rc({name:""},p,u,"");{const _=u.name??"";return Rc({name:_},u.parent,u.providers,_)}}}return s.THROW_IF_NOT_FOUND=uu,s.NULL=new jy,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>as(mf)}),s.__NG_ELEMENT_ID__=-1,s})();function eo(s,a=Be.Default){const u=En();return null===u?as(s,a):ga(Vr(),u,Ee(s),a)}function _g(){throw new Error("invalid")}function Mu(s,a){return s<<17|a<<2}function Oa(s){return s>>17&32767}function Dl(s){return 2|s}function Go(s){return(131068&s)>>2}function Fc(s,a){return-131069&s|a<<2}function vg(s){return 1|s}function Eg(s,a){const u=s.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const _=u[p],b=u[p+1];if(-1!==b){const T=s.data[b];za(_),T.contentQueries(2,a[b],b)}}}function Lc(s,a,u,p,_,b,T,P,G,oe,Fe){const at=a.blueprint.slice();return at[0]=_,at[2]=76|p,(null!==Fe||s&&1024&s[2])&&(at[2]|=1024),uo(at),at[3]=at[15]=s,at[8]=u,at[10]=T||s&&s[10],at[11]=P||s&&s[11],at[12]=G||s&&s[12]||null,at[9]=oe||s&&s[9]||null,at[6]=b,at[20]=function qp(){return cv++}(),at[21]=Fe,at[O]=2==a.type?s[O]:at,at}function to(s,a,u,p,_){let b=s.data[a];if(null===b)b=Sd(s,a,u,p,_),function ll(){return Di.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=u,b.value=p,b.attrs=_;const T=Y();b.injectorIndex=null===T?-1:T.injectorIndex}return $(b,!0),b}function Sd(s,a,u,p,_){const b=Q(),T=Ue(),G=s.data[a]=function Lu(s,a,u,p,_,b){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,u,a,p,_);return null===s.firstChild&&(s.firstChild=G),null!==b&&(T?null==b.child&&null!==G.parent&&(b.child=G):null===b.next&&(b.next=G)),G}function Pu(s,a,u,p){if(0===u)return-1;const _=a.length;for(let b=0;b<u;b++)a.push(p),s.blueprint.push(p),s.data.push(null);return _}function Kf(s,a,u){dl(a);try{const p=s.viewQuery;null!==p&&n_(1,p,u);const _=s.template;null!==_&&Zm(s,a,_,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Eg(s,a),s.staticViewQueries&&n_(2,s.viewQuery,u);const b=s.components;null!==b&&function h0(s,a){for(let u=0;u<a.length;u++)Fv(s,a[u])}(a,b)}catch(p){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),p}finally{a[2]&=-5,fe()}}function Tg(s,a,u,p){const _=a[2];if(128!=(128&_)){dl(a);try{uo(a),function fa(s){return Di.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Zm(s,a,u,2,p);const T=3==(3&_);if(T){const oe=s.preOrderCheckHooks;null!==oe&&Dr(a,oe,null)}else{const oe=s.preOrderHooks;null!==oe&&qo(a,oe,0,null),Do(a,0)}if(function Pv(s){for(let a=_h(s);null!==a;a=Jp(a)){if(!a[2])continue;const u=a[9];for(let p=0;p<u.length;p++){const _=u[p],b=_[3];0==(512&_[2])&&Ts(b,1),_[2]|=512}}}(a),function f0(s){for(let a=_h(s);null!==a;a=Jp(a))for(let u=10;u<a.length;u++){const p=a[u],_=p[1];Jr(p)&&Tg(_,p,_.template,p[8])}}(a),null!==s.contentQueries&&Eg(s,a),T){const oe=s.contentCheckHooks;null!==oe&&Dr(a,oe)}else{const oe=s.contentHooks;null!==oe&&qo(a,oe,1),Do(a,1)}!function xd(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const _=u[p];if(_<0)ln(~_);else{const b=_,T=u[++p],P=u[++p];Ca(T,b),P(2,a[b])}}}finally{ln(-1)}}(s,a);const P=s.components;null!==P&&function Oh(s,a){for(let u=0;u<a.length;u++)p0(s,a[u])}(a,P);const G=s.viewQuery;if(null!==G&&n_(2,G,p),T){const oe=s.viewCheckHooks;null!==oe&&Dr(a,oe)}else{const oe=s.viewHooks;null!==oe&&qo(a,oe,2),Do(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Ts(a[3],-1))}finally{fe()}}}function Zm(s,a,u,p,_){const b=Tt(),T=2&p;try{ln(-1),T&&a.length>22&&Lf(s,a,22,!1),u(p,_)}finally{ln(b)}}function xg(s,a,u){if(Ai(a)){const _=a.directiveEnd;for(let b=a.directiveStart;b<_;b++){const T=s.data[b];T.contentQueries&&T.contentQueries(1,u[b],b)}}}function qm(s,a,u){!os()||(function Vc(s,a,u,p){const _=u.directiveStart,b=u.directiveEnd;s.firstCreatePass||pa(u,a),ms(p,a);const T=u.initialInputs;for(let P=_;P<b;P++){const G=s.data[P],oe=cr(G);oe&&Uu(a,u,G);const Fe=ps(a,s,P,u);ms(Fe,a),null!==T&&ts(0,P-_,Fe,G,0,T),oe&&(Li(u.index,a)[8]=Fe)}}(s,a,u,ds(u,a)),128==(128&u.flags)&&function Qf(s,a,u){const p=u.directiveStart,_=u.directiveEnd,b=u.index,T=function uc(){return Di.lFrame.currentDirectiveIndex}();try{ln(b);for(let P=p;P<_;P++){const G=s.data[P],oe=a[P];ul(P),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&e_(G,oe)}}finally{ln(-1),ul(T)}}(s,a,u))}function Zf(s,a,u=ds){const p=a.localNames;if(null!==p){let _=a.index+1;for(let b=0;b<p.length;b+=2){const T=p[b+1],P=-1===T?u(a,s):s[T];s[_++]=P}}}function Ra(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Ad(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Ad(s,a,u,p,_,b,T,P,G,oe){const Fe=22+p,at=Fe+_,Ft=function Qm(s,a){const u=[];for(let p=0;p<a;p++)u.push(p<s?null:Pi);return u}(Fe,at),en="function"==typeof oe?oe():oe;return Ft[1]={type:s,blueprint:Ft,template:u,queries:null,viewQuery:P,declTNode:a,data:Ft.slice().fill(null,Fe),bindingStartIndex:Fe,expandoStartIndex:at,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:G,consts:en,incompleteFirstPass:!1}}function Fu(s,a,u,p){const _=Lv(a);null===u?_.push(p):(_.push(u),s.firstCreatePass&&i_(s).push(p,_.length-1))}function Id(s,a,u){for(let p in s)if(s.hasOwnProperty(p)){const _=s[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(a,_):u[p]=[a,_]}return u}function Bc(s,a){const p=a.directiveEnd,_=s.data,b=a.attrs,T=[];let P=null,G=null;for(let oe=a.directiveStart;oe<p;oe++){const Fe=_[oe],at=Fe.inputs,Ft=null===b||bh(a)?null:Ns(at,b);T.push(Ft),P=Id(at,oe,P),G=Id(Fe.outputs,oe,G)}null!==P&&(P.hasOwnProperty("class")&&(a.flags|=16),P.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=T,a.inputs=P,a.outputs=G}function Na(s,a,u,p,_,b,T,P){const G=ds(a,u);let Fe,oe=a.inputs;!P&&null!=oe&&(Fe=oe[p])?(Md(s,u,Fe,p,_),mr(a)&&Bu(u,a.index)):3&a.type&&(p=function Xm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(p),_=null!=T?T(_,a.value||"",p):_,b.setProperty(G,p,_))}function Bu(s,a){const u=Li(a,s);16&u[2]||(u[2]|=32)}function Vu(s,a,u,p){let _=!1;if(os()){const b=function Lr(s,a,u){const p=s.directiveRegistry;let _=null;if(p)for(let b=0;b<p.length;b++){const T=p[b];Pf(u,T.selectors,!1)&&(_||(_=[]),Gi(pa(u,a),s,T.type),cr(T)?(Pa(s,u),_.unshift(T)):_.push(T))}return _}(s,a,u),T=null===p?null:{"":-1};if(null!==b){_=!0,Og(u,s.data.length,b.length);for(let Fe=0;Fe<b.length;Fe++){const at=b[Fe];at.providersResolver&&at.providersResolver(at)}let P=!1,G=!1,oe=Pu(s,a,b.length,null);for(let Fe=0;Fe<b.length;Fe++){const at=b[Fe];u.mergedAttrs=Ur(u.mergedAttrs,at.hostAttrs),Xf(s,u,a,oe,at),Xi(oe,at,T),null!==at.contentQueries&&(u.flags|=8),(null!==at.hostBindings||null!==at.hostAttrs||0!==at.hostVars)&&(u.flags|=128);const Ft=at.type.prototype;!P&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),P=!0),!G&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),G=!0),oe++}Bc(s,u)}T&&function Hu(s,a,u){if(a){const p=s.localNames=[];for(let _=0;_<a.length;_+=2){const b=u[a[_+1]];if(null==b)throw new ht(-301,!1);p.push(a[_],b)}}}(u,p,T)}return u.mergedAttrs=Ur(u.mergedAttrs,u.attrs),_}function Ig(s,a,u,p,_,b){const T=b.hostBindings;if(T){let P=s.hostBindingOpCodes;null===P&&(P=s.hostBindingOpCodes=[]);const G=~a.index;(function Mg(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(P)!=G&&P.push(G),P.push(p,_,T)}}function e_(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Pa(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Xi(s,a,u){if(u){if(a.exportAs)for(let p=0;p<a.exportAs.length;p++)u[a.exportAs[p]]=s;cr(a)&&(u[""]=s)}}function Og(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}function Xf(s,a,u,p,_){s.data[p]=_;const b=_.factory||(_.factory=wr(_.type)),T=new fs(b,cr(_),eo);s.blueprint[p]=T,u[p]=T,Ig(s,a,0,p,Pu(s,u,_.hostVars,Pi),_)}function Uu(s,a,u){const p=ds(a,s),_=Ra(u),b=s[10],T=Rg(s,Lc(s,_,null,u.onPush?32:16,p,a,b,b.createRenderer(p,u),null,null,null));s[a.index]=T}function El(s,a,u,p,_,b,T){if(null==b)s.removeAttribute(a,_,u);else{const P=null==T?Ge(b):T(b,p||"",_);s.setAttribute(a,_,P,u)}}function ts(s,a,u,p,_,b){const T=b[a];if(null!==T){const P=p.setInput;for(let G=0;G<T.length;){const oe=T[G++],Fe=T[G++],at=T[G++];null!==P?p.setInput(u,at,oe,Fe):u[Fe]=at}}}function Ns(s,a){let u=null,p=0;for(;p<a.length;){const _=a[p];if(0!==_)if(5!==_){if("number"==typeof _)break;s.hasOwnProperty(_)&&(null===u&&(u=[]),u.push(_,s[_],a[p+1])),p+=2}else p+=2;else p+=4}return u}function Jf(s,a,u,p){return new Array(s,!0,!1,a,null,0,p,u,null,null)}function p0(s,a){const u=Li(a,s);if(Jr(u)){const p=u[1];48&u[2]?Tg(p,u,p.template,u[8]):u[5]>0&&ep(u)}}function ep(s){for(let p=_h(s);null!==p;p=Jp(p))for(let _=10;_<p.length;_++){const b=p[_];if(Jr(b))if(512&b[2]){const T=b[1];Tg(T,b,T.template,b[8])}else b[5]>0&&ep(b)}const u=s[1].components;if(null!==u)for(let p=0;p<u.length;p++){const _=Li(u[p],s);Jr(_)&&_[5]>0&&ep(_)}}function Fv(s,a){const u=Li(a,s),p=u[1];(function kg(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(p,u),Kf(p,u,u[8])}function Rg(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function t_(s){for(;s;){s[2]|=32;const a=mh(s);if(so(s)&&!a)return s;s=a}return null}function tp(s,a,u,p=!0){const _=a[10];_.begin&&_.begin();try{Tg(s,a,s.template,u)}catch(T){throw p&&kh(a,T),T}finally{_.end&&_.end()}}function n_(s,a,u){za(0),a(s,u)}function Lv(s){return s[7]||(s[7]=[])}function i_(s){return s.cleanup||(s.cleanup=[])}function Ng(s,a,u){return(null===s||cr(s))&&(u=function ua(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[a.index])),u[11]}function kh(s,a){const u=s[9],p=u?u.get(Za,null):null;p&&p.handleError(a)}function Md(s,a,u,p,_){for(let b=0;b<u.length;){const T=u[b++],P=u[b++],G=a[T],oe=s.data[T];null!==oe.setInput?oe.setInput(G,_,p,P):G[P]=_}}function Qa(s,a,u){const p=No(a,s);xu(s[11],p,u)}function Hc(s,a,u){let p=u?s.styles:null,_=u?s.classes:null,b=0;if(null!==a)for(let T=0;T<a.length;T++){const P=a[T];"number"==typeof P?b=P:1==b?_=qe(_,P):2==b&&(p=qe(p,P+": "+a[++T]+";"))}u?s.styles=p:s.stylesWithoutHost=p,u?s.classes=_:s.classesWithoutHost=_}function Od(s,a,u,p,_=!1){for(;null!==u;){const b=a[u.index];if(null!==b&&p.push(Ui(b)),Zn(b))for(let P=10;P<b.length;P++){const G=b[P],oe=G[1].firstChild;null!==oe&&Od(G[1],G,oe,p)}const T=u.type;if(8&T)Od(s,a,u.child,p);else if(32&T){const P=Tu(u,a);let G;for(;G=P();)p.push(G)}else if(16&T){const P=cg(a,u);if(Array.isArray(P))p.push(...P);else{const G=mh(a[O]);Od(G[1],G,P,p,!0)}}u=_?u.projectionNext:u.next}return p}class Uc{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Od(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Zn(a)){const u=a[8],p=u?u.indexOf(this):-1;p>-1&&(ng(a,p),yr(u,p))}this._attachedToViewContainer=!1}Im(this._lView[1],this._lView)}onDestroy(a){Fu(this._lView[1],this._lView,null,a)}markForCheck(){t_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){tp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function If(s,a){Xl(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=a}}class r_ extends Uc{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;tp(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class kd extends ud{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=ne(a);return new Xa(u,this.ngModule)}}function Pg(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class o_{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,p){const _=this.injector.get(a,zp,p);return _!==zp||u===zp?_:this.parentInjector.get(a,u,p)}}class Xa extends ia{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function wv(s){return s.map(bv).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Pg(this.componentDef.inputs)}get outputs(){return Pg(this.componentDef.outputs)}create(a,u,p,_){let b=(_=_||this.ngModule)instanceof cd?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const T=b?new o_(a,b):a,P=T.get(qy,null);if(null===P)throw new ht(407,!1);const G=T.get(ev,null),oe=P.createRenderer(null,this.componentDef),Fe=this.componentDef.selectors[0][0]||"div",at=p?function qf(s,a,u){return s.selectRootElement(a,u===Ne.ShadowDom)}(oe,p,this.componentDef.encapsulation):eg(P.createRenderer(null,this.componentDef),Fe,function s_(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Fe)),Ft=this.componentDef.onPush?288:272,en=Ad(0,null,null,1,0,null,null,null,null,null),Tn=Lc(null,en,null,Ft,null,null,P,oe,G,T,null);let jn,ni;dl(Tn);try{const _i=function l_(s,a,u,p,_,b){const T=u[1];u[22]=s;const G=to(T,22,2,"#host",null),oe=G.mergedAttrs=a.hostAttrs;null!==oe&&(Hc(G,oe,!0),null!==s&&(Kn(_,s,oe),null!==G.classes&&ug(_,s,G.classes),null!==G.styles&&Bm(_,s,G.styles)));const Fe=p.createRenderer(s,a),at=Lc(u,Ra(a),null,a.onPush?32:16,u[22],G,p,Fe,b||null,null,null);return T.firstCreatePass&&(Gi(pa(G,u),T,a.type),Pa(T,G),Og(G,u.length,1)),Rg(u,at),u[22]=at}(at,this.componentDef,Tn,P,oe);if(at)if(p)Kn(oe,at,["ng-version",Qy.full]);else{const{attrs:Si,classes:Pn}=function Cv(s){const a=[],u=[];let p=1,_=2;for(;p<s.length;){let b=s[p];if("string"==typeof b)2===_?""!==b&&a.push(b,s[++p]):8===_&&u.push(b);else{if(!ba(_))break;_=b}p++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Si&&Kn(oe,at,Si),Pn&&Pn.length>0&&ug(oe,at,Pn.join(" "))}if(ni=Br(en,22),void 0!==u){const Si=ni.projection=[];for(let Pn=0;Pn<this.ngContentSelectors.length;Pn++){const Mi=u[Pn];Si.push(null!=Mi?Array.from(Mi):null)}}jn=function Fg(s,a,u,p){const _=u[1],b=function Ag(s,a,u){const p=Vr();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Xf(s,p,a,Pu(s,a,1,null),u),Bc(s,p));const _=ps(a,s,p.directiveStart,p);ms(_,a);const b=ds(p,a);return b&&ms(b,a),_}(_,u,a);if(s[8]=u[8]=b,null!==p)for(const P of p)P(b,a);if(a.contentQueries){const P=Vr();a.contentQueries(1,b,P.directiveStart)}const T=Vr();return!_.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ln(T.index),Ig(u[1],T,0,T.directiveStart,T.directiveEnd,a),e_(a,b)),b}(_i,this.componentDef,Tn,[Lg]),Kf(en,Tn,null)}finally{fe()}return new g0(this.componentType,jn,wf(ni,Tn),Tn,ni)}}class g0 extends class Yy{}{constructor(a,u,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.instance=u,this.hostView=this.changeDetectorRef=new r_(_),this.componentType=a}setInput(a,u){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[a])){const b=this._rootLView;Md(b[1],b,_,a,u),Bu(b,this._tNode.index)}}get injector(){return new Ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Lg(){const s=Vr();ir(En()[1],s)}function u_(s){let a=function c_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const p=[s];for(;a;){let _;if(cr(s))_=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ht(903,!1);_=a.\u0275dir}if(_){if(u){p.push(_);const T=s;T.inputs=np(s.inputs),T.declaredInputs=np(s.declaredInputs),T.outputs=np(s.outputs);const P=_.hostBindings;P&&_0(s,P);const G=_.viewQuery,oe=_.contentQueries;if(G&&d_(s,G),oe&&m0(s,oe),Ye(s.inputs,_.inputs),Ye(s.declaredInputs,_.declaredInputs),Ye(s.outputs,_.outputs),cr(_)&&_.data.animation){const Fe=s.data;Fe.animation=(Fe.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let T=0;T<b.length;T++){const P=b[T];P&&P.ngInherit&&P(s),P===u_&&(u=!1)}}a=Object.getPrototypeOf(a)}!function Bv(s){let a=0,u=null;for(let p=s.length-1;p>=0;p--){const _=s[p];_.hostVars=a+=_.hostVars,_.hostAttrs=Ur(_.hostAttrs,u=Ur(u,_.hostAttrs))}}(p)}function np(s){return s===Nn?{}:s===vn?[]:s}function d_(s,a){const u=s.viewQuery;s.viewQuery=u?(p,_)=>{a(p,_),u(p,_)}:a}function m0(s,a){const u=s.contentQueries;s.contentQueries=u?(p,_,b)=>{a(p,_,b),u(p,_,b)}:a}function _0(s,a){const u=s.hostBindings;s.hostBindings=u?(p,_)=>{a(p,_),u(p,_)}:a}let ns=null;function Gc(){if(!ns){const s=yt.Symbol;if(s&&s.iterator)ns=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const p=a[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(ns=p)}}}return ns}function Rh(s){return!!Bg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Gc()in s)}function Bg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Tl(s,a,u){return s[a]=u}function jo(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function Rd(s,a,u,p){const _=jo(s,a,u);return jo(s,a+1,p)||_}function tc(s,a,u,p){const _=En();return jo(_,ja(),a)&&(ki(),function oa(s,a,u,p,_,b){const T=ds(s,a);El(a[11],T,b,s.value,u,p,_)}(pn(),_,s,a,u,p)),tc}function Fa(s,a,u,p){return jo(s,ja(),u)?a+Ge(u)+p:Pi}function Fd(s,a,u,p,_,b,T,P,G,oe){const at=function $s(s,a,u,p,_,b){const T=Rd(s,a,u,p);return Rd(s,a+2,_,b)||T}(s,Ss(),u,_,T,G);return wo(4),at?a+Ge(u)+p+Ge(_)+b+Ge(T)+P+Ge(G)+oe:Pi}function zc(s,a,u,p,_,b,T,P){const G=En(),oe=ki(),Fe=s+22,at=oe.firstCreatePass?function op(s,a,u,p,_,b,T,P,G){const oe=a.consts,Fe=to(a,s,4,T||null,Vs(oe,P));Vu(a,u,Fe,Vs(oe,G)),ir(a,Fe);const at=Fe.tViews=Ad(2,Fe,p,_,b,a.directiveRegistry,a.pipeRegistry,null,a.schemas,oe);return null!==a.queries&&(a.queries.template(a,Fe),at.queries=a.queries.embeddedTView(Fe)),Fe}(Fe,oe,G,a,u,p,_,b,T):oe.data[Fe];$(at,!1);const Ft=G[11].createComment("");gd(oe,G,Ft,at),ms(Ft,G),Rg(G,G[Fe]=Jf(Ft,G,Ft,at)),Ni(at)&&qm(oe,G,at),null!=T&&Zf(G,at,P)}function ap(s){return Bs(function Cr(){return Di.lFrame.contextLView}(),22+s)}function ju(s,a,u){const p=En();return jo(p,ja(),a)&&Na(ki(),pn(),p,s,a,p[11],u,!1),ju}function lp(s,a,u,p,_){const T=_?"class":"style";Md(s,u,a.inputs[T],T,p)}function zu(s,a,u,p){const _=En(),b=ki(),T=22+s,P=_[11],G=_[T]=eg(P,a,function Hi(){return Di.lFrame.currentNamespace}()),oe=b.firstCreatePass?function Fh(s,a,u,p,_,b,T){const P=a.consts,oe=to(a,s,2,_,Vs(P,b));return Vu(a,u,oe,Vs(P,T)),null!==oe.attrs&&Hc(oe,oe.attrs,!1),null!==oe.mergedAttrs&&Hc(oe,oe.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,oe),oe}(T,b,_,0,a,u,p):b.data[T];$(oe,!0);const Fe=oe.mergedAttrs;null!==Fe&&Kn(P,G,Fe);const at=oe.classes;null!==at&&ug(P,G,at);const Ft=oe.styles;return null!==Ft&&Bm(P,G,Ft),64!=(64&oe.flags)&&gd(b,_,G,oe),0===function Hs(){return Di.lFrame.elementDepthCount}()&&ms(G,_),function ha(){Di.lFrame.elementDepthCount++}(),Ni(oe)&&(qm(b,_,oe),xg(b,oe,_)),null!==p&&Zf(_,oe),zu}function $u(){let s=Vr();Ue()?dn():(s=s.parent,$(s,!1));const a=s;!function Us(){Di.lFrame.elementDepthCount--}();const u=ki();return u.firstCreatePass&&(ir(u,s),Ai(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function iu(s){return 0!=(16&s.flags)}(a)&&lp(u,a,En(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ci(s){return 0!=(32&s.flags)}(a)&&lp(u,a,En(),a.stylesWithoutHost,!1),$u}function cp(s,a,u,p){return zu(s,a,u,p),$u(),cp}function Bd(s,a,u){const p=En(),_=ki(),b=s+22,T=_.firstCreatePass?function $c(s,a,u,p,_){const b=a.consts,T=Vs(b,p),P=to(a,s,8,"ng-container",T);return null!==T&&Hc(P,T,!0),Vu(a,u,P,Vs(b,_)),null!==a.queries&&a.queries.elementStart(a,P),P}(b,_,p,a,u):_.data[b];$(T,!0);const P=p[b]=p[11].createComment("");return gd(_,p,P,T),ms(P,p),Ni(T)&&(qm(_,p,T),xg(_,T,p)),null!=u&&Zf(p,T),Bd}function Wc(){let s=Vr();const a=ki();return Ue()?dn():(s=s.parent,$(s,!1)),a.firstCreatePass&&(ir(a,s),Ai(s)&&a.queries.elementEnd(s)),Wc}function Lh(s,a,u){return Bd(s,a,u),Wc(),Lh}function Wu(){return En()}function p_(s){return!!s&&"function"==typeof s.then}function Bh(s){return!!s&&"function"==typeof s.subscribe}const Uv=Bh;function g_(s,a,u,p){const _=En(),b=ki(),T=Vr();return zg(b,_,_[11],T,s,a,0,p),g_}function m_(s,a){const u=Vr(),p=En(),_=ki();return zg(_,p,Ng(Ko(_.data),u,p),u,s,a),m_}function zg(s,a,u,p,_,b,T,P){const G=Ni(p),Fe=s.firstCreatePass&&i_(s),at=a[8],Ft=Lv(a);let en=!0;if(3&p.type||P){const ni=ds(p,a),_i=P?P(ni):ni,Si=Ft.length,Pn=P?Ar=>P(Ui(Ar[p.index])):p.index;let Mi=null;if(!P&&G&&(Mi=function jg(s,a,u,p){const _=s.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const T=_[b];if(T===u&&_[b+1]===p){const P=a[7],G=_[b+2];return P.length>G?P[G]:null}"string"==typeof T&&(b+=2)}return null}(s,a,_,p.index)),null!==Mi)(Mi.__ngLastListenerFn__||Mi).__ngNextListenerFn__=b,Mi.__ngLastListenerFn__=b,en=!1;else{b=$g(p,a,at,b,!1);const Ar=u.listen(_i,_,b);Ft.push(b,Ar),Fe&&Fe.push(_,Pn,Si,Si+1)}}else b=$g(p,a,at,b,!1);const Tn=p.outputs;let jn;if(en&&null!==Tn&&(jn=Tn[_])){const ni=jn.length;if(ni)for(let _i=0;_i<ni;_i+=2){const _s=a[jn[_i]][jn[_i+1]].subscribe(b),Jc=Ft.length;Ft.push(b,_s),Fe&&Fe.push(_,p.index,Jc,-(Jc+1))}}}function Gv(s,a,u,p){try{return!1!==u(p)}catch(_){return kh(s,_),!1}}function $g(s,a,u,p,_){return function b(T){if(T===Function)return p;t_(2&s.flags?Li(s.index,a):a);let G=Gv(a,0,p,T),oe=b.__ngNextListenerFn__;for(;oe;)G=Gv(a,0,oe,T)&&G,oe=oe.__ngNextListenerFn__;return _&&!1===G&&(T.preventDefault(),T.returnValue=!1),G}}function jv(s=1){return function W(s){return(Di.lFrame.contextLView=function Ie(s,a){for(;s>0;)a=a[15],s--;return a}(s,Di.lFrame.contextLView))[8]}(s)}function b0(s,a){let u=null;const p=function Hm(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(s);for(let _=0;_<a.length;_++){const b=a[_];if("*"!==b){if(null===p?Pf(s,b,!0):yv(p,b))return _}else u=_}return u}function Wg(s){const a=En()[O][6];if(!a.projection){const p=a.projection=M(s?s.length:1,null),_=p.slice();let b=a.child;for(;null!==b;){const T=s?b0(b,s):0;null!==T&&(_[T]?_[T].projectionNext=b:p[T]=b,_[T]=b),b=b.next}}}function Yg(s,a=0,u){const p=En(),_=ki(),b=to(_,22+s,16,null,u||null);null===b.projection&&(b.projection=a),dn(),64!=(64&b.flags)&&function yh(s,a,u){kf(a[11],0,a,u,km(s,u,a),og(u.parent||a[6],u,a))}(_,p,b)}function up(s,a,u){return Vd(s,"",a,"",u),up}function Vd(s,a,u,p,_){const b=En(),T=Fa(b,a,u,p);return T!==Pi&&Na(ki(),pn(),b,s,T,b[11],_,!1),Vd}function zv(s,a,u,p,_){const b=s[u+1],T=null===a;let P=p?Oa(b):Go(b),G=!1;for(;0!==P&&(!1===G||T);){const Fe=s[P+1];C0(s[P],a)&&(G=!0,s[P+1]=p?vg(Fe):Dl(Fe)),P=p?Oa(Fe):Go(Fe)}G&&(s[u+1]=p?Dl(b):vg(b))}function C0(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Hn(s,a)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gp(s){return s.substring(Nr.key,Nr.keyEnd)}function Hh(s,a){const u=Nr.textEnd;return u===a?-1:(a=Nr.keyEnd=function __(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,Nr.key=a,u),Hd(s,a,u))}function Hd(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function Yv(s,a,u){return tl(s,a,u,!1),Yv}function jh(s,a){return tl(s,a,null,!0),jh}function v_(s){!function xl(s,a,u,p){const _=ki(),b=wo(2);_.firstUpdatePass&&Zv(_,null,b,p);const T=En();if(u!==Pi&&jo(T,b,u)){const P=_.data[Tt()];if(pe(P,p)&&!Kv(_,b)){let G=p?P.classesWithoutHost:P.stylesWithoutHost;null!==G&&(u=qe(G,u||"")),lp(_,P,T,u,p)}else!function g(s,a,u,p,_,b,T,P){_===Pi&&(_=vn);let G=0,oe=0,Fe=0<_.length?_[0]:null,at=0<b.length?b[0]:null;for(;null!==Fe||null!==at;){const Ft=G<_.length?_[G+1]:void 0,en=oe<b.length?b[oe+1]:void 0;let jn,Tn=null;Fe===at?(G+=2,oe+=2,Ft!==en&&(Tn=at,jn=en)):null===at||null!==Fe&&Fe<at?(G+=2,Tn=Fe):(oe+=2,Tn=at,jn=en),null!==Tn&&y(s,a,u,p,Tn,jn,T,P),Fe=G<_.length?_[G]:null,at=oe<b.length?b[oe]:null}}(_,P,T,T[11],T[b+1],T[b+1]=function o(s,a,u){if(null==u||""===u)return vn;const p=[],_=vl(u);if(Array.isArray(_))for(let b=0;b<_.length;b++)s(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&s(p,b,_[b]);else"string"==typeof _&&a(p,_);return p}(s,a,u),p,b)}}(Ct,rc,s,!0)}function rc(s,a){for(let u=function D0(s){return function Wv(s){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=s.length}(s),Hh(s,Hd(s,0,Nr.textEnd))}(a);u>=0;u=Hh(a,u))Ct(s,gp(a),!0)}function tl(s,a,u,p){const _=En(),b=ki(),T=wo(2);b.firstUpdatePass&&Zv(b,s,T,p),a!==Pi&&jo(_,T,a)&&y(b,b.data[Tt()],_,_[11],s,_[T+1]=function ee(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ie(vl(s)))),s}(a,u),p,T)}function Kv(s,a){return a>=s.expandoStartIndex}function Zv(s,a,u,p){const _=s.data;if(null===_[u+1]){const b=_[Tt()],T=Kv(s,u);pe(b,p)&&null===a&&!T&&(a=!1),a=function qv(s,a,u,p){const _=Ko(s);let b=p?a.residualClasses:a.residualStyles;if(null===_)0===(p?a.classBindings:a.styleBindings)&&(u=i(u=l(null,s,a,u,p),a.attrs,p),b=null);else{const T=a.directiveStylingLast;if(-1===T||s[T]!==_)if(u=l(_,s,a,u,p),null===b){let G=function Zg(s,a,u){const p=u?a.classBindings:a.styleBindings;if(0!==Go(p))return s[Oa(p)]}(s,a,p);void 0!==G&&Array.isArray(G)&&(G=l(null,s,a,G[1],p),G=i(G,a.attrs,p),function E0(s,a,u,p){s[Oa(u?a.classBindings:a.styleBindings)]=p}(s,a,p,G))}else b=function y_(s,a,u){let p;const _=a.directiveEnd;for(let b=1+a.directiveStylingLast;b<_;b++)p=i(p,s[b].hostAttrs,u);return i(p,a.attrs,u)}(s,a,p)}return void 0!==b&&(p?a.residualClasses=b:a.residualStyles=b),u}(_,b,a,p),function Zc(s,a,u,p,_,b){let T=b?a.classBindings:a.styleBindings,P=Oa(T),G=Go(T);s[p]=u;let Fe,oe=!1;if(Array.isArray(u)){const at=u;Fe=at[1],(null===Fe||Hn(at,Fe)>0)&&(oe=!0)}else Fe=u;if(_)if(0!==G){const Ft=Oa(s[P+1]);s[p+1]=Mu(Ft,P),0!==Ft&&(s[Ft+1]=Fc(s[Ft+1],p)),s[P+1]=function bd(s,a){return 131071&s|a<<17}(s[P+1],p)}else s[p+1]=Mu(P,0),0!==P&&(s[P+1]=Fc(s[P+1],p)),P=p;else s[p+1]=Mu(G,0),0===P?P=p:s[G+1]=Fc(s[G+1],p),G=p;oe&&(s[p+1]=Dl(s[p+1])),zv(s,Fe,p,!0),zv(s,Fe,p,!1),function w0(s,a,u,p,_){const b=_?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof a&&Hn(b,a)>=0&&(u[p+1]=vg(u[p+1]))}(a,Fe,s,p,b),T=Mu(P,G),b?a.classBindings=T:a.styleBindings=T}(_,b,a,u,T,p)}}function l(s,a,u,p,_){let b=null;const T=u.directiveEnd;let P=u.directiveStylingLast;for(-1===P?P=u.directiveStart:P++;P<T&&(b=a[P],p=i(p,b.hostAttrs,_),b!==s);)P++;return null!==s&&(u.directiveStylingLast=P),p}function i(s,a,u){const p=u?1:2;let _=-1;if(null!==a)for(let b=0;b<a.length;b++){const T=a[b];"number"==typeof T?_=T:_===p&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ct(s,T,!!u||a[++b]))}return void 0===s?null:s}function y(s,a,u,p,_,b,T,P){if(!(3&a.type))return;const G=s.data,oe=G[P+1];L(function Ou(s){return 1==(1&s)}(oe)?E(G,a,u,_,Go(oe),T):void 0)||(L(b)||function jf(s){return 2==(2&s)}(oe)&&(b=E(G,null,u,_,P,T)),function _v(s,a,u,p,_){if(a)_?s.addClass(u,p):s.removeClass(u,p);else{let b=-1===p.indexOf("-")?void 0:Uo.DashCase;null==_?s.removeStyle(u,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=Uo.Important),s.setStyle(u,p,_,b))}}(p,T,No(Tt(),u),_,b))}function E(s,a,u,p,_,b){const T=null===a;let P;for(;_>0;){const G=s[_],oe=Array.isArray(G),Fe=oe?G[1]:G,at=null===Fe;let Ft=u[_+1];Ft===Pi&&(Ft=at?vn:void 0);let en=at?gn(Ft,p):Fe===p?Ft:void 0;if(oe&&!L(en)&&(en=gn(G,p)),L(en)&&(P=en,T))return P;const Tn=s[_+1];_=T?Oa(Tn):Go(Tn)}if(null!==a){let G=b?a.residualClasses:a.residualStyles;null!=G&&(P=gn(G,p))}return P}function L(s){return void 0!==s}function pe(s,a){return 0!=(s.flags&(a?16:32))}function et(s,a=""){const u=En(),p=ki(),_=s+22,b=p.firstCreatePass?to(p,_,1,a,null):p.data[_],T=u[_]=Ic(u[11],a);gd(p,u,T,b),$(b,!1)}function At(s){return rn("",s,""),At}function rn(s,a,u){const p=En(),_=Fa(p,s,a,u);return _!==Pi&&Qa(p,Tt(),_),rn}function Xn(s,a,u,p,_,b,T,P,G){const oe=En(),Fe=Fd(oe,s,a,u,p,_,b,T,P,G);return Fe!==Pi&&Qa(oe,Tt(),Fe),Xn}function dw(s,a,u){const p=En();return jo(p,ja(),a)&&Na(ki(),pn(),p,s,a,p[11],u,!0),dw}function Jv(s,a,u){const p=En();if(jo(p,ja(),a)){const b=ki(),T=pn();Na(b,T,p,s,a,Ng(Ko(b.data),T,p),u,!0)}return Jv}const qg=void 0;var mx=["en",[["a","p"],["AM","PM"],qg],[["AM","PM"],qg,qg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qg,"{1} 'at' {0}",qg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gx(s){const u=Math.floor(Math.abs(s)),p=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let w_={};function Qg(s){const a=function _x(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=gD(a);if(u)return u;const p=a.split("-")[0];if(u=gD(p),u)return u;if("en"===p)return mx;throw new ht(701,!1)}function hw(s){return Qg(s)[Oi.PluralCase]}function gD(s){return s in w_||(w_[s]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[s]),w_[s]}var Oi=(()=>((Oi=Oi||{})[Oi.LocaleId=0]="LocaleId",Oi[Oi.DayPeriodsFormat=1]="DayPeriodsFormat",Oi[Oi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Oi[Oi.DaysFormat=3]="DaysFormat",Oi[Oi.DaysStandalone=4]="DaysStandalone",Oi[Oi.MonthsFormat=5]="MonthsFormat",Oi[Oi.MonthsStandalone=6]="MonthsStandalone",Oi[Oi.Eras=7]="Eras",Oi[Oi.FirstDayOfWeek=8]="FirstDayOfWeek",Oi[Oi.WeekendRange=9]="WeekendRange",Oi[Oi.DateFormat=10]="DateFormat",Oi[Oi.TimeFormat=11]="TimeFormat",Oi[Oi.DateTimeFormat=12]="DateTimeFormat",Oi[Oi.NumberSymbols=13]="NumberSymbols",Oi[Oi.NumberFormats=14]="NumberFormats",Oi[Oi.CurrencyCode=15]="CurrencyCode",Oi[Oi.CurrencySymbol=16]="CurrencySymbol",Oi[Oi.CurrencyName=17]="CurrencyName",Oi[Oi.Currencies=18]="Currencies",Oi[Oi.Directionality=19]="Directionality",Oi[Oi.PluralCase=20]="PluralCase",Oi[Oi.ExtraData=21]="ExtraData",Oi))();const vx=["zero","one","two","few","many"],vp="en-US",ny={marker:"element"},I0={marker:"ICU"};var Ps=(()=>((Ps=Ps||{})[Ps.SHIFT=2]="SHIFT",Ps[Ps.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ps[Ps.COMMENT=2]="COMMENT",Ps))();let fw=vp;function mD(s){(function sn(s,a){null==s&&vt(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(fw=s.toLowerCase().replace(/_/g,"-"))}function vD(s,a,u){const p=a.insertBeforeIndex,_=Array.isArray(p)?p[0]:p;return null===_?ag(s,0,u):Ui(u[_])}function pw(s,a,u,p,_){const b=a.insertBeforeIndex;if(Array.isArray(b)){let T=p,P=null;if(3&a.type||(P=T,T=_),null!==T&&0==(2&a.flags))for(let G=1;G<b.length;G++)pd(s,T,u[b[G]],P,!1)}}function yD(s,a){if(s.push(a),s.length>1)for(let u=s.length-2;u>=0;u--){const p=s[u];gw(p)||wx(p,a)&&null===bD(p)&&Cx(p,a.index)}}function gw(s){return!(64&s.type)}function wx(s,a){return gw(a)||s.index>a.index}function bD(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Cx(s,a){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=a:(Nm(vD,pw),s.insertBeforeIndex=a)}function C_(s,a){const u=s.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Ex(s,a,u){const p=Sd(s,u,64,null,null);return yD(a,p),p}function iy(s,a){const u=a[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function CD(s){return s>>>17}function DD(s){return(131070&s)>>>1}let Xg=0,D_=0;function _w(s,a,u,p){const _=u[11];let T,b=null;for(let P=0;P<a.length;P++){const G=a[P];if("string"==typeof G){const oe=a[++P];null===u[oe]&&(u[oe]=Ic(_,G))}else if("number"==typeof G)switch(1&G){case 0:const oe=CD(G);let Fe,at;if(null===b&&(b=oe,T=Oc(_,p)),oe===b?(Fe=p,at=T):(Fe=null,at=Ui(u[oe])),null!==at){const jn=DD(G);pd(_,at,u[jn],Fe,!1);const _i=C_(s,jn);if(null!==_i&&"object"==typeof _i){const Si=iy(_i,u);null!==Si&&_w(s,_i.create[Si],u,u[_i.anchorIdx])}}break;case 1:const en=a[++P],Tn=a[++P];El(_,No(G>>>1,u),null,null,en,Tn,null)}else switch(G){case I0:const oe=a[++P],Fe=a[++P];null===u[Fe]&&ms(u[Fe]=Mc(_,oe),u);break;case ny:const at=a[++P],Ft=a[++P];null===u[Ft]&&ms(u[Ft]=eg(_,at,null),u)}}}function vw(s,a,u,p,_){for(let b=0;b<u.length;b++){const T=u[b],P=u[++b];if(T&_){let G="";for(let oe=b+1;oe<=b+P;oe++){const Fe=u[oe];if("string"==typeof Fe)G+=Fe;else if("number"==typeof Fe)if(Fe<0)G+=Ge(a[p-Fe]);else{const at=Fe>>>2;switch(3&Fe){case 1:const Ft=u[++oe],en=u[++oe],Tn=s.data[at];"string"==typeof Tn?El(a[11],a[at],null,Tn,Ft,G,en):Na(s,Tn,a,Ft,G,a[11],en,!1);break;case 0:const jn=a[at];null!==jn&&xu(a[11],jn,G);break;case 2:Tx(s,C_(s,at),a,G);break;case 3:O0(s,C_(s,at),p,a)}}}}else{const G=u[b+1];if(G>0&&3==(3&G)){const Fe=C_(s,G>>>2);a[Fe.currentCaseLViewIndex]<0&&O0(s,Fe,p,a)}}b+=P}}function O0(s,a,u,p){let _=p[a.currentCaseLViewIndex];if(null!==_){let b=Xg;_<0&&(_=p[a.currentCaseLViewIndex]=~_,b=-1),vw(s,p,a.update[_],u,b)}}function Tx(s,a,u,p){const _=function AD(s,a){let u=s.cases.indexOf(a);if(-1===u)switch(s.type){case 1:{const p=function yx(s,a){const u=hw(a)(parseInt(s,10)),p=vx[u];return void 0!==p?p:"other"}(a,function _D(){return fw}());u=s.cases.indexOf(p),-1===u&&"other"!==p&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(a,p);if(iy(a,u)!==_&&(SD(s,a,u),u[a.currentCaseLViewIndex]=null===_?null:~_,null!==_)){const T=u[a.anchorIdx];T&&_w(s,a.create[_],u,T)}}function SD(s,a,u){let p=iy(a,u);if(null!==p){const _=a.remove[p];for(let b=0;b<_.length;b++){const T=_[b];if(T>0){const P=No(T,u);null!==P&&Fm(u[11],P)}else SD(s,C_(s,~T),u)}}}function ID(){const s=[];let u,p,a=-1;function b(P,G){a=0;const oe=iy(P,G);p=null!==oe?P.remove[oe]:vn}function T(){if(a<p.length){const P=p[a++];return P>0?u[P]:(s.push(a,p),b(u[1].data[~P],u),T())}return 0===s.length?null:(p=s.pop(),a=s.pop(),T())}return function _(P,G){for(u=G;s.length;)s.pop();return b(P.value,G),T}}const k0=/\ufffd(\d+):?\d*\ufffd/gi,MD=/\ufffd(\d+)\ufffd/,OD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ax=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,R0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,bw=/\uE500/g;function sy(s,a,u,p,_,b,T){const P=Pu(s,p,1,null);let G=P<<Ps.SHIFT,oe=Y();a===oe&&(oe=null),null===oe&&(G|=Ps.APPEND_EAGERLY),T&&(G|=Ps.COMMENT,function Ql(s){void 0===Eu&&(Eu=s())}(ID)),_.push(G,null===b?"":b);const Fe=Sd(s,P,T?32:1,null===b?"":b,null);yD(u,Fe);const at=Fe.index;return $(Fe,!1),null!==oe&&a!==oe&&function wD(s,a){let u=s.insertBeforeIndex;null===u?(Nm(vD,pw),u=s.insertBeforeIndex=[null,a]):(function Dt(s,a,u){s!=a&&vt(u,s,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(oe,at),Fe}function RD(s,a,u,p,_,b,T){const P=T.match(k0),G=sy(s,a,u,b,p,P?null:T,!1);P&&E_(_,T,G.index,null,0,null)}function E_(s,a,u,p,_,b){const T=s.length,P=T+1;s.push(null,null);const G=T+2,oe=a.split(k0);let Fe=0;for(let at=0;at<oe.length;at++){const Ft=oe[at];if(1&at){const en=_+parseInt(Ft,10);s.push(-1-en),Fe|=ww(en)}else""!==Ft&&s.push(Ft)}return s.push(u<<2|(p?1:0)),p&&s.push(p,b),s[T]=Fe,s[P]=s.length-G,Fe}function ww(s){return 1<<Math.min(s,31)}function LD(s){let a,b,u="",p=0,_=!1;for(;null!==(a=Ax.exec(s));)_?a[0]===`\ufffd/*${b}\ufffd`&&(p=a.index,_=!1):(u+=s.substring(p,a.index+a[0].length),b=a[1],_=!0);return u+=s.slice(p),u}function BD(s,a,u,p,_,b){let T=0;const P={type:_.type,currentCaseLViewIndex:Pu(s,a,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function Nx(s,a,u){s.push(ww(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,_,b),function Dx(s,a,u){const p=s.data[a];null===p?s.data[a]=u:p.value=u}(s,b,P);const G=_.values;for(let oe=0;oe<G.length;oe++){const Fe=G[oe],at=[];for(let Ft=0;Ft<Fe.length;Ft++){const en=Fe[Ft];if("string"!=typeof en){const Tn=at.push(en)-1;Fe[Ft]=`\x3c!--\ufffd${Tn}\ufffd--\x3e`}}T=kx(s,P,a,u,p,_.cases[oe],Fe.join(""),at)|T}T&&function Px(s,a,u){s.push(a,1,u<<2|3)}(u,T,b)}function Ox(s){const a=[],u=[];let p=1,_=0;const b=Cw(s=s.replace(OD,function(T,P,G){return p="select"===G?0:1,_=parseInt(P.slice(1),10),""}));for(let T=0;T<b.length;){let P=b[T++].trim();1===p&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&a.push(P);const G=Cw(b[T++]);a.length>u.length&&u.push(G)}return{type:p,mainBinding:_,cases:a,values:u}}function Cw(s){if(!s)return[];let a=0;const u=[],p=[],_=/[{}]/g;let b;for(_.lastIndex=0;b=_.exec(s);){const P=b.index;if("}"==b[0]){if(u.pop(),0==u.length){const G=s.substring(a,P);OD.test(G)?p.push(Ox(G)):p.push(G),a=P+1}}else{if(0==u.length){const G=s.substring(a,P);p.push(G),a=P+1}u.push("{")}}const T=s.substring(a);return p.push(T),p}function kx(s,a,u,p,_,b,T,P){const G=[],oe=[],Fe=[];a.cases.push(b),a.create.push(G),a.remove.push(oe),a.update.push(Fe);const Ft=fi(function gu(){return void 0!==rh?rh:typeof document<"u"?document:void 0}()).getInertBodyElement(T),en=bu(Ft)||Ft;return en?VD(s,a,u,p,G,oe,Fe,en,_,P,0):0}function VD(s,a,u,p,_,b,T,P,G,oe,Fe){let at=0,Ft=P.firstChild;for(;Ft;){const en=Pu(s,u,1,null);switch(Ft.nodeType){case Node.ELEMENT_NODE:const Tn=Ft,jn=Tn.tagName.toLowerCase();if(Tr.hasOwnProperty(jn)){Dw(_,ny,jn,G,en),s.data[en]=jn;const Pn=Tn.attributes;for(let Mi=0;Mi<Pn.length;Mi++){const Ar=Pn.item(Mi),_s=Ar.name.toLowerCase();Ar.value.match(k0)?Os.hasOwnProperty(_s)&&E_(T,Ar.value,en,Ar.name,0,Wt[_s]?D:null):Fx(_,en,Ar)}at=VD(s,a,u,p,_,b,T,Ft,en,oe,Fe+1)|at,HD(b,en,Fe)}break;case Node.TEXT_NODE:const ni=Ft.textContent||"",_i=ni.match(k0);Dw(_,null,_i?"":ni,G,en),HD(b,en,Fe),_i&&(at=E_(T,ni,en,null,0,null)|at);break;case Node.COMMENT_NODE:const Si=MD.exec(Ft.textContent||"");if(Si){const Mi=oe[parseInt(Si[1],10)];Dw(_,I0,"",G,en),BD(s,u,p,G,Mi,en),Rx(b,en,Fe)}}Ft=Ft.nextSibling}return at}function HD(s,a,u){0===u&&s.push(a)}function Rx(s,a,u){0===u&&(s.push(~a),s.push(a))}function Dw(s,a,u,p,_){null!==a&&s.push(a),s.push(u,_,function M0(s,a,u){return s|a<<17|u<<1}(0,p,_))}function Fx(s,a,u){s.push(a<<1|1,u.name,u.value)}function jD(s,a,u=-1){const p=ki(),_=En(),b=22+s,T=Vs(p.consts,a),P=Y();p.firstCreatePass&&function Ix(s,a,u,p,_,b){const T=Y(),P=[],G=[],oe=[[]];_=function Mx(s,a){if(function FD(s){return-1===s}(a))return LD(s);{const u=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,p=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return LD(s.substring(u,p))}}(_,b);const Fe=function kD(s){return s.replace(bw," ")}(_).split(R0);for(let at=0;at<Fe.length;at++){let Ft=Fe[at];if(0==(1&at)){const en=Cw(Ft);for(let Tn=0;Tn<en.length;Tn++){let jn=en[Tn];if(0==(1&Tn)){const ni=jn;""!==ni&&RD(s,T,oe[0],P,G,u,ni)}else{const ni=jn;if("object"!=typeof ni)throw new Error(`Unable to parse ICU expression in "${_}" message.`);BD(s,u,G,a,ni,sy(s,T,oe[0],u,P,"",!0).index)}}}else{const en=47===Ft.charCodeAt(0),jn=(Ft.charCodeAt(en?1:0),22+Number.parseInt(Ft.substring(en?2:1)));if(en)oe.shift(),$(Y(),!1);else{const ni=Ex(s,oe[0],jn);oe.unshift([]),$(ni,!0)}}}s.data[p]={create:P,update:G}}(p,null===P?0:P.index,_,b,T,u);const G=p.data[b],Fe=fd(p,P===_[6]?null:P,_);(function xD(s,a,u,p){const _=s[11];for(let b=0;b<a.length;b++){const T=a[b++],P=a[b],G=(T&Ps.COMMENT)===Ps.COMMENT,oe=(T&Ps.APPEND_EAGERLY)===Ps.APPEND_EAGERLY,Fe=T>>>Ps.SHIFT;let at=s[Fe];null===at&&(at=s[Fe]=G?_.createComment(P):Ic(_,P)),oe&&null!==u&&pd(_,u,at,p,!1)}})(_,G.create,Fe,P&&8&P.type?_[P.index]:null),cl(!0)}function $D(s,a,u){jD(s,a,u),function zD(){cl(!1)}()}function Ew(s){return function ED(s){s&&(Xg|=1<<Math.min(D_,31)),D_++}(jo(En(),ja(),s)),Ew}function WD(s){!function TD(s,a,u){if(D_>0){const p=s.data[u];vw(s,a,Array.isArray(p)?p:p.update,Ss()-D_-1,Xg)}Xg=0,D_=0}(ki(),En(),s+22)}function Tw(s,a,u,p,_){if(s=Ee(s),Array.isArray(s))for(let b=0;b<s.length;b++)Tw(s[b],a,u,p,_);else{const b=ki(),T=En();let P=ld(s)?s:Ee(s.provide),G=Wy(s);const oe=Vr(),Fe=1048575&oe.providerIndexes,at=oe.directiveStart,Ft=oe.providerIndexes>>20;if(ld(s)||!s.multi){const en=new fs(G,_,eo),Tn=Sw(P,a,_?Fe:Fe+Ft,at);-1===Tn?(Gi(pa(oe,T),b,P),xw(b,s,a.length),a.push(P),oe.directiveStart++,oe.directiveEnd++,_&&(oe.providerIndexes+=1048576),u.push(en),T.push(en)):(u[Tn]=en,T[Tn]=en)}else{const en=Sw(P,a,Fe+Ft,at),Tn=Sw(P,a,Fe,Fe+Ft),jn=en>=0&&u[en],ni=Tn>=0&&u[Tn];if(_&&!ni||!_&&!jn){Gi(pa(oe,T),b,P);const _i=function Zx(s,a,u,p,_){const b=new fs(s,u,eo);return b.multi=[],b.index=a,b.componentProviders=0,YD(b,_,p&&!u),b}(_?Kx:Yx,u.length,_,p,G);!_&&ni&&(u[Tn].providerFactory=_i),xw(b,s,a.length,0),a.push(P),oe.directiveStart++,oe.directiveEnd++,_&&(oe.providerIndexes+=1048576),u.push(_i),T.push(_i)}else xw(b,s,en>-1?en:Tn,YD(u[_?Tn:en],G,!_&&p));!_&&p&&ni&&u[Tn].componentProviders++}}}function xw(s,a,u,p){const _=ld(a),b=function zy(s){return!!s.useClass}(a);if(_||b){const G=(b?Ee(a.useClass):a).prototype.ngOnDestroy;if(G){const oe=s.destroyHooks||(s.destroyHooks=[]);if(!_&&a.multi){const Fe=oe.indexOf(u);-1===Fe?oe.push(u,[p,G]):oe[Fe+1].push(p,G)}else oe.push(u,G)}}}function YD(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function Sw(s,a,u,p){for(let _=u;_<p;_++)if(a[_]===s)return _;return-1}function Yx(s,a,u,p){return Aw(this.multi,[])}function Kx(s,a,u,p){const _=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,P=ps(u,u[1],this.providerFactory.index,p);b=P.slice(0,T),Aw(_,b);for(let G=T;G<P.length;G++)b.push(P[G])}else b=[],Aw(_,b);return b}function Aw(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function KD(s,a=[]){return u=>{u.providersResolver=(p,_)=>function Wx(s,a,u){const p=ki();if(p.firstCreatePass){const _=cr(s);Tw(u,p.data,p.blueprint,_,!0),Tw(a,p.data,p.blueprint,_,!1)}}(p,_?_(s):s,a)}}class T_{}class ZD{}function qx(s,a){return new qD(s,a??null)}class qD extends T_{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kd(this);const p=We(a);this._bootstrapComponents=ks(p.bootstrap),this._r3Injector=fr(a,u,[{provide:T_,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],ie(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Iw extends ZD{constructor(a){super(),this.moduleType=a}create(a){return new qD(this.moduleType,a)}}class Qx extends T_{constructor(a,u,p){super(),this.componentFactoryResolver=new kd(this),this.instance=null;const _=new _m([...a,{provide:T_,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],u||mm(),p,new Set(["environment"]));this.injector=_,_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Mw(s,a,u=null){return new Qx(s,a,u).injector}let QD=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const p=fm(0,u.type),_=p.length>0?Mw([p],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,_)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Qt({token:s,providedIn:"environment",factory:()=>new s(as(cd))}),s})();function oy(s){s.getStandaloneInjector=a=>a.get(QD).getOrCreateStandaloneInjector(s)}function rE(s,a,u,p){return aE(En(),Mr(),s,a,u,p)}function sE(s,a,u,p,_){return function lE(s,a,u,p,_,b,T){const P=a+u;return Rd(s,P,_,b)?Tl(s,P+2,T?p.call(T,_,b):p(_,b)):cy(s,P+2)}(En(),Mr(),s,a,u,p,_)}function oE(s,a,u,p,_,b){return function cE(s,a,u,p,_,b,T,P){const G=a+u;return function Nd(s,a,u,p,_){const b=Rd(s,a,u,p);return jo(s,a+2,_)||b}(s,G,_,b,T)?Tl(s,G+3,P?p.call(P,_,b,T):p(_,b,T)):cy(s,G+3)}(En(),Mr(),s,a,u,p,_,b)}function cy(s,a){const u=s[a];return u===Pi?void 0:u}function aE(s,a,u,p,_,b){const T=a+u;return jo(s,T,_)?Tl(s,T+1,b?p.call(b,_):p(_)):cy(s,T+1)}function hE(s,a){const u=ki();let p;const _=s+22;u.firstCreatePass?(p=function cS(s,a){if(a)for(let u=a.length-1;u>=0;u--){const p=a[u];if(s===p.name)return p}}(a,u.pipeRegistry),u.data[_]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(_,p.onDestroy)):p=u.data[_];const b=p.factory||(p.factory=wr(p.type)),T=rt(eo);try{const P=dc(!1),G=b();return dc(P),function Hv(s,a,u,p){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=p}(u,En(),_,G),G}finally{rt(T)}}function fE(s,a,u){const p=s+22,_=En(),b=Bs(_,p);return function x_(s,a){return s[1].data[a].pure}(_,p)?aE(_,Mr(),a,b.transform,u,b):b.transform(u)}function Nw(s){return a=>{setTimeout(s,void 0,a)}}const Gd=class pS extends m.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,p){let _=a,b=u||(()=>null),T=p;if(a&&"object"==typeof a){const G=a;_=G.next?.bind(G),b=G.error?.bind(G),T=G.complete?.bind(G)}this.__isAsync&&(b=Nw(b),_&&(_=Nw(_)),T&&(T=Nw(T)));const P=super.subscribe({next:_,error:b,complete:T});return a instanceof h.w0&&a.add(P),P}};function gS(){return this._results[Gc()]()}class N0{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gc(),p=N0.prototype;p[u]||(p[u]=gS)}get changes(){return this._changes||(this._changes=new Gd)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const p=this;p.dirty=!1;const _=qi(a);(this._changesDetected=!function Ci(s,a,u){if(s.length!==a.length)return!1;for(let p=0;p<s.length;p++){let _=s[p],b=a[p];if(u&&(_=u(_),b=u(b)),b!==_)return!1}return!0}(p._results,_,u))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uy=(()=>{class s{}return s.__NG_ELEMENT_ID__=vS,s})();const mS=uy,_S=class extends mS{constructor(a,u,p){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(a,u){const p=this._declarationTContainer.tViews,_=Lc(this._declarationLView,p,a,16,null,p.declTNode,null,null,null,null,u||null);_[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(_[19]=T.createEmbeddedView(p)),Kf(p,_,a),new Uc(_)}};function vS(){return P0(Vr(),En())}function P0(s,a){return 4&s.type?new _S(a,s,wf(s,a)):null}let F0=(()=>{class s{}return s.__NG_ELEMENT_ID__=yS,s})();function yS(){return mE(Vr(),En())}const bS=F0,pE=class extends bS{constructor(a,u,p){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=p}get element(){return wf(this._hostTNode,this._hostLView)}get injector(){return new Ya(this._hostTNode,this._hostLView)}get parentInjector(){const a=Qo(this._hostTNode,this._hostLView);if(su(a)){const u=fl(a,this._hostLView),p=$a(a);return new Ya(u[1].data[p+8],u)}return new Ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=gE(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const T=a.createEmbeddedView(u||{},b);return this.insert(T,_),T}createComponent(a,u,p,_,b){const T=a&&!function Sa(s){return"function"==typeof s}(a);let P;if(T)P=u;else{const at=u||{};P=at.index,p=at.injector,_=at.projectableNodes,b=at.environmentInjector||at.ngModuleRef}const G=T?a:new Xa(ne(a)),oe=p||this.parentInjector;if(!b&&null==G.ngModule){const Ft=(T?oe:this.parentInjector).get(cd,null);Ft&&(b=Ft)}const Fe=G.create(oe,_,void 0,b);return this.insert(Fe.hostView,P),Fe}insert(a,u){const p=a._lView,_=p[1];if(function ss(s){return Zn(s[3])}(p)){const Fe=this.indexOf(a);if(-1!==Fe)this.detach(Fe);else{const at=p[3],Ft=new pE(at,at[6],at[3]);Ft.detach(Ft.indexOf(a))}}const b=this._adjustIndex(u),T=this._lContainer;!function gv(s,a,u,p){const _=10+p,b=u.length;p>0&&(u[_-1][4]=a),p<b-10?(a[4]=u[_],Xo(u,10+p,a)):(u.push(a),a[4]=null),a[3]=u;const T=a[17];null!==T&&u!==T&&function tg(s,a){const u=s[9];a[O]!==a[3][3][O]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(T,a);const P=a[19];null!==P&&P.insertView(s),a[2]|=64}(_,p,T,b);const P=Pm(b,T),G=p[11],oe=Oc(G,T[7]);return null!==oe&&function Af(s,a,u,p,_,b){p[0]=_,p[6]=a,Xl(s,p,u,1,_,b)}(_,T[6],G,p,oe,P),a.attachToViewContainerRef(),Xo(Pw(T),b,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=gE(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),p=ng(this._lContainer,u);p&&(yr(Pw(this._lContainer),u),Im(p[1],p))}detach(a){const u=this._adjustIndex(a,-1),p=ng(this._lContainer,u);return p&&null!=yr(Pw(this._lContainer),u)?new Uc(p):null}_adjustIndex(a,u=0){return a??this.length+u}};function gE(s){return s[8]}function Pw(s){return s[8]||(s[8]=[])}function mE(s,a){let u;const p=a[s.index];if(Zn(p))u=p;else{let _;if(8&s.type)_=Ui(p);else{const b=a[11];_=b.createComment("");const T=ds(s,a);pd(b,Oc(b,T),_,function Rm(s,a){return s.nextSibling(a)}(b,T),!1)}a[s.index]=u=Jf(p,a,_,s),Rg(a,u)}return new pE(u,s,a)}class Fw{constructor(a){this.queryList=a,this.matches=null}clone(){return new Fw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lw{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const p=null!==a.contentQueries?a.contentQueries[0]:u.length,_=[];for(let b=0;b<p;b++){const T=u.getByIndex(b);_.push(this.queries[T.indexInDeclarationView].clone())}return new Lw(_)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==$w(a,u).matches&&this.queries[u].setDirty()}}class _E{constructor(a,u,p=null){this.predicate=a,this.flags=u,this.read=p}}class Bw{constructor(a=[]){this.queries=a}elementStart(a,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let p=0;p<this.length;p++){const _=null!==u?u.length:0,b=this.getByIndex(p).embeddedTView(a,_);b&&(b.indexInDeclarationView=p,null!==u?u.push(b):u=[b])}return null!==u?new Bw(u):null}template(a,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class L0{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new L0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=a.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(a,u,vE(u,b)),this.matchTNodeWithReadOption(a,u,As(u,a,b,!1,!1))}else p===uy?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,As(u,a,p,!1,!1))}matchTNodeWithReadOption(a,u,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===jp||_===F0||_===uy&&4&u.type)this.addMatch(u.index,-2);else{const b=As(u,a,_,!1,!1);null!==b&&this.addMatch(u.index,b)}else this.addMatch(u.index,p)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function vE(s,a){const u=s.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===a)return u[p+1];return null}function B0(s,a,u,p){return-1===u?function Vw(s,a){return 11&s.type?wf(s,a):4&s.type?P0(s,a):null}(a,s):-2===u?function dy(s,a,u){return u===jp?wf(a,s):u===uy?P0(a,s):u===F0?mE(a,s):void 0}(s,a,p):ps(s,s[1],u,a)}function hy(s,a,u,p){const _=a[19].queries[p];if(null===_.matches){const b=s.data,T=u.matches,P=[];for(let G=0;G<T.length;G+=2){const oe=T[G];P.push(oe<0?null:B0(a,b[oe],T[G+1],u.metadata.read))}_.matches=P}return _.matches}function fy(s,a,u,p){const _=s.queries.getByIndex(u),b=_.matches;if(null!==b){const T=hy(s,a,_,u);for(let P=0;P<b.length;P+=2){const G=b[P];if(G>0)p.push(T[P/2]);else{const oe=b[P+1],Fe=a[-G];for(let at=10;at<Fe.length;at++){const Ft=Fe[at];Ft[17]===Ft[3]&&fy(Ft[1],Ft,oe,p)}if(null!==Fe[9]){const at=Fe[9];for(let Ft=0;Ft<at.length;Ft++){const en=at[Ft];fy(en[1],en,oe,p)}}}}}return p}function yp(s){const a=En(),u=ki(),p=Da();za(p+1);const _=$w(u,p);if(s.dirty&&function Ll(s){return 4==(4&s[2])}(a)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const b=_.crossesNgTemplate?fy(u,a,p,[]):hy(u,a,_,p);s.reset(b,Zb),s.notifyOnChanges()}return!0}return!1}function Hw(s,a,u){const p=ki();p.firstCreatePass&&(zw(p,new _E(s,a,u),-1),2==(2&a)&&(p.staticViewQueries=!0)),jw(p,En(),a)}function Uw(s,a,u,p){const _=ki();if(_.firstCreatePass){const b=Vr();zw(_,new _E(a,u,p),b.index),function yE(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(_,s),2==(2&u)&&(_.staticContentQueries=!0)}jw(_,En(),u)}function Gw(){return function V0(s,a){return s[19].queries[a].queryList}(En(),Da())}function jw(s,a,u){const p=new N0(4==(4&u));Fu(s,a,p,p.destroy),null===a[19]&&(a[19]=new Lw),a[19].queries.push(new Fw(p))}function zw(s,a,u){null===s.queries&&(s.queries=new Bw),s.queries.track(new L0(a,u))}function $w(s,a){return s.queries.getByIndex(a)}function Ww(s,a){return P0(s,a)}function A_(...s){}const Y0=new hr("Application Initializer");let my=(()=>{class s{constructor(u){this.appInits=u,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,_)=>{this.resolve=p,this.reject=_})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const b=this.appInits[_]();if(p_(b))u.push(b);else if(Uv(b)){const T=new Promise((P,G)=>{b.subscribe({complete:P,error:G})});u.push(T)}}Promise.all(u).then(()=>{p()}).catch(_=>{this.reject(_)}),0===u.length&&p(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(as(Y0,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $o=new hr("AppId",{providedIn:"root",factory:function qc(){return`${_y()}${_y()}${_y()}`}});function _y(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Io=new hr("Platform Initializer"),HE=new hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K0=new hr("appBootstrapListener"),Z0=new hr("AnimationModuleType");let UE=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const tm=new hr("LocaleId",{providedIn:"root",factory:()=>Mp(tm,Be.Optional|Be.SkipSelf)||function cC(){return typeof $localize<"u"&&$localize.locale||vp}()}),Al=new hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GE{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let jE=(()=>{class s{compileModuleSync(u){return new Iw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),b=ks(We(u).declarations).reduce((T,P)=>{const G=ne(P);return G&&T.push(new Xa(G)),T},[]);return new GE(p,b)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const KE=(()=>Promise.resolve(0))();function q0(s){typeof Zone>"u"?KE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class oc{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gd(!1),this.onMicrotaskEmpty=new Gd(!1),this.onStable=new Gd(!1),this.onError=new Gd(!1),typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const _=this;if(_._nesting=0,_._outer=_._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;_._inner=_._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&u,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function Xc(){let s=yt.requestAnimationFrame,a=yt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const p=a[Zone.__symbol__("OriginalDelegate")];p&&(a=p)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function QE(s){const a=()=>{!function qE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,X0(s),s.isCheckStableRunning=!0,Q0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),X0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,_,b,T,P)=>{try{return J0(s),u.invokeTask(_,b,T,P)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&a(),hC(s)}},onInvoke:(u,p,_,b,T,P,G)=>{try{return J0(s),u.invoke(_,b,T,P,G)}finally{s.shouldCoalesceRunChangeDetection&&a(),hC(s)}},onHasTask:(u,p,_,b)=>{u.hasTask(_,b),p===_&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,X0(s),Q0(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(u,p,_,b)=>(u.handleError(_,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oc.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(oc.isInAngularZone())throw new ht(909,!1)}run(a,u,p){return this._inner.run(a,u,p)}runTask(a,u,p,_){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+_,a,ZE,A_,A_);try{return b.runTask(T,u,p)}finally{b.cancelTask(T)}}runGuarded(a,u,p){return this._inner.runGuarded(a,u,p)}runOutsideAngular(a){return this._outer.run(a)}}const ZE={};function Q0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function X0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function J0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function hC(s){s._nesting--,Q0(s)}class fC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gd,this.onMicrotaskEmpty=new Gd,this.onStable=new Gd,this.onError=new Gd}run(a,u,p){return a.apply(u,p)}runGuarded(a,u,p){return a.apply(u,p)}runOutsideAngular(a){return a()}runTask(a,u,p,_){return a.apply(u,p)}}const vy=new hr(""),yy=new hr("");let eb,pC=(()=>{class s{constructor(u,p,_){this._ngZone=u,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eb||(function XE(s){eb=s}(_),_.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oc.assertNotInAngularZone(),q0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:b,updateCb:_})}whenStable(u,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,_){return[]}}return s.\u0275fac=function(u){return new(u||s)(as(oc),as(gC),as(yy))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),gC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return eb?.findTestabilityInTree(this,u,p)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),jd=null;const by=new hr("AllowMultipleToken"),tb=new hr("PlatformDestroyListeners");class mC{constructor(a,u){this.name=a,this.token=u}}function vC(s,a,u=[]){const p=`Platform: ${a}`,_=new hr(p);return(b=[])=>{let T=Cy();if(!T||T.injector.get(by,!1)){const P=[...u,...b,{provide:_,useValue:!0}];s?s(P):function eT(s){if(jd&&!jd.get(by,!1))throw new ht(400,!1);jd=s;const a=s.get(I_);(function _C(s){const a=s.get(Io,null);a&&a.forEach(u=>u())})(s)}(function yC(s=[],a){return wl.create({name:a,providers:[{provide:Q_,useValue:"platform"},{provide:tb,useValue:new Set([()=>jd=null])},...s]})}(P,p))}return function tT(s){const a=Cy();if(!a)throw new ht(401,!1);return a}()}}function Cy(){return jd?.get(I_)??null}let I_=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const _=function wC(s,a){let u;return u="noop"===s?new fC:("zone.js"===s?void 0:s)||new oc(a),u}(p?.ngZone,function Dy(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(p)),b=[{provide:oc,useValue:_}];return _.run(()=>{const T=wl.create({providers:b,parent:this.injector,name:u.moduleType.name}),P=u.create(T),G=P.injector.get(Za,null);if(!G)throw new ht(402,!1);return _.runOutsideAngular(()=>{const oe=_.onError.subscribe({next:Fe=>{G.handleError(Fe)}});P.onDestroy(()=>{M_(this._modules,P),oe.unsubscribe()})}),function CC(s,a,u){try{const p=u();return p_(p)?p.catch(_=>{throw a.runOutsideAngular(()=>s.handleError(_)),_}):p}catch(p){throw a.runOutsideAngular(()=>s.handleError(p)),p}}(G,_,()=>{const oe=P.injector.get(my);return oe.runInitializers(),oe.donePromise.then(()=>(mD(P.injector.get(tm,vp)||vp),this._moduleDoBootstrap(P),P))})})}bootstrapModule(u,p=[]){const _=DC({},p);return function JE(s,a,u){const p=new Iw(u);return Promise.resolve(p)}(0,0,u).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(u){const p=u.injector.get(Ey);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!u.instance.ngDoBootstrap)throw new ht(403,!1);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const u=this._injector.get(tb,null);u&&(u.forEach(p=>p()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(as(wl))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function DC(s,a){return Array.isArray(a)?a.reduce(DC,s):{...s,...a}}let Ey=(()=>{class s{constructor(u,p,_){this._zone=u,this._injector=p,this._exceptionHandler=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new A.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),T=new A.y(P=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{oc.assertNotInAngularZone(),q0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{oc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{G.unsubscribe(),oe.unsubscribe()}});this.isStable=(0,De.T)(b,T.pipe((0,N.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,p){const _=u instanceof ia;if(!this._injector.get(my).done)throw!_&&Ze(u),new ht(405,false);let T;T=_?u:this._injector.get(ud).resolveComponentFactory(u),this.componentTypes.push(T.componentType);const P=function Yh(s){return s.isBoundToModule}(T)?void 0:this._injector.get(T_),oe=T.create(wl.NULL,[],p||T.selector,P),Fe=oe.location.nativeElement,at=oe.injector.get(vy,null);return at?.registerApplication(Fe),oe.onDestroy(()=>{this.detachView(oe.hostView),M_(this.components,oe),at?.unregisterApplication(Fe)}),this._loadComponent(oe),oe}tick(){if(this._runningTick)throw new ht(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;M_(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(K0,[]).concat(this._bootstrapListeners).forEach(_=>_(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>M_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ht(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(as(oc),as(cd),as(Za))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function M_(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}let TC=!0,xC=!1;function iT(){return xC=!0,TC}function Kh(){if(xC)throw new Error("Cannot enable prod mode after platform setup.");TC=!1}let sT=(()=>{class s{}return s.__NG_ELEMENT_ID__=oT,s})();function oT(s){return function aT(s,a,u){if(mr(s)&&!u){const p=Li(s.index,a);return new Uc(p,p)}return 47&s.type?new Uc(a[O],a):null}(Vr(),En(),16==(16&s))}class hT{constructor(){}supports(a){return Rh(a)}create(a){return new zS(a)}}const fT=(s,a)=>a;class zS{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||fT}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,p=this._removalsHead,_=0,b=null;for(;u||p;){const T=!p||u&&u.currentIndex<cb(p,_,b)?u:p,P=cb(T,_,b),G=T.currentIndex;if(T===p)_--,p=p._nextRemoved;else if(u=u._next,null==T.previousIndex)_++;else{b||(b=[]);const oe=P-_,Fe=G-_;if(oe!=Fe){for(let Ft=0;Ft<oe;Ft++){const en=Ft<b.length?b[Ft]:b[Ft]=0,Tn=en+Ft;Fe<=Tn&&Tn<oe&&(b[Ft]=en+1)}b[T.previousIndex]=Fe-oe}}P!==G&&a(T,P,G)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Rh(a))throw new ht(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let _,b,T,u=this._itHead,p=!1;if(Array.isArray(a)){this.length=a.length;for(let P=0;P<this.length;P++)b=a[P],T=this._trackByFn(P,b),null!==u&&Object.is(u.trackById,T)?(p&&(u=this._verifyReinsertion(u,b,T,P)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,T,P),p=!0),u=u._next}else _=0,function y0(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Gc()]();let p;for(;!(p=u.next()).done;)a(p.value)}}(a,P=>{T=this._trackByFn(_,P),null!==u&&Object.is(u.trackById,T)?(p&&(u=this._verifyReinsertion(u,P,T,_)),Object.is(u.item,P)||this._addIdentityChange(u,P)):(u=this._mismatch(u,P,T,_),p=!0),u=u._next,_++}),this.length=_;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,p,_){let b;return null===a?b=this._itTail:(b=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,b,_)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,b,_)):a=this._addAfter(new $S(u,p),b,_),a}_verifyReinsertion(a,u,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?a=this._reinsertAfter(b,a._prev,_):a.currentIndex!=_&&(a.currentIndex=_,this._addToMoves(a,_)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const _=a._prevRemoved,b=a._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(a,u,p),this._addToMoves(a,p),a}_moveAfter(a,u,p){return this._unlink(a),this._insertAfter(a,u,p),this._addToMoves(a,p),a}_addAfter(a,u,p){return this._insertAfter(a,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,p){const _=null===u?this._itHead:u._next;return a._next=_,a._prev=u,null===_?this._itTail=a:_._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Sy),this._linkedRecords.put(a),a.currentIndex=p,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,p=a._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sy),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class $S{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,a))return p;return null}remove(a){const u=a._prevDup,p=a._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class Sy{constructor(){this.map=new Map}put(a){const u=a.trackById;let p=this.map.get(u);p||(p=new pT,this.map.set(u,p)),p.add(a)}get(a,u){const _=this.map.get(a);return _?_.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cb(s,a,u){const p=s.previousIndex;if(null===p)return p;let _=0;return u&&p<u.length&&(_=u[p]),p+a+_}class SC{constructor(){}supports(a){return a instanceof Map||Bg(a)}create(){return new WS}}class WS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Bg(a)))throw new ht(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(p,_)=>{if(u&&u.key===_)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const b=this._getOrCreateRecordForKey(_,p);u=this._insertBeforeOrAppend(u,b)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const p=a._prev;return u._next=a,u._prev=p,a._prev=u,p&&(p._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const _=this._records.get(a);this._maybeAddToChanges(_,u);const b=_._prev,T=_._next;return b&&(b._next=T),T&&(T._prev=b),_._next=null,_._prev=null,_}const p=new ub(a);return this._records.set(a,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(p=>u(a[p],p))}}class ub{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AC(){return new db([new hT])}let db=(()=>{class s{constructor(u){this.factories=u}static create(u,p){if(null!=p){const _=p.factories.slice();u=u.concat(_)}return new s(u)}static extend(u){return{provide:s,useFactory:p=>s.create(u,p||AC()),deps:[[s,new Wr,new $l]]}}find(u){const p=this.factories.find(_=>_.supports(u));if(null!=p)return p;throw new ht(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:AC}),s})();function IC(){return new hb([new SC])}let hb=(()=>{class s{constructor(u){this.factories=u}static create(u,p){if(p){const _=p.factories.slice();u=u.concat(_)}return new s(u)}static extend(u){return{provide:s,useFactory:p=>s.create(u,p||IC()),deps:[[s,new Wr,new $l]]}}find(u){const p=this.factories.find(_=>_.supports(u));if(p)return p;throw new ht(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:IC}),s})();const ZS=vC(null,"core",[]);let qS=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(as(Ey))},s.\u0275mod=Lt({type:s}),s.\u0275inj=Xt({}),s})();function QS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function eA(s,a){const u=ne(s),p=a.elementInjector||mm();return new Xa(u).create(p,a.projectableNodes,a.hostElement,a.environmentInjector)}},5863:(bn,xt,x)=>{function m(q){for(let Pe in q){let Ee=q[Pe]??"";switch(Pe){case"display":q.display="flex"===Ee?["-webkit-flex","flex"]:"inline-flex"===Ee?["-webkit-inline-flex","inline-flex"]:Ee;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":q["-webkit-"+Pe]=Ee;break;case"flex-direction":q["-webkit-flex-direction"]=Ee,q["flex-direction"]=Ee;break;case"order":q.order=q["-webkit-"+Pe]=isNaN(+Ee)?"0":Ee}}return q}x.d(xt,{Ar:()=>De,GK:()=>m,iQ:()=>A,kt:()=>qe,tj:()=>ze});const h="inline",A=["row","column","row-reverse","column-reverse"];function De(q){let[Pe,Ee,Le]=N(q);return function ie(q,Pe=null,Ee=!1){return{display:Ee?"inline-flex":"flex","box-sizing":"border-box","flex-direction":q,"flex-wrap":Pe||null}}(Pe,Ee,Le)}function N(q){q=q?.toLowerCase()??"";let[Pe,Ee,Le]=q.split(" ");return A.find(gt=>gt===Pe)||(Pe=A[0]),Ee===h&&(Ee=Le!==h?Le:"",Le=h),[Pe,Ye(Ee),!!Le]}function ze(q){let[Pe]=N(q);return Pe.indexOf("row")>-1}function Ye(q){if(q)switch(q.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":q="wrap-reverse";break;case"no":case"none":case"nowrap":q="nowrap";break;default:q="wrap"}return q}function qe(q,...Pe){if(null==q)throw TypeError("Cannot convert undefined or null to object");for(let Ee of Pe)if(null!=Ee)for(let Le in Ee)Ee.hasOwnProperty(Le)&&(q[Le]=Ee[Le]);return q}},2233:(bn,xt,x)=>{x.d(xt,{Bs:()=>Ht,FL:()=>vn,IR:()=>Le,Ot:()=>Ut,QI:()=>tt,RK:()=>Qe,WU:()=>Ge,g5:()=>St,iR:()=>rt,wY:()=>bt,yB:()=>le});var m=x(4650),h=x(6895),A=x(1135),De=x(9751),N=x(6451),ze=x(7579),Ye=x(5863),ie=x(9300),qe=x(8505);const Pe={provide:m.tb,useFactory:function q(kt,Ot){return()=>{if((0,h.NF)(Ot)){const te=Array.from(kt.querySelectorAll(`[class*=${Ee}]`)),ae=/\bflex-layout-.+?\b/g;te.forEach(K=>{K.classList.contains(`${Ee}ssr`)&&K.parentNode?K.parentNode.removeChild(K):K.className.replace(ae,"")})}}},deps:[h.K0,m.Lbi],multi:!0},Ee="flex-layout-";let Le=(()=>{class kt{}return kt.\u0275fac=function(te){return new(te||kt)},kt.\u0275mod=m.oAB({type:kt}),kt.\u0275inj=m.cJS({providers:[Pe]}),kt})();class gt{constructor(Ot=!1,te="all",ae="",K="",z=0){this.matches=Ot,this.mediaQuery=te,this.mqAlias=ae,this.suffix=K,this.priority=z,this.property=""}clone(){return new gt(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let ht=(()=>{class kt{constructor(){this.stylesheet=new Map}addStyleToElement(te,ae,K){const z=this.stylesheet.get(te);z?z.set(ae,K):this.stylesheet.set(te,new Map([[ae,K]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(te,ae){const K=this.stylesheet.get(te);let z="";if(K){const de=K.get(ae);("number"==typeof de||"string"==typeof de)&&(z=de+"")}return z}}return kt.\u0275fac=function(te){return new(te||kt)},kt.\u0275prov=m.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();const St={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ge=new m.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>St}),bt=new m.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Ht=new m.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Pt(kt,Ot){return kt=kt?.clone()??new gt,Ot&&(kt.mqAlias=Ot.alias,kt.mediaQuery=Ot.mediaQuery,kt.suffix=Ot.suffix,kt.priority=Ot.priority),kt}class tt{constructor(){this.shouldCache=!0}sideEffect(Ot,te,ae){}}let Qe=(()=>{class kt{constructor(te,ae,K,z){this._serverStylesheet=te,this._serverModuleLoaded=ae,this._platformId=K,this.layoutConfig=z}applyStyleToElement(te,ae,K=null){let z={};"string"==typeof ae&&(z[ae]=K,ae=z),z=this.layoutConfig.disableVendorPrefixes?ae:(0,Ye.GK)(ae),this._applyMultiValueStyleToElement(z,te)}applyStyleToElements(te,ae=[]){const K=this.layoutConfig.disableVendorPrefixes?te:(0,Ye.GK)(te);ae.forEach(z=>{this._applyMultiValueStyleToElement(K,z)})}getFlowDirection(te){const ae="flex-direction";let K=this.lookupStyle(te,ae);return[K||"row",this.lookupInlineStyle(te,ae)||(0,h.PM)(this._platformId)&&this._serverModuleLoaded?K:""]}hasWrap(te){return"wrap"===this.lookupStyle(te,"flex-wrap")}lookupAttributeValue(te,ae){return te.getAttribute(ae)??""}lookupInlineStyle(te,ae){return(0,h.NF)(this._platformId)?te.style.getPropertyValue(ae):function He(kt,Ot){return $e(kt)[Ot]??""}(te,ae)}lookupStyle(te,ae,K=!1){let z="";return te&&((z=this.lookupInlineStyle(te,ae))||((0,h.NF)(this._platformId)?K||(z=getComputedStyle(te).getPropertyValue(ae)):this._serverModuleLoaded&&(z=this._serverStylesheet.getStyleForElement(te,ae)))),z?z.trim():""}_applyMultiValueStyleToElement(te,ae){Object.keys(te).sort().forEach(K=>{const z=te[K],de=Array.isArray(z)?z:[z];de.sort();for(let J of de)J=J?J+"":"",(0,h.NF)(this._platformId)||!this._serverModuleLoaded?(0,h.NF)(this._platformId)?ae.style.setProperty(K,J):Ke(ae,K,J):this._serverStylesheet.addStyleToElement(ae,K,J)})}}return kt.\u0275fac=function(te){return new(te||kt)(m.LFG(ht),m.LFG(bt),m.LFG(m.Lbi),m.LFG(Ge))},kt.\u0275prov=m.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();function Ke(kt,Ot,te){Ot=Ot.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const ae=$e(kt);ae[Ot]=te??"",function ke(kt,Ot){let te="";for(const ae in Ot)Ot[ae]&&(te+=`${ae}:${Ot[ae]};`);kt.setAttribute("style",te)}(kt,ae)}function $e(kt){const Ot={},te=kt.getAttribute("style");if(te){const ae=te.split(/;+/g);for(let K=0;K<ae.length;K++){const z=ae[K].trim();if(z.length>0){const de=z.indexOf(":");if(-1===de)throw new Error(`Invalid CSS style: ${z}`);Ot[z.substr(0,de).trim()]=z.substr(de+1).trim()}}}return Ot}function Dt(kt,Ot){return(Ot&&Ot.priority||0)-(kt&&kt.priority||0)}function ot(kt,Ot){return(kt.priority||0)-(Ot.priority||0)}let dt=(()=>{class kt{constructor(te,ae,K){this._zone=te,this._platformId=ae,this._document=K,this.source=new A.X(new gt(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const te=[];return this.registry.forEach((ae,K)=>{ae.matches&&te.push(K)}),te}isActive(te){return this.registry.get(te)?.matches??this.registerQuery(te).some(K=>K.matches)}observe(te,ae=!1){if(te&&te.length){const K=this._observable$.pipe((0,ie.h)(de=>!ae||te.indexOf(de.mediaQuery)>-1)),z=new De.y(de=>{const J=this.registerQuery(te);if(J.length){const ct=J.pop();J.forEach(st=>{de.next(st)}),this.source.next(ct)}de.complete()});return(0,N.T)(z,K)}return this._observable$}registerQuery(te){const ae=Array.isArray(te)?te:[te],K=[];return function It(kt,Ot){const te=kt.filter(ae=>!Rt[ae]);if(te.length>0){const ae=te.join(", ");try{const K=Ot.createElement("style");K.setAttribute("type","text/css"),K.styleSheet||K.appendChild(Ot.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${ae} {.fx-query-test{ }}\n`)),Ot.head.appendChild(K),te.forEach(z=>Rt[z]=K)}catch(K){console.error(K)}}}(ae,this._document),ae.forEach(z=>{const de=ct=>{this._zone.run(()=>this.source.next(new gt(ct.matches,z)))};let J=this.registry.get(z);J||(J=this.buildMQL(z),J.addListener(de),this.pendingRemoveListenerFns.push(()=>J.removeListener(de)),this.registry.set(z,J)),J.matches&&K.push(new gt(!0,z))}),K}ngOnDestroy(){let te;for(;te=this.pendingRemoveListenerFns.pop();)te()}buildMQL(te){return function Kt(kt,Ot){return Ot&&window.matchMedia("all").addListener?window.matchMedia(kt):function Jt(kt){const Ot=new EventTarget;return Ot.matches="all"===kt||""===kt,Ot.media=kt,Ot.addListener=()=>{},Ot.removeListener=()=>{},Ot.addEventListener=()=>{},Ot.dispatchEvent=()=>!1,Ot.onchange=null,Ot}(kt)}(te,(0,h.NF)(this._platformId))}}return kt.\u0275fac=function(te){return new(te||kt)(m.LFG(m.R0b),m.LFG(m.Lbi),m.LFG(h.K0))},kt.\u0275prov=m.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();const Rt={},an=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],fn="(orientation: portrait) and (max-width: 599.98px)",sn="(orientation: landscape) and (max-width: 959.98px)",vt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",qt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Yt="(orientation: portrait) and (min-width: 840px)",nn="(orientation: landscape) and (min-width: 1280px)",Qt={HANDSET:`${fn}, ${sn}`,TABLET:`${vt} , ${qt}`,WEB:`${Yt}, ${nn} `,HANDSET_PORTRAIT:`${fn}`,TABLET_PORTRAIT:`${vt} `,WEB_PORTRAIT:`${Yt}`,HANDSET_LANDSCAPE:`${sn}`,TABLET_LANDSCAPE:`${qt}`,WEB_LANDSCAPE:`${nn}`},Dn=[{alias:"handset",priority:2e3,mediaQuery:Qt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Qt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Qt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Qt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Qt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Qt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Qt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Qt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Qt.WEB_PORTRAIT,overlapping:!0}],Xt=/(\.|-|_)/g;function mn(kt){let Ot=kt.length>0?kt.charAt(0):"",te=kt.length>1?kt.slice(1):"";return Ot.toUpperCase()+te}const zn=new m.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const kt=(0,m.f3M)(Ht),Ot=(0,m.f3M)(Ge),te=[].concat.apply([],(kt||[]).map(K=>Array.isArray(K)?K:[K]));return function Rn(kt,Ot=[]){const te={};return kt.forEach(ae=>{te[ae.alias]=ae}),Ot.forEach(ae=>{te[ae.alias]?(0,Ye.kt)(te[ae.alias],ae):te[ae.alias]=ae}),function Un(kt){return kt.forEach(Ot=>{Ot.suffix||(Ot.suffix=function An(kt){return kt.replace(Xt,"|").split("|").map(mn).join("")}(Ot.alias),Ot.overlapping=!!Ot.overlapping)}),kt}(Object.keys(te).map(ae=>te[ae]))}((Ot.disableDefaultBps?[]:an).concat(Ot.addOrientationBps?Dn:[]),te)}});let $n=(()=>{class kt{constructor(te){this.findByMap=new Map,this.items=[...te].sort(ot)}findByAlias(te){return te?this.findWithPredicate(te,ae=>ae.alias===te):null}findByQuery(te){return this.findWithPredicate(te,ae=>ae.mediaQuery===te)}get overlappings(){return this.items.filter(te=>te.overlapping)}get aliases(){return this.items.map(te=>te.alias)}get suffixes(){return this.items.map(te=>te?.suffix??"")}findWithPredicate(te,ae){let K=this.findByMap.get(te);return K||(K=this.items.find(ae)??null,this.findByMap.set(te,K)),K??null}}return kt.\u0275fac=function(te){return new(te||kt)(m.LFG(zn))},kt.\u0275prov=m.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();const Vn="print",Gn={alias:Vn,mediaQuery:Vn,priority:1e3};let qn=(()=>{class kt{constructor(te,ae,K){this.breakpoints=te,this.layoutConfig=ae,this._document=K,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new _n,this.deactivations=[]}withPrintQuery(te){return[...te,Vn]}isPrintEvent(te){return te.mediaQuery.startsWith(Vn)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(te=>this.breakpoints.findByAlias(te)).filter(te=>null!==te)}getEventBreakpoints({mediaQuery:te}){const ae=this.breakpoints.findByQuery(te);return(ae?[...this.printBreakPoints,ae]:this.printBreakPoints).sort(Dt)}updateEvent(te){let ae=this.breakpoints.findByQuery(te.mediaQuery);return this.isPrintEvent(te)&&(ae=this.getEventBreakpoints(te)[0],te.mediaQuery=ae?.mediaQuery??""),Pt(te,ae)}registerBeforeAfterPrintHooks(te){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const ae=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(te,this.getEventBreakpoints(new gt(!0,Vn))),te.updateStyles())},K=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(te),te.updateStyles())};this._document.defaultView.addEventListener("beforeprint",ae),this._document.defaultView.addEventListener("afterprint",K),this.beforePrintEventListeners.push(ae),this.afterPrintEventListeners.push(K)}interceptEvents(te){return ae=>{this.isPrintEvent(ae)?ae.matches&&!this.isPrinting?(this.startPrinting(te,this.getEventBreakpoints(ae)),te.updateStyles()):!ae.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(te),te.updateStyles()):this.collectActivations(te,ae)}}blockPropagation(){return te=>!(this.isPrinting||this.isPrintEvent(te))}startPrinting(te,ae){this.isPrinting=!0,this.formerActivations=te.activatedBreakpoints,te.activatedBreakpoints=this.queue.addPrintBreakpoints(ae)}stopPrinting(te){te.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(te,ae){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!ae.matches){const K=this.breakpoints.findByQuery(ae.mediaQuery);if(K){const z=this.formerActivations&&this.formerActivations.includes(K),de=!this.formerActivations&&te.activatedBreakpoints.includes(K);(z||de)&&(this.deactivations.push(K),this.deactivations.sort(Dt))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(te=>this._document.defaultView.removeEventListener("beforeprint",te)),this.afterPrintEventListeners.forEach(te=>this._document.defaultView.removeEventListener("afterprint",te)))}}return kt.\u0275fac=function(te){return new(te||kt)(m.LFG($n),m.LFG(Ge),m.LFG(h.K0))},kt.\u0275prov=m.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();class _n{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(Ot){return Ot.push(Gn),Ot.sort(Dt),Ot.forEach(te=>this.addBreakpoint(te)),this.printBreakpoints}addBreakpoint(Ot){Ot&&void 0===this.printBreakpoints.find(ae=>ae.mediaQuery===Ot.mediaQuery)&&(this.printBreakpoints=function Be(kt){return kt?.mediaQuery.startsWith(Vn)??!1}(Ot)?[Ot,...this.printBreakpoints]:[...this.printBreakpoints,Ot])}clear(){this.printBreakpoints=[]}}let le=(()=>{class kt{constructor(te,ae,K){this.matchMedia=te,this.breakpoints=ae,this.hook=K,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ze.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(te){this._activatedBreakpoints=[...te]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(te){this._useFallbacks=te}onMediaChange(te){const ae=this.findByQuery(te.mediaQuery);if(ae){te=Pt(te,ae);const K=this.activatedBreakpoints.indexOf(ae);te.matches&&-1===K?(this._activatedBreakpoints.push(ae),this._activatedBreakpoints.sort(Dt),this.updateStyles()):!te.matches&&-1!==K&&(this._activatedBreakpoints.splice(K,1),this._activatedBreakpoints.sort(Dt),this.updateStyles())}}init(te,ae,K,z,de=[]){ge(this.updateMap,te,ae,K),ge(this.clearMap,te,ae,z),this.buildElementKeyMap(te,ae),this.watchExtraTriggers(te,ae,de)}getValue(te,ae,K){const z=this.elementMap.get(te);if(z){const de=void 0!==K?z.get(K):this.getActivatedValues(z,ae);if(de)return de.get(ae)}}hasValue(te,ae){const K=this.elementMap.get(te);if(K){const z=this.getActivatedValues(K,ae);if(z)return void 0!==z.get(ae)||!1}return!1}setValue(te,ae,K,z){let de=this.elementMap.get(te);if(de){const ct=(de.get(z)??new Map).set(ae,K);de.set(z,ct),this.elementMap.set(te,de)}else de=(new Map).set(z,(new Map).set(ae,K)),this.elementMap.set(te,de);const J=this.getValue(te,ae);void 0!==J&&this.updateElement(te,ae,J)}trackValue(te,ae){return this.subject.asObservable().pipe((0,ie.h)(K=>K.element===te&&K.key===ae))}updateStyles(){this.elementMap.forEach((te,ae)=>{const K=new Set(this.elementKeyMap.get(ae));let z=this.getActivatedValues(te);z&&z.forEach((de,J)=>{this.updateElement(ae,J,de),K.delete(J)}),K.forEach(de=>{if(z=this.getActivatedValues(te,de),z){const J=z.get(de);this.updateElement(ae,de,J)}else this.clearElement(ae,de)})})}clearElement(te,ae){const K=this.clearMap.get(te);if(K){const z=K.get(ae);z&&(z(),this.subject.next({element:te,key:ae,value:""}))}}updateElement(te,ae,K){const z=this.updateMap.get(te);if(z){const de=z.get(ae);de&&(de(K),this.subject.next({element:te,key:ae,value:K}))}}releaseElement(te){const ae=this.watcherMap.get(te);ae&&(ae.forEach(z=>z.unsubscribe()),this.watcherMap.delete(te));const K=this.elementMap.get(te);K&&(K.forEach((z,de)=>K.delete(de)),this.elementMap.delete(te))}triggerUpdate(te,ae){const K=this.elementMap.get(te);if(K){const z=this.getActivatedValues(K,ae);z&&(ae?this.updateElement(te,ae,z.get(ae)):z.forEach((de,J)=>this.updateElement(te,J,de)))}}buildElementKeyMap(te,ae){let K=this.elementKeyMap.get(te);K||(K=new Set,this.elementKeyMap.set(te,K)),K.add(ae)}watchExtraTriggers(te,ae,K){if(K&&K.length){let z=this.watcherMap.get(te);if(z||(z=new Map,this.watcherMap.set(te,z)),!z.get(ae)){const J=(0,N.T)(...K).subscribe(()=>{const ct=this.getValue(te,ae);this.updateElement(te,ae,ct)});z.set(ae,J)}}}findByQuery(te){return this.breakpoints.findByQuery(te)}getActivatedValues(te,ae){for(let z=0;z<this.activatedBreakpoints.length;z++){const J=te.get(this.activatedBreakpoints[z].alias);if(J&&(void 0===ae||J.has(ae)&&null!=J.get(ae)))return J}if(!this._useFallbacks)return;const K=te.get("");return void 0===ae||K&&K.has(ae)?K:void 0}observeActivations(){const te=this.breakpoints.items.map(ae=>ae.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(te)).pipe((0,qe.b)(this.hook.interceptEvents(this)),(0,ie.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return kt.\u0275fac=function(te){return new(te||kt)(m.LFG(dt),m.LFG($n),m.LFG(qn))},kt.\u0275prov=m.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();function ge(kt,Ot,te,ae){if(void 0!==ae){const K=kt.get(Ot)??new Map;K.set(te,ae),kt.set(Ot,K)}}let rt=(()=>{class kt{constructor(te,ae,K,z){this.elementRef=te,this.styleBuilder=ae,this.styler=K,this.marshal=z,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ze.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(te){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,te,this.marshal.activatedAlias)}ngOnChanges(te){Object.keys(te).forEach(ae=>{if(-1!==this.inputs.indexOf(ae)){const K=ae.split(".").slice(1).join(".");this.setValue(te[ae].currentValue,K)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(te=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),te)}addStyles(te,ae){const K=this.styleBuilder,z=K.shouldCache;let de=this.styleCache.get(te);(!de||!z)&&(de=K.buildStyles(te,ae),z&&this.styleCache.set(te,de)),this.mru={...de},this.applyStyleToElement(de),K.sideEffect(te,de,ae)}clearStyles(){Object.keys(this.mru).forEach(te=>{this.mru[te]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(te,ae=!1){if(te){const[K,z]=this.styler.getFlowDirection(te);if(!z&&ae){const de=(0,Ye.Ar)(K);this.styler.applyStyleToElements(de,[te])}return K.trim()}return"row"}hasWrap(te){return this.styler.hasWrap(te)}applyStyleToElement(te,ae,K=this.nativeElement){this.styler.applyStyleToElement(K,te,ae)}setValue(te,ae){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,te,ae)}updateWithValue(te){this.currentValue!==te&&(this.addStyles(te),this.currentValue=te)}}return kt.\u0275fac=function(te){return new(te||kt)(m.Y36(m.SBq),m.Y36(tt),m.Y36(Qe),m.Y36(le))},kt.\u0275dir=m.lG2({type:kt,features:[m.TTD]}),kt})();function Ut(kt,Ot="1",te="1"){let ae=[Ot,te,kt],K=kt.indexOf("calc");if(K>0){ae[2]=cn(kt.substring(K).trim());let z=kt.substr(0,K).trim().split(" ");2==z.length&&(ae[0]=z[0],ae[1]=z[1])}else if(0==K)ae[2]=cn(kt.trim());else{let z=kt.split(" ");ae=3===z.length?z:[Ot,te,kt]}return ae}function cn(kt){return kt.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function vn(kt,Ot){if(void 0===Ot)return kt;const te=ae=>{const K=+ae.slice(0,-"x".length);return kt.endsWith("x")&&!isNaN(K)?`${K*Ot.value}${Ot.unit}`:kt};return kt.includes(" ")?kt.split(" ").map(te).join(" "):te(kt)}EventTarget},5829:(bn,xt,x)=>{x.d(xt,{aT:()=>sn,b8:()=>Qe,oO:()=>St});var m=x(4650),h=x(2233),A=x(6895),De=x(1281),N=x(2722);x(1481);let Le=(()=>{class vt extends h.iR{constructor(Yt,nn,Qt,Dn,Xt,mn,An){super(Yt,null,nn,Qt),this.ngClassInstance=An,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new A.mk(Dn,Xt,Yt,mn)),this.init(),this.setValue("","")}set klass(Yt){this.ngClassInstance.klass=Yt,this.setValue(Yt,"")}updateWithValue(Yt){this.ngClassInstance.ngClass=Yt,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return vt.\u0275fac=function(Yt){return new(Yt||vt)(m.Y36(m.SBq),m.Y36(h.RK),m.Y36(h.yB),m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.Qsj),m.Y36(A.mk,10))},vt.\u0275dir=m.lG2({type:vt,inputs:{klass:["class","klass"]},features:[m.qOj]}),vt})();const gt=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let St=(()=>{class vt extends Le{constructor(){super(...arguments),this.inputs=gt}}return vt.\u0275fac=function(){let qt;return function(nn){return(qt||(qt=m.n5z(vt)))(nn||vt)}}(),vt.\u0275dir=m.lG2({type:vt,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[m.qOj]}),vt})(),Ge=(()=>{class vt extends h.QI{buildStyles(Yt,nn){return{display:"true"===Yt?nn.display||(nn.isServer?"initial":""):"none"}}}return vt.\u0275fac=function(){let qt;return function(nn){return(qt||(qt=m.n5z(vt)))(nn||vt)}}(),vt.\u0275prov=m.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})(),bt=(()=>{class vt extends h.iR{constructor(Yt,nn,Qt,Dn,Xt,mn,An){super(Yt,nn,Qt,Dn),this.layoutConfig=Xt,this.platformId=mn,this.serverModuleLoaded=An,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const Yt=Array.from(this.nativeElement.children);for(let Qt=0;Qt<Yt.length;Qt++)if(this.marshal.hasValue(Yt[Qt],"flex")){this.hasFlexChild=!0;break}Ht.has(this.nativeElement)?this.display=Ht.get(this.nativeElement):(this.display=this.getDisplayStyle(),Ht.set(this.nativeElement,this.display)),this.init();const nn=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===nn||""===nn?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(Yt){Object.keys(Yt).forEach(nn=>{if(-1!==this.inputs.indexOf(nn)){const Qt=nn.split("."),Dn=Qt.slice(1).join("."),Xt=Yt[nn].currentValue;let mn=""===Xt||0!==Xt&&(0,De.Ig)(Xt);"fxHide"===Qt[0]&&(mn=!mn),this.setValue(mn,Dn)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(Yt=>{this.marshal.trackValue(this.nativeElement,Yt).pipe((0,N.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(Yt=!0){if(""===Yt)return;const nn=(0,A.PM)(this.platformId);this.addStyles(Yt?"true":"false",{display:this.display,isServer:nn}),nn&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return vt.\u0275fac=function(Yt){return new(Yt||vt)(m.Y36(m.SBq),m.Y36(Ge),m.Y36(h.RK),m.Y36(h.yB),m.Y36(h.WU),m.Y36(m.Lbi),m.Y36(h.wY))},vt.\u0275dir=m.lG2({type:vt,features:[m.qOj,m.TTD]}),vt})();const Ht=new WeakMap,Pt=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let Qe=(()=>{class vt extends bt{constructor(){super(...arguments),this.inputs=Pt}}return vt.\u0275fac=function(){let qt;return function(nn){return(qt||(qt=m.n5z(vt)))(nn||vt)}}(),vt.\u0275dir=m.lG2({type:vt,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[m.qOj]}),vt})(),sn=(()=>{class vt{}return vt.\u0275fac=function(Yt){return new(Yt||vt)},vt.\u0275mod=m.oAB({type:vt}),vt.\u0275inj=m.cJS({imports:[h.IR]}),vt})()},1576:(bn,xt,x)=>{x.d(xt,{SQ:()=>bt,Wh:()=>Ut,ae:()=>de,xw:()=>Pe,yH:()=>Jt});var m=x(4650),h=x(445),A=x(2233),De=x(5863),N=x(7579),ze=x(2722);let Ye=(()=>{class J extends A.QI{buildStyles(st,{display:Mt}){const Lt=(0,De.Ar)(st);return{...Lt,display:"none"===Mt?Mt:Lt.display}}}return J.\u0275fac=function(){let ct;return function(Mt){return(ct||(ct=m.n5z(J)))(Mt||J)}}(),J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const ie=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let q=(()=>{class J extends A.iR{constructor(st,Mt,Lt,je,nt){super(st,Lt,Mt,je),this._config=nt,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(st){const Lt=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Ee.get(Lt)??new Map,Ee.set(Lt,this.styleCache),this.currentValue!==st&&(this.addStyles(st,{display:Lt}),this.currentValue=st)}}return J.\u0275fac=function(st){return new(st||J)(m.Y36(m.SBq),m.Y36(A.RK),m.Y36(Ye),m.Y36(A.yB),m.Y36(A.WU))},J.\u0275dir=m.lG2({type:J,features:[m.qOj]}),J})(),Pe=(()=>{class J extends q{constructor(){super(...arguments),this.inputs=ie}}return J.\u0275fac=function(){let ct;return function(Mt){return(ct||(ct=m.n5z(J)))(Mt||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[m.qOj]}),J})();const Ee=new Map,Le={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let gt=(()=>{class J extends A.QI{constructor(st,Mt){super(),this._styler=st,this._config=Mt}buildStyles(st,Mt){return st.endsWith(He)?(st=st.slice(0,st.indexOf(He)),function ke(J,ct){const[st,Mt]=J.split(" "),je=ne=>`-${ne}`;let nt="0px",ve=je(Mt??st),Ce="0px";return"rtl"===ct?Ce=je(st):nt=je(st),{margin:`0px ${nt} ${ve} ${Ce}`}}(st=(0,A.FL)(st,this._config.multiplier),Mt.directionality)):{}}sideEffect(st,Mt,Lt){const je=Lt.items;if(st.endsWith(He)){st=st.slice(0,st.indexOf(He));const nt=function Ke(J,ct){const[st,Mt]=J.split(" ");let je="0px",ve="0px";return"rtl"===ct?ve=st:je=st,{padding:`0px ${je} ${Mt??st} ${ve}`}}(st=(0,A.FL)(st,this._config.multiplier),Lt.directionality);this._styler.applyStyleToElements(nt,Lt.items)}else{st=(0,A.FL)(st,this._config.multiplier),st=this.addFallbackUnit(st);const nt=je.pop(),ve=function Dt(J,ct){const st=$e(ct.directionality,ct.layout),Mt={...Le};return Mt[st]=J,Mt}(st,Lt);this._styler.applyStyleToElements(ve,je),this._styler.applyStyleToElements(Le,[nt])}}addFallbackUnit(st){return isNaN(+st)?st:`${st}${this._config.defaultUnit}`}}return J.\u0275fac=function(st){return new(st||J)(m.LFG(A.RK),m.LFG(A.WU))},J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const ht=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Ge=(()=>{class J extends A.iR{constructor(st,Mt,Lt,je,nt,ve){super(st,nt,je,ve),this.zone=Mt,this.directionality=Lt,this.styleUtils=je,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new N.x;const Ce=[this.directionality.change,this.observerSubject.asObservable()];this.init(Ce),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,ze.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const st=this.nativeElement.children,Mt=[];for(let Lt=st.length;Lt--;)Mt[Lt]=st[Lt];return Mt}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(st){const Lt=st.value.split(" ");this.layout=Lt[0],De.iQ.find(je=>je===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(st){const Mt=this.childrenNodes.filter(Lt=>1===Lt.nodeType&&this.willDisplay(Lt)).sort((Lt,je)=>{const nt=+this.styler.lookupStyle(Lt,"order"),ve=+this.styler.lookupStyle(je,"order");return isNaN(nt)||isNaN(ve)||nt===ve?0:nt>ve?1:-1});if(Mt.length>0){const Lt=this.directionality.value,je=this.layout;"row"===je&&"rtl"===Lt?this.styleCache=Ht:"row"===je&&"rtl"!==Lt?this.styleCache=tt:"column"===je&&"rtl"===Lt?this.styleCache=Pt:"column"===je&&"rtl"!==Lt&&(this.styleCache=Qe),this.addStyles(st,{directionality:Lt,items:Mt,layout:je})}}clearStyles(){const st=Object.keys(this.mru).length>0,Mt=st?"padding":$e(this.directionality.value,this.layout);st&&super.clearStyles(),this.styleUtils.applyStyleToElements({[Mt]:""},this.childrenNodes)}willDisplay(st){const Mt=this.marshal.getValue(st,"show-hide");return!0===Mt||void 0===Mt&&"none"!==this.styleUtils.lookupStyle(st,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(st=>{st.some(Lt=>Lt.addedNodes&&Lt.addedNodes.length>0||Lt.removedNodes&&Lt.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return J.\u0275fac=function(st){return new(st||J)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(h.Is),m.Y36(A.RK),m.Y36(gt),m.Y36(A.yB))},J.\u0275dir=m.lG2({type:J,features:[m.qOj]}),J})(),bt=(()=>{class J extends Ge{constructor(){super(...arguments),this.inputs=ht}}return J.\u0275fac=function(){let ct;return function(Mt){return(ct||(ct=m.n5z(J)))(Mt||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[m.qOj]}),J})();const Ht=new Map,Pt=new Map,tt=new Map,Qe=new Map,He=" grid";function $e(J,ct){switch(ct){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===J?"margin-left":"margin-right";case"row-reverse":return"rtl"===J?"margin-right":"margin-left"}}let ot=(()=>{class J extends A.QI{constructor(st){super(),this.layoutConfig=st}buildStyles(st,Mt){let[Lt,je,...nt]=st.split(" "),ve=nt.join(" ");const Ce=Mt.direction.indexOf("column")>-1?"column":"row",ne=(0,De.tj)(Ce)?"max-width":"max-height",Oe=(0,De.tj)(Ce)?"min-width":"min-height",pt=String(ve).indexOf("calc")>-1,Ze=pt||"auto"===ve,We=String(ve).indexOf("%")>-1&&!pt,Re=String(ve).indexOf("px")>-1||String(ve).indexOf("rem")>-1||String(ve).indexOf("em")>-1||String(ve).indexOf("vw")>-1||String(ve).indexOf("vh")>-1;let se=pt||Re;Lt="0"==Lt?0:Lt,je="0"==je?0:je;const he=!Lt&&!je;let me={};const Se={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(ve||""){case"":const _e=!1!==this.layoutConfig.useColumnBasisZero;ve="row"===Ce?"0%":_e?"0.000000001px":"auto";break;case"initial":case"nogrow":Lt=0,ve="auto";break;case"grow":ve="100%";break;case"noshrink":je=0,ve="auto";break;case"auto":break;case"none":Lt=0,je=0,ve="auto";break;default:!se&&!We&&!isNaN(ve)&&(ve+="%"),"0%"===ve&&(se=!0),"0px"===ve&&(ve="0%"),me=(0,De.kt)(Se,pt?{"flex-grow":Lt,"flex-shrink":je,"flex-basis":se?ve:"100%"}:{flex:`${Lt} ${je} ${se?ve:"100%"}`})}return me.flex||me["flex-grow"]||(me=(0,De.kt)(Se,pt?{"flex-grow":Lt,"flex-shrink":je,"flex-basis":ve}:{flex:`${Lt} ${je} ${ve}`})),"0%"!==ve&&"0px"!==ve&&"0.000000001px"!==ve&&"auto"!==ve&&(me[Oe]=he||se&&Lt?ve:null,me[ne]=he||!Ze&&je?ve:null),me[Oe]||me[ne]?Mt.hasWrap&&(me[pt?"flex-basis":"flex"]=me[ne]?pt?me[ne]:`${Lt} ${je} ${me[ne]}`:pt?me[Oe]:`${Lt} ${je} ${me[Oe]}`):me=(0,De.kt)(Se,pt?{"flex-grow":Lt,"flex-shrink":je,"flex-basis":ve}:{flex:`${Lt} ${je} ${ve}`}),(0,De.kt)(me,{"box-sizing":"border-box"})}}return J.\u0275fac=function(st){return new(st||J)(m.LFG(A.WU))},J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const dt=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let It=(()=>{class J extends A.iR{constructor(st,Mt,Lt,je,nt){super(st,je,Mt,nt),this.layoutConfig=Lt,this.marshal=nt,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(st){this.flexShrink=st||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(st){this.flexGrow=st||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,ze.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,ze.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(st){const Lt=st.value.split(" ");this.direction=Lt[0],this.wrap=void 0!==Lt[1]&&"wrap"===Lt[1],this.triggerUpdate()}updateWithValue(st){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const Lt=this.direction,je=Lt.startsWith("row"),nt=this.wrap;je&&nt?this.styleCache=fn:je&&!nt?this.styleCache=Kt:!je&&nt?this.styleCache=sn:!je&&!nt&&(this.styleCache=an);const ve=String(st).replace(";",""),Ce=(0,A.Ot)(ve,this.flexGrow,this.flexShrink);this.addStyles(Ce.join(" "),{direction:Lt,hasWrap:nt})}triggerReflow(){const st=this.activatedValue;if(void 0!==st){const Mt=(0,A.Ot)(st+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,Mt.join(" "))}}}return J.\u0275fac=function(st){return new(st||J)(m.Y36(m.SBq),m.Y36(A.RK),m.Y36(A.WU),m.Y36(ot),m.Y36(A.yB))},J.\u0275dir=m.lG2({type:J,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[m.qOj]}),J})(),Jt=(()=>{class J extends It{constructor(){super(...arguments),this.inputs=dt}}return J.\u0275fac=function(){let ct;return function(Mt){return(ct||(ct=m.n5z(J)))(Mt||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[m.qOj]}),J})();const Kt=new Map,an=new Map,fn=new Map,sn=new Map;let jt=(()=>{class J extends A.QI{buildStyles(st,Mt){const Lt={},[je,nt]=st.split(" ");switch(je){case"center":Lt["justify-content"]="center";break;case"space-around":Lt["justify-content"]="space-around";break;case"space-between":Lt["justify-content"]="space-between";break;case"space-evenly":Lt["justify-content"]="space-evenly";break;case"end":case"flex-end":Lt["justify-content"]="flex-end";break;default:Lt["justify-content"]="flex-start"}switch(nt){case"start":case"flex-start":Lt["align-items"]=Lt["align-content"]="flex-start";break;case"center":Lt["align-items"]=Lt["align-content"]="center";break;case"end":case"flex-end":Lt["align-items"]=Lt["align-content"]="flex-end";break;case"space-between":Lt["align-content"]="space-between",Lt["align-items"]="stretch";break;case"space-around":Lt["align-content"]="space-around",Lt["align-items"]="stretch";break;case"baseline":Lt["align-content"]="stretch",Lt["align-items"]="baseline";break;default:Lt["align-items"]=Lt["align-content"]="stretch"}return(0,De.kt)(Lt,{display:Mt.inline?"inline-flex":"flex","flex-direction":Mt.layout,"box-sizing":"border-box","max-width":"stretch"===nt?(0,De.tj)(Mt.layout)?null:"100%":null,"max-height":"stretch"===nt&&(0,De.tj)(Mt.layout)?"100%":null})}}return J.\u0275fac=function(){let ct;return function(Mt){return(ct||(ct=m.n5z(J)))(Mt||J)}}(),J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const mt=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let yt=(()=>{class J extends A.iR{constructor(st,Mt,Lt,je){super(st,Lt,Mt,je),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,ze.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(st){const Mt=this.layout||"row",Lt=this.inline;"row"===Mt&&Lt?this.styleCache=Ot:"row"!==Mt||Lt?"row-reverse"===Mt&&Lt?this.styleCache=ae:"row-reverse"!==Mt||Lt?"column"===Mt&&Lt?this.styleCache=te:"column"!==Mt||Lt?"column-reverse"===Mt&&Lt?this.styleCache=K:"column-reverse"===Mt&&!Lt&&(this.styleCache=kt):this.styleCache=Nn:this.styleCache=vn:this.styleCache=cn,this.addStyles(st,{layout:Mt,inline:Lt})}onLayoutChange(st){const Mt=st.value.split(" ");this.layout=Mt[0],this.inline=st.value.includes("inline"),De.iQ.find(Lt=>Lt===this.layout)||(this.layout="row"),this.triggerUpdate()}}return J.\u0275fac=function(st){return new(st||J)(m.Y36(m.SBq),m.Y36(A.RK),m.Y36(jt),m.Y36(A.yB))},J.\u0275dir=m.lG2({type:J,features:[m.qOj]}),J})(),Ut=(()=>{class J extends yt{constructor(){super(...arguments),this.inputs=mt}}return J.\u0275fac=function(){let ct;return function(Mt){return(ct||(ct=m.n5z(J)))(Mt||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[m.qOj]}),J})();const cn=new Map,Nn=new Map,vn=new Map,kt=new Map,Ot=new Map,te=new Map,ae=new Map,K=new Map;let de=(()=>{class J{}return J.\u0275fac=function(st){return new(st||J)},J.\u0275mod=m.oAB({type:J}),J.\u0275inj=m.cJS({imports:[A.IR,h.vT]}),J})()},4006:(bn,xt,x)=>{x.d(xt,{Cf:()=>bt,F:()=>ys,Fj:()=>gt,JJ:()=>Be,JL:()=>le,JU:()=>ie,NI:()=>Vt,On:()=>Ks,UX:()=>Us,Zs:()=>Br,_Y:()=>$r,a5:()=>Vn,kI:()=>tt,oH:()=>rl,sg:()=>Cs,u5:()=>ha});var m=x(4650),h=x(6895),A=x(8996),De=x(4128),N=x(4004);let ze=(()=>{class Q{constructor($,Ue){this._renderer=$,this._elementRef=Ue,this.onChange=dn=>{},this.onTouched=()=>{}}setProperty($,Ue){this._renderer.setProperty(this._elementRef.nativeElement,$,Ue)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return Q.\u0275fac=function($){return new($||Q)(m.Y36(m.Qsj),m.Y36(m.SBq))},Q.\u0275dir=m.lG2({type:Q}),Q})(),Ye=(()=>{class Q extends ze{}return Q.\u0275fac=function(){let Y;return function(Ue){return(Y||(Y=m.n5z(Q)))(Ue||Q)}}(),Q.\u0275dir=m.lG2({type:Q,features:[m.qOj]}),Q})();const ie=new m.OlP("NgValueAccessor"),Pe={provide:ie,useExisting:(0,m.Gpc)(()=>gt),multi:!0},Le=new m.OlP("CompositionEventMode");let gt=(()=>{class Q extends ze{constructor($,Ue,dn){super($,Ue),this._compositionMode=dn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ee(){const Q=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(Q.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return Q.\u0275fac=function($){return new($||Q)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Le,8))},Q.\u0275dir=m.lG2({type:Q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,Ue){1&$&&m.NdJ("input",function(gi){return Ue._handleInput(gi.target.value)})("blur",function(){return Ue.onTouched()})("compositionstart",function(){return Ue._compositionStart()})("compositionend",function(gi){return Ue._compositionEnd(gi.target.value)})},features:[m._Bn([Pe]),m.qOj]}),Q})();function St(Q){return null==Q||("string"==typeof Q||Array.isArray(Q))&&0===Q.length}function Ge(Q){return null!=Q&&"number"==typeof Q.length}const bt=new m.OlP("NgValidators"),Ht=new m.OlP("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(Y){return function Qe(Q){return Y=>{if(St(Y.value)||St(Q))return null;const $=parseFloat(Y.value);return!isNaN($)&&$<Q?{min:{min:Q,actual:Y.value}}:null}}(Y)}static max(Y){return function He(Q){return Y=>{if(St(Y.value)||St(Q))return null;const $=parseFloat(Y.value);return!isNaN($)&&$>Q?{max:{max:Q,actual:Y.value}}:null}}(Y)}static required(Y){return Ke(Y)}static requiredTrue(Y){return ke(Y)}static email(Y){return function $e(Q){return St(Q.value)||Pt.test(Q.value)?null:{email:!0}}(Y)}static minLength(Y){return function Dt(Q){return Y=>St(Y.value)||!Ge(Y.value)?null:Y.value.length<Q?{minlength:{requiredLength:Q,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function ot(Q){return Y=>Ge(Y.value)&&Y.value.length>Q?{maxlength:{requiredLength:Q,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function dt(Q){if(!Q)return Rt;let Y,$;return"string"==typeof Q?($="","^"!==Q.charAt(0)&&($+="^"),$+=Q,"$"!==Q.charAt(Q.length-1)&&($+="$"),Y=new RegExp($)):($=Q.toString(),Y=Q),Ue=>{if(St(Ue.value))return null;const dn=Ue.value;return Y.test(dn)?null:{pattern:{requiredPattern:$,actualValue:dn}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return vt(Y)}static composeAsync(Y){return Yt(Y)}}function Ke(Q){return St(Q.value)?{required:!0}:null}function ke(Q){return!0===Q.value?null:{required:!0}}function Rt(Q){return null}function It(Q){return null!=Q}function Jt(Q){return(0,m.QGY)(Q)?(0,A.D)(Q):Q}function Kt(Q){let Y={};return Q.forEach($=>{Y=null!=$?{...Y,...$}:Y}),0===Object.keys(Y).length?null:Y}function an(Q,Y){return Y.map($=>$(Q))}function sn(Q){return Q.map(Y=>function fn(Q){return!Q.validate}(Y)?Y:$=>Y.validate($))}function vt(Q){if(!Q)return null;const Y=Q.filter(It);return 0==Y.length?null:function($){return Kt(an($,Y))}}function qt(Q){return null!=Q?vt(sn(Q)):null}function Yt(Q){if(!Q)return null;const Y=Q.filter(It);return 0==Y.length?null:function($){const Ue=an($,Y).map(Jt);return(0,De.D)(Ue).pipe((0,N.U)(Kt))}}function nn(Q){return null!=Q?Yt(sn(Q)):null}function Qt(Q,Y){return null===Q?[Y]:Array.isArray(Q)?[...Q,Y]:[Q,Y]}function Dn(Q){return Q._rawValidators}function Xt(Q){return Q._rawAsyncValidators}function mn(Q){return Q?Array.isArray(Q)?Q:[Q]:[]}function An(Q,Y){return Array.isArray(Q)?Q.includes(Y):Q===Y}function Un(Q,Y){const $=mn(Y);return mn(Q).forEach(dn=>{An($,dn)||$.push(dn)}),$}function Rn(Q,Y){return mn(Y).filter($=>!An(Q,$))}class zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y){this.control&&this.control.reset(Y)}hasError(Y,$){return!!this.control&&this.control.hasError(Y,$)}getError(Y,$){return this.control?this.control.getError(Y,$):null}}class $n extends zn{get formDirective(){return null}get path(){return null}}class Vn extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Be=(()=>{class Q extends Gn{constructor($){super($)}}return Q.\u0275fac=function($){return new($||Q)(m.Y36(Vn,2))},Q.\u0275dir=m.lG2({type:Q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,Ue){2&$&&m.ekj("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)},features:[m.qOj]}),Q})(),le=(()=>{class Q extends Gn{constructor($){super($)}}return Q.\u0275fac=function($){return new($||Q)(m.Y36($n,10))},Q.\u0275dir=m.lG2({type:Q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,Ue){2&$&&m.ekj("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)("ng-submitted",Ue.isSubmitted)},features:[m.qOj]}),Q})();const K="VALID",z="INVALID",de="PENDING",J="DISABLED";function ct(Q){return(je(Q)?Q.validators:Q)||null}function st(Q){return Array.isArray(Q)?qt(Q):Q||null}function Mt(Q,Y){return(je(Y)?Y.asyncValidators:Q)||null}function Lt(Q){return Array.isArray(Q)?nn(Q):Q||null}function je(Q){return null!=Q&&!Array.isArray(Q)&&"object"==typeof Q}class Ce{constructor(Y,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Y,this._rawAsyncValidators=$,this._composedValidatorFn=st(this._rawValidators),this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===K}get invalid(){return this.status===z}get pending(){return this.status==de}get disabled(){return this.status===J}get enabled(){return this.status!==J}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._rawValidators=Y,this._composedValidatorFn=st(Y)}setAsyncValidators(Y){this._rawAsyncValidators=Y,this._composedAsyncValidatorFn=Lt(Y)}addValidators(Y){this.setValidators(Un(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Un(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(Rn(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(Rn(Y,this._rawAsyncValidators))}hasValidator(Y){return An(this._rawValidators,Y)}hasAsyncValidator(Y){return An(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=de,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const $=this._parentMarkedDirty(Y.onlySelf);this.status=J,this.errors=null,this._forEachChild(Ue=>{Ue.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:$}),this._onDisabledChange.forEach(Ue=>Ue(!0))}enable(Y={}){const $=this._parentMarkedDirty(Y.onlySelf);this.status=K,this._forEachChild(Ue=>{Ue.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:$}),this._onDisabledChange.forEach(Ue=>Ue(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===K||this.status===de)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J:K}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=de,this._hasOwnPendingAsyncValidator=!0;const $=Jt(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(Ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ue,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,$={}){this.errors=Y,this._updateControlsErrors(!1!==$.emitEvent)}get(Y){let $=Y;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((Ue,dn)=>Ue&&Ue._find(dn),this)}getError(Y,$){const Ue=$?this.get($):this;return Ue&&Ue.errors?Ue.errors[Y]:null}hasError(Y,$){return!!this.getError(Y,$)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?J:this.errors?z:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(de)?de:this._anyControlsHaveStatus(z)?z:K}_anyControlsHaveStatus(Y){return this._anyControls($=>$.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){je(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}}class ne extends Ce{constructor(Y,$,Ue){super(ct($),Mt(Ue,$)),this.controls=Y,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,$){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(Y,$,Ue={}){this.registerControl(Y,$),this.updateValueAndValidity({emitEvent:Ue.emitEvent}),this._onCollectionChange()}removeControl(Y,$={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(Y,$,Ue={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],$&&this.registerControl(Y,$),this.updateValueAndValidity({emitEvent:Ue.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,$={}){(function ve(Q,Y,$){Q._forEachChild((Ue,dn)=>{if(void 0===$[dn])throw new m.vHH(1002,"")})})(this,0,Y),Object.keys(Y).forEach(Ue=>{(function nt(Q,Y,$){const Ue=Q.controls;if(!(Y?Object.keys(Ue):Ue).length)throw new m.vHH(1e3,"");if(!Ue[$])throw new m.vHH(1001,"")})(this,!0,Ue),this.controls[Ue].setValue(Y[Ue],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Y,$={}){null!=Y&&(Object.keys(Y).forEach(Ue=>{const dn=this.controls[Ue];dn&&dn.patchValue(Y[Ue],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Y={},$={}){this._forEachChild((Ue,dn)=>{Ue.reset(Y[dn],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(Y,$,Ue)=>(Y[Ue]=$.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,($,Ue)=>!!Ue._syncPendingControls()||$);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach($=>{const Ue=this.controls[$];Ue&&Y(Ue,$)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[$,Ue]of Object.entries(this.controls))if(this.contains($)&&Y(Ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},($,Ue,dn)=>((Ue.enabled||this.disabled)&&($[dn]=Ue.value),$))}_reduceChildren(Y,$){let Ue=Y;return this._forEachChild((dn,gi)=>{Ue=$(Ue,dn,gi)}),Ue}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}function se(Q,Y){_e(Q,Y),Y.valueAccessor.writeValue(Q.value),Q.disabled&&Y.valueAccessor.setDisabledState?.(!0),function H(Q,Y){Y.valueAccessor.registerOnChange($=>{Q._pendingValue=$,Q._pendingChange=!0,Q._pendingDirty=!0,"change"===Q.updateOn&&V(Q,Y)})}(Q,Y),function ce(Q,Y){const $=(Ue,dn)=>{Y.valueAccessor.writeValue(Ue),dn&&Y.viewToModelUpdate(Ue)};Q.registerOnChange($),Y._registerOnDestroy(()=>{Q._unregisterOnChange($)})}(Q,Y),function ue(Q,Y){Y.valueAccessor.registerOnTouched(()=>{Q._pendingTouched=!0,"blur"===Q.updateOn&&Q._pendingChange&&V(Q,Y),"submit"!==Q.updateOn&&Q.markAsTouched()})}(Q,Y),function Se(Q,Y){if(Y.valueAccessor.setDisabledState){const $=Ue=>{Y.valueAccessor.setDisabledState(Ue)};Q.registerOnDisabledChange($),Y._registerOnDestroy(()=>{Q._unregisterOnDisabledChange($)})}}(Q,Y)}function he(Q,Y,$=!0){const Ue=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(Ue),Y.valueAccessor.registerOnTouched(Ue)),we(Q,Y),Q&&(Y._invokeOnDestroyCallbacks(),Q._registerOnCollectionChange(()=>{}))}function me(Q,Y){Q.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(Y)})}function _e(Q,Y){const $=Dn(Q);null!==Y.validator?Q.setValidators(Qt($,Y.validator)):"function"==typeof $&&Q.setValidators([$]);const Ue=Xt(Q);null!==Y.asyncValidator?Q.setAsyncValidators(Qt(Ue,Y.asyncValidator)):"function"==typeof Ue&&Q.setAsyncValidators([Ue]);const dn=()=>Q.updateValueAndValidity();me(Y._rawValidators,dn),me(Y._rawAsyncValidators,dn)}function we(Q,Y){let $=!1;if(null!==Q){if(null!==Y.validator){const dn=Dn(Q);if(Array.isArray(dn)&&dn.length>0){const gi=dn.filter(Cr=>Cr!==Y.validator);gi.length!==dn.length&&($=!0,Q.setValidators(gi))}}if(null!==Y.asyncValidator){const dn=Xt(Q);if(Array.isArray(dn)&&dn.length>0){const gi=dn.filter(Cr=>Cr!==Y.asyncValidator);gi.length!==dn.length&&($=!0,Q.setAsyncValidators(gi))}}}const Ue=()=>{};return me(Y._rawValidators,Ue),me(Y._rawAsyncValidators,Ue),$}function V(Q,Y){Q._pendingDirty&&Q.markAsDirty(),Q.setValue(Q._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1}function Ve(Q,Y){_e(Q,Y)}function re(Q,Y){if(!Q.hasOwnProperty("model"))return!1;const $=Q.model;return!!$.isFirstChange()||!Object.is(Y,$.currentValue)}function _t(Q,Y){Q._syncPendingControls(),Y.forEach($=>{const Ue=$.control;"submit"===Ue.updateOn&&Ue._pendingChange&&($.viewToModelUpdate(Ue._pendingValue),Ue._pendingChange=!1)})}function Sn(Q,Y){if(!Y)return null;let $,Ue,dn;return Array.isArray(Y),Y.forEach(gi=>{gi.constructor===gt?$=gi:function Me(Q){return Object.getPrototypeOf(Q.constructor)===Ye}(gi)?Ue=gi:dn=gi}),dn||Ue||$||null}const ro={provide:$n,useExisting:(0,m.Gpc)(()=>ys)},tr=(()=>Promise.resolve())();let ys=(()=>{class Q extends $n{constructor($,Ue){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new ne({},qt($),nn(Ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){tr.then(()=>{const Ue=this._findContainer($.path);$.control=Ue.registerControl($.name,$.control),se($.control,$),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){tr.then(()=>{const Ue=this._findContainer($.path);Ue&&Ue.removeControl($.name),this._directives.delete($)})}addFormGroup($){tr.then(()=>{const Ue=this._findContainer($.path),dn=new ne({});Ve(dn,$),Ue.registerControl($.name,dn),dn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){tr.then(()=>{const Ue=this._findContainer($.path);Ue&&Ue.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,Ue){tr.then(()=>{this.form.get($.path).setValue(Ue)})}setValue($){this.control.setValue($)}onSubmit($){return this.submitted=!0,_t(this.form,this._directives),this.ngSubmit.emit($),"dialog"===$?.target?.method}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return Q.\u0275fac=function($){return new($||Q)(m.Y36(bt,10),m.Y36(Ht,10))},Q.\u0275dir=m.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,Ue){1&$&&m.NdJ("submit",function(gi){return Ue.onSubmit(gi)})("reset",function(){return Ue.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ro]),m.qOj]}),Q})();function is(Q,Y){const $=Q.indexOf(Y);$>-1&&Q.splice($,1)}function Xr(Q){return"object"==typeof Q&&null!==Q&&2===Object.keys(Q).length&&"value"in Q&&"disabled"in Q}const Vt=class extends Ce{constructor(Y=null,$,Ue){super(ct($),Mt(Ue,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),je($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=Xr(Y)?Y.value:Y)}setValue(Y,$={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(Ue=>Ue(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(Y,$={}){this.setValue(Y,$)}reset(Y=this.defaultValue,$={}){this._applyFormState(Y),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){is(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){is(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){Xr(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}},so={provide:Vn,useExisting:(0,m.Gpc)(()=>Ks)},il=(()=>Promise.resolve())();let Ks=(()=>{class Q extends Vn{constructor($,Ue,dn,gi,Cr){super(),this._changeDetectorRef=Cr,this.control=new Vt,this._registered=!1,this.update=new m.vpe,this._parent=$,this._setValidators(Ue),this._setAsyncValidators(dn),this.valueAccessor=Sn(0,gi)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const Ue=$.name.previousValue;this.formDirective.removeControl({name:Ue,path:this._getPath(Ue)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),re($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){se(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){il.then(()=>{this.control.setValue($,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled($){const Ue=$.isDisabled.currentValue,dn=0!==Ue&&(0,m.D6c)(Ue);il.then(()=>{dn&&!this.control.disabled?this.control.disable():!dn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath($){return this._parent?function Re(Q,Y){return[...Y.path,Q]}($,this._parent):[$]}}return Q.\u0275fac=function($){return new($||Q)(m.Y36($n,9),m.Y36(bt,10),m.Y36(Ht,10),m.Y36(ie,10),m.Y36(m.sBO,8))},Q.\u0275dir=m.lG2({type:Q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([so]),m.qOj,m.TTD]}),Q})(),$r=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275dir=m.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Q})(),Nl=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({}),Q})();const ws=new m.OlP("NgModelWithFormControlWarning"),Zs={provide:Vn,useExisting:(0,m.Gpc)(()=>rl)};let rl=(()=>{class Q extends Vn{constructor($,Ue,dn,gi){super(),this._ngModelWarningConfig=gi,this.update=new m.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(Ue),this.valueAccessor=Sn(0,dn)}set isDisabled($){}ngOnChanges($){if(this._isControlChanged($)){const Ue=$.form.previousValue;Ue&&he(Ue,this,!1),se(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}re($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&he(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return Q._ngModelWarningSentOnce=!1,Q.\u0275fac=function($){return new($||Q)(m.Y36(bt,10),m.Y36(Ht,10),m.Y36(ie,10),m.Y36(ws,8))},Q.\u0275dir=m.lG2({type:Q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m._Bn([Zs]),m.qOj,m.TTD]}),Q})();const ao={provide:$n,useExisting:(0,m.Gpc)(()=>Cs)};let Cs=(()=>{class Q extends $n{constructor($,Ue){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators($),this._setAsyncValidators(Ue)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(we(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const Ue=this.form.get($.path);return se(Ue,$),Ue.updateValueAndValidity({emitEvent:!1}),this.directives.push($),Ue}getControl($){return this.form.get($.path)}removeControl($){he($.control||null,$,!1),function di(Q,Y){const $=Q.indexOf(Y);$>-1&&Q.splice($,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,Ue){this.form.get($.path).setValue(Ue)}onSubmit($){return this.submitted=!0,_t(this.form,this.directives),this.ngSubmit.emit($),"dialog"===$?.target?.method}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const Ue=$.control,dn=this.form.get($.path);Ue!==dn&&(he(Ue||null,$),(Q=>Q instanceof Vt)(dn)&&(se(dn,$),$.control=dn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const Ue=this.form.get($.path);Ve(Ue,$),Ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const Ue=this.form.get($.path);Ue&&function Te(Q,Y){return we(Q,Y)}(Ue,$)&&Ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_e(this.form,this),this._oldForm&&we(this._oldForm,this)}_checkFormPresent(){}}return Q.\u0275fac=function($){return new($||Q)(m.Y36(bt,10),m.Y36(Ht,10))},Q.\u0275dir=m.lG2({type:Q,selectors:[["","formGroup",""]],hostBindings:function($,Ue){1&$&&m.NdJ("submit",function(gi){return Ue.onSubmit(gi)})("reset",function(){return Ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ao]),m.qOj,m.TTD]}),Q})(),Ro=(()=>{class Q{constructor(){this._validator=Rt}ngOnChanges($){if(this.inputName in $){const Ue=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(Ue),this._validator=this._enabled?this.createValidator(Ue):Rt,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275dir=m.lG2({type:Q,features:[m.TTD]}),Q})();const No={provide:bt,useExisting:(0,m.Gpc)(()=>da),multi:!0},ds={provide:bt,useExisting:(0,m.Gpc)(()=>Br),multi:!0};let da=(()=>{class Q extends Ro{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=$=>Ke}enabled($){return $}}return Q.\u0275fac=function(){let Y;return function(Ue){return(Y||(Y=m.n5z(Q)))(Ue||Q)}}(),Q.\u0275dir=m.lG2({type:Q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,Ue){2&$&&m.uIk("required",Ue._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([No]),m.qOj]}),Q})(),Br=(()=>{class Q extends da{constructor(){super(...arguments),this.createValidator=$=>ke}}return Q.\u0275fac=function(){let Y;return function(Ue){return(Y||(Y=m.n5z(Q)))(Ue||Q)}}(),Q.\u0275dir=m.lG2({type:Q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($,Ue){2&$&&m.uIk("required",Ue._enabled?"":null)},features:[m._Bn([ds]),m.qOj]}),Q})(),Hs=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[Nl]}),Q})(),ha=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[Hs]}),Q})(),Us=(()=>{class Q{static withConfig($){return{ngModule:Q,providers:[{provide:ws,useValue:$.warnOnNgModelWithFormControl}]}}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[Hs]}),Q})()},9101:(bn,xt,x)=>{x.d(xt,{lW:()=>q,ot:()=>Ee});var m=x(4650),h=x(3238),A=x(2693);const De=["mat-button",""],N=["*"],ie=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],qe=(0,h.pj)((0,h.Id)((0,h.Kr)(class{constructor(Le){this._elementRef=Le}})));let q=(()=>{class Le extends qe{constructor(ht,St,Ge){super(ht),this._focusMonitor=St,this._animationMode=Ge,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const bt of ie)this._hasHostAttributes(bt)&&this._getHostElement().classList.add(bt);ht.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ht,St){ht?this._focusMonitor.focusVia(this._getHostElement(),ht,St):this._getHostElement().focus(St)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...ht){return ht.some(St=>this._getHostElement().hasAttribute(St))}}return Le.\u0275fac=function(ht){return new(ht||Le)(m.Y36(m.SBq),m.Y36(A.tE),m.Y36(m.QbO,8))},Le.\u0275cmp=m.Xpm({type:Le,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(ht,St){if(1&ht&&m.Gf(h.wG,5),2&ht){let Ge;m.iGM(Ge=m.CRH())&&(St.ripple=Ge.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(ht,St){2&ht&&(m.uIk("disabled",St.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===St._animationMode)("mat-button-disabled",St.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[m.qOj],attrs:De,ngContentSelectors:N,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(ht,St){1&ht&&(m.F$t(),m.TgZ(0,"span",0),m.Hsn(1),m.qZA(),m._UZ(2,"span",1)(3,"span",2)),2&ht&&(m.xp6(2),m.ekj("mat-button-ripple-round",St.isRoundButton||St.isIconButton),m.Q6J("matRippleDisabled",St._isRippleDisabled())("matRippleCentered",St.isIconButton)("matRippleTrigger",St._getHostElement()))},dependencies:[h.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Le})(),Ee=(()=>{class Le{}return Le.\u0275fac=function(ht){return new(ht||Le)},Le.\u0275mod=m.oAB({type:Le}),Le.\u0275inj=m.cJS({imports:[h.si,h.BQ,h.BQ]}),Le})()},3546:(bn,xt,x)=>{x.d(xt,{QW:()=>He,a8:()=>Pt,dk:()=>tt,dn:()=>qe,n5:()=>q});var m=x(4650),h=x(3238);const A=["*",[["mat-card-footer"]]],De=["*","mat-card-footer"],N=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ze=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let qe=(()=>{class Ke{}return Ke.\u0275fac=function($e){return new($e||Ke)},Ke.\u0275dir=m.lG2({type:Ke,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),Ke})(),q=(()=>{class Ke{}return Ke.\u0275fac=function($e){return new($e||Ke)},Ke.\u0275dir=m.lG2({type:Ke,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Ke})(),Pt=(()=>{class Ke{constructor($e){this._animationMode=$e}}return Ke.\u0275fac=function($e){return new($e||Ke)(m.Y36(m.QbO,8))},Ke.\u0275cmp=m.Xpm({type:Ke,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function($e,Dt){2&$e&&m.ekj("_mat-animation-noopable","NoopAnimations"===Dt._animationMode)},exportAs:["matCard"],ngContentSelectors:De,decls:2,vars:0,template:function($e,Dt){1&$e&&(m.F$t(A),m.Hsn(0),m.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Ke})(),tt=(()=>{class Ke{}return Ke.\u0275fac=function($e){return new($e||Ke)},Ke.\u0275cmp=m.Xpm({type:Ke,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:ze,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function($e,Dt){1&$e&&(m.F$t(N),m.Hsn(0),m.TgZ(1,"div",0),m.Hsn(2,1),m.qZA(),m.Hsn(3,2))},encapsulation:2,changeDetection:0}),Ke})(),He=(()=>{class Ke{}return Ke.\u0275fac=function($e){return new($e||Ke)},Ke.\u0275mod=m.oAB({type:Ke}),Ke.\u0275inj=m.cJS({imports:[h.BQ,h.BQ]}),Ke})()},3238:(bn,xt,x)=>{x.d(xt,{_A:()=>Jt,rD:()=>Qt,sG:()=>Kt,Ad:()=>Rt,BQ:()=>Pt,X2:()=>Dn,uc:()=>An,XK:()=>Yt,nP:()=>rt,us:()=>Xe,wG:()=>le,si:()=>ge,pj:()=>ke,Kr:()=>$e,Id:()=>Ke,FD:()=>ot,sb:()=>Dt,E0:()=>Xt});var m=x(4650),h=x(2693),A=x(445),N=x(6895),ze=x(3353),Ye=x(1281),ie=x(7579),qe=x(8675);const Ht=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function bt(){return!0}});let Pt=(()=>{class te{constructor(K,z,de){this._sanityChecks=z,this._document=de,this._hasDoneGlobalChecks=!1,K._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(K){return!(0,ze.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[K])}}return te.\u0275fac=function(K){return new(K||te)(m.LFG(h.qm),m.LFG(Ht,8),m.LFG(N.K0))},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[A.vT,A.vT]}),te})();function Ke(te){return class extends te{constructor(...ae){super(...ae),this._disabled=!1}get disabled(){return this._disabled}set disabled(ae){this._disabled=(0,Ye.Ig)(ae)}}}function ke(te,ae){return class extends te{constructor(...K){super(...K),this.defaultColor=ae,this.color=ae}get color(){return this._color}set color(K){const z=K||this.defaultColor;z!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),z&&this._elementRef.nativeElement.classList.add(`mat-${z}`),this._color=z)}}}function $e(te){return class extends te{constructor(...ae){super(...ae),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ae){this._disableRipple=(0,Ye.Ig)(ae)}}}function Dt(te,ae=0){return class extends te{constructor(...K){super(...K),this._tabIndex=ae,this.defaultTabIndex=ae}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(K){this._tabIndex=null!=K?(0,Ye.su)(K):this.defaultTabIndex}}}function ot(te){return class extends te{constructor(...ae){super(...ae),this.errorState=!1}updateErrorState(){const ae=this.errorState,J=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);J!==ae&&(this.errorState=J,this.stateChanges.next())}}}const Rt=new m.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function It(){return(0,m.f3M)(m.soG)}});class Jt{constructor(){this._localeChanges=new ie.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ae){return this.isDateInstance(ae)&&this.isValid(ae)?ae:null}deserialize(ae){return null==ae||this.isDateInstance(ae)&&this.isValid(ae)?ae:this.invalid()}setLocale(ae){this.locale=ae,this._localeChanges.next()}compareDate(ae,K){return this.getYear(ae)-this.getYear(K)||this.getMonth(ae)-this.getMonth(K)||this.getDate(ae)-this.getDate(K)}sameDate(ae,K){if(ae&&K){let z=this.isValid(ae),de=this.isValid(K);return z&&de?!this.compareDate(ae,K):z==de}return ae==K}clampDate(ae,K,z){return K&&this.compareDate(ae,K)<0?K:z&&this.compareDate(ae,z)>0?z:ae}}const Kt=new m.OlP("mat-date-formats"),an=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fn(te,ae){const K=Array(te);for(let z=0;z<te;z++)K[z]=ae(z);return K}let sn=(()=>{class te extends Jt{constructor(K,z){super(),this.useUtcForDisplay=!1,super.setLocale(K)}getYear(K){return K.getFullYear()}getMonth(K){return K.getMonth()}getDate(K){return K.getDate()}getDayOfWeek(K){return K.getDay()}getMonthNames(K){const z=new Intl.DateTimeFormat(this.locale,{month:K,timeZone:"utc"});return fn(12,de=>this._format(z,new Date(2017,de,1)))}getDateNames(){const K=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fn(31,z=>this._format(K,new Date(2017,0,z+1)))}getDayOfWeekNames(K){const z=new Intl.DateTimeFormat(this.locale,{weekday:K,timeZone:"utc"});return fn(7,de=>this._format(z,new Date(2017,0,de+1)))}getYearName(K){const z=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(z,K)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(K){return this.getDate(this._createDateWithOverflow(this.getYear(K),this.getMonth(K)+1,0))}clone(K){return new Date(K.getTime())}createDate(K,z,de){let J=this._createDateWithOverflow(K,z,de);return J.getMonth(),J}today(){return new Date}parse(K,z){return"number"==typeof K?new Date(K):K?new Date(Date.parse(K)):null}format(K,z){if(!this.isValid(K))throw Error("NativeDateAdapter: Cannot format invalid date.");const de=new Intl.DateTimeFormat(this.locale,{...z,timeZone:"utc"});return this._format(de,K)}addCalendarYears(K,z){return this.addCalendarMonths(K,12*z)}addCalendarMonths(K,z){let de=this._createDateWithOverflow(this.getYear(K),this.getMonth(K)+z,this.getDate(K));return this.getMonth(de)!=((this.getMonth(K)+z)%12+12)%12&&(de=this._createDateWithOverflow(this.getYear(de),this.getMonth(de),0)),de}addCalendarDays(K,z){return this._createDateWithOverflow(this.getYear(K),this.getMonth(K),this.getDate(K)+z)}toIso8601(K){return[K.getUTCFullYear(),this._2digit(K.getUTCMonth()+1),this._2digit(K.getUTCDate())].join("-")}deserialize(K){if("string"==typeof K){if(!K)return null;if(an.test(K)){let z=new Date(K);if(this.isValid(z))return z}}return super.deserialize(K)}isDateInstance(K){return K instanceof Date}isValid(K){return!isNaN(K.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(K,z,de){const J=new Date;return J.setFullYear(K,z,de),J.setHours(0,0,0,0),J}_2digit(K){return("00"+K).slice(-2)}_format(K,z){const de=new Date;return de.setUTCFullYear(z.getFullYear(),z.getMonth(),z.getDate()),de.setUTCHours(z.getHours(),z.getMinutes(),z.getSeconds(),z.getMilliseconds()),K.format(de)}}return te.\u0275fac=function(K){return new(K||te)(m.LFG(Rt,8),m.LFG(ze.t4))},te.\u0275prov=m.Yz7({token:te,factory:te.\u0275fac}),te})();const vt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let qt=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({providers:[{provide:Jt,useClass:sn}]}),te})(),Yt=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({providers:[{provide:Kt,useValue:vt}],imports:[qt]}),te})(),Qt=(()=>{class te{isErrorState(K,z){return!!(K&&K.invalid&&(K.touched||z&&z.submitted))}}return te.\u0275fac=function(K){return new(K||te)},te.\u0275prov=m.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),Dn=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275dir=m.lG2({type:te,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),te})();function Xt(te,ae,K="mat"){te.changes.pipe((0,qe.O)(te)).subscribe(({length:z})=>{mn(ae,`${K}-2-line`,!1),mn(ae,`${K}-3-line`,!1),mn(ae,`${K}-multi-line`,!1),2===z||3===z?mn(ae,`${K}-${z}-line`,!0):z>3&&mn(ae,`${K}-multi-line`,!0)})}function mn(te,ae,K){te.nativeElement.classList.toggle(ae,K)}let An=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[Pt,Pt]}),te})();class Un{constructor(ae,K,z,de=!1){this._renderer=ae,this.element=K,this.config=z,this._animationForciblyDisabledThroughCss=de,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Rn={enterDuration:225,exitDuration:150},$n=(0,ze.i$)({passive:!0}),Vn=["mousedown","touchstart"],Gn=["mouseup","mouseleave","touchend","touchcancel"];class qn{constructor(ae,K,z,de){this._target=ae,this._ngZone=K,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,de.isBrowser&&(this._containerElement=(0,Ye.fI)(z))}fadeInRipple(ae,K,z={}){const de=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),J={...Rn,...z.animation};z.centered&&(ae=de.left+de.width/2,K=de.top+de.height/2);const ct=z.radius||function _n(te,ae,K){const z=Math.max(Math.abs(te-K.left),Math.abs(te-K.right)),de=Math.max(Math.abs(ae-K.top),Math.abs(ae-K.bottom));return Math.sqrt(z*z+de*de)}(ae,K,de),st=ae-de.left,Mt=K-de.top,Lt=J.enterDuration,je=document.createElement("div");je.classList.add("mat-ripple-element"),je.style.left=st-ct+"px",je.style.top=Mt-ct+"px",je.style.height=2*ct+"px",je.style.width=2*ct+"px",null!=z.color&&(je.style.backgroundColor=z.color),je.style.transitionDuration=`${Lt}ms`,this._containerElement.appendChild(je);const nt=window.getComputedStyle(je),Ce=nt.transitionDuration,ne="none"===nt.transitionProperty||"0s"===Ce||"0s, 0s"===Ce,Oe=new Un(this,je,z,ne);je.style.transform="scale3d(1, 1, 1)",Oe.state=0,z.persistent||(this._mostRecentTransientRipple=Oe);let pt=null;return!ne&&(Lt||J.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ze=()=>this._finishRippleTransition(Oe),We=()=>this._destroyRipple(Oe);je.addEventListener("transitionend",Ze),je.addEventListener("transitioncancel",We),pt={onTransitionEnd:Ze,onTransitionCancel:We}}),this._activeRipples.set(Oe,pt),(ne||!Lt)&&this._finishRippleTransition(Oe),Oe}fadeOutRipple(ae){if(2===ae.state||3===ae.state)return;const K=ae.element,z={...Rn,...ae.config.animation};K.style.transitionDuration=`${z.exitDuration}ms`,K.style.opacity="0",ae.state=2,(ae._animationForciblyDisabledThroughCss||!z.exitDuration)&&this._finishRippleTransition(ae)}fadeOutAll(){this._getActiveRipples().forEach(ae=>ae.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ae=>{ae.config.persistent||ae.fadeOut()})}setupTriggerEvents(ae){const K=(0,Ye.fI)(ae);!K||K===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=K,this._registerEvents(Vn))}handleEvent(ae){"mousedown"===ae.type?this._onMousedown(ae):"touchstart"===ae.type?this._onTouchStart(ae):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gn),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ae){0===ae.state?this._startFadeOutTransition(ae):2===ae.state&&this._destroyRipple(ae)}_startFadeOutTransition(ae){const K=ae===this._mostRecentTransientRipple,{persistent:z}=ae.config;ae.state=1,!z&&(!K||!this._isPointerDown)&&ae.fadeOut()}_destroyRipple(ae){const K=this._activeRipples.get(ae)??null;this._activeRipples.delete(ae),this._activeRipples.size||(this._containerRect=null),ae===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ae.state=3,null!==K&&(ae.element.removeEventListener("transitionend",K.onTransitionEnd),ae.element.removeEventListener("transitioncancel",K.onTransitionCancel)),ae.element.remove()}_onMousedown(ae){const K=(0,h.X6)(ae),z=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!K&&!z&&(this._isPointerDown=!0,this.fadeInRipple(ae.clientX,ae.clientY,this._target.rippleConfig))}_onTouchStart(ae){if(!this._target.rippleDisabled&&!(0,h.yG)(ae)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const K=ae.changedTouches;for(let z=0;z<K.length;z++)this.fadeInRipple(K[z].clientX,K[z].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(ae=>{!ae.config.persistent&&(1===ae.state||ae.config.terminateOnPointerUp&&0===ae.state)&&ae.fadeOut()}))}_registerEvents(ae){this._ngZone.runOutsideAngular(()=>{ae.forEach(K=>{this._triggerElement.addEventListener(K,this,$n)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Vn.forEach(ae=>{this._triggerElement.removeEventListener(ae,this,$n)}),this._pointerUpEventsRegistered&&Gn.forEach(ae=>{this._triggerElement.removeEventListener(ae,this,$n)}))}}const Be=new m.OlP("mat-ripple-global-options");let le=(()=>{class te{constructor(K,z,de,J,ct){this._elementRef=K,this._animationMode=ct,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=J||{},this._rippleRenderer=new qn(this,z,K,de)}get disabled(){return this._disabled}set disabled(K){K&&this.fadeOutAllNonPersistent(),this._disabled=K,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(K){this._trigger=K,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(K,z=0,de){return"number"==typeof K?this._rippleRenderer.fadeInRipple(K,z,{...this.rippleConfig,...de}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...K})}}return te.\u0275fac=function(K){return new(K||te)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(ze.t4),m.Y36(Be,8),m.Y36(m.QbO,8))},te.\u0275dir=m.lG2({type:te,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(K,z){2&K&&m.ekj("mat-ripple-unbounded",z.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),te})(),ge=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[Pt,Pt]}),te})(),rt=(()=>{class te{constructor(K){this._animationMode=K,this.state="unchecked",this.disabled=!1}}return te.\u0275fac=function(K){return new(K||te)(m.Y36(m.QbO,8))},te.\u0275cmp=m.Xpm({type:te,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(K,z){2&K&&m.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===z.state)("mat-pseudo-checkbox-checked","checked"===z.state)("mat-pseudo-checkbox-disabled",z.disabled)("_mat-animation-noopable","NoopAnimations"===z._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(K,z){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),te})(),Xe=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[Pt]}),te})()},9602:(bn,xt,x)=>{x.d(xt,{FA:()=>Et,Mq:()=>ve,_H:()=>z,hl:()=>We,nW:()=>se});var m=x(2693),h=x(8184),A=x(4080),De=x(6895),N=x(4650),ze=x(9101),Ye=x(8605),ie=x(3238),qe=x(7579),q=x(727),Pe=x(6451),Ee=x(9646),Le=x(9521),gt=x(445),ht=x(5698),St=x(8675),Ge=x(9300),bt=x(1281),Ht=x(3353),Pt=x(7340),tt=x(4006),Qe=x(9549),He=x(4144);const Ke=["mat-calendar-body",""];function ke(ye,ut){if(1&ye&&(N.TgZ(0,"tr",2)(1,"td",3),N._uU(2),N.qZA()()),2&ye){const O=N.oxw();N.xp6(1),N.Udp("padding-top",O._cellPadding)("padding-bottom",O._cellPadding),N.uIk("colspan",O.numCols),N.xp6(1),N.hij(" ",O.label," ")}}function $e(ye,ut){if(1&ye&&(N.TgZ(0,"td",3),N._uU(1),N.qZA()),2&ye){const O=N.oxw(2);N.Udp("padding-top",O._cellPadding)("padding-bottom",O._cellPadding),N.uIk("colspan",O._firstRowOffset),N.xp6(1),N.hij(" ",O._firstRowOffset>=O.labelMinRequiredCells?O.label:""," ")}}function Dt(ye,ut){if(1&ye){const O=N.EpF();N.TgZ(0,"td",7)(1,"button",8),N.NdJ("click",function(Me){const Sn=N.CHM(O).$implicit,di=N.oxw(2);return N.KtG(di._cellClicked(Sn,Me))})("focus",function(Me){const Sn=N.CHM(O).$implicit,di=N.oxw(2);return N.KtG(di._emitActiveDateChange(Sn,Me))}),N.TgZ(2,"div",9),N._uU(3),N.qZA(),N._UZ(4,"div",10),N.qZA()()}if(2&ye){const O=ut.$implicit,re=ut.index,Me=N.oxw().index,_t=N.oxw();N.Udp("width",_t._cellWidth)("padding-top",_t._cellPadding)("padding-bottom",_t._cellPadding),N.uIk("data-mat-row",Me)("data-mat-col",re),N.xp6(1),N.ekj("mat-calendar-body-disabled",!O.enabled)("mat-calendar-body-active",_t._isActiveCell(Me,re))("mat-calendar-body-range-start",_t._isRangeStart(O.compareValue))("mat-calendar-body-range-end",_t._isRangeEnd(O.compareValue))("mat-calendar-body-in-range",_t._isInRange(O.compareValue))("mat-calendar-body-comparison-bridge-start",_t._isComparisonBridgeStart(O.compareValue,Me,re))("mat-calendar-body-comparison-bridge-end",_t._isComparisonBridgeEnd(O.compareValue,Me,re))("mat-calendar-body-comparison-start",_t._isComparisonStart(O.compareValue))("mat-calendar-body-comparison-end",_t._isComparisonEnd(O.compareValue))("mat-calendar-body-in-comparison-range",_t._isInComparisonRange(O.compareValue))("mat-calendar-body-preview-start",_t._isPreviewStart(O.compareValue))("mat-calendar-body-preview-end",_t._isPreviewEnd(O.compareValue))("mat-calendar-body-in-preview",_t._isInPreview(O.compareValue)),N.Q6J("ngClass",O.cssClasses)("tabindex",_t._isActiveCell(Me,re)?0:-1),N.uIk("aria-label",O.ariaLabel)("aria-disabled",!O.enabled||null)("aria-pressed",_t._isSelected(O.compareValue))("aria-current",_t.todayValue===O.compareValue?"date":null),N.xp6(1),N.ekj("mat-calendar-body-selected",_t._isSelected(O.compareValue))("mat-calendar-body-comparison-identical",_t._isComparisonIdentical(O.compareValue))("mat-calendar-body-today",_t.todayValue===O.compareValue),N.xp6(1),N.hij(" ",O.displayValue," ")}}function ot(ye,ut){if(1&ye&&(N.TgZ(0,"tr",4),N.YNc(1,$e,2,6,"td",5),N.YNc(2,Dt,5,47,"td",6),N.qZA()),2&ye){const O=ut.$implicit,re=ut.index,Me=N.oxw();N.xp6(1),N.Q6J("ngIf",0===re&&Me._firstRowOffset),N.xp6(1),N.Q6J("ngForOf",O)}}function dt(ye,ut){if(1&ye&&(N.TgZ(0,"th",5)(1,"span",6),N._uU(2),N.qZA(),N.TgZ(3,"span",7),N._uU(4),N.qZA()()),2&ye){const O=ut.$implicit;N.xp6(2),N.Oqu(O.long),N.xp6(2),N.Oqu(O.narrow)}}const Rt=["*"];function It(ye,ut){}function Jt(ye,ut){if(1&ye){const O=N.EpF();N.TgZ(0,"mat-month-view",5),N.NdJ("activeDateChange",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t.activeDate=Me)})("_userSelection",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t._dateSelected(Me))}),N.qZA()}if(2&ye){const O=N.oxw();N.Q6J("activeDate",O.activeDate)("selected",O.selected)("dateFilter",O.dateFilter)("maxDate",O.maxDate)("minDate",O.minDate)("dateClass",O.dateClass)("comparisonStart",O.comparisonStart)("comparisonEnd",O.comparisonEnd)}}function Kt(ye,ut){if(1&ye){const O=N.EpF();N.TgZ(0,"mat-year-view",6),N.NdJ("activeDateChange",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t.activeDate=Me)})("monthSelected",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t._monthSelectedInYearView(Me))})("selectedChange",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t._goToDateInView(Me,"month"))}),N.qZA()}if(2&ye){const O=N.oxw();N.Q6J("activeDate",O.activeDate)("selected",O.selected)("dateFilter",O.dateFilter)("maxDate",O.maxDate)("minDate",O.minDate)("dateClass",O.dateClass)}}function an(ye,ut){if(1&ye){const O=N.EpF();N.TgZ(0,"mat-multi-year-view",7),N.NdJ("activeDateChange",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t.activeDate=Me)})("yearSelected",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t._yearSelectedInMultiYearView(Me))})("selectedChange",function(Me){N.CHM(O);const _t=N.oxw();return N.KtG(_t._goToDateInView(Me,"year"))}),N.qZA()}if(2&ye){const O=N.oxw();N.Q6J("activeDate",O.activeDate)("selected",O.selected)("dateFilter",O.dateFilter)("maxDate",O.maxDate)("minDate",O.minDate)("dateClass",O.dateClass)}}function fn(ye,ut){}const sn=["button"];function vt(ye,ut){1&ye&&(N.O4$(),N.TgZ(0,"svg",3),N._UZ(1,"path",4),N.qZA())}const qt=[[["","matDatepickerToggleIcon",""]]],Yt=["[matDatepickerToggleIcon]"];let mn=(()=>{class ye{constructor(){this.changes=new qe.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(O,re){return`${O} \u2013 ${re}`}formatYearRangeLabel(O,re){return`${O} to ${re}`}}return ye.\u0275fac=function(O){return new(O||ye)},ye.\u0275prov=N.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();class An{constructor(ut,O,re,Me,_t={},Sn=ut,di){this.value=ut,this.displayValue=O,this.ariaLabel=re,this.enabled=Me,this.cssClasses=_t,this.compareValue=Sn,this.rawValue=di}}let Un=(()=>{class ye{constructor(O,re){this._elementRef=O,this._ngZone=re,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new N.vpe,this.previewChange=new N.vpe,this.activeDateChange=new N.vpe,this._enterHandler=Me=>{if(this._skipNextFocus&&"focus"===Me.type)this._skipNextFocus=!1;else if(Me.target&&this.isRange){const _t=this._getCellFromElement(Me.target);_t&&this._ngZone.run(()=>this.previewChange.emit({value:_t.enabled?_t:null,event:Me}))}},this._leaveHandler=Me=>{null!==this.previewEnd&&this.isRange&&Me.target&&this._getCellFromElement(Me.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Me}))},re.runOutsideAngular(()=>{const Me=O.nativeElement;Me.addEventListener("mouseenter",this._enterHandler,!0),Me.addEventListener("focus",this._enterHandler,!0),Me.addEventListener("mouseleave",this._leaveHandler,!0),Me.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(O,re){O.enabled&&this.selectedValueChange.emit({value:O.value,event:re})}_emitActiveDateChange(O,re){O.enabled&&this.activeDateChange.emit({value:O.value,event:re})}_isSelected(O){return this.startValue===O||this.endValue===O}ngOnChanges(O){const re=O.numCols,{rows:Me,numCols:_t}=this;(O.rows||re)&&(this._firstRowOffset=Me&&Me.length&&Me[0].length?_t-Me[0].length:0),(O.cellAspectRatio||re||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/_t+"%"),(re||!this._cellWidth)&&(this._cellWidth=100/_t+"%")}ngOnDestroy(){const O=this._elementRef.nativeElement;O.removeEventListener("mouseenter",this._enterHandler,!0),O.removeEventListener("focus",this._enterHandler,!0),O.removeEventListener("mouseleave",this._leaveHandler,!0),O.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(O,re){let Me=O*this.numCols+re;return O&&(Me-=this._firstRowOffset),Me==this.activeCell}_focusActiveCell(O=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ht.q)(1)).subscribe(()=>{setTimeout(()=>{const re=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");re&&(O||(this._skipNextFocus=!0),re.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(O){return zn(O,this.startValue,this.endValue)}_isRangeEnd(O){return $n(O,this.startValue,this.endValue)}_isInRange(O){return Vn(O,this.startValue,this.endValue,this.isRange)}_isComparisonStart(O){return zn(O,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(O,re,Me){if(!this._isComparisonStart(O)||this._isRangeStart(O)||!this._isInRange(O))return!1;let _t=this.rows[re][Me-1];if(!_t){const Sn=this.rows[re-1];_t=Sn&&Sn[Sn.length-1]}return _t&&!this._isRangeEnd(_t.compareValue)}_isComparisonBridgeEnd(O,re,Me){if(!this._isComparisonEnd(O)||this._isRangeEnd(O)||!this._isInRange(O))return!1;let _t=this.rows[re][Me+1];if(!_t){const Sn=this.rows[re+1];_t=Sn&&Sn[0]}return _t&&!this._isRangeStart(_t.compareValue)}_isComparisonEnd(O){return $n(O,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(O){return Vn(O,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(O){return this.comparisonStart===this.comparisonEnd&&O===this.comparisonStart}_isPreviewStart(O){return zn(O,this.previewStart,this.previewEnd)}_isPreviewEnd(O){return $n(O,this.previewStart,this.previewEnd)}_isInPreview(O){return Vn(O,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(O){let re;if(Rn(O)?re=O:Rn(O.parentNode)&&(re=O.parentNode),re){const Me=re.getAttribute("data-mat-row"),_t=re.getAttribute("data-mat-col");if(Me&&_t)return this.rows[parseInt(Me)][parseInt(_t)]}return null}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.SBq),N.Y36(N.R0b))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[N.TTD],attrs:Ke,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(O,re){1&O&&(N.YNc(0,ke,3,6,"tr",0),N.YNc(1,ot,3,2,"tr",1)),2&O&&(N.Q6J("ngIf",re._firstRowOffset<re.labelMinRequiredCells),N.xp6(1),N.Q6J("ngForOf",re.rows))},dependencies:[De.mk,De.sg,De.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),ye})();function Rn(ye){return"TD"===ye.nodeName}function zn(ye,ut,O){return null!==O&&ut!==O&&ye<O&&ye===ut}function $n(ye,ut,O){return null!==ut&&ut!==O&&ye>=ut&&ye===O}function Vn(ye,ut,O,re){return re&&null!==ut&&null!==O&&ut!==O&&ye>=ut&&ye<=O}class Gn{constructor(ut,O){this.start=ut,this.end=O}}let qn=(()=>{class ye{constructor(O,re){this.selection=O,this._adapter=re,this._selectionChanged=new qe.x,this.selectionChanged=this._selectionChanged,this.selection=O}updateSelection(O,re){const Me=this.selection;this.selection=O,this._selectionChanged.next({selection:O,source:re,oldValue:Me})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(O){return this._adapter.isDateInstance(O)&&this._adapter.isValid(O)}}return ye.\u0275fac=function(O){N.$Z()},ye.\u0275prov=N.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),_n=(()=>{class ye extends qn{constructor(O){super(null,O)}add(O){super.updateSelection(O,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const O=new ye(this._adapter);return O.updateSelection(this.selection,this),O}}return ye.\u0275fac=function(O){return new(O||ye)(N.LFG(ie._A))},ye.\u0275prov=N.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const ge={provide:qn,deps:[[new N.FiY,new N.tp0,qn],ie._A],useFactory:function le(ye,ut){return ye||new _n(ut)}},wt=new N.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ne=(()=>{class ye{constructor(O,re,Me,_t,Sn){this._changeDetectorRef=O,this._dateFormats=re,this._dateAdapter=Me,this._dir=_t,this._rangeStrategy=Sn,this._rerenderSubscription=q.w0.EMPTY,this.selectedChange=new N.vpe,this._userSelection=new N.vpe,this.activeDateChange=new N.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(O){const re=this._activeDate,Me=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Me,this.minDate,this.maxDate),this._hasSameMonthAndYear(re,this._activeDate)||this._init()}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,St.O)(null)).subscribe(()=>this._init())}ngOnChanges(O){const re=O.comparisonStart||O.comparisonEnd;re&&!re.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(O){const re=O.value,Me=this._getDateFromDayOfMonth(re);let _t,Sn;this._selected instanceof Gn?(_t=this._getDateInCurrentMonth(this._selected.start),Sn=this._getDateInCurrentMonth(this._selected.end)):_t=Sn=this._getDateInCurrentMonth(this._selected),(_t!==re||Sn!==re)&&this.selectedChange.emit(Me),this._userSelection.emit({value:Me,event:O.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(O){const Me=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(O.value),this._dateAdapter.compareDate(Me,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(O){const re=this._activeDate,Me=this._isRtl();switch(O.keyCode){case Le.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Me?1:-1);break;case Le.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Me?-1:1);break;case Le.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Le.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Le.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Le.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Le.Ku:this.activeDate=O.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Le.VM:this.activeDate=O.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Le.K5:case Le.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&O.preventDefault());case Le.hY:return void(null!=this._previewEnd&&!(0,Le.Vb)(O)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:O}),O.preventDefault(),O.stopPropagation()));default:return}this._dateAdapter.compareDate(re,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),O.preventDefault()}_handleCalendarBodyKeyup(O){(O.keyCode===Le.L_||O.keyCode===Le.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:O}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let O=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(O)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(O){this._matCalendarBody._focusActiveCell(O)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:O,value:re}){if(this._rangeStrategy){const _t=this._rangeStrategy.createPreview(re?re.rawValue:null,this.selected,O);this._previewStart=this._getCellCompareValue(_t.start),this._previewEnd=this._getCellCompareValue(_t.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(O){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),O)}_initWeekdays(){const O=this._dateAdapter.getFirstDayOfWeek(),re=this._dateAdapter.getDayOfWeekNames("narrow");let _t=this._dateAdapter.getDayOfWeekNames("long").map((Sn,di)=>({long:Sn,narrow:re[di]}));this._weekdays=_t.slice(O).concat(_t.slice(0,O))}_createWeekCells(){const O=this._dateAdapter.getNumDaysInMonth(this.activeDate),re=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Me=0,_t=this._firstWeekOffset;Me<O;Me++,_t++){7==_t&&(this._weeks.push([]),_t=0);const Sn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Me+1),di=this._shouldEnableDate(Sn),wi=this._dateAdapter.format(Sn,this._dateFormats.display.dateA11yLabel),ro=this.dateClass?this.dateClass(Sn,"month"):void 0;this._weeks[this._weeks.length-1].push(new An(Me+1,re[Me],wi,di,ro,this._getCellCompareValue(Sn),Sn))}}_shouldEnableDate(O){return!!O&&(!this.minDate||this._dateAdapter.compareDate(O,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(O,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(O))}_getDateInCurrentMonth(O){return O&&this._hasSameMonthAndYear(O,this.activeDate)?this._dateAdapter.getDate(O):null}_hasSameMonthAndYear(O,re){return!(!O||!re||this._dateAdapter.getMonth(O)!=this._dateAdapter.getMonth(re)||this._dateAdapter.getYear(O)!=this._dateAdapter.getYear(re))}_getCellCompareValue(O){if(O){const re=this._dateAdapter.getYear(O),Me=this._dateAdapter.getMonth(O),_t=this._dateAdapter.getDate(O);return new Date(re,Me,_t).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(O){O instanceof Gn?(this._rangeStart=this._getCellCompareValue(O.start),this._rangeEnd=this._getCellCompareValue(O.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(O),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(O){return!this.dateFilter||this.dateFilter(O)}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.sBO),N.Y36(ie.sG,8),N.Y36(ie._A,8),N.Y36(gt.Is,8),N.Y36(wt,8))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-month-view"]],viewQuery:function(O,re){if(1&O&&N.Gf(Un,5),2&O){let Me;N.iGM(Me=N.CRH())&&(re._matCalendarBody=Me.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[N.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(O,re){1&O&&(N.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),N.YNc(3,dt,5,2,"th",2),N.qZA(),N.TgZ(4,"tr"),N._UZ(5,"th",3),N.qZA()(),N.TgZ(6,"tbody",4),N.NdJ("selectedValueChange",function(_t){return re._dateSelected(_t)})("activeDateChange",function(_t){return re._updateActiveDate(_t)})("previewChange",function(_t){return re._previewChanged(_t)})("keyup",function(_t){return re._handleCalendarBodyKeyup(_t)})("keydown",function(_t){return re._handleCalendarBodyKeydown(_t)}),N.qZA()()),2&O&&(N.xp6(3),N.Q6J("ngForOf",re._weekdays),N.xp6(3),N.Q6J("label",re._monthLabel)("rows",re._weeks)("todayValue",re._todayDate)("startValue",re._rangeStart)("endValue",re._rangeEnd)("comparisonStart",re._comparisonRangeStart)("comparisonEnd",re._comparisonRangeEnd)("previewStart",re._previewStart)("previewEnd",re._previewEnd)("isRange",re._isRange)("labelMinRequiredCells",3)("activeCell",re._dateAdapter.getDate(re.activeDate)-1))},dependencies:[De.sg,Un],encapsulation:2,changeDetection:0}),ye})(),cn=(()=>{class ye{constructor(O,re,Me){this._changeDetectorRef=O,this._dateAdapter=re,this._dir=Me,this._rerenderSubscription=q.w0.EMPTY,this.selectedChange=new N.vpe,this.yearSelected=new N.vpe,this.activeDateChange=new N.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(O){let re=this._activeDate;const Me=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Me,this.minDate,this.maxDate),Nn(this._dateAdapter,re,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O)),this._setSelectedYear(O)}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,St.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const re=this._dateAdapter.getYear(this._activeDate)-vn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Me=0,_t=[];Me<24;Me++)_t.push(re+Me),4==_t.length&&(this._years.push(_t.map(Sn=>this._createCellForYear(Sn))),_t=[]);this._changeDetectorRef.markForCheck()}_yearSelected(O){const re=O.value,Me=this._dateAdapter.createDate(re,0,1),_t=this._getDateFromYear(re);this.yearSelected.emit(Me),this.selectedChange.emit(_t)}_updateActiveDate(O){const Me=this._activeDate;this.activeDate=this._getDateFromYear(O.value),this._dateAdapter.compareDate(Me,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(O){const re=this._activeDate,Me=this._isRtl();switch(O.keyCode){case Le.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Me?1:-1);break;case Le.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Me?-1:1);break;case Le.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Le.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Le.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-vn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Le.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-vn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Le.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?-240:-24);break;case Le.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?240:24);break;case Le.K5:case Le.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(re,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),O.preventDefault()}_handleCalendarBodyKeyup(O){(O.keyCode===Le.L_||O.keyCode===Le.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:O}),this._selectionKeyPressed=!1)}_getActiveCell(){return vn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(O){const re=this._dateAdapter.getMonth(this.activeDate),Me=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(O,re,1));return this._dateAdapter.createDate(O,re,Math.min(this._dateAdapter.getDate(this.activeDate),Me))}_createCellForYear(O){const re=this._dateAdapter.createDate(O,0,1),Me=this._dateAdapter.getYearName(re),_t=this.dateClass?this.dateClass(re,"multi-year"):void 0;return new An(O,Me,Me,this._shouldEnableYear(O),_t)}_shouldEnableYear(O){if(null==O||this.maxDate&&O>this._dateAdapter.getYear(this.maxDate)||this.minDate&&O<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Me=this._dateAdapter.createDate(O,0,1);this._dateAdapter.getYear(Me)==O;Me=this._dateAdapter.addCalendarDays(Me,1))if(this.dateFilter(Me))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(O){if(this._selectedYear=null,O instanceof Gn){const re=O.start||O.end;re&&(this._selectedYear=this._dateAdapter.getYear(re))}else O&&(this._selectedYear=this._dateAdapter.getYear(O))}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.sBO),N.Y36(ie._A,8),N.Y36(gt.Is,8))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-multi-year-view"]],viewQuery:function(O,re){if(1&O&&N.Gf(Un,5),2&O){let Me;N.iGM(Me=N.CRH())&&(re._matCalendarBody=Me.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(O,re){1&O&&(N.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),N._UZ(3,"th",2),N.qZA()(),N.TgZ(4,"tbody",3),N.NdJ("selectedValueChange",function(_t){return re._yearSelected(_t)})("activeDateChange",function(_t){return re._updateActiveDate(_t)})("keyup",function(_t){return re._handleCalendarBodyKeyup(_t)})("keydown",function(_t){return re._handleCalendarBodyKeydown(_t)}),N.qZA()()),2&O&&(N.xp6(4),N.Q6J("rows",re._years)("todayValue",re._todayYear)("startValue",re._selectedYear)("endValue",re._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",re._getActiveCell()))},dependencies:[Un],encapsulation:2,changeDetection:0}),ye})();function Nn(ye,ut,O,re,Me){const _t=ye.getYear(ut),Sn=ye.getYear(O),di=kt(ye,re,Me);return Math.floor((_t-di)/24)===Math.floor((Sn-di)/24)}function vn(ye,ut,O,re){return function Ot(ye,ut){return(ye%ut+ut)%ut}(ye.getYear(ut)-kt(ye,O,re),24)}function kt(ye,ut,O){let re=0;return O?re=ye.getYear(O)-24+1:ut&&(re=ye.getYear(ut)),re}let te=(()=>{class ye{constructor(O,re,Me,_t){this._changeDetectorRef=O,this._dateFormats=re,this._dateAdapter=Me,this._dir=_t,this._rerenderSubscription=q.w0.EMPTY,this.selectedChange=new N.vpe,this.monthSelected=new N.vpe,this.activeDateChange=new N.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(O){let re=this._activeDate;const Me=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Me,this.minDate,this.maxDate),this._dateAdapter.getYear(re)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O)),this._setSelectedMonth(O)}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,St.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(O){const re=O.value,Me=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),re,1);this.monthSelected.emit(Me);const _t=this._getDateFromMonth(re);this.selectedChange.emit(_t)}_updateActiveDate(O){const Me=this._activeDate;this.activeDate=this._getDateFromMonth(O.value),this._dateAdapter.compareDate(Me,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(O){const re=this._activeDate,Me=this._isRtl();switch(O.keyCode){case Le.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Me?1:-1);break;case Le.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Me?-1:1);break;case Le.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Le.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Le.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Le.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Le.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?-10:-1);break;case Le.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?10:1);break;case Le.K5:case Le.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(re,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),O.preventDefault()}_handleCalendarBodyKeyup(O){(O.keyCode===Le.L_||O.keyCode===Le.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:O}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let O=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(re=>re.map(Me=>this._createCellForMonth(Me,O[Me]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(O){return O&&this._dateAdapter.getYear(O)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(O):null}_getDateFromMonth(O){const re=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),O,1),Me=this._dateAdapter.getNumDaysInMonth(re);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),O,Math.min(this._dateAdapter.getDate(this.activeDate),Me))}_createCellForMonth(O,re){const Me=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),O,1),_t=this._dateAdapter.format(Me,this._dateFormats.display.monthYearA11yLabel),Sn=this.dateClass?this.dateClass(Me,"year"):void 0;return new An(O,re.toLocaleUpperCase(),_t,this._shouldEnableMonth(O),Sn)}_shouldEnableMonth(O){const re=this._dateAdapter.getYear(this.activeDate);if(null==O||this._isYearAndMonthAfterMaxDate(re,O)||this._isYearAndMonthBeforeMinDate(re,O))return!1;if(!this.dateFilter)return!0;for(let _t=this._dateAdapter.createDate(re,O,1);this._dateAdapter.getMonth(_t)==O;_t=this._dateAdapter.addCalendarDays(_t,1))if(this.dateFilter(_t))return!0;return!1}_isYearAndMonthAfterMaxDate(O,re){if(this.maxDate){const Me=this._dateAdapter.getYear(this.maxDate),_t=this._dateAdapter.getMonth(this.maxDate);return O>Me||O===Me&&re>_t}return!1}_isYearAndMonthBeforeMinDate(O,re){if(this.minDate){const Me=this._dateAdapter.getYear(this.minDate),_t=this._dateAdapter.getMonth(this.minDate);return O<Me||O===Me&&re<_t}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(O){this._selectedMonth=O instanceof Gn?this._getMonthInCurrentYear(O.start)||this._getMonthInCurrentYear(O.end):this._getMonthInCurrentYear(O)}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.sBO),N.Y36(ie.sG,8),N.Y36(ie._A,8),N.Y36(gt.Is,8))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-year-view"]],viewQuery:function(O,re){if(1&O&&N.Gf(Un,5),2&O){let Me;N.iGM(Me=N.CRH())&&(re._matCalendarBody=Me.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(O,re){1&O&&(N.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),N._UZ(3,"th",2),N.qZA()(),N.TgZ(4,"tbody",3),N.NdJ("selectedValueChange",function(_t){return re._monthSelected(_t)})("activeDateChange",function(_t){return re._updateActiveDate(_t)})("keyup",function(_t){return re._handleCalendarBodyKeyup(_t)})("keydown",function(_t){return re._handleCalendarBodyKeydown(_t)}),N.qZA()()),2&O&&(N.xp6(4),N.Q6J("label",re._yearLabel)("rows",re._months)("todayValue",re._todayMonth)("startValue",re._selectedMonth)("endValue",re._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",re._dateAdapter.getMonth(re.activeDate)))},dependencies:[Un],encapsulation:2,changeDetection:0}),ye})(),ae=0,K=(()=>{class ye{constructor(O,re,Me,_t,Sn){this._intl=O,this.calendar=re,this._dateAdapter=Me,this._dateFormats=_t,this._buttonDescriptionId="mat-calendar-button-"+ae++,this.calendar.stateChanges.subscribe(()=>Sn.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const re=this._dateAdapter.getYear(this.calendar.activeDate)-vn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Me=re+24-1,_t=this._dateAdapter.getYearName(this._dateAdapter.createDate(re,0,1)),Sn=this._dateAdapter.getYearName(this._dateAdapter.createDate(Me,0,1));return this._intl.formatYearRange(_t,Sn)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(O,re){return"month"==this.calendar.currentView?this._dateAdapter.getYear(O)==this._dateAdapter.getYear(re)&&this._dateAdapter.getMonth(O)==this._dateAdapter.getMonth(re):"year"==this.calendar.currentView?this._dateAdapter.getYear(O)==this._dateAdapter.getYear(re):Nn(this._dateAdapter,O,re,this.calendar.minDate,this.calendar.maxDate)}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(mn),N.Y36((0,N.Gpc)(()=>z)),N.Y36(ie._A,8),N.Y36(ie.sG,8),N.Y36(N.sBO))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Rt,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(O,re){1&O&&(N.F$t(),N.TgZ(0,"div",0)(1,"div",1)(2,"button",2),N.NdJ("click",function(){return re.currentPeriodClicked()}),N.TgZ(3,"span"),N._uU(4),N.qZA(),N.O4$(),N.TgZ(5,"svg",3),N._UZ(6,"polygon",4),N.qZA()(),N.kcU(),N._UZ(7,"div",5),N.Hsn(8),N.TgZ(9,"button",6),N.NdJ("click",function(){return re.previousClicked()}),N.qZA(),N.TgZ(10,"button",7),N.NdJ("click",function(){return re.nextClicked()}),N.qZA()()()),2&O&&(N.xp6(2),N.uIk("aria-label",re.periodButtonLabel)("aria-describedby",re._buttonDescriptionId),N.xp6(1),N.uIk("id",re._buttonDescriptionId),N.xp6(1),N.Oqu(re.periodButtonText),N.xp6(1),N.ekj("mat-calendar-invert","month"!==re.calendar.currentView),N.xp6(4),N.Q6J("disabled",!re.previousEnabled()),N.uIk("aria-label",re.prevButtonLabel),N.xp6(1),N.Q6J("disabled",!re.nextEnabled()),N.uIk("aria-label",re.nextButtonLabel))},dependencies:[ze.lW],encapsulation:2,changeDetection:0}),ye})(),z=(()=>{class ye{constructor(O,re,Me,_t){this._dateAdapter=re,this._dateFormats=Me,this._changeDetectorRef=_t,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new N.vpe,this.yearSelected=new N.vpe,this.monthSelected=new N.vpe,this.viewChanged=new N.vpe(!0),this._userSelection=new N.vpe,this.stateChanges=new qe.x,this._intlChanges=O.changes.subscribe(()=>{_t.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(O){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get activeDate(){return this._clampedActiveDate}set activeDate(O){this._clampedActiveDate=this._dateAdapter.clampDate(O,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(O){const re=this._currentView!==O?O:null;this._currentView=O,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),re&&this.viewChanged.emit(re)}ngAfterContentInit(){this._calendarHeaderPortal=new A.C5(this.headerComponent||K),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(O){const re=O.minDate&&!this._dateAdapter.sameDate(O.minDate.previousValue,O.minDate.currentValue)?O.minDate:void 0,Me=O.maxDate&&!this._dateAdapter.sameDate(O.maxDate.previousValue,O.maxDate.currentValue)?O.maxDate:void 0,_t=re||Me||O.dateFilter;if(_t&&!_t.firstChange){const Sn=this._getCurrentViewComponent();Sn&&(this._changeDetectorRef.detectChanges(),Sn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(O){const re=O.value;(this.selected instanceof Gn||re&&!this._dateAdapter.sameDate(re,this.selected))&&this.selectedChange.emit(re),this._userSelection.emit(O)}_yearSelectedInMultiYearView(O){this.yearSelected.emit(O)}_monthSelectedInYearView(O){this.monthSelected.emit(O)}_goToDateInView(O,re){this.activeDate=O,this.currentView=re}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(mn),N.Y36(ie._A,8),N.Y36(ie.sG,8),N.Y36(N.sBO))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-calendar"]],viewQuery:function(O,re){if(1&O&&(N.Gf(Ne,5),N.Gf(te,5),N.Gf(cn,5)),2&O){let Me;N.iGM(Me=N.CRH())&&(re.monthView=Me.first),N.iGM(Me=N.CRH())&&(re.yearView=Me.first),N.iGM(Me=N.CRH())&&(re.multiYearView=Me.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[N._Bn([ge]),N.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(O,re){1&O&&(N.YNc(0,It,0,0,"ng-template",0),N.TgZ(1,"div",1),N.YNc(2,Jt,1,8,"mat-month-view",2),N.YNc(3,Kt,1,6,"mat-year-view",3),N.YNc(4,an,1,6,"mat-multi-year-view",4),N.qZA()),2&O&&(N.Q6J("cdkPortalOutlet",re._calendarHeaderPortal),N.xp6(1),N.Q6J("ngSwitch",re.currentView),N.xp6(1),N.Q6J("ngSwitchCase","month"),N.xp6(1),N.Q6J("ngSwitchCase","year"),N.xp6(1),N.Q6J("ngSwitchCase","multi-year"))},dependencies:[De.RF,De.n9,m.kH,A.Pl,Ne,te,cn],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),ye})();const de={transformPanel:(0,Pt.X$)("transformPanel",[(0,Pt.eR)("void => enter-dropdown",(0,Pt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Pt.F4)([(0,Pt.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,Pt.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,Pt.eR)("void => enter-dialog",(0,Pt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Pt.F4)([(0,Pt.oB)({opacity:0,transform:"scale(0.7)"}),(0,Pt.oB)({transform:"none",opacity:1})]))),(0,Pt.eR)("* => void",(0,Pt.jt)("100ms linear",(0,Pt.oB)({opacity:0})))]),fadeInCalendar:(0,Pt.X$)("fadeInCalendar",[(0,Pt.SB)("void",(0,Pt.oB)({opacity:0})),(0,Pt.SB)("enter",(0,Pt.oB)({opacity:1})),(0,Pt.eR)("void => *",(0,Pt.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let J=0;const ct=new N.OlP("mat-datepicker-scroll-strategy"),Mt={provide:ct,deps:[h.aV],useFactory:function st(ye){return()=>ye.scrollStrategies.reposition()}},Lt=(0,ie.pj)(class{constructor(ye){this._elementRef=ye}});let je=(()=>{class ye extends Lt{constructor(O,re,Me,_t,Sn,di){super(O),this._changeDetectorRef=re,this._globalModel=Me,this._dateAdapter=_t,this._rangeSelectionStrategy=Sn,this._subscriptions=new q.w0,this._animationDone=new qe.x,this._actionsPortal=null,this._closeButtonText=di.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(O){const re=this._model.selection,Me=O.value,_t=re instanceof Gn;if(_t&&this._rangeSelectionStrategy){const Sn=this._rangeSelectionStrategy.selectionFinished(Me,re,O.event);this._model.updateSelection(Sn,this)}else Me&&(_t||!this._dateAdapter.sameDate(Me,re))&&this._model.add(Me);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(O,re){this._model=O?this._globalModel.clone():this._globalModel,this._actionsPortal=O,re&&this._changeDetectorRef.detectChanges()}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.SBq),N.Y36(N.sBO),N.Y36(qn),N.Y36(ie._A),N.Y36(wt,8),N.Y36(mn))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-datepicker-content"]],viewQuery:function(O,re){if(1&O&&N.Gf(z,5),2&O){let Me;N.iGM(Me=N.CRH())&&(re._calendar=Me.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(O,re){1&O&&N.WFA("@transformPanel.done",function(){return re._animationDone.next()}),2&O&&(N.d8E("@transformPanel",re._animationState),N.ekj("mat-datepicker-content-touch",re.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[N.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(O,re){if(1&O&&(N.TgZ(0,"div",0)(1,"mat-calendar",1),N.NdJ("yearSelected",function(_t){return re.datepicker._selectYear(_t)})("monthSelected",function(_t){return re.datepicker._selectMonth(_t)})("viewChanged",function(_t){return re.datepicker._viewChanged(_t)})("_userSelection",function(_t){return re._handleUserSelection(_t)}),N.qZA(),N.YNc(2,fn,0,0,"ng-template",2),N.TgZ(3,"button",3),N.NdJ("focus",function(){return re._closeButtonFocused=!0})("blur",function(){return re._closeButtonFocused=!1})("click",function(){return re.datepicker.close()}),N._uU(4),N.qZA()()),2&O){let Me;N.ekj("mat-datepicker-content-container-with-custom-header",re.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",re._actionsPortal),N.uIk("aria-modal",!0)("aria-labelledby",null!==(Me=re._dialogLabelId)&&void 0!==Me?Me:void 0),N.xp6(1),N.Q6J("id",re.datepicker.id)("ngClass",re.datepicker.panelClass)("startAt",re.datepicker.startAt)("startView",re.datepicker.startView)("minDate",re.datepicker._getMinDate())("maxDate",re.datepicker._getMaxDate())("dateFilter",re.datepicker._getDateFilter())("headerComponent",re.datepicker.calendarHeaderComponent)("selected",re._getSelected())("dateClass",re.datepicker.dateClass)("comparisonStart",re.comparisonStart)("comparisonEnd",re.comparisonEnd)("@fadeInCalendar","enter"),N.xp6(1),N.Q6J("cdkPortalOutlet",re._actionsPortal),N.xp6(1),N.ekj("cdk-visually-hidden",!re._closeButtonFocused),N.Q6J("color",re.color||"primary"),N.xp6(1),N.Oqu(re._closeButtonText)}},dependencies:[De.mk,ze.lW,m.mK,A.Pl,z],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[de.transformPanel,de.fadeInCalendar]},changeDetection:0}),ye})(),nt=(()=>{class ye{constructor(O,re,Me,_t,Sn,di,wi){this._overlay=O,this._ngZone=re,this._viewContainerRef=Me,this._dateAdapter=Sn,this._dir=di,this._model=wi,this._inputStateChanges=q.w0.EMPTY,this._document=(0,N.f3M)(De.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new N.vpe,this.monthSelected=new N.vpe,this.viewChanged=new N.vpe(!0),this.openedStream=new N.vpe,this.closedStream=new N.vpe,this._opened=!1,this.id="mat-datepicker-"+J++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new qe.x,this._scrollStrategy=_t}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(O){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(O){this._color=O}get touchUi(){return this._touchUi}set touchUi(O){this._touchUi=(0,bt.Ig)(O)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(O){const re=(0,bt.Ig)(O);re!==this._disabled&&(this._disabled=re,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(O){this._restoreFocus=(0,bt.Ig)(O)}get panelClass(){return this._panelClass}set panelClass(O){this._panelClass=(0,bt.du)(O)}get opened(){return this._opened}set opened(O){(0,bt.Ig)(O)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(O){const re=O.xPosition||O.yPosition;if(re&&!re.firstChange&&this._overlayRef){const Me=this._overlayRef.getConfig().positionStrategy;Me instanceof h._G&&(this._setConnectedPositions(Me),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(O){this._model.add(O)}_selectYear(O){this.yearSelected.emit(O)}_selectMonth(O){this.monthSelected.emit(O)}_viewChanged(O){this.viewChanged.emit(O)}registerInput(O){return this._inputStateChanges.unsubscribe(),this.datepickerInput=O,this._inputStateChanges=O.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(O){this._actionsPortal=O,this._componentRef?.instance._assignActions(O,!0)}removeActions(O){O===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,Ht.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const O=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,re=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Me,location:_t}=this._componentRef;Me._startExitAnimation(),Me._animationDone.pipe((0,ht.q)(1)).subscribe(()=>{const Sn=this._document.activeElement;O&&(!Sn||Sn===this._document.activeElement||_t.nativeElement.contains(Sn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}O?setTimeout(re):re()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(O){O.datepicker=this,O.color=this.color,O._dialogLabelId=this.datepickerInput.getOverlayLabelId(),O._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const O=this.touchUi,re=new A.C5(je,this._viewContainerRef),Me=this._overlayRef=this._overlay.create(new h.X_({positionStrategy:O?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[O?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:O?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(O?"dialog":"popup")}));this._getCloseStream(Me).subscribe(_t=>{_t&&_t.preventDefault(),this.close()}),Me.keydownEvents().subscribe(_t=>{const Sn=_t.keyCode;(Sn===Le.LH||Sn===Le.JH||Sn===Le.oh||Sn===Le.SV||Sn===Le.Ku||Sn===Le.VM)&&_t.preventDefault()}),this._componentRef=Me.attach(re),this._forwardContentValues(this._componentRef.instance),O||this._ngZone.onStable.pipe((0,ht.q)(1)).subscribe(()=>Me.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const O=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(O)}_setConnectedPositions(O){const re="end"===this.xPosition?"end":"start",Me="start"===re?"end":"start",_t="above"===this.yPosition?"bottom":"top",Sn="top"===_t?"bottom":"top";return O.withPositions([{originX:re,originY:Sn,overlayX:re,overlayY:_t},{originX:re,originY:_t,overlayX:re,overlayY:Sn},{originX:Me,originY:Sn,overlayX:Me,overlayY:_t},{originX:Me,originY:_t,overlayX:Me,overlayY:Sn}])}_getCloseStream(O){return(0,Pe.T)(O.backdropClick(),O.detachments(),O.keydownEvents().pipe((0,Ge.h)(re=>re.keyCode===Le.hY&&!(0,Le.Vb)(re)||this.datepickerInput&&(0,Le.Vb)(re,"altKey")&&re.keyCode===Le.LH)))}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(h.aV),N.Y36(N.R0b),N.Y36(N.s_b),N.Y36(ct),N.Y36(ie._A,8),N.Y36(gt.Is,8),N.Y36(qn))},ye.\u0275dir=N.lG2({type:ye,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[N.TTD]}),ye})(),ve=(()=>{class ye extends nt{}return ye.\u0275fac=function(){let ut;return function(re){return(ut||(ut=N.n5z(ye)))(re||ye)}}(),ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[N._Bn([ge,{provide:nt,useExisting:ye}]),N.qOj],decls:0,vars:0,template:function(O,re){},encapsulation:2,changeDetection:0}),ye})();class Ce{constructor(ut,O){this.target=ut,this.targetElement=O,this.value=this.target.value}}let ne=(()=>{class ye{constructor(O,re,Me){this._elementRef=O,this._dateAdapter=re,this._dateFormats=Me,this.dateChange=new N.vpe,this.dateInput=new N.vpe,this.stateChanges=new qe.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=q.w0.EMPTY,this._localeSubscription=q.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=_t=>{const Sn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_t.value));return!Sn||this._matchesFilter(Sn)?null:{matDatepickerFilter:!0}},this._minValidator=_t=>{const Sn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_t.value)),di=this._getMinDate();return!di||!Sn||this._dateAdapter.compareDate(di,Sn)<=0?null:{matDatepickerMin:{min:di,actual:Sn}}},this._maxValidator=_t=>{const Sn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_t.value)),di=this._getMaxDate();return!di||!Sn||this._dateAdapter.compareDate(di,Sn)>=0?null:{matDatepickerMax:{max:di,actual:Sn}}},this._lastValueValid=!1,this._localeSubscription=re.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(O){this._assignValueProgrammatically(O)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(O){const re=(0,bt.Ig)(O),Me=this._elementRef.nativeElement;this._disabled!==re&&(this._disabled=re,this.stateChanges.next(void 0)),re&&this._isInitialized&&Me.blur&&Me.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(O){this._model=O,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(re=>{if(this._shouldHandleChangeEvent(re)){const Me=this._getValueFromModel(re.selection);this._lastValueValid=this._isValidValue(Me),this._cvaOnChange(Me),this._onTouched(),this._formatValue(Me),this.dateInput.emit(new Ce(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ce(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(O){(function Oe(ye,ut){const O=Object.keys(ye);for(let re of O){const{previousValue:Me,currentValue:_t}=ye[re];if(!ut.isDateInstance(Me)||!ut.isDateInstance(_t))return!0;if(!ut.sameDate(Me,_t))return!0}return!1})(O,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(O){this._validatorOnChange=O}validate(O){return this._validator?this._validator(O):null}writeValue(O){this._assignValueProgrammatically(O)}registerOnChange(O){this._cvaOnChange=O}registerOnTouched(O){this._onTouched=O}setDisabledState(O){this.disabled=O}_onKeydown(O){O.altKey&&O.keyCode===Le.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),O.preventDefault())}_onInput(O){const re=this._lastValueValid;let Me=this._dateAdapter.parse(O,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Me),Me=this._dateAdapter.getValidDateOrNull(Me);const _t=!this._dateAdapter.sameDate(Me,this.value);!Me||_t?this._cvaOnChange(Me):(O&&!this.value&&this._cvaOnChange(Me),re!==this._lastValueValid&&this._validatorOnChange()),_t&&(this._assignValue(Me),this.dateInput.emit(new Ce(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ce(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(O){this._elementRef.nativeElement.value=null!=O?this._dateAdapter.format(O,this._dateFormats.display.dateInput):""}_assignValue(O){this._model?(this._assignValueToModel(O),this._pendingValue=null):this._pendingValue=O}_isValidValue(O){return!O||this._dateAdapter.isValid(O)}_parentDisabled(){return!1}_assignValueProgrammatically(O){O=this._dateAdapter.deserialize(O),this._lastValueValid=this._isValidValue(O),O=this._dateAdapter.getValidDateOrNull(O),this._assignValue(O),this._formatValue(O)}_matchesFilter(O){const re=this._getDateFilter();return!re||re(O)}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.SBq),N.Y36(ie._A,8),N.Y36(ie.sG,8))},ye.\u0275dir=N.lG2({type:ye,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[N.TTD]}),ye})();const pt={provide:tt.JU,useExisting:(0,N.Gpc)(()=>We),multi:!0},Ze={provide:tt.Cf,useExisting:(0,N.Gpc)(()=>We),multi:!0};let We=(()=>{class ye extends ne{constructor(O,re,Me,_t){super(O,re,Me),this._formField=_t,this._closedSubscription=q.w0.EMPTY,this._validator=tt.kI.compose(super._getValidators())}set matDatepicker(O){O&&(this._datepicker=O,this._closedSubscription=O.closedStream.subscribe(()=>this._onTouched()),this._registerModel(O.registerInput(this)))}get min(){return this._min}set min(O){const re=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O));this._dateAdapter.sameDate(re,this._min)||(this._min=re,this._validatorOnChange())}get max(){return this._max}set max(O){const re=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O));this._dateAdapter.sameDate(re,this._max)||(this._max=re,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(O){const re=this._matchesFilter(this.value);this._dateFilter=O,this._matchesFilter(this.value)!==re&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(O){return O}_assignValueToModel(O){this._model&&this._model.updateSelection(O,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(O){return O.source!==this}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(N.SBq),N.Y36(ie._A,8),N.Y36(ie.sG,8),N.Y36(Qe.G_,8))},ye.\u0275dir=N.lG2({type:ye,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(O,re){1&O&&N.NdJ("input",function(_t){return re._onInput(_t.target.value)})("change",function(){return re._onChange()})("blur",function(){return re._onBlur()})("keydown",function(_t){return re._onKeydown(_t)}),2&O&&(N.Ikx("disabled",re.disabled),N.uIk("aria-haspopup",re._datepicker?"dialog":null)("aria-owns",(null==re._datepicker?null:re._datepicker.opened)&&re._datepicker.id||null)("min",re.min?re._dateAdapter.toIso8601(re.min):null)("max",re.max?re._dateAdapter.toIso8601(re.max):null)("data-mat-calendar",re._datepicker?re._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[N._Bn([pt,Ze,{provide:He.Jk,useExisting:ye}]),N.qOj]}),ye})(),Re=(()=>{class ye{}return ye.\u0275fac=function(O){return new(O||ye)},ye.\u0275dir=N.lG2({type:ye,selectors:[["","matDatepickerToggleIcon",""]]}),ye})(),se=(()=>{class ye{constructor(O,re,Me){this._intl=O,this._changeDetectorRef=re,this._stateChanges=q.w0.EMPTY;const _t=Number(Me);this.tabIndex=_t||0===_t?_t:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(O){this._disabled=(0,bt.Ig)(O)}ngOnChanges(O){O.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(O){this.datepicker&&!this.disabled&&(this.datepicker.open(),O.stopPropagation())}_watchStateChanges(){const O=this.datepicker?this.datepicker.stateChanges:(0,Ee.of)(),re=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ee.of)(),Me=this.datepicker?(0,Pe.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ee.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Pe.T)(this._intl.changes,O,re,Me).subscribe(()=>this._changeDetectorRef.markForCheck())}}return ye.\u0275fac=function(O){return new(O||ye)(N.Y36(mn),N.Y36(N.sBO),N.$8M("tabindex"))},ye.\u0275cmp=N.Xpm({type:ye,selectors:[["mat-datepicker-toggle"]],contentQueries:function(O,re,Me){if(1&O&&N.Suo(Me,Re,5),2&O){let _t;N.iGM(_t=N.CRH())&&(re._customIcon=_t.first)}},viewQuery:function(O,re){if(1&O&&N.Gf(sn,5),2&O){let Me;N.iGM(Me=N.CRH())&&(re._button=Me.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(O,re){1&O&&N.NdJ("click",function(_t){return re._open(_t)}),2&O&&(N.uIk("tabindex",null)("data-mat-calendar",re.datepicker?re.datepicker.id:null),N.ekj("mat-datepicker-toggle-active",re.datepicker&&re.datepicker.opened)("mat-accent",re.datepicker&&"accent"===re.datepicker.color)("mat-warn",re.datepicker&&"warn"===re.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[N.TTD],ngContentSelectors:Yt,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(O,re){1&O&&(N.F$t(qt),N.TgZ(0,"button",0,1),N.YNc(2,vt,2,0,"svg",2),N.Hsn(3),N.qZA()),2&O&&(N.Q6J("disabled",re.disabled)("disableRipple",re.disableRipple),N.uIk("aria-haspopup",re.datepicker?"dialog":null)("aria-label",re.ariaLabel||re._intl.openCalendarLabel)("tabindex",re.disabled?-1:re.tabIndex),N.xp6(2),N.Q6J("ngIf",!re._customIcon))},dependencies:[De.O5,ze.lW],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),ye})(),Et=(()=>{class ye{}return ye.\u0275fac=function(O){return new(O||ye)},ye.\u0275mod=N.oAB({type:ye}),ye.\u0275inj=N.cJS({providers:[mn,Mt],imports:[De.ez,ze.ot,h.U8,m.rt,A.eL,ie.BQ,Ye.ZD]}),ye})()},9549:(bn,xt,x)=>{x.d(xt,{Eo:()=>fn,G_:()=>_n,KE:()=>Be,R9:()=>Rn,TO:()=>Kt,bx:()=>Qt,hX:()=>Dn,lN:()=>le});var m=x(9643),h=x(6895),A=x(4650),De=x(3238),N=x(445),ze=x(1281),Ye=x(7579),ie=x(6451),qe=x(4968),q=x(8675),Pe=x(2722),Ee=x(5698),Le=x(7340),gt=x(3353);const ht=["connectionContainer"],St=["inputContainer"],Ge=["label"];function bt(ge,rt){1&ge&&(A.ynx(0),A.TgZ(1,"div",14),A._UZ(2,"div",15)(3,"div",16)(4,"div",17),A.qZA(),A.TgZ(5,"div",18),A._UZ(6,"div",15)(7,"div",16)(8,"div",17),A.qZA(),A.BQk())}function Ht(ge,rt){if(1&ge){const Xe=A.EpF();A.TgZ(0,"div",19),A.NdJ("cdkObserveContent",function(){A.CHM(Xe);const $t=A.oxw();return A.KtG($t.updateOutlineGap())}),A.Hsn(1,1),A.qZA()}if(2&ge){const Xe=A.oxw();A.Q6J("cdkObserveContentDisabled","outline"!=Xe.appearance)}}function Pt(ge,rt){if(1&ge&&(A.ynx(0),A.Hsn(1,2),A.TgZ(2,"span"),A._uU(3),A.qZA(),A.BQk()),2&ge){const Xe=A.oxw(2);A.xp6(3),A.Oqu(Xe._control.placeholder)}}function tt(ge,rt){1&ge&&A.Hsn(0,3,["*ngSwitchCase","true"])}function Qe(ge,rt){1&ge&&(A.TgZ(0,"span",23),A._uU(1," *"),A.qZA())}function He(ge,rt){if(1&ge){const Xe=A.EpF();A.TgZ(0,"label",20,21),A.NdJ("cdkObserveContent",function(){A.CHM(Xe);const $t=A.oxw();return A.KtG($t.updateOutlineGap())}),A.YNc(2,Pt,4,1,"ng-container",12),A.YNc(3,tt,1,0,"ng-content",12),A.YNc(4,Qe,2,0,"span",22),A.qZA()}if(2&ge){const Xe=A.oxw();A.ekj("mat-empty",Xe._control.empty&&!Xe._shouldAlwaysFloat())("mat-form-field-empty",Xe._control.empty&&!Xe._shouldAlwaysFloat())("mat-accent","accent"==Xe.color)("mat-warn","warn"==Xe.color),A.Q6J("cdkObserveContentDisabled","outline"!=Xe.appearance)("id",Xe._labelId)("ngSwitch",Xe._hasLabel()),A.uIk("for",Xe._control.id)("aria-owns",Xe._control.id),A.xp6(2),A.Q6J("ngSwitchCase",!1),A.xp6(1),A.Q6J("ngSwitchCase",!0),A.xp6(1),A.Q6J("ngIf",!Xe.hideRequiredMarker&&Xe._control.required&&!Xe._control.disabled)}}function Ke(ge,rt){1&ge&&(A.TgZ(0,"div",24),A.Hsn(1,4),A.qZA())}function ke(ge,rt){if(1&ge&&(A.TgZ(0,"div",25),A._UZ(1,"span",26),A.qZA()),2&ge){const Xe=A.oxw();A.xp6(1),A.ekj("mat-accent","accent"==Xe.color)("mat-warn","warn"==Xe.color)}}function $e(ge,rt){if(1&ge&&(A.TgZ(0,"div"),A.Hsn(1,5),A.qZA()),2&ge){const Xe=A.oxw();A.Q6J("@transitionMessages",Xe._subscriptAnimationState)}}function Dt(ge,rt){if(1&ge&&(A.TgZ(0,"div",30),A._uU(1),A.qZA()),2&ge){const Xe=A.oxw(2);A.Q6J("id",Xe._hintLabelId),A.xp6(1),A.Oqu(Xe.hintLabel)}}function ot(ge,rt){if(1&ge&&(A.TgZ(0,"div",27),A.YNc(1,Dt,2,2,"div",28),A.Hsn(2,6),A._UZ(3,"div",29),A.Hsn(4,7),A.qZA()),2&ge){const Xe=A.oxw();A.Q6J("@transitionMessages",Xe._subscriptAnimationState),A.xp6(1),A.Q6J("ngIf",Xe.hintLabel)}}const dt=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Rt=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let It=0;const Jt=new A.OlP("MatError");let Kt=(()=>{class ge{constructor(Xe,wt){this.id="mat-error-"+It++,Xe||wt.nativeElement.setAttribute("aria-live","polite")}}return ge.\u0275fac=function(Xe){return new(Xe||ge)(A.$8M("aria-live"),A.Y36(A.SBq))},ge.\u0275dir=A.lG2({type:ge,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Xe,wt){2&Xe&&A.uIk("id",wt.id)},inputs:{id:"id"},features:[A._Bn([{provide:Jt,useExisting:ge}])]}),ge})();const an={transitionMessages:(0,Le.X$)("transitionMessages",[(0,Le.SB)("enter",(0,Le.oB)({opacity:1,transform:"translateY(0%)"})),(0,Le.eR)("void => enter",[(0,Le.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Le.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fn=(()=>{class ge{}return ge.\u0275fac=function(Xe){return new(Xe||ge)},ge.\u0275dir=A.lG2({type:ge}),ge})(),Yt=0;const nn=new A.OlP("MatHint");let Qt=(()=>{class ge{constructor(){this.align="start",this.id="mat-hint-"+Yt++}}return ge.\u0275fac=function(Xe){return new(Xe||ge)},ge.\u0275dir=A.lG2({type:ge,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(Xe,wt){2&Xe&&(A.uIk("id",wt.id)("align",null),A.ekj("mat-form-field-hint-end","end"===wt.align))},inputs:{align:"align",id:"id"},features:[A._Bn([{provide:nn,useExisting:ge}])]}),ge})(),Dn=(()=>{class ge{}return ge.\u0275fac=function(Xe){return new(Xe||ge)},ge.\u0275dir=A.lG2({type:ge,selectors:[["mat-label"]]}),ge})(),Xt=(()=>{class ge{}return ge.\u0275fac=function(Xe){return new(Xe||ge)},ge.\u0275dir=A.lG2({type:ge,selectors:[["mat-placeholder"]]}),ge})();const mn=new A.OlP("MatPrefix"),Un=new A.OlP("MatSuffix");let Rn=(()=>{class ge{}return ge.\u0275fac=function(Xe){return new(Xe||ge)},ge.\u0275dir=A.lG2({type:ge,selectors:[["","matSuffix",""]],features:[A._Bn([{provide:Un,useExisting:ge}])]}),ge})(),zn=0;const Gn=(0,De.pj)(class{constructor(ge){this._elementRef=ge}},"primary"),qn=new A.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_n=new A.OlP("MatFormField");let Be=(()=>{class ge extends Gn{constructor(Xe,wt,$t,un,jt,mt,Ne){super(Xe),this._changeDetectorRef=wt,this._dir=$t,this._defaults=un,this._platform=jt,this._ngZone=mt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ye.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+zn++,this._labelId="mat-form-field-label-"+zn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Ne,this.appearance=un?.appearance||"legacy",un&&(this._hideRequiredMarker=Boolean(un.hideRequiredMarker),un.color&&(this.color=this.defaultColor=un.color))}get appearance(){return this._appearance}set appearance(Xe){const wt=this._appearance;this._appearance=Xe||this._defaults?.appearance||"legacy","outline"===this._appearance&&wt!==Xe&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Xe){this._hideRequiredMarker=(0,ze.Ig)(Xe)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Xe){this._hintLabel=Xe,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Xe){Xe!==this._floatLabel&&(this._floatLabel=Xe||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Xe){this._explicitFormFieldControl=Xe}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Xe=this._control;Xe.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Xe.controlType}`),Xe.stateChanges.pipe((0,q.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Xe.ngControl&&Xe.ngControl.valueChanges&&Xe.ngControl.valueChanges.pipe((0,Pe.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Pe.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ie.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,q.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,q.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Pe.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Xe){const wt=this._control?this._control.ngControl:null;return wt&&wt[Xe]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,qe.R)(this._label.nativeElement,"transitionend").pipe((0,Ee.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Xe=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Xe.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const wt=this._hintChildren?this._hintChildren.find(un=>"start"===un.align):null,$t=this._hintChildren?this._hintChildren.find(un=>"end"===un.align):null;wt?Xe.push(wt.id):this._hintLabel&&Xe.push(this._hintLabelId),$t&&Xe.push($t.id)}else this._errorChildren&&Xe.push(...this._errorChildren.map(wt=>wt.id));this._control.setDescribedByIds(Xe)}}_validateControlChild(){}updateOutlineGap(){const Xe=this._label?this._label.nativeElement:null,wt=this._connectionContainerRef.nativeElement,$t=".mat-form-field-outline-start",un=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Xe||!Xe.children.length||!Xe.textContent.trim()){const Ut=wt.querySelectorAll(`${$t}, ${un}`);for(let cn=0;cn<Ut.length;cn++)Ut[cn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let jt=0,mt=0;const Ne=wt.querySelectorAll($t),yt=wt.querySelectorAll(un);if(this._label&&this._label.nativeElement.children.length){const Ut=wt.getBoundingClientRect();if(0===Ut.width&&0===Ut.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const cn=this._getStartEnd(Ut),Nn=Xe.children,vn=this._getStartEnd(Nn[0].getBoundingClientRect());let kt=0;for(let Ot=0;Ot<Nn.length;Ot++)kt+=Nn[Ot].offsetWidth;jt=Math.abs(vn-cn)-5,mt=kt>0?.75*kt+10:0}for(let Ut=0;Ut<Ne.length;Ut++)Ne[Ut].style.width=`${jt}px`;for(let Ut=0;Ut<yt.length;Ut++)yt[Ut].style.width=`${mt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Xe){return this._dir&&"rtl"===this._dir.value?Xe.right:Xe.left}_isAttachedToDOM(){const Xe=this._elementRef.nativeElement;if(Xe.getRootNode){const wt=Xe.getRootNode();return wt&&wt!==Xe}return document.documentElement.contains(Xe)}}return ge.\u0275fac=function(Xe){return new(Xe||ge)(A.Y36(A.SBq),A.Y36(A.sBO),A.Y36(N.Is,8),A.Y36(qn,8),A.Y36(gt.t4),A.Y36(A.R0b),A.Y36(A.QbO,8))},ge.\u0275cmp=A.Xpm({type:ge,selectors:[["mat-form-field"]],contentQueries:function(Xe,wt,$t){if(1&Xe&&(A.Suo($t,fn,5),A.Suo($t,fn,7),A.Suo($t,Dn,5),A.Suo($t,Dn,7),A.Suo($t,Xt,5),A.Suo($t,Jt,5),A.Suo($t,nn,5),A.Suo($t,mn,5),A.Suo($t,Un,5)),2&Xe){let un;A.iGM(un=A.CRH())&&(wt._controlNonStatic=un.first),A.iGM(un=A.CRH())&&(wt._controlStatic=un.first),A.iGM(un=A.CRH())&&(wt._labelChildNonStatic=un.first),A.iGM(un=A.CRH())&&(wt._labelChildStatic=un.first),A.iGM(un=A.CRH())&&(wt._placeholderChild=un.first),A.iGM(un=A.CRH())&&(wt._errorChildren=un),A.iGM(un=A.CRH())&&(wt._hintChildren=un),A.iGM(un=A.CRH())&&(wt._prefixChildren=un),A.iGM(un=A.CRH())&&(wt._suffixChildren=un)}},viewQuery:function(Xe,wt){if(1&Xe&&(A.Gf(ht,7),A.Gf(St,5),A.Gf(Ge,5)),2&Xe){let $t;A.iGM($t=A.CRH())&&(wt._connectionContainerRef=$t.first),A.iGM($t=A.CRH())&&(wt._inputContainerRef=$t.first),A.iGM($t=A.CRH())&&(wt._label=$t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Xe,wt){2&Xe&&A.ekj("mat-form-field-appearance-standard","standard"==wt.appearance)("mat-form-field-appearance-fill","fill"==wt.appearance)("mat-form-field-appearance-outline","outline"==wt.appearance)("mat-form-field-appearance-legacy","legacy"==wt.appearance)("mat-form-field-invalid",wt._control.errorState)("mat-form-field-can-float",wt._canLabelFloat())("mat-form-field-should-float",wt._shouldLabelFloat())("mat-form-field-has-label",wt._hasFloatingLabel())("mat-form-field-hide-placeholder",wt._hideControlPlaceholder())("mat-form-field-disabled",wt._control.disabled)("mat-form-field-autofilled",wt._control.autofilled)("mat-focused",wt._control.focused)("ng-untouched",wt._shouldForward("untouched"))("ng-touched",wt._shouldForward("touched"))("ng-pristine",wt._shouldForward("pristine"))("ng-dirty",wt._shouldForward("dirty"))("ng-valid",wt._shouldForward("valid"))("ng-invalid",wt._shouldForward("invalid"))("ng-pending",wt._shouldForward("pending"))("_mat-animation-noopable",!wt._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[A._Bn([{provide:_n,useExisting:ge}]),A.qOj],ngContentSelectors:Rt,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Xe,wt){1&Xe&&(A.F$t(dt),A.TgZ(0,"div",0)(1,"div",1,2),A.NdJ("click",function(un){return wt._control.onContainerClick&&wt._control.onContainerClick(un)}),A.YNc(3,bt,9,0,"ng-container",3),A.YNc(4,Ht,2,1,"div",4),A.TgZ(5,"div",5,6),A.Hsn(7),A.TgZ(8,"span",7),A.YNc(9,He,5,16,"label",8),A.qZA()(),A.YNc(10,Ke,2,0,"div",9),A.qZA(),A.YNc(11,ke,2,4,"div",10),A.TgZ(12,"div",11),A.YNc(13,$e,2,1,"div",12),A.YNc(14,ot,5,2,"div",13),A.qZA()()),2&Xe&&(A.xp6(3),A.Q6J("ngIf","outline"==wt.appearance),A.xp6(1),A.Q6J("ngIf",wt._prefixChildren.length),A.xp6(5),A.Q6J("ngIf",wt._hasFloatingLabel()),A.xp6(1),A.Q6J("ngIf",wt._suffixChildren.length),A.xp6(1),A.Q6J("ngIf","outline"!=wt.appearance),A.xp6(1),A.Q6J("ngSwitch",wt._getDisplayedMessages()),A.xp6(1),A.Q6J("ngSwitchCase","error"),A.xp6(1),A.Q6J("ngSwitchCase","hint"))},dependencies:[h.O5,h.RF,h.n9,m.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[an.transitionMessages]},changeDetection:0}),ge})(),le=(()=>{class ge{}return ge.\u0275fac=function(Xe){return new(Xe||ge)},ge.\u0275mod=A.oAB({type:ge}),ge.\u0275inj=A.cJS({imports:[h.ez,De.BQ,m.Q8,De.BQ]}),ge})()},3336:(bn,xt,x)=>{x.d(xt,{Hw:()=>he,Ps:()=>me});var m=x(4650),h=x(3238),A=x(1281),De=x(6895),N=x(9646),ze=x(2843),Ye=x(4128),ie=x(727),qe=x(8505),q=x(4004),Pe=x(262),Ee=x(8746),Le=x(3099),gt=x(5698),ht=x(4351),St=x(9300);class Ge{}class Ht{constructor(_e){this.normalizedNames=new Map,this.lazyUpdate=null,_e?this.lazyInit="string"==typeof _e?()=>{this.headers=new Map,_e.split("\n").forEach(we=>{const H=we.indexOf(":");if(H>0){const ue=we.slice(0,H),V=ue.toLowerCase(),ce=we.slice(H+1).trim();this.maybeSetNormalizedName(ue,V),this.headers.has(V)?this.headers.get(V).push(ce):this.headers.set(V,[ce])}})}:()=>{this.headers=new Map,Object.keys(_e).forEach(we=>{let H=_e[we];const ue=we.toLowerCase();"string"==typeof H&&(H=[H]),H.length>0&&(this.headers.set(ue,H),this.maybeSetNormalizedName(we,ue))})}:this.headers=new Map}has(_e){return this.init(),this.headers.has(_e.toLowerCase())}get(_e){this.init();const we=this.headers.get(_e.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_e){return this.init(),this.headers.get(_e.toLowerCase())||null}append(_e,we){return this.clone({name:_e,value:we,op:"a"})}set(_e,we){return this.clone({name:_e,value:we,op:"s"})}delete(_e,we){return this.clone({name:_e,value:we,op:"d"})}maybeSetNormalizedName(_e,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,_e)}init(){this.lazyInit&&(this.lazyInit instanceof Ht?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_e=>this.applyUpdate(_e)),this.lazyUpdate=null))}copyFrom(_e){_e.init(),Array.from(_e.headers.keys()).forEach(we=>{this.headers.set(we,_e.headers.get(we)),this.normalizedNames.set(we,_e.normalizedNames.get(we))})}clone(_e){const we=new Ht;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof Ht?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([_e]),we}applyUpdate(_e){const we=_e.name.toLowerCase();switch(_e.op){case"a":case"s":let H=_e.value;if("string"==typeof H&&(H=[H]),0===H.length)return;this.maybeSetNormalizedName(_e.name,we);const ue=("a"===_e.op?this.headers.get(we):void 0)||[];ue.push(...H),this.headers.set(we,ue);break;case"d":const V=_e.value;if(V){let ce=this.headers.get(we);if(!ce)return;ce=ce.filter(Ve=>-1===V.indexOf(Ve)),0===ce.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,ce)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(_e){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>_e(this.normalizedNames.get(we),this.headers.get(we)))}}class tt{encodeKey(_e){return ke(_e)}encodeValue(_e){return ke(_e)}decodeKey(_e){return decodeURIComponent(_e)}decodeValue(_e){return decodeURIComponent(_e)}}const He=/%(\d[a-f0-9])/gi,Ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ke(Se){return encodeURIComponent(Se).replace(He,(_e,we)=>Ke[we]??_e)}function $e(Se){return`${Se}`}class Dt{constructor(_e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_e.encoder||new tt,_e.fromString){if(_e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qe(Se,_e){const we=new Map;return Se.length>0&&Se.replace(/^\?/,"").split("&").forEach(ue=>{const V=ue.indexOf("="),[ce,Ve]=-1==V?[_e.decodeKey(ue),""]:[_e.decodeKey(ue.slice(0,V)),_e.decodeValue(ue.slice(V+1))],Te=we.get(ce)||[];Te.push(Ve),we.set(ce,Te)}),we}(_e.fromString,this.encoder)}else _e.fromObject?(this.map=new Map,Object.keys(_e.fromObject).forEach(we=>{const H=_e.fromObject[we],ue=Array.isArray(H)?H.map($e):[$e(H)];this.map.set(we,ue)})):this.map=null}has(_e){return this.init(),this.map.has(_e)}get(_e){this.init();const we=this.map.get(_e);return we?we[0]:null}getAll(_e){return this.init(),this.map.get(_e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_e,we){return this.clone({param:_e,value:we,op:"a"})}appendAll(_e){const we=[];return Object.keys(_e).forEach(H=>{const ue=_e[H];Array.isArray(ue)?ue.forEach(V=>{we.push({param:H,value:V,op:"a"})}):we.push({param:H,value:ue,op:"a"})}),this.clone(we)}set(_e,we){return this.clone({param:_e,value:we,op:"s"})}delete(_e,we){return this.clone({param:_e,value:we,op:"d"})}toString(){return this.init(),this.keys().map(_e=>{const we=this.encoder.encodeKey(_e);return this.map.get(_e).map(H=>we+"="+this.encoder.encodeValue(H)).join("&")}).filter(_e=>""!==_e).join("&")}clone(_e){const we=new Dt({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(_e),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_e=>this.map.set(_e,this.cloneFrom.map.get(_e))),this.updates.forEach(_e=>{switch(_e.op){case"a":case"s":const we=("a"===_e.op?this.map.get(_e.param):void 0)||[];we.push($e(_e.value)),this.map.set(_e.param,we);break;case"d":if(void 0===_e.value){this.map.delete(_e.param);break}{let H=this.map.get(_e.param)||[];const ue=H.indexOf($e(_e.value));-1!==ue&&H.splice(ue,1),H.length>0?this.map.set(_e.param,H):this.map.delete(_e.param)}}}),this.cloneFrom=this.updates=null)}}class dt{constructor(){this.map=new Map}set(_e,we){return this.map.set(_e,we),this}get(_e){return this.map.has(_e)||this.map.set(_e,_e.defaultValue()),this.map.get(_e)}delete(_e){return this.map.delete(_e),this}has(_e){return this.map.has(_e)}keys(){return this.map.keys()}}function It(Se){return typeof ArrayBuffer<"u"&&Se instanceof ArrayBuffer}function Jt(Se){return typeof Blob<"u"&&Se instanceof Blob}function Kt(Se){return typeof FormData<"u"&&Se instanceof FormData}class fn{constructor(_e,we,H,ue){let V;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_e.toUpperCase(),function Rt(Se){switch(Se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ue?(this.body=void 0!==H?H:null,V=ue):V=H,V&&(this.reportProgress=!!V.reportProgress,this.withCredentials=!!V.withCredentials,V.responseType&&(this.responseType=V.responseType),V.headers&&(this.headers=V.headers),V.context&&(this.context=V.context),V.params&&(this.params=V.params)),this.headers||(this.headers=new Ht),this.context||(this.context=new dt),this.params){const ce=this.params.toString();if(0===ce.length)this.urlWithParams=we;else{const Ve=we.indexOf("?");this.urlWithParams=we+(-1===Ve?"?":Ve<we.length-1?"&":"")+ce}}else this.params=new Dt,this.urlWithParams=we}serializeBody(){return null===this.body?null:It(this.body)||Jt(this.body)||Kt(this.body)||function an(Se){return typeof URLSearchParams<"u"&&Se instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Dt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kt(this.body)?null:Jt(this.body)?this.body.type||null:It(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_e={}){const we=_e.method||this.method,H=_e.url||this.url,ue=_e.responseType||this.responseType,V=void 0!==_e.body?_e.body:this.body,ce=void 0!==_e.withCredentials?_e.withCredentials:this.withCredentials,Ve=void 0!==_e.reportProgress?_e.reportProgress:this.reportProgress;let Te=_e.headers||this.headers,Et=_e.params||this.params;const ye=_e.context??this.context;return void 0!==_e.setHeaders&&(Te=Object.keys(_e.setHeaders).reduce((ut,O)=>ut.set(O,_e.setHeaders[O]),Te)),_e.setParams&&(Et=Object.keys(_e.setParams).reduce((ut,O)=>ut.set(O,_e.setParams[O]),Et)),new fn(we,H,V,{params:Et,headers:Te,context:ye,reportProgress:Ve,responseType:ue,withCredentials:ce})}}var sn=(()=>((sn=sn||{})[sn.Sent=0]="Sent",sn[sn.UploadProgress=1]="UploadProgress",sn[sn.ResponseHeader=2]="ResponseHeader",sn[sn.DownloadProgress=3]="DownloadProgress",sn[sn.Response=4]="Response",sn[sn.User=5]="User",sn))();class Yt extends class vt{constructor(_e,we=200,H="OK"){this.headers=_e.headers||new Ht,this.status=void 0!==_e.status?_e.status:we,this.statusText=_e.statusText||H,this.url=_e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(_e={}){super(_e),this.type=sn.Response,this.body=void 0!==_e.body?_e.body:null}clone(_e={}){return new Yt({body:void 0!==_e.body?_e.body:this.body,headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}function Qt(Se,_e){return{body:_e,headers:Se.headers,context:Se.context,observe:Se.observe,params:Se.params,reportProgress:Se.reportProgress,responseType:Se.responseType,withCredentials:Se.withCredentials}}let Dn=(()=>{class Se{constructor(we){this.handler=we}request(we,H,ue={}){let V;if(we instanceof fn)V=we;else{let Te,Et;Te=ue.headers instanceof Ht?ue.headers:new Ht(ue.headers),ue.params&&(Et=ue.params instanceof Dt?ue.params:new Dt({fromObject:ue.params})),V=new fn(we,H,void 0!==ue.body?ue.body:null,{headers:Te,context:ue.context,params:Et,reportProgress:ue.reportProgress,responseType:ue.responseType||"json",withCredentials:ue.withCredentials})}const ce=(0,N.of)(V).pipe((0,ht.b)(Te=>this.handler.handle(Te)));if(we instanceof fn||"events"===ue.observe)return ce;const Ve=ce.pipe((0,St.h)(Te=>Te instanceof Yt));switch(ue.observe||"body"){case"body":switch(V.responseType){case"arraybuffer":return Ve.pipe((0,q.U)(Te=>{if(null!==Te.body&&!(Te.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Te.body}));case"blob":return Ve.pipe((0,q.U)(Te=>{if(null!==Te.body&&!(Te.body instanceof Blob))throw new Error("Response is not a Blob.");return Te.body}));case"text":return Ve.pipe((0,q.U)(Te=>{if(null!==Te.body&&"string"!=typeof Te.body)throw new Error("Response is not a string.");return Te.body}));default:return Ve.pipe((0,q.U)(Te=>Te.body))}case"response":return Ve;default:throw new Error(`Unreachable: unhandled observe type ${ue.observe}}`)}}delete(we,H={}){return this.request("DELETE",we,H)}get(we,H={}){return this.request("GET",we,H)}head(we,H={}){return this.request("HEAD",we,H)}jsonp(we,H){return this.request("JSONP",we,{params:(new Dt).append(H,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,H={}){return this.request("OPTIONS",we,H)}patch(we,H,ue={}){return this.request("PATCH",we,Qt(ue,H))}post(we,H,ue={}){return this.request("POST",we,Qt(ue,H))}put(we,H,ue={}){return this.request("PUT",we,Qt(ue,H))}}return Se.\u0275fac=function(we){return new(we||Se)(m.LFG(Ge))},Se.\u0275prov=m.Yz7({token:Se,factory:Se.\u0275fac}),Se})();var kt=x(1481);const Ot=["*"];let te;function K(Se){return function ae(){if(void 0===te&&(te=null,typeof window<"u")){const Se=window;void 0!==Se.trustedTypes&&(te=Se.trustedTypes.createPolicy("angular#components",{createHTML:_e=>_e}))}return te}()?.createHTML(Se)||Se}function z(Se){return Error(`Unable to find icon with the name "${Se}"`)}function J(Se){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Se}".`)}function ct(Se){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Se}".`)}class st{constructor(_e,we,H){this.url=_e,this.svgText=we,this.options=H}}let Mt=(()=>{class Se{constructor(we,H,ue,V){this._httpClient=we,this._sanitizer=H,this._errorHandler=V,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ue}addSvgIcon(we,H,ue){return this.addSvgIconInNamespace("",we,H,ue)}addSvgIconLiteral(we,H,ue){return this.addSvgIconLiteralInNamespace("",we,H,ue)}addSvgIconInNamespace(we,H,ue,V){return this._addSvgIconConfig(we,H,new st(ue,null,V))}addSvgIconResolver(we){return this._resolvers.push(we),this}addSvgIconLiteralInNamespace(we,H,ue,V){const ce=this._sanitizer.sanitize(m.q3G.HTML,ue);if(!ce)throw ct(ue);const Ve=K(ce);return this._addSvgIconConfig(we,H,new st("",Ve,V))}addSvgIconSet(we,H){return this.addSvgIconSetInNamespace("",we,H)}addSvgIconSetLiteral(we,H){return this.addSvgIconSetLiteralInNamespace("",we,H)}addSvgIconSetInNamespace(we,H,ue){return this._addSvgIconSetConfig(we,new st(H,null,ue))}addSvgIconSetLiteralInNamespace(we,H,ue){const V=this._sanitizer.sanitize(m.q3G.HTML,H);if(!V)throw ct(H);const ce=K(V);return this._addSvgIconSetConfig(we,new st("",ce,ue))}registerFontClassAlias(we,H=we){return this._fontCssClassesByAlias.set(we,H),this}classNameForFontAlias(we){return this._fontCssClassesByAlias.get(we)||we}setDefaultFontSetClass(...we){return this._defaultFontSetClass=we,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(we){const H=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,we);if(!H)throw J(we);const ue=this._cachedIconsByUrl.get(H);return ue?(0,N.of)(nt(ue)):this._loadSvgIconFromConfig(new st(we,null)).pipe((0,qe.b)(V=>this._cachedIconsByUrl.set(H,V)),(0,q.U)(V=>nt(V)))}getNamedSvgIcon(we,H=""){const ue=ve(H,we);let V=this._svgIconConfigs.get(ue);if(V)return this._getSvgFromConfig(V);if(V=this._getIconConfigFromResolvers(H,we),V)return this._svgIconConfigs.set(ue,V),this._getSvgFromConfig(V);const ce=this._iconSetConfigs.get(H);return ce?this._getSvgFromIconSetConfigs(we,ce):(0,ze._)(z(ue))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(we){return we.svgText?(0,N.of)(nt(this._svgElementFromConfig(we))):this._loadSvgIconFromConfig(we).pipe((0,q.U)(H=>nt(H)))}_getSvgFromIconSetConfigs(we,H){const ue=this._extractIconWithNameFromAnySet(we,H);if(ue)return(0,N.of)(ue);const V=H.filter(ce=>!ce.svgText).map(ce=>this._loadSvgIconSetFromConfig(ce).pipe((0,Pe.K)(Ve=>{const Et=`Loading icon set URL: ${this._sanitizer.sanitize(m.q3G.RESOURCE_URL,ce.url)} failed: ${Ve.message}`;return this._errorHandler.handleError(new Error(Et)),(0,N.of)(null)})));return(0,Ye.D)(V).pipe((0,q.U)(()=>{const ce=this._extractIconWithNameFromAnySet(we,H);if(!ce)throw z(we);return ce}))}_extractIconWithNameFromAnySet(we,H){for(let ue=H.length-1;ue>=0;ue--){const V=H[ue];if(V.svgText&&V.svgText.toString().indexOf(we)>-1){const ce=this._svgElementFromConfig(V),Ve=this._extractSvgIconFromSet(ce,we,V.options);if(Ve)return Ve}}return null}_loadSvgIconFromConfig(we){return this._fetchIcon(we).pipe((0,qe.b)(H=>we.svgText=H),(0,q.U)(()=>this._svgElementFromConfig(we)))}_loadSvgIconSetFromConfig(we){return we.svgText?(0,N.of)(null):this._fetchIcon(we).pipe((0,qe.b)(H=>we.svgText=H))}_extractSvgIconFromSet(we,H,ue){const V=we.querySelector(`[id="${H}"]`);if(!V)return null;const ce=V.cloneNode(!0);if(ce.removeAttribute("id"),"svg"===ce.nodeName.toLowerCase())return this._setSvgAttributes(ce,ue);if("symbol"===ce.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ce),ue);const Ve=this._svgElementFromString(K("<svg></svg>"));return Ve.appendChild(ce),this._setSvgAttributes(Ve,ue)}_svgElementFromString(we){const H=this._document.createElement("DIV");H.innerHTML=we;const ue=H.querySelector("svg");if(!ue)throw Error("<svg> tag not found");return ue}_toSvgElement(we){const H=this._svgElementFromString(K("<svg></svg>")),ue=we.attributes;for(let V=0;V<ue.length;V++){const{name:ce,value:Ve}=ue[V];"id"!==ce&&H.setAttribute(ce,Ve)}for(let V=0;V<we.childNodes.length;V++)we.childNodes[V].nodeType===this._document.ELEMENT_NODE&&H.appendChild(we.childNodes[V].cloneNode(!0));return H}_setSvgAttributes(we,H){return we.setAttribute("fit",""),we.setAttribute("height","100%"),we.setAttribute("width","100%"),we.setAttribute("preserveAspectRatio","xMidYMid meet"),we.setAttribute("focusable","false"),H&&H.viewBox&&we.setAttribute("viewBox",H.viewBox),we}_fetchIcon(we){const{url:H,options:ue}=we,V=ue?.withCredentials??!1;if(!this._httpClient)throw function de(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==H)throw Error(`Cannot fetch icon from URL "${H}".`);const ce=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,H);if(!ce)throw J(H);const Ve=this._inProgressUrlFetches.get(ce);if(Ve)return Ve;const Te=this._httpClient.get(ce,{responseType:"text",withCredentials:V}).pipe((0,q.U)(Et=>K(Et)),(0,Ee.x)(()=>this._inProgressUrlFetches.delete(ce)),(0,Le.B)());return this._inProgressUrlFetches.set(ce,Te),Te}_addSvgIconConfig(we,H,ue){return this._svgIconConfigs.set(ve(we,H),ue),this}_addSvgIconSetConfig(we,H){const ue=this._iconSetConfigs.get(we);return ue?ue.push(H):this._iconSetConfigs.set(we,[H]),this}_svgElementFromConfig(we){if(!we.svgElement){const H=this._svgElementFromString(we.svgText);this._setSvgAttributes(H,we.options),we.svgElement=H}return we.svgElement}_getIconConfigFromResolvers(we,H){for(let ue=0;ue<this._resolvers.length;ue++){const V=this._resolvers[ue](H,we);if(V)return Ce(V)?new st(V.url,null,V.options):new st(V,null)}}}return Se.\u0275fac=function(we){return new(we||Se)(m.LFG(Dn,8),m.LFG(kt.H7),m.LFG(De.K0,8),m.LFG(m.qLn))},Se.\u0275prov=m.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();function nt(Se){return Se.cloneNode(!0)}function ve(Se,_e){return Se+":"+_e}function Ce(Se){return!(!Se.url||!Se.options)}const ne=(0,h.pj)(class{constructor(Se){this._elementRef=Se}}),Oe=new m.OlP("MAT_ICON_DEFAULT_OPTIONS"),pt=new m.OlP("mat-icon-location",{providedIn:"root",factory:function Ze(){const Se=(0,m.f3M)(De.K0),_e=Se?Se.location:null;return{getPathname:()=>_e?_e.pathname+_e.search:""}}}),We=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Re=We.map(Se=>`[${Se}]`).join(", "),se=/^url\(['"]?#(.*?)['"]?\)$/;let he=(()=>{class Se extends ne{constructor(we,H,ue,V,ce,Ve){super(we),this._iconRegistry=H,this._location=V,this._errorHandler=ce,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ie.w0.EMPTY,Ve&&(Ve.color&&(this.color=this.defaultColor=Ve.color),Ve.fontSet&&(this.fontSet=Ve.fontSet)),ue||we.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(we){this._inline=(0,A.Ig)(we)}get svgIcon(){return this._svgIcon}set svgIcon(we){we!==this._svgIcon&&(we?this._updateSvgIcon(we):this._svgIcon&&this._clearSvgElement(),this._svgIcon=we)}get fontSet(){return this._fontSet}set fontSet(we){const H=this._cleanupFontValue(we);H!==this._fontSet&&(this._fontSet=H,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(we){const H=this._cleanupFontValue(we);H!==this._fontIcon&&(this._fontIcon=H,this._updateFontIconClasses())}_splitIconName(we){if(!we)return["",""];const H=we.split(":");switch(H.length){case 1:return["",H[0]];case 2:return H;default:throw Error(`Invalid icon name: "${we}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const we=this._elementsWithExternalReferences;if(we&&we.size){const H=this._location.getPathname();H!==this._previousPath&&(this._previousPath=H,this._prependPathToReferences(H))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(we){this._clearSvgElement();const H=this._location.getPathname();this._previousPath=H,this._cacheChildrenWithExternalReferences(we),this._prependPathToReferences(H),this._elementRef.nativeElement.appendChild(we)}_clearSvgElement(){const we=this._elementRef.nativeElement;let H=we.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();H--;){const ue=we.childNodes[H];(1!==ue.nodeType||"svg"===ue.nodeName.toLowerCase())&&ue.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const we=this._elementRef.nativeElement,H=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ue=>ue.length>0);this._previousFontSetClass.forEach(ue=>we.classList.remove(ue)),H.forEach(ue=>we.classList.add(ue)),this._previousFontSetClass=H,this.fontIcon!==this._previousFontIconClass&&!H.includes("mat-ligature-font")&&(this._previousFontIconClass&&we.classList.remove(this._previousFontIconClass),this.fontIcon&&we.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(we){return"string"==typeof we?we.trim().split(" ")[0]:we}_prependPathToReferences(we){const H=this._elementsWithExternalReferences;H&&H.forEach((ue,V)=>{ue.forEach(ce=>{V.setAttribute(ce.name,`url('${we}#${ce.value}')`)})})}_cacheChildrenWithExternalReferences(we){const H=we.querySelectorAll(Re),ue=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let V=0;V<H.length;V++)We.forEach(ce=>{const Ve=H[V],Te=Ve.getAttribute(ce),Et=Te?Te.match(se):null;if(Et){let ye=ue.get(Ve);ye||(ye=[],ue.set(Ve,ye)),ye.push({name:ce,value:Et[1]})}})}_updateSvgIcon(we){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),we){const[H,ue]=this._splitIconName(we);H&&(this._svgNamespace=H),ue&&(this._svgName=ue),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ue,H).pipe((0,gt.q)(1)).subscribe(V=>this._setSvgElement(V),V=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${H}:${ue}! ${V.message}`))})}}}return Se.\u0275fac=function(we){return new(we||Se)(m.Y36(m.SBq),m.Y36(Mt),m.$8M("aria-hidden"),m.Y36(pt),m.Y36(m.qLn),m.Y36(Oe,8))},Se.\u0275cmp=m.Xpm({type:Se,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(we,H){2&we&&(m.uIk("data-mat-icon-type",H._usingFontIcon()?"font":"svg")("data-mat-icon-name",H._svgName||H.fontIcon)("data-mat-icon-namespace",H._svgNamespace||H.fontSet)("fontIcon",H._usingFontIcon()?H.fontIcon:null),m.ekj("mat-icon-inline",H.inline)("mat-icon-no-color","primary"!==H.color&&"accent"!==H.color&&"warn"!==H.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[m.qOj],ngContentSelectors:Ot,decls:1,vars:0,template:function(we,H){1&we&&(m.F$t(),m.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Se})(),me=(()=>{class Se{}return Se.\u0275fac=function(we){return new(we||Se)},Se.\u0275mod=m.oAB({type:Se}),Se.\u0275inj=m.cJS({imports:[h.BQ,h.BQ]}),Se})()},4144:(bn,xt,x)=>{x.d(xt,{Jk:()=>ht,Nt:()=>Ht,c:()=>Pt});var m=x(1281),h=x(3353),A=x(4650),De=x(515),N=x(7579);const ze=(0,h.i$)({passive:!0});let Ye=(()=>{class tt{constructor(He,Ke){this._platform=He,this._ngZone=Ke,this._monitoredElements=new Map}monitor(He){if(!this._platform.isBrowser)return De.E;const Ke=(0,m.fI)(He),ke=this._monitoredElements.get(Ke);if(ke)return ke.subject;const $e=new N.x,Dt="cdk-text-field-autofilled",ot=dt=>{"cdk-text-field-autofill-start"!==dt.animationName||Ke.classList.contains(Dt)?"cdk-text-field-autofill-end"===dt.animationName&&Ke.classList.contains(Dt)&&(Ke.classList.remove(Dt),this._ngZone.run(()=>$e.next({target:dt.target,isAutofilled:!1}))):(Ke.classList.add(Dt),this._ngZone.run(()=>$e.next({target:dt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ke.addEventListener("animationstart",ot,ze),Ke.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ke,{subject:$e,unlisten:()=>{Ke.removeEventListener("animationstart",ot,ze)}}),$e}stopMonitoring(He){const Ke=(0,m.fI)(He),ke=this._monitoredElements.get(Ke);ke&&(ke.unlisten(),ke.subject.complete(),Ke.classList.remove("cdk-text-field-autofill-monitored"),Ke.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ke))}ngOnDestroy(){this._monitoredElements.forEach((He,Ke)=>this.stopMonitoring(Ke))}}return tt.\u0275fac=function(He){return new(He||tt)(A.LFG(h.t4),A.LFG(A.R0b))},tt.\u0275prov=A.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),q=(()=>{class tt{}return tt.\u0275fac=function(He){return new(He||tt)},tt.\u0275mod=A.oAB({type:tt}),tt.\u0275inj=A.cJS({}),tt})();var Pe=x(4006),Ee=x(3238),Le=x(9549);const ht=new A.OlP("MAT_INPUT_VALUE_ACCESSOR"),St=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ge=0;const bt=(0,Ee.FD)(class{constructor(tt,Qe,He,Ke){this._defaultErrorStateMatcher=tt,this._parentForm=Qe,this._parentFormGroup=He,this.ngControl=Ke,this.stateChanges=new N.x}});let Ht=(()=>{class tt extends bt{constructor(He,Ke,ke,$e,Dt,ot,dt,Rt,It,Jt){super(ot,$e,Dt,ke),this._elementRef=He,this._platform=Ke,this._autofillMonitor=Rt,this._formField=Jt,this._uid="mat-input-"+Ge++,this.focused=!1,this.stateChanges=new N.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(fn=>(0,h.qK)().has(fn)),this._iOSKeyupListener=fn=>{const sn=fn.target;!sn.value&&0===sn.selectionStart&&0===sn.selectionEnd&&(sn.setSelectionRange(1,1),sn.setSelectionRange(0,0))};const Kt=this._elementRef.nativeElement,an=Kt.nodeName.toLowerCase();this._inputValueAccessor=dt||Kt,this._previousNativeValue=this.value,this.id=this.id,Ke.IOS&&It.runOutsideAngular(()=>{He.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===an,this._isTextarea="textarea"===an,this._isInFormField=!!Jt,this._isNativeSelect&&(this.controlType=Kt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(He){this._disabled=(0,m.Ig)(He),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(He){this._id=He||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Pe.kI.required)??!1}set required(He){this._required=(0,m.Ig)(He)}get type(){return this._type}set type(He){this._type=He||"text",this._validateType(),!this._isTextarea&&(0,h.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(He){He!==this.value&&(this._inputValueAccessor.value=He,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(He){this._readonly=(0,m.Ig)(He)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(He=>{this.autofilled=He.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(He){this._elementRef.nativeElement.focus(He)}_focusChanged(He){He!==this.focused&&(this.focused=He,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const He=this._formField,Ke=He&&"legacy"===He.appearance&&!He._hasLabel?.()?null:this.placeholder;if(Ke!==this._previousPlaceholder){const ke=this._elementRef.nativeElement;this._previousPlaceholder=Ke,Ke?ke.setAttribute("placeholder",Ke):ke.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const He=this._elementRef.nativeElement.value;this._previousNativeValue!==He&&(this._previousNativeValue=He,this.stateChanges.next())}_validateType(){St.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let He=this._elementRef.nativeElement.validity;return He&&He.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const He=this._elementRef.nativeElement,Ke=He.options[0];return this.focused||He.multiple||!this.empty||!!(He.selectedIndex>-1&&Ke&&Ke.label)}return this.focused||!this.empty}setDescribedByIds(He){He.length?this._elementRef.nativeElement.setAttribute("aria-describedby",He.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const He=this._elementRef.nativeElement;return this._isNativeSelect&&(He.multiple||He.size>1)}}return tt.\u0275fac=function(He){return new(He||tt)(A.Y36(A.SBq),A.Y36(h.t4),A.Y36(Pe.a5,10),A.Y36(Pe.F,8),A.Y36(Pe.sg,8),A.Y36(Ee.rD),A.Y36(ht,10),A.Y36(Ye),A.Y36(A.R0b),A.Y36(Le.G_,8))},tt.\u0275dir=A.lG2({type:tt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(He,Ke){1&He&&A.NdJ("focus",function(){return Ke._focusChanged(!0)})("blur",function(){return Ke._focusChanged(!1)})("input",function(){return Ke._onInput()}),2&He&&(A.Ikx("disabled",Ke.disabled)("required",Ke.required),A.uIk("id",Ke.id)("data-placeholder",Ke.placeholder)("name",Ke.name||null)("readonly",Ke.readonly&&!Ke._isNativeSelect||null)("aria-invalid",Ke.empty&&Ke.required?null:Ke.errorState)("aria-required",Ke.required),A.ekj("mat-input-server",Ke._isServer)("mat-native-select-inline",Ke._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[A._Bn([{provide:Le.Eo,useExisting:tt}]),A.qOj,A.TTD]}),tt})(),Pt=(()=>{class tt{}return tt.\u0275fac=function(He){return new(He||tt)},tt.\u0275mod=A.oAB({type:tt}),tt.\u0275inj=A.cJS({providers:[Ee.rD],imports:[q,Le.lN,Ee.BQ,q,Le.lN]}),tt})()},3683:(bn,xt,x)=>{x.d(xt,{Ye:()=>qe,g0:()=>Pe});var m=x(4650),h=x(3238),A=x(3353),De=x(6895);const N=["*",[["mat-toolbar-row"]]],ze=["*","mat-toolbar-row"],Ye=(0,h.pj)(class{constructor(Ee){this._elementRef=Ee}});let ie=(()=>{class Ee{}return Ee.\u0275fac=function(gt){return new(gt||Ee)},Ee.\u0275dir=m.lG2({type:Ee,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),Ee})(),qe=(()=>{class Ee extends Ye{constructor(gt,ht,St){super(gt),this._platform=ht,this._document=St}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return Ee.\u0275fac=function(gt){return new(gt||Ee)(m.Y36(m.SBq),m.Y36(A.t4),m.Y36(De.K0))},Ee.\u0275cmp=m.Xpm({type:Ee,selectors:[["mat-toolbar"]],contentQueries:function(gt,ht,St){if(1&gt&&m.Suo(St,ie,5),2&gt){let Ge;m.iGM(Ge=m.CRH())&&(ht._toolbarRows=Ge)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(gt,ht){2&gt&&m.ekj("mat-toolbar-multiple-rows",ht._toolbarRows.length>0)("mat-toolbar-single-row",0===ht._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[m.qOj],ngContentSelectors:ze,decls:2,vars:0,template:function(gt,ht){1&gt&&(m.F$t(N),m.Hsn(0),m.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),Ee})(),Pe=(()=>{class Ee{}return Ee.\u0275fac=function(gt){return new(gt||Ee)},Ee.\u0275mod=m.oAB({type:Ee}),Ee.\u0275inj=m.cJS({imports:[h.BQ,h.BQ]}),Ee})()},1481:(bn,xt,x)=>{x.d(xt,{Dx:()=>un,H7:()=>pt,b2:()=>ge,q6:()=>qn,se:()=>It});var m=x(6895),h=x(4650);class A extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends A{static makeCurrent(){(0,m.HT)(new De)}onAndCancel(he,me,Se){return he.addEventListener(me,Se,!1),()=>{he.removeEventListener(me,Se,!1)}}dispatchEvent(he,me){he.dispatchEvent(me)}remove(he){he.parentNode&&he.parentNode.removeChild(he)}createElement(he,me){return(me=me||this.getDefaultDocument()).createElement(he)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(he){return he.nodeType===Node.ELEMENT_NODE}isShadowRoot(he){return he instanceof DocumentFragment}getGlobalEventTarget(he,me){return"window"===me?window:"document"===me?he:"body"===me?he.body:null}getBaseHref(he){const me=function ze(){return N=N||document.querySelector("base"),N?N.getAttribute("href"):null}();return null==me?null:function ie(se){Ye=Ye||document.createElement("a"),Ye.setAttribute("href",se);const he=Ye.pathname;return"/"===he.charAt(0)?he:`/${he}`}(me)}resetBaseElement(){N=null}getUserAgent(){return window.navigator.userAgent}getCookie(he){return(0,m.Mx)(document.cookie,he)}}let Ye,N=null;const qe=new h.OlP("TRANSITION_ID"),Pe=[{provide:h.ip1,useFactory:function q(se,he,me){return()=>{me.get(h.CZH).donePromise.then(()=>{const Se=(0,m.q)(),_e=he.querySelectorAll(`style[ng-transition="${se}"]`);for(let we=0;we<_e.length;we++)Se.remove(_e[we])})}},deps:[qe,m.K0,h.zs3],multi:!0}];let Le=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})();const gt=new h.OlP("EventManagerPlugins");let ht=(()=>{class se{constructor(me,Se){this._zone=Se,this._eventNameToPlugin=new Map,me.forEach(_e=>_e.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,Se,_e){return this._findPluginFor(Se).addEventListener(me,Se,_e)}addGlobalEventListener(me,Se,_e){return this._findPluginFor(Se).addGlobalEventListener(me,Se,_e)}getZone(){return this._zone}_findPluginFor(me){const Se=this._eventNameToPlugin.get(me);if(Se)return Se;const _e=this._plugins;for(let we=0;we<_e.length;we++){const H=_e[we];if(H.supports(me))return this._eventNameToPlugin.set(me,H),H}throw new Error(`No event manager plugin found for event ${me}`)}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(gt),h.LFG(h.R0b))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})();class St{constructor(he){this._doc=he}addGlobalEventListener(he,me,Se){const _e=(0,m.q)().getGlobalEventTarget(this._doc,he);if(!_e)throw new Error(`Unsupported event target ${_e} for event ${me}`);return this.addEventListener(_e,me,Se)}}let Ge=(()=>{class se{constructor(){this._stylesSet=new Set}addStyles(me){const Se=new Set;me.forEach(_e=>{this._stylesSet.has(_e)||(this._stylesSet.add(_e),Se.add(_e))}),this.onStylesAdded(Se)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})(),bt=(()=>{class se extends Ge{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,Se,_e){me.forEach(we=>{const H=this._doc.createElement("style");H.textContent=we,_e.push(Se.appendChild(H))})}addHost(me){const Se=[];this._addStylesToHost(this._stylesSet,me,Se),this._hostNodes.set(me,Se)}removeHost(me){const Se=this._hostNodes.get(me);Se&&Se.forEach(Ht),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((Se,_e)=>{this._addStylesToHost(me,_e,Se)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(Ht))}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(m.K0))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})();function Ht(se){(0,m.q)().remove(se)}const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tt=/%COMP%/g;function ot(se,he,me){for(let Se=0;Se<he.length;Se++){let _e=he[Se];Array.isArray(_e)?ot(se,_e,me):(_e=_e.replace(tt,se),me.push(_e))}return me}function dt(se){return he=>{if("__ngUnwrap__"===he)return se;!1===se(he)&&(he.preventDefault(),he.returnValue=!1)}}let It=(()=>{class se{constructor(me,Se,_e){this.eventManager=me,this.sharedStylesHost=Se,this.appId=_e,this.rendererByCompId=new Map,this.defaultRenderer=new Jt(me)}createRenderer(me,Se){if(!me||!Se)return this.defaultRenderer;switch(Se.encapsulation){case h.ifc.Emulated:{let _e=this.rendererByCompId.get(Se.id);return _e||(_e=new sn(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,_e)),_e.applyToHost(me),_e}case 1:case h.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,me,Se);default:if(!this.rendererByCompId.has(Se.id)){const _e=ot(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(_e),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(ht),h.LFG(bt),h.LFG(h.AFp))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})();class Jt{constructor(he){this.eventManager=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(he,me){return me?document.createElementNS(Pt[me]||me,he):document.createElement(he)}createComment(he){return document.createComment(he)}createText(he){return document.createTextNode(he)}appendChild(he,me){(fn(he)?he.content:he).appendChild(me)}insertBefore(he,me,Se){he&&(fn(he)?he.content:he).insertBefore(me,Se)}removeChild(he,me){he&&he.removeChild(me)}selectRootElement(he,me){let Se="string"==typeof he?document.querySelector(he):he;if(!Se)throw new Error(`The selector "${he}" did not match any elements`);return me||(Se.textContent=""),Se}parentNode(he){return he.parentNode}nextSibling(he){return he.nextSibling}setAttribute(he,me,Se,_e){if(_e){me=_e+":"+me;const we=Pt[_e];we?he.setAttributeNS(we,me,Se):he.setAttribute(me,Se)}else he.setAttribute(me,Se)}removeAttribute(he,me,Se){if(Se){const _e=Pt[Se];_e?he.removeAttributeNS(_e,me):he.removeAttribute(`${Se}:${me}`)}else he.removeAttribute(me)}addClass(he,me){he.classList.add(me)}removeClass(he,me){he.classList.remove(me)}setStyle(he,me,Se,_e){_e&(h.JOm.DashCase|h.JOm.Important)?he.style.setProperty(me,Se,_e&h.JOm.Important?"important":""):he.style[me]=Se}removeStyle(he,me,Se){Se&h.JOm.DashCase?he.style.removeProperty(me):he.style[me]=""}setProperty(he,me,Se){he[me]=Se}setValue(he,me){he.nodeValue=me}listen(he,me,Se){return"string"==typeof he?this.eventManager.addGlobalEventListener(he,me,dt(Se)):this.eventManager.addEventListener(he,me,dt(Se))}}function fn(se){return"TEMPLATE"===se.tagName&&void 0!==se.content}class sn extends Jt{constructor(he,me,Se,_e){super(he),this.component=Se;const we=ot(_e+"-"+Se.id,Se.styles,[]);me.addStyles(we),this.contentAttr=function $e(se){return"_ngcontent-%COMP%".replace(tt,se)}(_e+"-"+Se.id),this.hostAttr=function Dt(se){return"_nghost-%COMP%".replace(tt,se)}(_e+"-"+Se.id)}applyToHost(he){super.setAttribute(he,this.hostAttr,"")}createElement(he,me){const Se=super.createElement(he,me);return super.setAttribute(Se,this.contentAttr,""),Se}}class vt extends Jt{constructor(he,me,Se,_e){super(he),this.sharedStylesHost=me,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const we=ot(_e.id,_e.styles,[]);for(let H=0;H<we.length;H++){const ue=document.createElement("style");ue.textContent=we[H],this.shadowRoot.appendChild(ue)}}nodeOrShadowRoot(he){return he===this.hostEl?this.shadowRoot:he}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(he,me){return super.appendChild(this.nodeOrShadowRoot(he),me)}insertBefore(he,me,Se){return super.insertBefore(this.nodeOrShadowRoot(he),me,Se)}removeChild(he,me){return super.removeChild(this.nodeOrShadowRoot(he),me)}parentNode(he){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(he)))}}let qt=(()=>{class se extends St{constructor(me){super(me)}supports(me){return!0}addEventListener(me,Se,_e){return me.addEventListener(Se,_e,!1),()=>this.removeEventListener(me,Se,_e)}removeEventListener(me,Se,_e){return me.removeEventListener(Se,_e)}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(m.K0))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})();const Yt=["alt","control","meta","shift"],nn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let Dn=(()=>{class se extends St{constructor(me){super(me)}supports(me){return null!=se.parseEventName(me)}addEventListener(me,Se,_e){const we=se.parseEventName(Se),H=se.eventCallback(we.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(me,we.domEventName,H))}static parseEventName(me){const Se=me.toLowerCase().split("."),_e=Se.shift();if(0===Se.length||"keydown"!==_e&&"keyup"!==_e)return null;const we=se._normalizeKey(Se.pop());let H="",ue=Se.indexOf("code");if(ue>-1&&(Se.splice(ue,1),H="code."),Yt.forEach(ce=>{const Ve=Se.indexOf(ce);Ve>-1&&(Se.splice(Ve,1),H+=ce+".")}),H+=we,0!=Se.length||0===we.length)return null;const V={};return V.domEventName=_e,V.fullKey=H,V}static matchEventFullKeyCode(me,Se){let _e=nn[me.key]||me.key,we="";return Se.indexOf("code.")>-1&&(_e=me.code,we="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),Yt.forEach(H=>{H!==_e&&(0,Qt[H])(me)&&(we+=H+".")}),we+=_e,we===Se)}static eventCallback(me,Se,_e){return we=>{se.matchEventFullKeyCode(we,me)&&_e.runGuarded(()=>Se(we))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(m.K0))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac}),se})();const qn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:m.bD},{provide:h.g9A,useValue:function zn(){De.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Vn(){return(0,h.RDi)(document),document},deps:[]}]),_n=new h.OlP(""),Be=[{provide:h.rWj,useClass:class Ee{addToWindow(he){h.dqk.getAngularTestability=(Se,_e=!0)=>{const we=he.findTestabilityInTree(Se,_e);if(null==we)throw new Error("Could not find testability for element.");return we},h.dqk.getAllAngularTestabilities=()=>he.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>he.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Se=>{const _e=h.dqk.getAllAngularTestabilities();let we=_e.length,H=!1;const ue=function(V){H=H||V,we--,0==we&&Se(H)};_e.forEach(function(V){V.whenStable(ue)})})}findTestabilityInTree(he,me,Se){return null==me?null:he.getTestability(me)??(Se?(0,m.q)().isShadowRoot(me)?this.findTestabilityInTree(he,me.host,!0):this.findTestabilityInTree(he,me.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],le=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function $n(){return new h.qLn},deps:[]},{provide:gt,useClass:qt,multi:!0,deps:[m.K0,h.R0b,h.Lbi]},{provide:gt,useClass:Dn,multi:!0,deps:[m.K0]},{provide:It,useClass:It,deps:[ht,bt,h.AFp]},{provide:h.FYo,useExisting:It},{provide:Ge,useExisting:bt},{provide:bt,useClass:bt,deps:[m.K0]},{provide:ht,useClass:ht,deps:[gt,h.R0b]},{provide:m.JF,useClass:Le,deps:[]},[]];let ge=(()=>{class se{constructor(me){}static withServerTransition(me){return{ngModule:se,providers:[{provide:h.AFp,useValue:me.appId},{provide:qe,useExisting:h.AFp},Pe]}}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(_n,12))},se.\u0275mod=h.oAB({type:se}),se.\u0275inj=h.cJS({providers:[...le,...Be],imports:[m.ez,h.hGG]}),se})(),un=(()=>{class se{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(m.K0))},se.\u0275prov=h.Yz7({token:se,factory:function(me){let Se=null;return Se=me?new me:function $t(){return new un((0,h.LFG)(m.K0))}(),Se},providedIn:"root"}),se})();typeof window<"u"&&window;let pt=(()=>{class se{}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=h.Yz7({token:se,factory:function(me){let Se=null;return Se=me?new(me||se):h.LFG(We),Se},providedIn:"root"}),se})(),We=(()=>{class se extends pt{constructor(me){super(),this._doc=me}sanitize(me,Se){if(null==Se)return null;switch(me){case h.q3G.NONE:return Se;case h.q3G.HTML:return(0,h.qzn)(Se,"HTML")?(0,h.z3N)(Se):(0,h.EiD)(this._doc,String(Se)).toString();case h.q3G.STYLE:return(0,h.qzn)(Se,"Style")?(0,h.z3N)(Se):Se;case h.q3G.SCRIPT:if((0,h.qzn)(Se,"Script"))return(0,h.z3N)(Se);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(Se,"URL")?(0,h.z3N)(Se):(0,h.mCW)(String(Se));case h.q3G.RESOURCE_URL:if((0,h.qzn)(Se,"ResourceURL"))return(0,h.z3N)(Se);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${me} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(me){return(0,h.JVY)(me)}bypassSecurityTrustStyle(me){return(0,h.L6k)(me)}bypassSecurityTrustScript(me){return(0,h.eBb)(me)}bypassSecurityTrustUrl(me){return(0,h.LAX)(me)}bypassSecurityTrustResourceUrl(me){return(0,h.pB0)(me)}}return se.\u0275fac=function(me){return new(me||se)(h.LFG(m.K0))},se.\u0275prov=h.Yz7({token:se,factory:function(me){let Se=null;return Se=me?new me:function Ze(se){return new We(se.get(m.K0))}(h.LFG(h.zs3)),Se},providedIn:"root"}),se})()},7799:(bn,xt,x)=>{x.d(xt,{jw:()=>rs,m2:()=>zt,F0:()=>Gr,rH:()=>ps,yS:()=>lu,Bz:()=>Ii,lC:()=>ko,fw:()=>Ui});var m=x(4650),h=x(8996),A=x(9646),De=x(1135),N=x(6805),ze=x(9841),Ye=x(7272),ie=x(9770),qe=x(9635),q=x(2843),Pe=x(9751),Ee=x(515),Le=x(727),gt=x(4482),ht=x(5403);function St(){return(0,gt.e)((M,R)=>{let S=null;M._refCount++;const j=(0,ht.x)(R,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(S=null);const Z=M._connection,Ae=S;S=null,Z&&(!Ae||Z===Ae)&&Z.unsubscribe(),R.unsubscribe()});M.subscribe(j),j.closed||(S=M.connect())})}class Ge extends Pe.y{constructor(R,S){super(),this.source=R,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,gt.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Le.w0;const S=this.getSubject();R.add(this.source.subscribe((0,ht.x)(S,void 0,()=>{this._teardown(),S.complete()},j=>{this._teardown(),S.error(j)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Le.w0.EMPTY)}return R}refCount(){return St()(this)}}var bt=x(7579),Ht=x(6895),Pt=x(4004),tt=x(3900),Qe=x(5698),He=x(8675),Ke=x(9300),ke=x(5577),$e=x(590),Dt=x(4351),ot=x(8505),dt=x(262),Rt=x(5026);function It(M){return M<=0?()=>Ee.E:(0,gt.e)((R,S)=>{let j=[];R.subscribe((0,ht.x)(S,Z=>{j.push(Z),M<j.length&&j.shift()},()=>{for(const Z of j)S.next(Z);S.complete()},void 0,()=>{j=null}))})}var Jt=x(8068),Kt=x(6590),an=x(4671);function fn(M,R){const S=arguments.length>=2;return j=>j.pipe(M?(0,Ke.h)((Z,Ae)=>M(Z,Ae,j)):an.y,It(1),S?(0,Kt.d)(R):(0,Jt.T)(()=>new N.K))}var vt=x(9718),qt=x(8746),Yt=x(8189),nn=x(1481);const Qt="primary",Dn=Symbol("RouteTitle");class Xt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S[0]:S}return null}getAll(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function mn(M){return new Xt(M)}function An(M,R,S){const j=S.path.split("/");if(j.length>M.length||"full"===S.pathMatch&&(R.hasChildren()||j.length<M.length))return null;const Z={};for(let Ae=0;Ae<j.length;Ae++){const ft=j[Ae],Ct=M[Ae];if(ft.startsWith(":"))Z[ft.substring(1)]=Ct;else if(ft!==Ct.path)return null}return{consumed:M.slice(0,j.length),posParams:Z}}function Rn(M,R){const S=M?Object.keys(M):void 0,j=R?Object.keys(R):void 0;if(!S||!j||S.length!=j.length)return!1;let Z;for(let Ae=0;Ae<S.length;Ae++)if(Z=S[Ae],!zn(M[Z],R[Z]))return!1;return!0}function zn(M,R){if(Array.isArray(M)&&Array.isArray(R)){if(M.length!==R.length)return!1;const S=[...M].sort(),j=[...R].sort();return S.every((Z,Ae)=>j[Ae]===Z)}return M===R}function $n(M){return Array.prototype.concat.apply([],M)}function Vn(M){return M.length>0?M[M.length-1]:null}function qn(M,R){for(const S in M)M.hasOwnProperty(S)&&R(M[S],S)}function _n(M){return(0,m.CqO)(M)?M:(0,m.QGY)(M)?(0,h.D)(Promise.resolve(M)):(0,A.of)(M)}const ge={exact:function $t(M,R,S){if(!vn(M.segments,R.segments)||!Ne(M.segments,R.segments,S)||M.numberOfChildren!==R.numberOfChildren)return!1;for(const j in R.children)if(!M.children[j]||!$t(M.children[j],R.children[j],S))return!1;return!0},subset:jt},rt={exact:function wt(M,R){return Rn(M,R)},subset:function un(M,R){return Object.keys(R).length<=Object.keys(M).length&&Object.keys(R).every(S=>zn(M[S],R[S]))},ignored:()=>!0};function Xe(M,R,S){return ge[S.paths](M.root,R.root,S.matrixParams)&&rt[S.queryParams](M.queryParams,R.queryParams)&&!("exact"===S.fragment&&M.fragment!==R.fragment)}function jt(M,R,S){return mt(M,R,R.segments,S)}function mt(M,R,S,j){if(M.segments.length>S.length){const Z=M.segments.slice(0,S.length);return!(!vn(Z,S)||R.hasChildren()||!Ne(Z,S,j))}if(M.segments.length===S.length){if(!vn(M.segments,S)||!Ne(M.segments,S,j))return!1;for(const Z in R.children)if(!M.children[Z]||!jt(M.children[Z],R.children[Z],j))return!1;return!0}{const Z=S.slice(0,M.segments.length),Ae=S.slice(M.segments.length);return!!(vn(M.segments,Z)&&Ne(M.segments,Z,j)&&M.children[Qt])&&mt(M.children[Qt],R,Ae,j)}}function Ne(M,R,S){return R.every((j,Z)=>rt[S](M[Z].parameters,j.parameters))}class yt{constructor(R,S,j){this.root=R,this.queryParams=S,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return ae.serialize(this)}}class Ut{constructor(R,S){this.segments=R,this.children=S,this.parent=null,qn(S,(j,Z)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return K(this)}}class cn{constructor(R,S){this.path=R,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return je(this)}}function vn(M,R){return M.length===R.length&&M.every((S,j)=>S.path===R[j].path)}let Ot=(()=>{class M{}return M.\u0275fac=function(S){return new(S||M)},M.\u0275prov=m.Yz7({token:M,factory:function(){return new te},providedIn:"root"}),M})();class te{parse(R){const S=new Re(R);return new yt(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(R){const S=`/${z(R.root,!0)}`,j=function ve(M){const R=Object.keys(M).map(S=>{const j=M[S];return Array.isArray(j)?j.map(Z=>`${J(S)}=${J(Z)}`).join("&"):`${J(S)}=${J(j)}`}).filter(S=>!!S);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${S}${j}${"string"==typeof R.fragment?`#${function ct(M){return encodeURI(M)}(R.fragment)}`:""}`}}const ae=new te;function K(M){return M.segments.map(R=>je(R)).join("/")}function z(M,R){if(!M.hasChildren())return K(M);if(R){const S=M.children[Qt]?z(M.children[Qt],!1):"",j=[];return qn(M.children,(Z,Ae)=>{Ae!==Qt&&j.push(`${Ae}:${z(Z,!1)}`)}),j.length>0?`${S}(${j.join("//")})`:S}{const S=function kt(M,R){let S=[];return qn(M.children,(j,Z)=>{Z===Qt&&(S=S.concat(R(j,Z)))}),qn(M.children,(j,Z)=>{Z!==Qt&&(S=S.concat(R(j,Z)))}),S}(M,(j,Z)=>Z===Qt?[z(M.children[Qt],!1)]:[`${Z}:${z(j,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Qt]?`${K(M)}/${S[0]}`:`${K(M)}/(${S.join("//")})`}}function de(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(M){return de(M).replace(/%3B/gi,";")}function st(M){return de(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(M){return decodeURIComponent(M)}function Lt(M){return Mt(M.replace(/\+/g,"%20"))}function je(M){return`${st(M.path)}${function nt(M){return Object.keys(M).map(R=>`;${st(R)}=${st(M[R])}`).join("")}(M.parameters)}`}const Ce=/^[^\/()?;=#]+/;function ne(M){const R=M.match(Ce);return R?R[0]:""}const Oe=/^[^=?&#]+/,Ze=/^[^&#]+/;class Re{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(R.length>0||Object.keys(S).length>0)&&(j[Qt]=new Ut(R,S)),j}parseSegment(){const R=ne(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(R),new cn(Mt(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const S=ne(this.remaining);if(!S)return;this.capture(S);let j="";if(this.consumeOptional("=")){const Z=ne(this.remaining);Z&&(j=Z,this.capture(j))}R[Mt(S)]=Mt(j)}parseQueryParam(R){const S=function pt(M){const R=M.match(Oe);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let j="";if(this.consumeOptional("=")){const ft=function We(M){const R=M.match(Ze);return R?R[0]:""}(this.remaining);ft&&(j=ft,this.capture(j))}const Z=Lt(S),Ae=Lt(j);if(R.hasOwnProperty(Z)){let ft=R[Z];Array.isArray(ft)||(ft=[ft],R[Z]=ft),ft.push(Ae)}else R[Z]=Ae}parseParens(R){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=ne(this.remaining),Z=this.remaining[j.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new m.vHH(4010,!1);let Ae;j.indexOf(":")>-1?(Ae=j.slice(0,j.indexOf(":")),this.capture(Ae),this.capture(":")):R&&(Ae=Qt);const ft=this.parseChildren();S[Ae]=1===Object.keys(ft).length?ft[Qt]:new Ut([],ft),this.consumeOptional("//")}return S}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new m.vHH(4011,!1)}}function se(M){return M.segments.length>0?new Ut([],{[Qt]:M}):M}function he(M){const R={};for(const j of Object.keys(M.children)){const Ae=he(M.children[j]);(Ae.segments.length>0||Ae.hasChildren())&&(R[j]=Ae)}return function me(M){if(1===M.numberOfChildren&&M.children[Qt]){const R=M.children[Qt];return new Ut(M.segments.concat(R.segments),R.children)}return M}(new Ut(M.segments,R))}function Se(M){return M instanceof yt}function V(M,R,S,j,Z){if(0===S.length)return Te(R.root,R.root,R.root,j,Z);const Ae=function ut(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new ye(!0,0,M);let R=0,S=!1;const j=M.reduce((Z,Ae,ft)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const Ct={};return qn(Ae.outlets,(gn,Hn)=>{Ct[Hn]="string"==typeof gn?gn.split("/"):gn}),[...Z,{outlets:Ct}]}if(Ae.segmentPath)return[...Z,Ae.segmentPath]}return"string"!=typeof Ae?[...Z,Ae]:0===ft?(Ae.split("/").forEach((Ct,gn)=>{0==gn&&"."===Ct||(0==gn&&""===Ct?S=!0:".."===Ct?R++:""!=Ct&&Z.push(Ct))}),Z):[...Z,Ae]},[]);return new ye(S,R,j)}(S);return Ae.toRoot()?Te(R.root,R.root,new Ut([],{}),j,Z):function ft(gn){const Hn=function Me(M,R,S,j){if(M.isAbsolute)return new O(R.root,!0,0);if(-1===j)return new O(S,S===R.root,0);return function _t(M,R,S){let j=M,Z=R,Ae=S;for(;Ae>Z;){if(Ae-=Z,j=j.parent,!j)throw new m.vHH(4005,!1);Z=j.segments.length}return new O(j,!1,Z-Ae)}(S,j+(ce(M.commands[0])?0:1),M.numberOfDoubleDots)}(Ae,R,M.snapshot?._urlSegment,gn),Ri=Hn.processChildren?wi(Hn.segmentGroup,Hn.index,Ae.commands):di(Hn.segmentGroup,Hn.index,Ae.commands);return Te(R.root,Hn.segmentGroup,Ri,j,Z)}(M.snapshot?._lastPathIndex)}function ce(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Ve(M){return"object"==typeof M&&null!=M&&M.outlets}function Te(M,R,S,j,Z){let ft,Ae={};j&&qn(j,(gn,Hn)=>{Ae[Hn]=Array.isArray(gn)?gn.map(Ri=>`${Ri}`):`${gn}`}),ft=M===R?S:Et(M,R,S);const Ct=se(he(ft));return new yt(Ct,Ae,Z)}function Et(M,R,S){const j={};return qn(M.children,(Z,Ae)=>{j[Ae]=Z===R?S:Et(Z,R,S)}),new Ut(M.segments,j)}class ye{constructor(R,S,j){if(this.isAbsolute=R,this.numberOfDoubleDots=S,this.commands=j,R&&j.length>0&&ce(j[0]))throw new m.vHH(4003,!1);const Z=j.find(Ve);if(Z&&Z!==Vn(j))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class O{constructor(R,S,j){this.segmentGroup=R,this.processChildren=S,this.index=j}}function di(M,R,S){if(M||(M=new Ut([],{})),0===M.segments.length&&M.hasChildren())return wi(M,R,S);const j=function ro(M,R,S){let j=0,Z=R;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;Z<M.segments.length;){if(j>=S.length)return Ae;const ft=M.segments[Z],Ct=S[j];if(Ve(Ct))break;const gn=`${Ct}`,Hn=j<S.length-1?S[j+1]:null;if(Z>0&&void 0===gn)break;if(gn&&Hn&&"object"==typeof Hn&&void 0===Hn.outlets){if(!Xr(gn,Hn,ft))return Ae;j+=2}else{if(!Xr(gn,{},ft))return Ae;j++}Z++}return{match:!0,pathIndex:Z,commandIndex:j}}(M,R,S),Z=S.slice(j.commandIndex);if(j.match&&j.pathIndex<M.segments.length){const Ae=new Ut(M.segments.slice(0,j.pathIndex),{});return Ae.children[Qt]=new Ut(M.segments.slice(j.pathIndex),M.children),wi(Ae,0,Z)}return j.match&&0===Z.length?new Ut(M.segments,{}):j.match&&!M.hasChildren()?tr(M,R,S):j.match?wi(M,0,Z):tr(M,R,S)}function wi(M,R,S){if(0===S.length)return new Ut(M.segments,{});{const j=function Sn(M){return Ve(M[0])?M[0].outlets:{[Qt]:M}}(S),Z={};return qn(j,(Ae,ft)=>{"string"==typeof Ae&&(Ae=[Ae]),null!==Ae&&(Z[ft]=di(M.children[ft],R,Ae))}),qn(M.children,(Ae,ft)=>{void 0===j[ft]&&(Z[ft]=Ae)}),new Ut(M.segments,Z)}}function tr(M,R,S){const j=M.segments.slice(0,R);let Z=0;for(;Z<S.length;){const Ae=S[Z];if(Ve(Ae)){const gn=ys(Ae.outlets);return new Ut(j,gn)}if(0===Z&&ce(S[0])){j.push(new cn(M.segments[R].path,is(S[0]))),Z++;continue}const ft=Ve(Ae)?Ae.outlets[Qt]:`${Ae}`,Ct=Z<S.length-1?S[Z+1]:null;ft&&Ct&&ce(Ct)?(j.push(new cn(ft,is(Ct))),Z+=2):(j.push(new cn(ft,{})),Z++)}return new Ut(j,{})}function ys(M){const R={};return qn(M,(S,j)=>{"string"==typeof S&&(S=[S]),null!==S&&(R[j]=tr(new Ut([],{}),0,S))}),R}function is(M){const R={};return qn(M,(S,j)=>R[j]=`${S}`),R}function Xr(M,R,S){return M==S.path&&Rn(R,S.parameters)}class Vt{constructor(R,S){this.id=R,this.url=S}}class Bt extends Vt{constructor(R,S,j="imperative",Z=null){super(R,S),this.type=0,this.navigationTrigger=j,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zt extends Vt{constructor(R,S,j){super(R,S),this.urlAfterRedirects=j,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yn extends Vt{constructor(R,S,j,Z){super(R,S),this.reason=j,this.code=Z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class In extends Vt{constructor(R,S,j,Z){super(R,S),this.error=j,this.target=Z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zn extends Vt{constructor(R,S,j,Z){super(R,S),this.urlAfterRedirects=j,this.state=Z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Vt{constructor(R,S,j,Z){super(R,S),this.urlAfterRedirects=j,this.state=Z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends Vt{constructor(R,S,j,Z,Ae){super(R,S),this.urlAfterRedirects=j,this.state=Z,this.shouldActivate=Ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ni extends Vt{constructor(R,S,j,Z){super(R,S),this.urlAfterRedirects=j,this.state=Z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends Vt{constructor(R,S,j,Z){super(R,S),this.urlAfterRedirects=j,this.state=Z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class il{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ks{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rl{constructor(R,S,j){this.routerEvent=R,this.position=S,this.anchor=j,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nl{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const S=this.pathFromRoot(R);return S.length>1?S[S.length-2]:null}children(R){const S=Wo(R,this._root);return S?S.children.map(j=>j.value):[]}firstChild(R){const S=Wo(R,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(R){const S=Ha(R,this._root);return S.length<2?[]:S[S.length-2].children.map(Z=>Z.value).filter(Z=>Z!==R)}pathFromRoot(R){return Ha(R,this._root).map(S=>S.value)}}function Wo(M,R){if(M===R.value)return R;for(const S of R.children){const j=Wo(M,S);if(j)return j}return null}function Ha(M,R){if(M===R.value)return[R];for(const S of R.children){const j=Ha(M,S);if(j.length)return j.unshift(R),j}return[]}class bs{constructor(R,S){this.value=R,this.children=S}toString(){return`TreeNode(${this.value})`}}function oo(M){const R={};return M&&M.children.forEach(S=>R[S.value.outlet]=S),R}class ws extends Nl{constructor(R,S){super(R),this.snapshot=S,Ds(this,R)}toString(){return this.snapshot.toString()}}function Zs(M,R){const S=function rl(M,R){const ft=new kr([],{},{},"",{},Qt,R,null,M.root,-1,{});return new Fs("",new bs(ft,[]))}(M,R),j=new De.X([new cn("",{})]),Z=new De.X({}),Ae=new De.X({}),ft=new De.X({}),Ct=new De.X(""),gn=new ao(j,Z,ft,Ct,Ae,Qt,R,S.root);return gn.snapshot=S.root,new ws(new bs(gn,[]),S)}class ao{constructor(R,S,j,Z,Ae,ft,Ct,gn){this.url=R,this.params=S,this.queryParams=j,this.fragment=Z,this.data=Ae,this.outlet=ft,this.component=Ct,this.title=this.data?.pipe((0,Pt.U)(Hn=>Hn[Dn]))??(0,A.of)(void 0),this._futureSnapshot=gn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(R=>mn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(R=>mn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cs(M,R="emptyOnly"){const S=M.pathFromRoot;let j=0;if("always"!==R)for(j=S.length-1;j>=1;){const Z=S[j],Ae=S[j-1];if(Z.routeConfig&&""===Z.routeConfig.path)j--;else{if(Ae.component)break;j--}}return function ca(M){return M.reduce((R,S)=>({params:{...R.params,...S.params},data:{...R.data,...S.data},resolve:{...S.data,...R.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(j))}class kr{constructor(R,S,j,Z,Ae,ft,Ct,gn,Hn,Ri,ii,ji){this.url=R,this.params=S,this.queryParams=j,this.fragment=Z,this.data=Ae,this.outlet=ft,this.component=Ct,this.title=this.data?.[Dn],this.routeConfig=gn,this._urlSegment=Hn,this._lastPathIndex=Ri,this._correctedLastPathIndex=ji??Ri,this._resolve=ii}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fs extends Nl{constructor(R,S){super(S),this.url=R,Ds(this,S)}toString(){return Oo(this._root)}}function Ds(M,R){R.value._routerState=M,R.children.forEach(S=>Ds(M,S))}function Oo(M){const R=M.children.length>0?` { ${M.children.map(Oo).join(", ")} } `:"";return`${M.value}${R}`}function wr(M){if(M.snapshot){const R=M.snapshot,S=M._futureSnapshot;M.snapshot=S,Rn(R.queryParams,S.queryParams)||M.queryParams.next(S.queryParams),R.fragment!==S.fragment&&M.fragment.next(S.fragment),Rn(R.params,S.params)||M.params.next(S.params),function Un(M,R){if(M.length!==R.length)return!1;for(let S=0;S<M.length;++S)if(!Rn(M[S],R[S]))return!1;return!0}(R.url,S.url)||M.url.next(S.url),Rn(R.data,S.data)||M.data.next(S.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Ls(M,R){const S=Rn(M.params,R.params)&&function Nn(M,R){return vn(M,R)&&M.every((S,j)=>Rn(S.parameters,R[j].parameters))}(M.url,R.url);return S&&!(!M.parent!=!R.parent)&&(!M.parent||Ls(M.parent,R.parent))}function lo(M,R,S){if(S&&M.shouldReuseRoute(R.value,S.value.snapshot)){const j=S.value;j._futureSnapshot=R.value;const Z=function Es(M,R,S){return R.children.map(j=>{for(const Z of S.children)if(M.shouldReuseRoute(j.value,Z.value.snapshot))return lo(M,j,Z);return lo(M,j)})}(M,R,S);return new bs(j,Z)}{if(M.shouldAttach(R.value)){const Ae=M.retrieve(R.value);if(null!==Ae){const ft=Ae.route;return ft.value._futureSnapshot=R.value,ft.children=R.children.map(Ct=>lo(M,Ct)),ft}}const j=function co(M){return new ao(new De.X(M.url),new De.X(M.params),new De.X(M.queryParams),new De.X(M.fragment),new De.X(M.data),M.outlet,M.component,M)}(R.value),Z=R.children.map(Ae=>lo(M,Ae));return new bs(j,Z)}}const Ua="ngNavigationCancelingError";function Yo(M,R){const{redirectTo:S,navigationBehaviorOptions:j}=Se(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,Z=sl(!1,0,R);return Z.url=S,Z.navigationBehaviorOptions=j,Z}function sl(M,R,S){const j=new Error("NavigationCancelingError: "+(M||""));return j[Ua]=!0,j.cancellationCode=R,S&&(j.url=S),j}function bo(M){return Pl(M)&&Se(M.url)}function Pl(M){return M&&M[Ua]}class cs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new us,this.attachRef=null}}let us=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(S,j){const Z=this.getOrCreateContext(S);Z.outlet=j,this.contexts.set(S,Z)}onChildOutletDestroyed(S){const j=this.getContext(S);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let j=this.getContext(S);return j||(j=new cs,this.contexts.set(S,j)),j}getContext(S){return this.contexts.get(S)||null}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const sr=!1;let ko=(()=>{class M{constructor(S,j,Z,Ae,ft){this.parentContexts=S,this.location=j,this.changeDetector=Ae,this.environmentInjector=ft,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=Z||Qt,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,sr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,sr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,sr);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,j){this.activated=S,this._activatedRoute=j,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,j){if(this.isActivated)throw new m.vHH(4013,sr);this._activatedRoute=S;const Z=this.location,ft=S._futureSnapshot.component,Ct=this.parentContexts.getOrCreateContext(this.name).children,gn=new Ro(S,Ct,Z.injector);if(j&&function Fl(M){return!!M.resolveComponentFactory}(j)){const Hn=j.resolveComponentFactory(ft);this.activated=Z.createComponent(Hn,Z.length,gn)}else this.activated=Z.createComponent(ft,{index:Z.length,injector:gn,environmentInjector:j??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(S){return new(S||M)(m.Y36(us),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},M.\u0275dir=m.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),M})();class Ro{constructor(R,S,j){this.route=R,this.childContexts=S,this.parent=j}get(R,S){return R===ao?this.route:R===us?this.childContexts:this.parent.get(R,S)}}let Ui=(()=>{class M{}return M.\u0275fac=function(S){return new(S||M)},M.\u0275cmp=m.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(S,j){1&S&&m._UZ(0,"router-outlet")},dependencies:[ko],encapsulation:2}),M})();function ua(M,R){return M.providers&&!M._injector&&(M._injector=(0,m.MMx)(M.providers,R,`Route: ${M.path}`)),M._injector??R}function Jr(M){const R=M.children&&M.children.map(Jr),S=R?{...M,children:R}:{...M};return!S.component&&!S.loadComponent&&(R||S.loadChildren)&&S.outlet&&S.outlet!==Qt&&(S.component=Ui),S}function ss(M){return M.outlet||Qt}function Vs(M,R){const S=M.filter(j=>ss(j)===R);return S.push(...M.filter(j=>ss(j)!==R)),S}function uo(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let R=M.parent;R;R=R.parent){const S=R.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class Di{constructor(R,S,j,Z){this.routeReuseStrategy=R,this.futureState=S,this.currState=j,this.forwardEvent=Z}activate(R){const S=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,j,R),wr(this.futureState.root),this.activateChildRoutes(S,j,R)}deactivateChildRoutes(R,S,j){const Z=oo(S);R.children.forEach(Ae=>{const ft=Ae.value.outlet;this.deactivateRoutes(Ae,Z[ft],j),delete Z[ft]}),qn(Z,(Ae,ft)=>{this.deactivateRouteAndItsChildren(Ae,j)})}deactivateRoutes(R,S,j){const Z=R.value,Ae=S?S.value:null;if(Z===Ae)if(Z.component){const ft=j.getContext(Z.outlet);ft&&this.deactivateChildRoutes(R,S,ft.children)}else this.deactivateChildRoutes(R,S,j);else Ae&&this.deactivateRouteAndItsChildren(S,j)}deactivateRouteAndItsChildren(R,S){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,S):this.deactivateRouteAndOutlet(R,S)}detachAndStoreRouteSubtree(R,S){const j=S.getContext(R.value.outlet),Z=j&&R.value.component?j.children:S,Ae=oo(R);for(const ft of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[ft],Z);if(j&&j.outlet){const ft=j.outlet.detach(),Ct=j.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:ft,route:R,contexts:Ct})}}deactivateRouteAndOutlet(R,S){const j=S.getContext(R.value.outlet),Z=j&&R.value.component?j.children:S,Ae=oo(R);for(const ft of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[ft],Z);j&&j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated(),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(R,S,j){const Z=oo(S);R.children.forEach(Ae=>{this.activateRoutes(Ae,Z[Ae.value.outlet],j),this.forwardEvent(new rs(Ae.value.snapshot))}),R.children.length&&this.forwardEvent(new $r(R.value.snapshot))}activateRoutes(R,S,j){const Z=R.value,Ae=S?S.value:null;if(wr(Z),Z===Ae)if(Z.component){const ft=j.getOrCreateContext(Z.outlet);this.activateChildRoutes(R,S,ft.children)}else this.activateChildRoutes(R,S,j);else if(Z.component){const ft=j.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const Ct=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),ft.children.onOutletReAttached(Ct.contexts),ft.attachRef=Ct.componentRef,ft.route=Ct.route.value,ft.outlet&&ft.outlet.attach(Ct.componentRef,Ct.route.value),wr(Ct.route.value),this.activateChildRoutes(R,null,ft.children)}else{const Ct=uo(Z.snapshot),gn=Ct?.get(m._Vd)??null;ft.attachRef=null,ft.route=Z,ft.resolver=gn,ft.injector=Ct,ft.outlet&&ft.outlet.activateWith(Z,ft.injector),this.activateChildRoutes(R,null,ft.children)}}else this.activateChildRoutes(R,null,j)}}class Po{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class hs{constructor(R,S){this.component=R,this.route=S}}function Hs(M,R,S){const j=M._root;return os(j,R?R._root:null,S,[j.value])}function Us(M,R){const S=Symbol(),j=R.get(M,S);return j===S?"function"!=typeof M||(0,m.Z0I)(M)?R.get(M):M:j}function os(M,R,S,j,Z={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=oo(R);return M.children.forEach(ft=>{(function ol(M,R,S,j,Z={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=M.value,ft=R?R.value:null,Ct=S?S.getContext(M.value.outlet):null;if(ft&&Ae.routeConfig===ft.routeConfig){const gn=function nr(M,R,S){if("function"==typeof S)return S(M,R);switch(S){case"pathParamsChange":return!vn(M.url,R.url);case"pathParamsOrQueryParamsChange":return!vn(M.url,R.url)||!Rn(M.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ls(M,R)||!Rn(M.queryParams,R.queryParams);default:return!Ls(M,R)}}(ft,Ae,Ae.routeConfig.runGuardsAndResolvers);gn?Z.canActivateChecks.push(new Po(j)):(Ae.data=ft.data,Ae._resolvedData=ft._resolvedData),os(M,R,Ae.component?Ct?Ct.children:null:S,j,Z),gn&&Ct&&Ct.outlet&&Ct.outlet.isActivated&&Z.canDeactivateChecks.push(new hs(Ct.outlet.component,ft))}else ft&&En(R,Ct,Z),Z.canActivateChecks.push(new Po(j)),os(M,null,Ae.component?Ct?Ct.children:null:S,j,Z)})(ft,Ae[ft.value.outlet],S,j.concat([ft.value]),Z),delete Ae[ft.value.outlet]}),qn(Ae,(ft,Ct)=>En(ft,S.getContext(Ct),Z)),Z}function En(M,R,S){const j=oo(M),Z=M.value;qn(j,(Ae,ft)=>{En(Ae,Z.component?R?R.children.getContext(ft):null:R,S)}),S.canDeactivateChecks.push(new hs(Z.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,Z))}function ki(M){return"function"==typeof M}function gi(M){return M instanceof N.K||"EmptyError"===M?.name}const Cr=Symbol("INITIAL_VALUE");function xs(){return(0,tt.w)(M=>(0,ze.a)(M.map(R=>R.pipe((0,Qe.q)(1),(0,He.O)(Cr)))).pipe((0,Pt.U)(R=>{for(const S of R)if(!0!==S){if(S===Cr)return Cr;if(!1===S||S instanceof yt)return S}return!0}),(0,Ke.h)(R=>R!==Cr),(0,Qe.q)(1)))}function uc(M){return(0,qe.z)((0,ot.b)(R=>{if(Se(R))throw Yo(0,R)}),(0,Pt.U)(R=>!0===R))}const Ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Da(M,R,S,j,Z){const Ae=za(M,R,S);return Ae.matched?function ul(M,R,S,j){const Z=R.canMatch;if(!Z||0===Z.length)return(0,A.of)(!0);const Ae=Z.map(ft=>{const Ct=Us(ft,M);return _n(function $(M){return M&&ki(M.canMatch)}(Ct)?Ct.canMatch(R,S):M.runInContext(()=>Ct(R,S)))});return(0,A.of)(Ae).pipe(xs(),uc())}(j=ua(R,j),R,S).pipe((0,Pt.U)(ft=>!0===ft?Ae:{...Ko})):(0,A.of)(Ae)}function za(M,R,S){if(""===R.path)return"full"===R.pathMatch&&(M.hasChildren()||S.length>0)?{...Ko}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const Z=(R.matcher||An)(S,M,R);if(!Z)return{...Ko};const Ae={};qn(Z.posParams,(Ct,gn)=>{Ae[gn]=Ct.path});const ft=Z.consumed.length>0?{...Ae,...Z.consumed[Z.consumed.length-1].parameters}:Ae;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:S.slice(Z.consumed.length),parameters:ft,positionalParamSegments:Z.posParams??{}}}function Zo(M,R,S,j,Z="corrected"){if(S.length>0&&function Ea(M,R,S){return S.some(j=>Co(M,R,j)&&ss(j)!==Qt)}(M,S,j)){const ft=new Ut(R,function dl(M,R,S,j){const Z={};Z[Qt]=j,j._sourceSegment=M,j._segmentIndexShift=R.length;for(const Ae of S)if(""===Ae.path&&ss(Ae)!==Qt){const ft=new Ut([],{});ft._sourceSegment=M,ft._segmentIndexShift=R.length,Z[ss(Ae)]=ft}return Z}(M,R,j,new Ut(S,M.children)));return ft._sourceSegment=M,ft._segmentIndexShift=R.length,{segmentGroup:ft,slicedSegments:[]}}if(0===S.length&&function Vl(M,R,S){return S.some(j=>Co(M,R,j))}(M,S,j)){const ft=new Ut(M.segments,function nu(M,R,S,j,Z,Ae){const ft={};for(const Ct of j)if(Co(M,S,Ct)&&!Z[ss(Ct)]){const gn=new Ut([],{});gn._sourceSegment=M,gn._segmentIndexShift="legacy"===Ae?M.segments.length:R.length,ft[ss(Ct)]=gn}return{...Z,...ft}}(M,R,S,j,M.children,Z));return ft._sourceSegment=M,ft._segmentIndexShift=R.length,{segmentGroup:ft,slicedSegments:S}}const Ae=new Ut(M.segments,M.children);return Ae._sourceSegment=M,Ae._segmentIndexShift=R.length,{segmentGroup:Ae,slicedSegments:S}}function Co(M,R,S){return(!(M.hasChildren()||R.length>0)||"full"!==S.pathMatch)&&""===S.path}function U(M,R,S,j){return!!(ss(M)===j||j!==Qt&&Co(R,S,M))&&("**"===M.path||za(R,M,S).matched)}function fe(M,R,S){return 0===R.length&&!M.children[S]}const W=!1;class Ie{constructor(R){this.segmentGroup=R||null}}class Tt{constructor(R){this.urlTree=R}}function ln(M){return(0,q._)(new Ie(M))}function pn(M){return(0,q._)(new Tt(M))}class Zi{constructor(R,S,j,Z,Ae){this.injector=R,this.configLoader=S,this.urlSerializer=j,this.urlTree=Z,this.config=Ae,this.allowRedirects=!0}apply(){const R=Zo(this.urlTree.root,[],[],this.config).segmentGroup,S=new Ut(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,S,Qt).pipe((0,Pt.U)(Ae=>this.createUrlTree(he(Ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,dt.K)(Ae=>{if(Ae instanceof Tt)return this.allowRedirects=!1,this.match(Ae.urlTree);throw Ae instanceof Ie?this.noMatchError(Ae):Ae}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,Qt).pipe((0,Pt.U)(Z=>this.createUrlTree(he(Z),R.queryParams,R.fragment))).pipe((0,dt.K)(Z=>{throw Z instanceof Ie?this.noMatchError(Z):Z}))}noMatchError(R){return new m.vHH(4002,W)}createUrlTree(R,S,j){const Z=se(R);return new yt(Z,S,j)}expandSegmentGroup(R,S,j,Z){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(R,S,j).pipe((0,Pt.U)(Ae=>new Ut([],Ae))):this.expandSegment(R,j,S,j.segments,Z,!0)}expandChildren(R,S,j){const Z=[];for(const Ae of Object.keys(j.children))"primary"===Ae?Z.unshift(Ae):Z.push(Ae);return(0,h.D)(Z).pipe((0,Dt.b)(Ae=>{const ft=j.children[Ae],Ct=Vs(S,Ae);return this.expandSegmentGroup(R,Ct,ft,Ae).pipe((0,Pt.U)(gn=>({segment:gn,outlet:Ae})))}),(0,Rt.R)((Ae,ft)=>(Ae[ft.outlet]=ft.segment,Ae),{}),fn())}expandSegment(R,S,j,Z,Ae,ft){return(0,h.D)(j).pipe((0,Dt.b)(Ct=>this.expandSegmentAgainstRoute(R,S,j,Ct,Z,Ae,ft).pipe((0,dt.K)(Hn=>{if(Hn instanceof Ie)return(0,A.of)(null);throw Hn}))),(0,$e.P)(Ct=>!!Ct),(0,dt.K)((Ct,gn)=>{if(gi(Ct))return fe(S,Z,Ae)?(0,A.of)(new Ut([],{})):ln(S);throw Ct}))}expandSegmentAgainstRoute(R,S,j,Z,Ae,ft,Ct){return U(Z,S,Ae,ft)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(R,S,Z,Ae,ft):Ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,S,j,Z,Ae,ft):ln(S):ln(S)}expandSegmentAgainstRouteUsingRedirect(R,S,j,Z,Ae,ft){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,j,Z,ft):this.expandRegularSegmentAgainstRouteUsingRedirect(R,S,j,Z,Ae,ft)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,S,j,Z){const Ae=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?pn(Ae):this.lineralizeSegments(j,Ae).pipe((0,ke.z)(ft=>{const Ct=new Ut(ft,{});return this.expandSegment(R,Ct,S,ft,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,S,j,Z,Ae,ft){const{matched:Ct,consumedSegments:gn,remainingSegments:Hn,positionalParamSegments:Ri}=za(S,Z,Ae);if(!Ct)return ln(S);const ii=this.applyRedirectCommands(gn,Z.redirectTo,Ri);return Z.redirectTo.startsWith("/")?pn(ii):this.lineralizeSegments(Z,ii).pipe((0,ke.z)(ji=>this.expandSegment(R,S,j,ji.concat(Hn),ft,!1)))}matchSegmentAgainstRoute(R,S,j,Z,Ae){return"**"===j.path?(R=ua(j,R),j.loadChildren?(j._loadedRoutes?(0,A.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):this.configLoader.loadChildren(R,j)).pipe((0,Pt.U)(Ct=>(j._loadedRoutes=Ct.routes,j._loadedInjector=Ct.injector,new Ut(Z,{})))):(0,A.of)(new Ut(Z,{}))):Da(S,j,Z,R).pipe((0,tt.w)(({matched:ft,consumedSegments:Ct,remainingSegments:gn})=>ft?this.getChildConfig(R=j._injector??R,j,Z).pipe((0,ke.z)(Ri=>{const ii=Ri.injector??R,ji=Ri.routes,{segmentGroup:es,slicedSegments:js}=Zo(S,Ct,gn,ji),Jo=new Ut(es.segments,es.children);if(0===js.length&&Jo.hasChildren())return this.expandChildren(ii,ji,Jo).pipe((0,Pt.U)(Gl=>new Ut(Ct,Gl)));if(0===ji.length&&0===js.length)return(0,A.of)(new Ut(Ct,{}));const Ms=ss(j)===Ae;return this.expandSegment(ii,Jo,ji,js,Ms?Qt:Ae,!0).pipe((0,Pt.U)(Qs=>new Ut(Ct.concat(Qs.segments),Qs.children)))})):ln(S)))}getChildConfig(R,S,j){return S.children?(0,A.of)({routes:S.children,injector:R}):S.loadChildren?void 0!==S._loadedRoutes?(0,A.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function Ca(M,R,S,j){const Z=R.canLoad;if(void 0===Z||0===Z.length)return(0,A.of)(!0);const Ae=Z.map(ft=>{const Ct=Us(ft,M);return _n(function al(M){return M&&ki(M.canLoad)}(Ct)?Ct.canLoad(R,S):M.runInContext(()=>Ct(R,S)))});return(0,A.of)(Ae).pipe(xs(),uc())}(R,S,j).pipe((0,ke.z)(Z=>Z?this.configLoader.loadChildren(R,S).pipe((0,ot.b)(Ae=>{S._loadedRoutes=Ae.routes,S._loadedInjector=Ae.injector})):function Ki(M){return(0,q._)(sl(W,3))}())):(0,A.of)({routes:[],injector:R})}lineralizeSegments(R,S){let j=[],Z=S.root;for(;;){if(j=j.concat(Z.segments),0===Z.numberOfChildren)return(0,A.of)(j);if(Z.numberOfChildren>1||!Z.children[Qt])return(0,q._)(new m.vHH(4e3,W));Z=Z.children[Qt]}}applyRedirectCommands(R,S,j){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),R,j)}applyRedirectCreateUrlTree(R,S,j,Z){const Ae=this.createSegmentGroup(R,S.root,j,Z);return new yt(Ae,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(R,S){const j={};return qn(R,(Z,Ae)=>{if("string"==typeof Z&&Z.startsWith(":")){const Ct=Z.substring(1);j[Ae]=S[Ct]}else j[Ae]=Z}),j}createSegmentGroup(R,S,j,Z){const Ae=this.createSegments(R,S.segments,j,Z);let ft={};return qn(S.children,(Ct,gn)=>{ft[gn]=this.createSegmentGroup(R,Ct,j,Z)}),new Ut(Ae,ft)}createSegments(R,S,j,Z){return S.map(Ae=>Ae.path.startsWith(":")?this.findPosParam(R,Ae,Z):this.findOrReturn(Ae,j))}findPosParam(R,S,j){const Z=j[S.path.substring(1)];if(!Z)throw new m.vHH(4001,W);return Z}findOrReturn(R,S){let j=0;for(const Z of S){if(Z.path===R.path)return S.splice(j),Z;j++}return R}}class ir{}class Do{constructor(R,S,j,Z,Ae,ft,Ct,gn){this.injector=R,this.rootComponentType=S,this.config=j,this.urlTree=Z,this.url=Ae,this.paramsInheritanceStrategy=ft,this.relativeLinkResolution=Ct,this.urlSerializer=gn}recognize(){const R=Zo(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Qt).pipe((0,Pt.U)(S=>{if(null===S)return null;const j=new kr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),Z=new bs(j,S),Ae=new Fs(this.url,Z);return this.inheritParamsAndData(Ae._root),Ae}))}inheritParamsAndData(R){const S=R.value,j=Cs(S,this.paramsInheritanceStrategy);S.params=Object.freeze(j.params),S.data=Object.freeze(j.data),R.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(R,S,j,Z){return 0===j.segments.length&&j.hasChildren()?this.processChildren(R,S,j):this.processSegment(R,S,j,j.segments,Z)}processChildren(R,S,j){return(0,h.D)(Object.keys(j.children)).pipe((0,Dt.b)(Z=>{const Ae=j.children[Z],ft=Vs(S,Z);return this.processSegmentGroup(R,ft,Ae,Z)}),(0,Rt.R)((Z,Ae)=>Z&&Ae?(Z.push(...Ae),Z):null),function sn(M,R=!1){return(0,gt.e)((S,j)=>{let Z=0;S.subscribe((0,ht.x)(j,Ae=>{const ft=M(Ae,Z++);(ft||R)&&j.next(Ae),!ft&&j.complete()}))})}(Z=>null!==Z),(0,Kt.d)(null),fn(),(0,Pt.U)(Z=>{if(null===Z)return null;const Ae=fs(Z);return function dr(M){M.sort((R,S)=>R.value.outlet===Qt?-1:S.value.outlet===Qt?1:R.value.outlet.localeCompare(S.value.outlet))}(Ae),Ae}))}processSegment(R,S,j,Z,Ae){return(0,h.D)(S).pipe((0,Dt.b)(ft=>this.processSegmentAgainstRoute(ft._injector??R,ft,j,Z,Ae)),(0,$e.P)(ft=>!!ft),(0,dt.K)(ft=>{if(gi(ft))return fe(j,Z,Ae)?(0,A.of)([]):(0,A.of)(null);throw ft}))}processSegmentAgainstRoute(R,S,j,Z,Ae){if(S.redirectTo||!U(S,j,Z,Ae))return(0,A.of)(null);let ft;if("**"===S.path){const Ct=Z.length>0?Vn(Z).parameters:{},gn=_r(j)+Z.length,Hn=new kr(Z,Ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iu(S),ss(S),S.component??S._loadedComponent??null,S,Bn(j),gn,ci(S),gn);ft=(0,A.of)({snapshot:Hn,consumedSegments:[],remainingSegments:[]})}else ft=Da(j,S,Z,R).pipe((0,Pt.U)(({matched:Ct,consumedSegments:gn,remainingSegments:Hn,parameters:Ri})=>{if(!Ct)return null;const ii=_r(j)+gn.length;return{snapshot:new kr(gn,Ri,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iu(S),ss(S),S.component??S._loadedComponent??null,S,Bn(j),ii,ci(S),ii),consumedSegments:gn,remainingSegments:Hn}}));return ft.pipe((0,tt.w)(Ct=>{if(null===Ct)return(0,A.of)(null);const{snapshot:gn,consumedSegments:Hn,remainingSegments:Ri}=Ct;R=S._injector??R;const ii=S._loadedInjector??R,ji=function Eo(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(S),{segmentGroup:es,slicedSegments:js}=Zo(j,Hn,Ri,ji.filter(Ms=>void 0===Ms.redirectTo),this.relativeLinkResolution);if(0===js.length&&es.hasChildren())return this.processChildren(ii,ji,es).pipe((0,Pt.U)(Ms=>null===Ms?null:[new bs(gn,Ms)]));if(0===ji.length&&0===js.length)return(0,A.of)([new bs(gn,[])]);const Jo=ss(S)===Ae;return this.processSegment(ii,ji,es,js,Jo?Qt:Ae).pipe((0,Pt.U)(Ms=>null===Ms?null:[new bs(gn,Ms)]))}))}}function Hr(M){const R=M.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function fs(M){const R=[],S=new Set;for(const j of M){if(!Hr(j)){R.push(j);continue}const Z=R.find(Ae=>j.value.routeConfig===Ae.value.routeConfig);void 0!==Z?(Z.children.push(...j.children),S.add(Z)):R.push(j)}for(const j of S){const Z=fs(j.children);R.push(new bs(j.value,Z))}return R.filter(j=>!S.has(j))}function Bn(M){let R=M;for(;R._sourceSegment;)R=R._sourceSegment;return R}function _r(M){let R=M,S=R._segmentIndexShift??0;for(;R._sourceSegment;)R=R._sourceSegment,S+=R._segmentIndexShift??0;return S-1}function iu(M){return M.data||{}}function ci(M){return M.resolve||{}}function ru(M){return"string"==typeof M.title||null===M.title}function su(M){return(0,tt.w)(R=>{const S=M(R);return S?(0,h.D)(S).pipe((0,Pt.U)(()=>R)):(0,A.of)(R)})}let $a=(()=>{class M{buildTitle(S){let j,Z=S.root;for(;void 0!==Z;)j=this.getResolvedTitleForRoute(Z)??j,Z=Z.children.find(Ae=>Ae.outlet===Qt);return j}getResolvedTitleForRoute(S){return S.data[Dn]}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275prov=m.Yz7({token:M,factory:function(){return(0,m.f3M)(Xu)},providedIn:"root"}),M})(),Xu=(()=>{class M extends $a{constructor(S){super(),this.title=S}updateTitle(S){const j=this.buildTitle(S);void 0!==j&&this.title.setTitle(j)}}return M.\u0275fac=function(S){return new(S||M)(m.LFG(nn.Dx))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Ju{}class ou extends class dc{shouldDetach(R){return!1}store(R,S){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,S){return R.routeConfig===S.routeConfig}}{}const Fr=new m.OlP("",{providedIn:"root",factory:()=>({})}),mi=new m.OlP("ROUTES");let Fo=(()=>{class M{constructor(S,j){this.injector=S,this.compiler=j,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,A.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const j=_n(S.loadComponent()).pipe((0,ot.b)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=Ae}),(0,qt.x)(()=>{this.componentLoaders.delete(S)})),Z=new Ge(j,()=>new bt.x).pipe(St());return this.componentLoaders.set(S,Z),Z}loadChildren(S,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,A.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const Ae=this.loadModuleFactoryOrRoutes(j.loadChildren).pipe((0,Pt.U)(Ct=>{this.onLoadEndListener&&this.onLoadEndListener(j);let gn,Hn,Ri=!1;Array.isArray(Ct)?Hn=Ct:(gn=Ct.create(S).injector,Hn=$n(gn.get(mi,[],m.XFs.Self|m.XFs.Optional)));return{routes:Hn.map(Jr),injector:gn}}),(0,qt.x)(()=>{this.childrenLoaders.delete(j)})),ft=new Ge(Ae,()=>new bt.x).pipe(St());return this.childrenLoaders.set(j,ft),ft}loadModuleFactoryOrRoutes(S){return _n(S()).pipe((0,ke.z)(j=>j instanceof m.YKP||Array.isArray(j)?(0,A.of)(j):(0,h.D)(this.compiler.compileModuleAsync(j))))}}return M.\u0275fac=function(S){return new(S||M)(m.LFG(m.zs3),m.LFG(m.Sil))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class pa{}class Er{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,S){return R}}function Qo(M){throw M}function Gi(M,R,S){return R.parse("/")}const au={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ga(){const M=(0,m.f3M)(Ot),R=(0,m.f3M)(us),S=(0,m.f3M)(Ht.Ye),j=(0,m.f3M)(m.zs3),Z=(0,m.f3M)(m.Sil),Ae=(0,m.f3M)(mi,{optional:!0})??[],ft=(0,m.f3M)(Fr,{optional:!0})??{},Ct=(0,m.f3M)(Xu),gn=(0,m.f3M)($a,{optional:!0}),Hn=(0,m.f3M)(pa,{optional:!0}),Ri=(0,m.f3M)(Ju,{optional:!0}),ii=new Gr(null,M,R,S,j,Z,$n(Ae));return Hn&&(ii.urlHandlingStrategy=Hn),Ri&&(ii.routeReuseStrategy=Ri),ii.titleStrategy=gn??Ct,function Yn(M,R){M.errorHandler&&(R.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(R.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(R.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(R.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(R.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(R.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(R.canceledNavigationResolution=M.canceledNavigationResolution)}(ft,ii),ii}let Gr=(()=>{class M{constructor(S,j,Z,Ae,ft,Ct,gn){this.rootComponentType=S,this.urlSerializer=j,this.rootContexts=Z,this.location=Ae,this.config=gn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bt.x,this.errorHandler=Qo,this.malformedUriErrorHandler=Gi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,A.of)(void 0),this.urlHandlingStrategy=new Er,this.routeReuseStrategy=new ou,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ft.get(Fo),this.configLoader.onLoadEndListener=ji=>this.triggerEvent(new il(ji)),this.configLoader.onLoadStartListener=ji=>this.triggerEvent(new so(ji)),this.ngModule=ft.get(m.h0i),this.console=ft.get(m.c2e);const ii=ft.get(m.R0b);this.isNgZoneEnabled=ii instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(gn),this.currentUrlTree=function le(){return new yt(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zs(this.currentUrlTree,this.rootComponentType),this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(S){const j=this.events;return S.pipe((0,Ke.h)(Z=>0!==Z.id),(0,Pt.U)(Z=>({...Z,extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,tt.w)(Z=>{let Ae=!1,ft=!1;return(0,A.of)(Z).pipe((0,ot.b)(Ct=>{this.currentNavigation={id:Ct.id,initialUrl:Ct.rawUrl,extractedUrl:Ct.extractedUrl,trigger:Ct.source,extras:Ct.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tt.w)(Ct=>{const gn=this.browserUrlTree.toString(),Hn=!this.navigated||Ct.extractedUrl.toString()!==gn||gn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Hn)&&this.urlHandlingStrategy.shouldProcessUrl(Ct.rawUrl))return As(Ct.source)&&(this.browserUrlTree=Ct.extractedUrl),(0,A.of)(Ct).pipe((0,tt.w)(ii=>{const ji=this.transitions.getValue();return j.next(new Bt(ii.id,this.serializeUrl(ii.extractedUrl),ii.source,ii.restoredState)),ji!==this.transitions.getValue()?Ee.E:Promise.resolve(ii)}),function Hi(M,R,S,j){return(0,tt.w)(Z=>function Wi(M,R,S,j,Z){return new Zi(M,R,S,j,Z).apply()}(M,R,S,Z.extractedUrl,j).pipe((0,Pt.U)(Ae=>({...Z,urlAfterRedirects:Ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ot.b)(ii=>{this.currentNavigation={...this.currentNavigation,finalUrl:ii.urlAfterRedirects},Z.urlAfterRedirects=ii.urlAfterRedirects}),function Ei(M,R,S,j,Z,Ae){return(0,ke.z)(ft=>function qo(M,R,S,j,Z,Ae,ft="emptyOnly",Ct="legacy"){return new Do(M,R,S,j,Z,ft,Ct,Ae).recognize().pipe((0,tt.w)(gn=>null===gn?function Dr(M){return new Pe.y(R=>R.error(M))}(new ir):(0,A.of)(gn)))}(M,R,S,ft.urlAfterRedirects,j.serialize(ft.urlAfterRedirects),j,Z,Ae).pipe((0,Pt.U)(Ct=>({...ft,targetSnapshot:Ct}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ot.b)(ii=>{if(Z.targetSnapshot=ii.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!ii.extras.skipLocationChange){const es=this.urlHandlingStrategy.merge(ii.urlAfterRedirects,ii.rawUrl);this.setBrowserUrl(es,ii)}this.browserUrlTree=ii.urlAfterRedirects}const ji=new Zn(ii.id,this.serializeUrl(ii.extractedUrl),this.serializeUrl(ii.urlAfterRedirects),ii.targetSnapshot);j.next(ji)}));if(Hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ji,extractedUrl:es,source:js,restoredState:Jo,extras:Ms}=Ct,Ul=new Bt(ji,this.serializeUrl(es),js,Jo);j.next(Ul);const Qs=Zs(es,this.rootComponentType).snapshot;return Z={...Ct,targetSnapshot:Qs,urlAfterRedirects:es,extras:{...Ms,skipLocationChange:!1,replaceUrl:!1}},(0,A.of)(Z)}return this.rawUrlTree=Ct.rawUrl,Ct.resolve(null),Ee.E}),(0,ot.b)(Ct=>{const gn=new Ai(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(gn)}),(0,Pt.U)(Ct=>Z={...Ct,guards:Hs(Ct.targetSnapshot,Ct.currentSnapshot,this.rootContexts)}),function Gs(M,R){return(0,ke.z)(S=>{const{targetSnapshot:j,currentSnapshot:Z,guards:{canActivateChecks:Ae,canDeactivateChecks:ft}}=S;return 0===ft.length&&0===Ae.length?(0,A.of)({...S,guardsResult:!0}):function Mr(M,R,S,j){return(0,h.D)(M).pipe((0,ke.z)(Z=>function cl(M,R,S,j,Z){const Ae=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,A.of)(!0);const ft=Ae.map(Ct=>{const gn=uo(R)??Z,Hn=Us(Ct,gn);return _n(function Y(M){return M&&ki(M.canDeactivate)}(Hn)?Hn.canDeactivate(M,R,S,j):gn.runInContext(()=>Hn(M,R,S,j))).pipe((0,$e.P)())});return(0,A.of)(ft).pipe(xs())}(Z.component,Z.route,S,R,j)),(0,$e.P)(Z=>!0!==Z,!0))}(ft,j,Z,M).pipe((0,ke.z)(Ct=>Ct&&function Bl(M){return"boolean"==typeof M}(Ct)?function Ss(M,R,S,j){return(0,h.D)(R).pipe((0,Dt.b)(Z=>(0,Ye.z)(function ja(M,R){return null!==M&&R&&R(new Ks(M)),(0,A.of)(!0)}(Z.route.parent,j),function fa(M,R){return null!==M&&R&&R(new vo(M)),(0,A.of)(!0)}(Z.route,j),function ll(M,R,S){const j=R[R.length-1],Ae=R.slice(0,R.length-1).reverse().map(ft=>function ha(M){const R=M.routeConfig?M.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:M,guards:R}:null}(ft)).filter(ft=>null!==ft).map(ft=>(0,ie.P)(()=>{const Ct=ft.guards.map(gn=>{const Hn=uo(ft.node)??S,Ri=Us(gn,Hn);return _n(function Q(M){return M&&ki(M.canActivateChild)}(Ri)?Ri.canActivateChild(j,M):Hn.runInContext(()=>Ri(j,M))).pipe((0,$e.P)())});return(0,A.of)(Ct).pipe(xs())}));return(0,A.of)(Ae).pipe(xs())}(M,Z.path,S),function wo(M,R,S){const j=R.routeConfig?R.routeConfig.canActivate:null;if(!j||0===j.length)return(0,A.of)(!0);const Z=j.map(Ae=>(0,ie.P)(()=>{const ft=uo(R)??S,Ct=Us(Ae,ft);return _n(function Vr(M){return M&&ki(M.canActivate)}(Ct)?Ct.canActivate(R,M):ft.runInContext(()=>Ct(R,M))).pipe((0,$e.P)())}));return(0,A.of)(Z).pipe(xs())}(M,Z.route,S))),(0,$e.P)(Z=>!0!==Z,!0))}(j,Ae,M,R):(0,A.of)(Ct)),(0,Pt.U)(Ct=>({...S,guardsResult:Ct})))})}(this.ngModule.injector,Ct=>this.triggerEvent(Ct)),(0,ot.b)(Ct=>{if(Z.guardsResult=Ct.guardsResult,Se(Ct.guardsResult))throw Yo(0,Ct.guardsResult);const gn=new mr(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot,!!Ct.guardsResult);this.triggerEvent(gn)}),(0,Ke.h)(Ct=>!!Ct.guardsResult||(this.restoreHistory(Ct),this.cancelNavigationTransition(Ct,"",3),!1)),su(Ct=>{if(Ct.guards.canActivateChecks.length)return(0,A.of)(Ct).pipe((0,ot.b)(gn=>{const Hn=new Ni(gn.id,this.serializeUrl(gn.extractedUrl),this.serializeUrl(gn.urlAfterRedirects),gn.targetSnapshot);this.triggerEvent(Hn)}),(0,tt.w)(gn=>{let Hn=!1;return(0,A.of)(gn).pipe(function Sp(M,R){return(0,ke.z)(S=>{const{targetSnapshot:j,guards:{canActivateChecks:Z}}=S;if(!Z.length)return(0,A.of)(S);let Ae=0;return(0,h.D)(Z).pipe((0,Dt.b)(ft=>function Kn(M,R,S,j){const Z=M.routeConfig,Ae=M._resolve;return void 0!==Z?.title&&!ru(Z)&&(Ae[Dn]=Z.title),function hn(M,R,S,j){const Z=function kn(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===Z.length)return(0,A.of)({});const Ae={};return(0,h.D)(Z).pipe((0,ke.z)(ft=>function Ur(M,R,S,j){const Z=uo(R)??j,Ae=Us(M,Z);return _n(Ae.resolve?Ae.resolve(R,S):Z.runInContext(()=>Ae(R,S)))}(M[ft],R,S,j).pipe((0,$e.P)(),(0,ot.b)(Ct=>{Ae[ft]=Ct}))),It(1),(0,vt.h)(Ae),(0,dt.K)(ft=>gi(ft)?Ee.E:(0,q._)(ft)))}(Ae,M,R,j).pipe((0,Pt.U)(ft=>(M._resolvedData=ft,M.data=Cs(M,S).resolve,Z&&ru(Z)&&(M.data[Dn]=Z.title),null)))}(ft.route,j,M,R)),(0,ot.b)(()=>Ae++),It(1),(0,ke.z)(ft=>Ae===Z.length?(0,A.of)(S):Ee.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ot.b)({next:()=>Hn=!0,complete:()=>{Hn||(this.restoreHistory(gn),this.cancelNavigationTransition(gn,"",2))}}))}),(0,ot.b)(gn=>{const Hn=new cr(gn.id,this.serializeUrl(gn.extractedUrl),this.serializeUrl(gn.urlAfterRedirects),gn.targetSnapshot);this.triggerEvent(Hn)}))}),su(Ct=>{const gn=Hn=>{const Ri=[];Hn.routeConfig?.loadComponent&&!Hn.routeConfig._loadedComponent&&Ri.push(this.configLoader.loadComponent(Hn.routeConfig).pipe((0,ot.b)(ii=>{Hn.component=ii}),(0,Pt.U)(()=>{})));for(const ii of Hn.children)Ri.push(...gn(ii));return Ri};return(0,ze.a)(gn(Ct.targetSnapshot.root)).pipe((0,Kt.d)(),(0,Qe.q)(1))}),su(()=>this.afterPreactivation()),(0,Pt.U)(Ct=>{const gn=function Ji(M,R,S){const j=lo(M,R._root,S?S._root:void 0);return new ws(j,R)}(this.routeReuseStrategy,Ct.targetSnapshot,Ct.currentRouterState);return Z={...Ct,targetRouterState:gn}}),(0,ot.b)(Ct=>{this.currentUrlTree=Ct.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ct.urlAfterRedirects,Ct.rawUrl),this.routerState=Ct.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ct.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ct),this.browserUrlTree=Ct.urlAfterRedirects)}),((M,R,S)=>(0,Pt.U)(j=>(new Di(R,j.targetRouterState,j.currentRouterState,S).activate(M),j)))(this.rootContexts,this.routeReuseStrategy,Ct=>this.triggerEvent(Ct)),(0,ot.b)({next(){Ae=!0},complete(){Ae=!0}}),(0,qt.x)(()=>{Ae||ft||this.cancelNavigationTransition(Z,"",1),this.currentNavigation?.id===Z.id&&(this.currentNavigation=null)}),(0,dt.K)(Ct=>{if(ft=!0,Pl(Ct)){bo(Ct)||(this.navigated=!0,this.restoreHistory(Z,!0));const gn=new yn(Z.id,this.serializeUrl(Z.extractedUrl),Ct.message,Ct.cancellationCode);if(j.next(gn),bo(Ct)){const Hn=this.urlHandlingStrategy.merge(Ct.url,this.rawUrlTree),Ri={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||As(Z.source)};this.scheduleNavigation(Hn,"imperative",null,Ri,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}else Z.resolve(!1)}else{this.restoreHistory(Z,!0);const gn=new In(Z.id,this.serializeUrl(Z.extractedUrl),Ct,Z.targetSnapshot??void 0);j.next(gn);try{Z.resolve(this.errorHandler(Ct))}catch(Hn){Z.reject(Hn)}}return Ee.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next({...this.transitions.value,...S})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const j="popstate"===S.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{const Z={replaceUrl:!0},Ae=S.state?.navigationId?S.state:null;if(Ae){const Ct={...Ae};delete Ct.navigationId,delete Ct.\u0275routerPageId,0!==Object.keys(Ct).length&&(Z.state=Ct)}const ft=this.parseUrl(S.url);this.scheduleNavigation(ft,j,Ae,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){this.config=S.map(Jr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,j={}){const{relativeTo:Z,queryParams:Ae,fragment:ft,queryParamsHandling:Ct,preserveFragment:gn}=j,Hn=Z||this.routerState.root,Ri=gn?this.currentUrlTree.fragment:ft;let ii=null;switch(Ct){case"merge":ii={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":ii=this.currentUrlTree.queryParams;break;default:ii=Ae||null}return null!==ii&&(ii=this.removeEmptyProps(ii)),V(Hn,this.currentUrlTree,S,ii,Ri??null)}navigateByUrl(S,j={skipLocationChange:!1}){const Z=Se(S)?S:this.parseUrl(S),Ae=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(Ae,"imperative",null,j)}navigate(S,j={skipLocationChange:!1}){return function ma(M){for(let R=0;R<M.length;R++){if(null==M[R])throw new m.vHH(4008,false)}}(S),this.navigateByUrl(this.createUrlTree(S,j),j)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let j;try{j=this.urlSerializer.parse(S)}catch(Z){j=this.malformedUriErrorHandler(Z,this.urlSerializer,S)}return j}isActive(S,j){let Z;if(Z=!0===j?{...au}:!1===j?{...vr}:j,Se(S))return Xe(this.currentUrlTree,S,Z);const Ae=this.parseUrl(S);return Xe(this.currentUrlTree,Ae,Z)}removeEmptyProps(S){return Object.keys(S).reduce((j,Z)=>{const Ae=S[Z];return null!=Ae&&(j[Z]=Ae),j},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new zt(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,j,Z,Ae,ft){if(this.disposed)return Promise.resolve(!1);let Ct,gn,Hn;ft?(Ct=ft.resolve,gn=ft.reject,Hn=ft.promise):Hn=new Promise((ji,es)=>{Ct=ji,gn=es});const Ri=++this.navigationId;let ii;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Z=this.location.getState()),ii=Z&&Z.\u0275routerPageId?Z.\u0275routerPageId:Ae.replaceUrl||Ae.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):ii=0,this.setTransition({id:Ri,targetPageId:ii,source:j,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:Ae,resolve:Ct,reject:gn,promise:Hn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Hn.catch(ji=>Promise.reject(ji))}setBrowserUrl(S,j){const Z=this.urlSerializer.serialize(S),Ae={...j.extras.state,...this.generateNgRouterState(j.id,j.targetPageId)};this.location.isCurrentPathEqualTo(Z)||j.extras.replaceUrl?this.location.replaceState(Z,"",Ae):this.location.go(Z,"",Ae)}restoreHistory(S,j=!1){if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===Z?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===Z&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,j,Z){const Ae=new yn(S.id,this.serializeUrl(S.extractedUrl),j,Z);this.triggerEvent(Ae),S.resolve(!1)}generateNgRouterState(S,j){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:j}:{navigationId:S}}}return M.\u0275fac=function(S){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:function(){return ga()},providedIn:"root"}),M})();function As(M){return"imperative"!==M}let ps=(()=>{class M{constructor(S,j,Z,Ae,ft){this.router=S,this.route=j,this.tabIndexAttribute=Z,this.renderer=Ae,this.el=ft,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new bt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,m.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,m.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,m.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const j=this.renderer,Z=this.el.nativeElement;null!==S?j.setAttribute(Z,"tabindex",S):j.removeAttribute(Z,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(S){return new(S||M)(m.Y36(Gr),m.Y36(ao),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},M.\u0275dir=m.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,j){1&S&&m.NdJ("click",function(){return j.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),M})(),lu=(()=>{class M{constructor(S,j,Z){this.router=S,this.route=j,this.locationStrategy=Z,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new bt.x,this.subscription=S.events.subscribe(Ae=>{Ae instanceof zt&&this.updateTargetUrlAndHref()})}set preserveFragment(S){this._preserveFragment=(0,m.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,m.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,m.D6c)(S)}get replaceUrl(){return this._replaceUrl}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,j,Z,Ae,ft){return!!(0!==S||j||Z||Ae||ft||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(S){return new(S||M)(m.Y36(Gr),m.Y36(ao),m.Y36(Ht.S$))},M.\u0275dir=m.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,j){1&S&&m.NdJ("click",function(Ae){return j.onClick(Ae.button,Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey)}),2&S&&m.uIk("target",j.target)("href",j.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),M})();class Ya{}let pc=(()=>{class M{constructor(S,j,Z,Ae,ft){this.router=S,this.injector=Z,this.preloadingStrategy=Ae,this.loader=ft}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ke.h)(S=>S instanceof zt),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,j){const Z=[];for(const Ae of j){Ae.providers&&!Ae._injector&&(Ae._injector=(0,m.MMx)(Ae.providers,S,`Route: ${Ae.path}`));const ft=Ae._injector??S,Ct=Ae._loadedInjector??ft;Ae.loadChildren&&!Ae._loadedRoutes&&void 0===Ae.canLoad||Ae.loadComponent&&!Ae._loadedComponent?Z.push(this.preloadConfig(ft,Ae)):(Ae.children||Ae._loadedRoutes)&&Z.push(this.processRoutes(Ct,Ae.children??Ae._loadedRoutes))}return(0,h.D)(Z).pipe((0,Yt.J)())}preloadConfig(S,j){return this.preloadingStrategy.preload(j,()=>{let Z;Z=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(S,j):(0,A.of)(null);const Ae=Z.pipe((0,ke.z)(ft=>null===ft?(0,A.of)(void 0):(j._loadedRoutes=ft.routes,j._loadedInjector=ft.injector,this.processRoutes(ft.injector??S,ft.routes))));if(j.loadComponent&&!j._loadedComponent){const ft=this.loader.loadComponent(j);return(0,h.D)([Ae,ft]).pipe((0,Yt.J)())}return Ae})}}return M.\u0275fac=function(S){return new(S||M)(m.LFG(Gr),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Ya),m.LFG(Fo))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const cu=new m.OlP("");let Lo=(()=>{class M{constructor(S,j,Z={}){this.router=S,this.viewportScroller=j,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof zt&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Rl&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,j){this.router.triggerEvent(new Rl(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(S){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();function jr(M,R){return{\u0275kind:M,\u0275providers:R}}function gc(M){return[{provide:mi,multi:!0,useValue:M}]}function qs(){const M=(0,m.f3M)(m.zs3);return R=>{const S=M.get(m.z2F);if(R!==S.components[0])return;const j=M.get(Gr),Z=M.get(pl);1===M.get(va)&&j.initialNavigation(),M.get(ef,null,m.XFs.Optional)?.setUpPreloading(),M.get(cu,null,m.XFs.Optional)?.init(),j.resetRootComponentType(S.componentTypes[0]),Z.next(),Z.complete()}}const pl=new m.OlP("",{factory:()=>new bt.x}),va=new m.OlP("",{providedIn:"root",factory:()=>1});const ef=new m.OlP("");function xo(M){return jr(0,[{provide:ef,useExisting:pc},{provide:Ya,useExisting:M}])}const or=new m.OlP("ROUTER_FORROOT_GUARD"),mc=[Ht.Ye,{provide:Ot,useClass:te},{provide:Gr,useFactory:ga},us,{provide:ao,useFactory:function _a(M){return M.routerState.root},deps:[Gr]},Fo];function Is(){return new m.PXZ("Router",Gr)}let Ii=(()=>{class M{constructor(S){}static forRoot(S,j){return{ngModule:M,providers:[mc,[],gc(S),{provide:or,useFactory:Ci,deps:[[Gr,new m.FiY,new m.tp0]]},{provide:Fr,useValue:j||{}},j?.useHash?{provide:Ht.S$,useClass:Ht.Do}:{provide:Ht.S$,useClass:Ht.b0},{provide:cu,useFactory:()=>{const M=(0,m.f3M)(Gr),R=(0,m.f3M)(Ht.EM),S=(0,m.f3M)(Fr);return S.scrollOffset&&R.setOffset(S.scrollOffset),new Lo(M,R,S)}},j?.preloadingStrategy?xo(j.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Is},j?.initialNavigation?qi(j):[],[{provide:ya,useFactory:qs},{provide:m.tb,multi:!0,useExisting:ya}]]}}static forChild(S){return{ngModule:M,providers:[gc(S)]}}}return M.\u0275fac=function(S){return new(S||M)(m.LFG(or,8))},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[Ui]}),M})();function Ci(M){return"guarded"}function qi(M){return["disabled"===M.initialNavigation?jr(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const R=(0,m.f3M)(Gr);return()=>{R.setUpLocationChangeListener()}}},{provide:va,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?jr(2,[{provide:va,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:R=>{const S=R.get(Ht.V_,Promise.resolve());let j=!1;return()=>S.then(()=>new Promise(Ae=>{const ft=R.get(Gr),Ct=R.get(pl);(function Z(Ae){R.get(Gr).events.pipe((0,Ke.h)(Ct=>Ct instanceof zt||Ct instanceof yn||Ct instanceof In),(0,Pt.U)(Ct=>Ct instanceof zt||Ct instanceof yn&&(0===Ct.code||1===Ct.code)&&null),(0,Ke.h)(Ct=>null!==Ct),(0,Qe.q)(1)).subscribe(()=>{Ae()})})(()=>{Ae(!0),j=!0}),ft.afterPreactivation=()=>(Ae(!0),j||Ct.closed?(0,A.of)(void 0):Ct),ft.initialNavigation()}))}}]).\u0275providers:[]]}const ya=new m.OlP("")},3942:(bn,xt,x)=>{x.d(xt,{Z:()=>ht});var m=x(2090),h=x(4859),A=x(9681),De=x(1877);class N{constructor(Ge,bt){this._delegate=Ge,this.firebase=bt,(0,A._addComponent)(Ge,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(Ge,bt=A._DEFAULT_ENTRY_NAME){var Ht;this._delegate.checkDestroyed();const Pt=this._delegate.container.getProvider(Ge);return!Pt.isInitialized()&&"EXPLICIT"===(null===(Ht=Pt.getComponent())||void 0===Ht?void 0:Ht.instantiationMode)&&Pt.initialize(),Pt.getImmediate({identifier:bt})}_removeServiceInstance(Ge,bt=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(bt)}_addComponent(Ge){(0,A._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,A._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ye=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function qe(){const St=function ie(St){const Ge={},bt={__esModule:!0,initializeApp:function tt(ke,$e={}){const Dt=A.initializeApp(ke,$e);if((0,m.r3)(Ge,Dt.name))return Ge[Dt.name];const ot=new St(Dt,bt);return Ge[Dt.name]=ot,ot},app:Pt,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function He(ke){const $e=ke.name,Dt=$e.replace("-compat","");if(A._registerComponent(ke)&&"PUBLIC"===ke.type){const ot=(dt=Pt())=>{if("function"!=typeof dt[Dt])throw Ye.create("invalid-app-argument",{appName:$e});return dt[Dt]()};void 0!==ke.serviceProps&&(0,m.ZB)(ot,ke.serviceProps),bt[Dt]=ot,St.prototype[Dt]=function(...dt){return this._getService.bind(this,$e).apply(this,ke.multipleInstances?dt:[])}}return"PUBLIC"===ke.type?bt[Dt]:null},removeApp:function Ht(ke){delete Ge[ke]},useAsService:function Ke(ke,$e){return"serverAuth"===$e?null:$e},modularAPIs:A}};function Pt(ke){if(!(0,m.r3)(Ge,ke=ke||A._DEFAULT_ENTRY_NAME))throw Ye.create("no-app",{appName:ke});return Ge[ke]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function Qe(){return Object.keys(Ge).map(ke=>Ge[ke])}}),Pt.App=St,bt}(N);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:qe,extendNamespace:function Ge(bt){(0,m.ZB)(St,bt)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),St}(),Pe=new De.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){Pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&Pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=q;!function gt(St){(0,A.registerVersion)("@firebase/app-compat","0.1.37",St)}()},9681:(bn,xt,x)=>{x.r(xt),x.d(xt,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>$n,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>nn,_addOrOverwriteComponent:()=>Qt,_apps:()=>qt,_clearComponents:()=>An,_components:()=>Yt,_getProvider:()=>Xt,_registerComponent:()=>Dn,_removeServiceInstance:()=>mn,deleteApp:()=>_n,getApp:()=>Gn,getApps:()=>qn,initializeApp:()=>Vn,onLog:()=>ge,registerVersion:()=>le,setLogLevel:()=>rt});var m=x(5861),h=x(4859),A=x(1877),De=x(2090),N=x(8766);class ze{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function Ye(de){return"VERSION"===de.getComponent()?.type}(ct)){const st=ct.getImmediate();return`${st.library}/${st.version}`}return null}).filter(ct=>ct).join(" ")}}const ie="@firebase/app",q=new A.Yd("@firebase/app"),sn="[DEFAULT]",vt={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Yt=new Map;function nn(de,J){try{de.container.addComponent(J)}catch(ct){q.debug(`Component ${J.name} failed to register with FirebaseApp ${de.name}`,ct)}}function Qt(de,J){de.container.addOrOverwriteComponent(J)}function Dn(de){const J=de.name;if(Yt.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Yt.set(J,de);for(const ct of qt.values())nn(ct,de);return!0}function Xt(de,J){const ct=de.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),de.container.getProvider(J)}function mn(de,J,ct=sn){Xt(de,J).clearInstance(ct)}function An(){Yt.clear()}const Rn=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(J,ct,st){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const $n="9.12.1";function Vn(de,J={}){let ct=de;"object"!=typeof J&&(J={name:J});const st=Object.assign({name:sn,automaticDataCollectionEnabled:!1},J),Mt=st.name;if("string"!=typeof Mt||!Mt)throw Rn.create("bad-app-name",{appName:String(Mt)});if(ct||(ct=(0,De.aH)()),!ct)throw Rn.create("no-options");const Lt=qt.get(Mt);if(Lt){if((0,De.vZ)(ct,Lt.options)&&(0,De.vZ)(st,Lt.config))return Lt;throw Rn.create("duplicate-app",{appName:Mt})}const je=new h.H0(Mt);for(const ve of Yt.values())je.addComponent(ve);const nt=new zn(ct,st,je);return qt.set(Mt,nt),nt}function Gn(de=sn){const J=qt.get(de);if(!J&&de===sn)return Vn();if(!J)throw Rn.create("no-app",{appName:de});return J}function qn(){return Array.from(qt.values())}function _n(de){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(de){const J=de.name;qt.has(J)&&(qt.delete(J),yield Promise.all(de.container.getProviders().map(ct=>ct.delete())),de.isDeleted=!0)})).apply(this,arguments)}function le(de,J,ct){var st;let Mt=null!==(st=vt[de])&&void 0!==st?st:de;ct&&(Mt+=`-${ct}`);const Lt=Mt.match(/\s|\//),je=J.match(/\s|\//);if(Lt||je){const nt=[`Unable to register library "${Mt}" with version "${J}":`];return Lt&&nt.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Lt&&je&&nt.push("and"),je&&nt.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(nt.join(" "))}Dn(new h.wA(`${Mt}-version`,()=>({library:Mt,version:J}),"VERSION"))}function ge(de,J){if(null!==de&&"function"!=typeof de)throw Rn.create("invalid-log-argument");(0,A.Am)(de,J)}function rt(de){(0,A.Ub)(de)}const $t="firebase-heartbeat-store";let un=null;function jt(){return un||(un=(0,N.X3)("firebase-heartbeat-database",1,{upgrade:(de,J)=>{0===J&&de.createObjectStore($t)}}).catch(de=>{throw Rn.create("idb-open",{originalErrorMessage:de.message})})),un}function Ne(){return(Ne=(0,m.Z)(function*(de){var J;try{return(yield jt()).transaction($t).objectStore($t).get(cn(de))}catch(ct){if(ct instanceof De.ZR)q.warn(ct.message);else{const st=Rn.create("idb-get",{originalErrorMessage:null===(J=ct)||void 0===J?void 0:J.message});q.warn(st.message)}}})).apply(this,arguments)}function yt(de,J){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,m.Z)(function*(de,J){var ct;try{const Mt=(yield jt()).transaction($t,"readwrite");return yield Mt.objectStore($t).put(J,cn(de)),Mt.done}catch(st){if(st instanceof De.ZR)q.warn(st.message);else{const Mt=Rn.create("idb-set",{originalErrorMessage:null===(ct=st)||void 0===ct?void 0:ct.message});q.warn(Mt.message)}}})).apply(this,arguments)}function cn(de){return`${de.name}!${de.options.appId}`}class kt{constructor(J){this.container=J,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new ae(ct),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var J=this;return(0,m.Z)(function*(){const st=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Ot();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!J._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Mt))return J._heartbeatsCache.heartbeats.push({date:Mt,agent:st}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Lt=>{const je=new Date(Lt.date).valueOf();return Date.now()-je<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,m.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const ct=Ot(),{heartbeatsToSend:st,unsentEntries:Mt}=function te(de,J=1024){const ct=[];let st=de.slice();for(const Mt of de){const Lt=ct.find(je=>je.agent===Mt.agent);if(Lt){if(Lt.dates.push(Mt.date),K(ct)>J){Lt.dates.pop();break}}else if(ct.push({agent:Mt.agent,dates:[Mt.date]}),K(ct)>J){ct.pop();break}st=st.slice(1)}return{heartbeatsToSend:ct,unsentEntries:st}}(J._heartbeatsCache.heartbeats),Lt=(0,De.L)(JSON.stringify({version:2,heartbeats:st}));return J._heartbeatsCache.lastSentHeartbeatDate=ct,Mt.length>0?(J._heartbeatsCache.heartbeats=Mt,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Lt})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class ae{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,m.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function mt(de){return Ne.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var ct=this;return(0,m.Z)(function*(){var st;if(yield ct._canUseIndexedDBPromise){const Lt=yield ct.read();return yt(ct.app,{lastSentHeartbeatDate:null!==(st=J.lastSentHeartbeatDate)&&void 0!==st?st:Lt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var ct=this;return(0,m.Z)(function*(){var st;if(yield ct._canUseIndexedDBPromise){const Lt=yield ct.read();return yt(ct.app,{lastSentHeartbeatDate:null!==(st=J.lastSentHeartbeatDate)&&void 0!==st?st:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...J.heartbeats]})}})()}}function K(de){return(0,De.L)(JSON.stringify({version:2,heartbeats:de})).length}!function z(de){Dn(new h.wA("platform-logger",J=>new ze(J),"PRIVATE")),Dn(new h.wA("heartbeat",J=>new kt(J),"PRIVATE")),le(ie,"0.8.2",de),le(ie,"0.8.2","esm2017"),le("fire-js","")}("")},4859:(bn,xt,x)=>{x.d(xt,{H0:()=>ie,wA:()=>A});var m=x(5861),h=x(2090);class A{constructor(q,Pe,Ee){this.name=q,this.instanceFactory=Pe,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const De="[DEFAULT]";class N{constructor(q,Pe){this.name=q,this.container=Pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Pe=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Pe)){const Ee=new h.BH;if(this.instancesDeferred.set(Pe,Ee),this.isInitialized(Pe)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:Pe});Le&&Ee.resolve(Le)}catch{}}return this.instancesDeferred.get(Pe).promise}getImmediate(q){var Pe;const Ee=this.normalizeInstanceIdentifier(q?.identifier),Le=null!==(Pe=q?.optional)&&void 0!==Pe&&Pe;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(gt){if(Le)return null;throw gt}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Ye(qe){return"EAGER"===qe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[Pe,Ee]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(Pe);try{const gt=this.getOrInitializeService({instanceIdentifier:Le});Ee.resolve(gt)}catch{}}}}clearInstance(q=De){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,m.Z)(function*(){const Pe=Array.from(q.instances.values());yield Promise.all([...Pe.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...Pe.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=De){return this.instances.has(q)}getOptions(q=De){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Pe={}}=q,Ee=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Ee,options:Pe});for(const[gt,ht]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(gt)&&ht.resolve(Le);return Le}onInit(q,Pe){var Ee;const Le=this.normalizeInstanceIdentifier(Pe),gt=null!==(Ee=this.onInitCallbacks.get(Le))&&void 0!==Ee?Ee:new Set;gt.add(q),this.onInitCallbacks.set(Le,gt);const ht=this.instances.get(Le);return ht&&q(ht,Le),()=>{gt.delete(q)}}invokeOnInitCallbacks(q,Pe){const Ee=this.onInitCallbacks.get(Pe);if(Ee)for(const Le of Ee)try{Le(q,Pe)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Pe={}}){let Ee=this.instances.get(q);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=q,qe===De?void 0:qe),options:Pe}),this.instances.set(q,Ee),this.instancesOptions.set(q,Pe),this.invokeOnInitCallbacks(Ee,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Ee)}catch{}var qe;return Ee||null}normalizeInstanceIdentifier(q=De){return this.component?this.component.multipleInstances?q:De:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Pe=this.getProvider(q.name);if(Pe.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Pe.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Pe=new N(q,this);return this.providers.set(q,Pe),Pe}getProviders(){return Array.from(this.providers.values())}}},2833:(bn,xt,x)=>{var m=x(5861),h=x(9681),A=x(4859),De=x(2090),N=x(8766);const ze="@firebase/installations",Ye="0.5.15",qe=`w:${Ye}`,q="FIS_v2",St=new De.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(Te){return Te instanceof De.ZR&&Te.code.includes("request-failed")}function bt({projectId:Te}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Te}/installations`}function Ht(Te){return{token:Te.token,requestStatus:2,expiresIn:$e(Te.expiresIn),creationTime:Date.now()}}function Pt(Te,Et){return tt.apply(this,arguments)}function tt(){return(tt=(0,m.Z)(function*(Te,Et){const ut=(yield Et.json()).error;return St.create("request-failed",{requestName:Te,serverCode:ut.code,serverMessage:ut.message,serverStatus:ut.status})})).apply(this,arguments)}function Qe({apiKey:Te}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Te})}function He(Te,{refreshToken:Et}){const ye=Qe(Te);return ye.append("Authorization",function Dt(Te){return`${q} ${Te}`}(Et)),ye}function Ke(Te){return ke.apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(Te){const Et=yield Te();return Et.status>=500&&Et.status<600?Te():Et})).apply(this,arguments)}function $e(Te){return Number(Te.replace("s","000"))}function ot(Te,Et){return dt.apply(this,arguments)}function dt(){return(dt=(0,m.Z)(function*({appConfig:Te,heartbeatServiceProvider:Et},{fid:ye}){const ut=bt(Te),O=Qe(Te),re=Et.getImmediate({optional:!0});if(re){const di=yield re.getHeartbeatsHeader();di&&O.append("x-firebase-client",di)}const _t={method:"POST",headers:O,body:JSON.stringify({fid:ye,authVersion:q,appId:Te.appId,sdkVersion:qe})},Sn=yield Ke(()=>fetch(ut,_t));if(Sn.ok){const di=yield Sn.json();return{fid:di.fid||ye,registrationStatus:2,refreshToken:di.refreshToken,authToken:Ht(di.authToken)}}throw yield Pt("Create Installation",Sn)})).apply(this,arguments)}function Rt(Te){return new Promise(Et=>{setTimeout(Et,Te)})}const Jt=/^[cdef][\w-]{21}$/;function an(){try{const Te=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Te),Te[0]=112+Te[0]%16;const ye=function fn(Te){return function It(Te){return btoa(String.fromCharCode(...Te)).replace(/\+/g,"-").replace(/\//g,"_")}(Te).substr(0,22)}(Te);return Jt.test(ye)?ye:""}catch{return""}}function sn(Te){return`${Te.appName}!${Te.appId}`}const vt=new Map;function qt(Te,Et){const ye=sn(Te);Qt(ye,Et),function Dn(Te,Et){const ye=function mn(){return!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=Te=>{Qt(Te.data.key,Te.data.fid)}),Xt}();ye&&ye.postMessage({key:Te,fid:Et}),function An(){0===vt.size&&Xt&&(Xt.close(),Xt=null)}()}(ye,Et)}function Qt(Te,Et){const ye=vt.get(Te);if(ye)for(const ut of ye)ut(Et)}let Xt=null;const zn="firebase-installations-store";let $n=null;function Vn(){return $n||($n=(0,N.X3)("firebase-installations-database",1,{upgrade:(Te,Et)=>{0===Et&&Te.createObjectStore(zn)}})),$n}function Gn(Te,Et){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(Te,Et){const ye=sn(Te),O=(yield Vn()).transaction(zn,"readwrite"),re=O.objectStore(zn),Me=yield re.get(ye);return yield re.put(Et,ye),yield O.done,(!Me||Me.fid!==Et.fid)&&qt(Te,Et.fid),Et})).apply(this,arguments)}function _n(Te){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(Te){const Et=sn(Te),ut=(yield Vn()).transaction(zn,"readwrite");yield ut.objectStore(zn).delete(Et),yield ut.done})).apply(this,arguments)}function le(Te,Et){return ge.apply(this,arguments)}function ge(){return(ge=(0,m.Z)(function*(Te,Et){const ye=sn(Te),O=(yield Vn()).transaction(zn,"readwrite"),re=O.objectStore(zn),Me=yield re.get(ye),_t=Et(Me);return void 0===_t?yield re.delete(ye):yield re.put(_t,ye),yield O.done,_t&&(!Me||Me.fid!==_t.fid)&&qt(Te,_t.fid),_t})).apply(this,arguments)}function rt(Te){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,m.Z)(function*(Te){let Et;const ye=yield le(Te.appConfig,ut=>{const O=wt(ut),re=$t(Te,O);return Et=re.registrationPromise,re.installationEntry});return""===ye.fid?{installationEntry:yield Et}:{installationEntry:ye,registrationPromise:Et}})).apply(this,arguments)}function wt(Te){return Ut(Te||{fid:an(),registrationStatus:0})}function $t(Te,Et){if(0===Et.registrationStatus){if(!navigator.onLine)return{installationEntry:Et,registrationPromise:Promise.reject(St.create("app-offline"))};const ye={fid:Et.fid,registrationStatus:1,registrationTime:Date.now()},ut=function un(Te,Et){return jt.apply(this,arguments)}(Te,ye);return{installationEntry:ye,registrationPromise:ut}}return 1===Et.registrationStatus?{installationEntry:Et,registrationPromise:mt(Te)}:{installationEntry:Et}}function jt(){return(jt=(0,m.Z)(function*(Te,Et){try{const ye=yield ot(Te,Et);return Gn(Te.appConfig,ye)}catch(ye){throw Ge(ye)&&409===ye.customData.serverCode?yield _n(Te.appConfig):yield Gn(Te.appConfig,{fid:Et.fid,registrationStatus:0}),ye}})).apply(this,arguments)}function mt(Te){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,m.Z)(function*(Te){let Et=yield yt(Te.appConfig);for(;1===Et.registrationStatus;)yield Rt(100),Et=yield yt(Te.appConfig);if(0===Et.registrationStatus){const{installationEntry:ye,registrationPromise:ut}=yield rt(Te);return ut||ye}return Et})).apply(this,arguments)}function yt(Te){return le(Te,Et=>{if(!Et)throw St.create("installation-not-found");return Ut(Et)})}function Ut(Te){return function cn(Te){return 1===Te.registrationStatus&&Te.registrationTime+1e4<Date.now()}(Te)?{fid:Te.fid,registrationStatus:0}:Te}function Nn(Te,Et){return vn.apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*({appConfig:Te,heartbeatServiceProvider:Et},ye){const ut=kt(Te,ye),O=He(Te,ye),re=Et.getImmediate({optional:!0});if(re){const di=yield re.getHeartbeatsHeader();di&&O.append("x-firebase-client",di)}const _t={method:"POST",headers:O,body:JSON.stringify({installation:{sdkVersion:qe,appId:Te.appId}})},Sn=yield Ke(()=>fetch(ut,_t));if(Sn.ok)return Ht(yield Sn.json());throw yield Pt("Generate Auth Token",Sn)})).apply(this,arguments)}function kt(Te,{fid:Et}){return`${bt(Te)}/${Et}/authTokens:generate`}function Ot(Te){return te.apply(this,arguments)}function te(){return(te=(0,m.Z)(function*(Te,Et=!1){let ye;const ut=yield le(Te.appConfig,re=>{if(!ct(re))throw St.create("not-registered");const Me=re.authToken;if(!Et&&st(Me))return re;if(1===Me.requestStatus)return ye=ae(Te,Et),re;{if(!navigator.onLine)throw St.create("app-offline");const _t=Lt(re);return ye=de(Te,_t),_t}});return ye?yield ye:ut.authToken})).apply(this,arguments)}function ae(Te,Et){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(Te,Et){let ye=yield z(Te.appConfig);for(;1===ye.authToken.requestStatus;)yield Rt(100),ye=yield z(Te.appConfig);const ut=ye.authToken;return 0===ut.requestStatus?Ot(Te,Et):ut})).apply(this,arguments)}function z(Te){return le(Te,Et=>{if(!ct(Et))throw St.create("not-registered");return function je(Te){return 1===Te.requestStatus&&Te.requestTime+1e4<Date.now()}(Et.authToken)?Object.assign(Object.assign({},Et),{authToken:{requestStatus:0}}):Et})}function de(Te,Et){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(Te,Et){try{const ye=yield Nn(Te,Et),ut=Object.assign(Object.assign({},Et),{authToken:ye});return yield Gn(Te.appConfig,ut),ye}catch(ye){if(!Ge(ye)||401!==ye.customData.serverCode&&404!==ye.customData.serverCode){const ut=Object.assign(Object.assign({},Et),{authToken:{requestStatus:0}});yield Gn(Te.appConfig,ut)}else yield _n(Te.appConfig);throw ye}})).apply(this,arguments)}function ct(Te){return void 0!==Te&&2===Te.registrationStatus}function st(Te){return 2===Te.requestStatus&&!function Mt(Te){const Et=Date.now();return Et<Te.creationTime||Te.creationTime+Te.expiresIn<Et+36e5}(Te)}function Lt(Te){const Et={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Te),{authToken:Et})}function ve(){return(ve=(0,m.Z)(function*(Te){const Et=Te,{installationEntry:ye,registrationPromise:ut}=yield rt(Et);return ut?ut.catch(console.error):Ot(Et).catch(console.error),ye.fid})).apply(this,arguments)}function ne(){return(ne=(0,m.Z)(function*(Te,Et=!1){const ye=Te;return yield Oe(ye),(yield Ot(ye,Et)).token})).apply(this,arguments)}function Oe(Te){return pt.apply(this,arguments)}function pt(){return(pt=(0,m.Z)(function*(Te){const{registrationPromise:Et}=yield rt(Te);Et&&(yield Et)})).apply(this,arguments)}function we(Te){return St.create("missing-app-config-values",{valueName:Te})}const H="installations",V=Te=>{const Et=Te.getProvider("app").getImmediate(),ye=function _e(Te){if(!Te||!Te.options)throw we("App Configuration");if(!Te.name)throw we("App Name");const Et=["projectId","apiKey","appId"];for(const ye of Et)if(!Te.options[ye])throw we(ye);return{appName:Te.name,projectId:Te.options.projectId,apiKey:Te.options.apiKey,appId:Te.options.appId}}(Et);return{app:Et,appConfig:ye,heartbeatServiceProvider:(0,h._getProvider)(Et,"heartbeat"),_delete:()=>Promise.resolve()}},ce=Te=>{const Et=Te.getProvider("app").getImmediate(),ye=(0,h._getProvider)(Et,H).getImmediate();return{getId:()=>function nt(Te){return ve.apply(this,arguments)}(ye),getToken:O=>function Ce(Te){return ne.apply(this,arguments)}(ye,O)}};(function Ve(){(0,h._registerComponent)(new A.wA(H,V,"PUBLIC")),(0,h._registerComponent)(new A.wA("installations-internal",ce,"PRIVATE"))})(),(0,h.registerVersion)(ze,Ye),(0,h.registerVersion)(ze,Ye,"esm2017")},1877:(bn,xt,x)=>{x.d(xt,{Am:()=>qe,Ub:()=>ie,Yd:()=>Ye,in:()=>h});const m=[];var h=(()=>{return(q=h||(h={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",h;var q})();const A={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},De=h.INFO,N={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ze=(q,Pe,...Ee)=>{if(Pe<q.logLevel)return;const Le=(new Date).toISOString(),gt=N[Pe];if(!gt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Pe})`);console[gt](`[${Le}]  ${q.name}:`,...Ee)};class Ye{constructor(Pe){this.name=Pe,this._logLevel=De,this._logHandler=ze,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(Pe){if(!(Pe in h))throw new TypeError(`Invalid value "${Pe}" assigned to \`logLevel\``);this._logLevel=Pe}setLogLevel(Pe){this._logLevel="string"==typeof Pe?A[Pe]:Pe}get logHandler(){return this._logHandler}set logHandler(Pe){if("function"!=typeof Pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Pe){this._userLogHandler=Pe}debug(...Pe){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...Pe),this._logHandler(this,h.DEBUG,...Pe)}log(...Pe){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...Pe),this._logHandler(this,h.VERBOSE,...Pe)}info(...Pe){this._userLogHandler&&this._userLogHandler(this,h.INFO,...Pe),this._logHandler(this,h.INFO,...Pe)}warn(...Pe){this._userLogHandler&&this._userLogHandler(this,h.WARN,...Pe),this._logHandler(this,h.WARN,...Pe)}error(...Pe){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...Pe),this._logHandler(this,h.ERROR,...Pe)}}function ie(q){m.forEach(Pe=>{Pe.setLogLevel(q)})}function qe(q,Pe){for(const Ee of m){let Le=null;Pe&&Pe.level&&(Le=A[Pe.level]),Ee.userLogHandler=null===q?null:(gt,ht,...St)=>{const Ge=St.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");ht>=(Le??gt.logLevel)&&q({level:h[ht].toLowerCase(),message:Ge,args:St,type:gt.name})}}}},8766:(bn,xt,x)=>{x.d(xt,{Lj:()=>tt,X3:()=>Pt});var m=x(5861);let A,De;const Ye=new WeakMap,ie=new WeakMap,qe=new WeakMap,q=new WeakMap,Pe=new WeakMap;let gt={get($e,Dt,ot){if($e instanceof IDBTransaction){if("done"===Dt)return ie.get($e);if("objectStoreNames"===Dt)return $e.objectStoreNames||qe.get($e);if("store"===Dt)return ot.objectStoreNames[1]?void 0:ot.objectStore(ot.objectStoreNames[0])}return bt($e[Dt])},set:($e,Dt,ot)=>($e[Dt]=ot,!0),has:($e,Dt)=>$e instanceof IDBTransaction&&("done"===Dt||"store"===Dt)||Dt in $e};function Ge($e){return"function"==typeof $e?function St($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Dt){return $e.apply(Ht(this),Dt),bt(Ye.get(this))}:function(...Dt){return bt($e.apply(Ht(this),Dt))}:function(Dt,...ot){const dt=$e.call(Ht(this),Dt,...ot);return qe.set(dt,Dt.sort?Dt.sort():[Dt]),bt(dt)}}($e):($e instanceof IDBTransaction&&function Le($e){if(ie.has($e))return;const Dt=new Promise((ot,dt)=>{const Rt=()=>{$e.removeEventListener("complete",It),$e.removeEventListener("error",Jt),$e.removeEventListener("abort",Jt)},It=()=>{ot(),Rt()},Jt=()=>{dt($e.error||new DOMException("AbortError","AbortError")),Rt()};$e.addEventListener("complete",It),$e.addEventListener("error",Jt),$e.addEventListener("abort",Jt)});ie.set($e,Dt)}($e),(($e,Dt)=>Dt.some(ot=>$e instanceof ot))($e,function N(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,gt):$e)}function bt($e){if($e instanceof IDBRequest)return function Ee($e){const Dt=new Promise((ot,dt)=>{const Rt=()=>{$e.removeEventListener("success",It),$e.removeEventListener("error",Jt)},It=()=>{ot(bt($e.result)),Rt()},Jt=()=>{dt($e.error),Rt()};$e.addEventListener("success",It),$e.addEventListener("error",Jt)});return Dt.then(ot=>{ot instanceof IDBCursor&&Ye.set(ot,$e)}).catch(()=>{}),Pe.set(Dt,$e),Dt}($e);if(q.has($e))return q.get($e);const Dt=Ge($e);return Dt!==$e&&(q.set($e,Dt),Pe.set(Dt,$e)),Dt}const Ht=$e=>Pe.get($e);function Pt($e,Dt,{blocked:ot,upgrade:dt,blocking:Rt,terminated:It}={}){const Jt=indexedDB.open($e,Dt),Kt=bt(Jt);return dt&&Jt.addEventListener("upgradeneeded",an=>{dt(bt(Jt.result),an.oldVersion,an.newVersion,bt(Jt.transaction))}),ot&&Jt.addEventListener("blocked",()=>ot()),Kt.then(an=>{It&&an.addEventListener("close",()=>It()),Rt&&an.addEventListener("versionchange",()=>Rt())}).catch(()=>{}),Kt}function tt($e,{blocked:Dt}={}){const ot=indexedDB.deleteDatabase($e);return Dt&&ot.addEventListener("blocked",()=>Dt()),bt(ot).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],Ke=new Map;function ke($e,Dt){if(!($e instanceof IDBDatabase)||Dt in $e||"string"!=typeof Dt)return;if(Ke.get(Dt))return Ke.get(Dt);const ot=Dt.replace(/FromIndex$/,""),dt=Dt!==ot,Rt=He.includes(ot);if(!(ot in(dt?IDBIndex:IDBObjectStore).prototype)||!Rt&&!Qe.includes(ot))return;const It=function(){var Jt=(0,m.Z)(function*(Kt,...an){const fn=this.transaction(Kt,Rt?"readwrite":"readonly");let sn=fn.store;return dt&&(sn=sn.index(an.shift())),(yield Promise.all([sn[ot](...an),Rt&&fn.done]))[0]});return function(an){return Jt.apply(this,arguments)}}();return Ke.set(Dt,It),It}!function ht($e){gt=$e(gt)}($e=>({...$e,get:(Dt,ot,dt)=>ke(Dt,ot)||$e.get(Dt,ot,dt),has:(Dt,ot)=>!!ke(Dt,ot)||$e.has(Dt,ot)}))},8345:(bn,xt,x)=>{x.d(xt,{J:()=>_e,U:()=>we});var m=x(4006),h=x(4650),A=x(9549),De=x(2693),N=x(8184),ze=x(3353),Ye=x(4080),ie=x(6895),qe=x(9521),q=x(7579),Pe=x(9770),Ee=x(9646),Le=x(445),gt=x(8675);function ht(H,ue){}class St{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let bt=(()=>{class H extends Ye.en{constructor(V,ce,Ve,Te,Et,ye,ut,O){super(),this._elementRef=V,this._focusTrapFactory=ce,this._config=Te,this._interactivityChecker=Et,this._ngZone=ye,this._overlayRef=ut,this._focusMonitor=O,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=re=>{this._portalOutlet.hasAttached();const Me=this._portalOutlet.attachDomPortal(re);return this._contentAttached(),Me},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=Ve}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(V){this._portalOutlet.hasAttached();const ce=this._portalOutlet.attachComponentPortal(V);return this._contentAttached(),ce}attachTemplatePortal(V){this._portalOutlet.hasAttached();const ce=this._portalOutlet.attachTemplatePortal(V);return this._contentAttached(),ce}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(V,ce){this._interactivityChecker.isFocusable(V)||(V.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ve=()=>{V.removeEventListener("blur",Ve),V.removeEventListener("mousedown",Ve),V.removeAttribute("tabindex")};V.addEventListener("blur",Ve),V.addEventListener("mousedown",Ve)})),V.focus(ce)}_focusByCssSelector(V,ce){let Ve=this._elementRef.nativeElement.querySelector(V);Ve&&this._forceFocus(Ve,ce)}_trapFocus(){const V=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||V.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(ce=>{ce||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const V=this._config.restoreFocus;let ce=null;if("string"==typeof V?ce=this._document.querySelector(V):"boolean"==typeof V?ce=V?this._elementFocusedBeforeDialogWasOpened:null:V&&(ce=V),this._config.restoreFocus&&ce&&"function"==typeof ce.focus){const Ve=(0,ze.ht)(),Te=this._elementRef.nativeElement;(!Ve||Ve===this._document.body||Ve===Te||Te.contains(Ve))&&(this._focusMonitor?(this._focusMonitor.focusVia(ce,this._closeInteractionType),this._closeInteractionType=null):ce.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const V=this._elementRef.nativeElement,ce=(0,ze.ht)();return V===ce||V.contains(ce)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ze.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(h.SBq),h.Y36(De.qV),h.Y36(ie.K0,8),h.Y36(St),h.Y36(De.ic),h.Y36(h.R0b),h.Y36(N.Iu),h.Y36(De.tE))},H.\u0275cmp=h.Xpm({type:H,selectors:[["cdk-dialog-container"]],viewQuery:function(V,ce){if(1&V&&h.Gf(Ye.Pl,7),2&V){let Ve;h.iGM(Ve=h.CRH())&&(ce._portalOutlet=Ve.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(V,ce){2&V&&h.uIk("id",ce._config.id||null)("role",ce._config.role)("aria-modal",ce._config.ariaModal)("aria-labelledby",ce._config.ariaLabel?null:ce._ariaLabelledBy)("aria-label",ce._config.ariaLabel)("aria-describedby",ce._config.ariaDescribedBy||null)},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(V,ce){1&V&&h.YNc(0,ht,0,0,"ng-template",0)},dependencies:[Ye.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),H})();class Ht{constructor(ue,V){this.overlayRef=ue,this.config=V,this.closed=new q.x,this.disableClose=V.disableClose,this.backdropClick=ue.backdropClick(),this.keydownEvents=ue.keydownEvents(),this.outsidePointerEvents=ue.outsidePointerEvents(),this.id=V.id,this.keydownEvents.subscribe(ce=>{ce.keyCode===qe.hY&&!this.disableClose&&!(0,qe.Vb)(ce)&&(ce.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(ue,V){if(this.containerInstance){const ce=this.closed;this.containerInstance._closeInteractionType=V?.focusOrigin||"program",this.overlayRef.dispose(),ce.next(ue),ce.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(ue="",V=""){return this.overlayRef.updateSize({width:ue,height:V}),this}addPanelClass(ue){return this.overlayRef.addPanelClass(ue),this}removePanelClass(ue){return this.overlayRef.removePanelClass(ue),this}}const Pt=new h.OlP("DialogScrollStrategy"),tt=new h.OlP("DialogData"),Qe=new h.OlP("DefaultDialogConfig"),Ke={provide:Pt,deps:[N.aV],useFactory:function He(H){return()=>H.scrollStrategies.block()}};let ke=0,$e=(()=>{class H{constructor(V,ce,Ve,Te,Et,ye){this._overlay=V,this._injector=ce,this._defaultOptions=Ve,this._parentDialog=Te,this._overlayContainer=Et,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new q.x,this._afterOpenedAtThisLevel=new q.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Pe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,gt.O)(void 0))),this._scrollStrategy=ye}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(V,ce){(ce={...this._defaultOptions||new St,...ce}).id=ce.id||"cdk-dialog-"+ke++,ce.id&&this.getDialogById(ce.id);const Te=this._getOverlayConfig(ce),Et=this._overlay.create(Te),ye=new Ht(Et,ce),ut=this._attachContainer(Et,ye,ce);return ye.containerInstance=ut,this._attachDialogContent(V,ye,ut,ce),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ye),ye.closed.subscribe(()=>this._removeOpenDialog(ye,!0)),this.afterOpened.next(ye),ye}closeAll(){Dt(this.openDialogs,V=>V.close())}getDialogById(V){return this.openDialogs.find(ce=>ce.id===V)}ngOnDestroy(){Dt(this._openDialogsAtThisLevel,V=>{!1===V.config.closeOnDestroy&&this._removeOpenDialog(V,!1)}),Dt(this._openDialogsAtThisLevel,V=>V.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(V){const ce=new N.X_({positionStrategy:V.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:V.scrollStrategy||this._scrollStrategy(),panelClass:V.panelClass,hasBackdrop:V.hasBackdrop,direction:V.direction,minWidth:V.minWidth,minHeight:V.minHeight,maxWidth:V.maxWidth,maxHeight:V.maxHeight,width:V.width,height:V.height,disposeOnNavigation:V.closeOnNavigation});return V.backdropClass&&(ce.backdropClass=V.backdropClass),ce}_attachContainer(V,ce,Ve){const Te=Ve.injector||Ve.viewContainerRef?.injector,Et=[{provide:St,useValue:Ve},{provide:Ht,useValue:ce},{provide:N.Iu,useValue:V}];let ye;Ve.container?"function"==typeof Ve.container?ye=Ve.container:(ye=Ve.container.type,Et.push(...Ve.container.providers(Ve))):ye=bt;const ut=new Ye.C5(ye,Ve.viewContainerRef,h.zs3.create({parent:Te||this._injector,providers:Et}),Ve.componentFactoryResolver);return V.attach(ut).instance}_attachDialogContent(V,ce,Ve,Te){if(V instanceof h.Rgc){const Et=this._createInjector(Te,ce,Ve,void 0);let ye={$implicit:Te.data,dialogRef:ce};Te.templateContext&&(ye={...ye,..."function"==typeof Te.templateContext?Te.templateContext():Te.templateContext}),Ve.attachTemplatePortal(new Ye.UE(V,null,ye,Et))}else{const Et=this._createInjector(Te,ce,Ve,this._injector),ye=Ve.attachComponentPortal(new Ye.C5(V,Te.viewContainerRef,Et,Te.componentFactoryResolver));ce.componentInstance=ye.instance}}_createInjector(V,ce,Ve,Te){const Et=V.injector||V.viewContainerRef?.injector,ye=[{provide:tt,useValue:V.data},{provide:Ht,useValue:ce}];return V.providers&&("function"==typeof V.providers?ye.push(...V.providers(ce,V,Ve)):ye.push(...V.providers)),V.direction&&(!Et||!Et.get(Le.Is,null,h.XFs.Optional))&&ye.push({provide:Le.Is,useValue:{value:V.direction,change:(0,Ee.of)()}}),h.zs3.create({parent:Et||Te,providers:ye})}_removeOpenDialog(V,ce){const Ve=this.openDialogs.indexOf(V);Ve>-1&&(this.openDialogs.splice(Ve,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Te,Et)=>{Te?Et.setAttribute("aria-hidden",Te):Et.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ce&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const V=this._overlayContainer.getContainerElement();if(V.parentElement){const ce=V.parentElement.children;for(let Ve=ce.length-1;Ve>-1;Ve--){const Te=ce[Ve];Te!==V&&"SCRIPT"!==Te.nodeName&&"STYLE"!==Te.nodeName&&!Te.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Te,Te.getAttribute("aria-hidden")),Te.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const V=this._parentDialog;return V?V._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return H.\u0275fac=function(V){return new(V||H)(h.LFG(N.aV),h.LFG(h.zs3),h.LFG(Qe,8),h.LFG(H,12),h.LFG(N.Xj),h.LFG(Pt))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),H})();function Dt(H,ue){let V=H.length;for(;V--;)ue(H[V])}let ot=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({providers:[$e,Ke],imports:[N.U8,Ye.eL,De.rt,Ye.eL]}),H})();var dt=x(3238),Rt=x(6451),It=x(9300),Jt=x(5698),Kt=x(7340);function an(H,ue){}const fn={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},sn={dialogContainer:(0,Kt.X$)("dialogContainer",[(0,Kt.SB)("void, exit",(0,Kt.oB)({opacity:0,transform:"scale(0.7)"})),(0,Kt.SB)("enter",(0,Kt.oB)({transform:"none"})),(0,Kt.eR)("* => enter",(0,Kt.ru)([(0,Kt.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Kt.oB)({transform:"none",opacity:1})),(0,Kt.IO)("@*",(0,Kt.pV)(),{optional:!0})]),fn),(0,Kt.eR)("* => void, * => exit",(0,Kt.ru)([(0,Kt.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Kt.oB)({opacity:0})),(0,Kt.IO)("@*",(0,Kt.pV)(),{optional:!0})]),fn)])};class vt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=fn.params.enterAnimationDuration,this.exitAnimationDuration=fn.params.exitAnimationDuration}}let qt=(()=>{class H extends bt{constructor(V,ce,Ve,Te,Et,ye,ut,O){super(V,ce,Ve,Te,Et,ye,ut,O),this._animationStateChanged=new h.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(V){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:V})}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(h.SBq),h.Y36(De.qV),h.Y36(ie.K0,8),h.Y36(vt),h.Y36(De.ic),h.Y36(h.R0b),h.Y36(N.Iu),h.Y36(De.tE))},H.\u0275cmp=h.Xpm({type:H,selectors:[["ng-component"]],features:[h.qOj],decls:0,vars:0,template:function(V,ce){},encapsulation:2}),H})(),Yt=(()=>{class H extends qt{constructor(V,ce,Ve,Te,Et,ye,ut,O,re){super(V,ce,Ve,Te,Et,ye,ut,re),this._changeDetectorRef=O,this._state="enter"}_onAnimationDone({toState:V,totalTime:ce}){"enter"===V?this._openAnimationDone(ce):"exit"===V&&this._animationStateChanged.next({state:"closed",totalTime:ce})}_onAnimationStart({toState:V,totalTime:ce}){"enter"===V?this._animationStateChanged.next({state:"opening",totalTime:ce}):("exit"===V||"void"===V)&&this._animationStateChanged.next({state:"closing",totalTime:ce})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||fn.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||fn.params.exitAnimationDuration}}}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(h.SBq),h.Y36(De.qV),h.Y36(ie.K0,8),h.Y36(vt),h.Y36(De.ic),h.Y36(h.R0b),h.Y36(N.Iu),h.Y36(h.sBO),h.Y36(De.tE))},H.\u0275cmp=h.Xpm({type:H,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(V,ce){1&V&&h.WFA("@dialogContainer.start",function(Te){return ce._onAnimationStart(Te)})("@dialogContainer.done",function(Te){return ce._onAnimationDone(Te)}),2&V&&(h.Ikx("id",ce._config.id),h.uIk("aria-modal",ce._config.ariaModal)("role",ce._config.role)("aria-labelledby",ce._config.ariaLabel?null:ce._ariaLabelledBy)("aria-label",ce._config.ariaLabel)("aria-describedby",ce._config.ariaDescribedBy||null),h.d8E("@dialogContainer",ce._getAnimationState()))},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(V,ce){1&V&&h.YNc(0,an,0,0,"ng-template",0)},dependencies:[Ye.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[sn.dialogContainer]}}),H})();class nn{constructor(ue,V,ce){this._ref=ue,this._containerInstance=ce,this._afterOpened=new q.x,this._beforeClosed=new q.x,this._state=0,this.disableClose=V.disableClose,this.id=ue.id,ce._animationStateChanged.pipe((0,It.h)(Ve=>"opened"===Ve.state),(0,Jt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ce._animationStateChanged.pipe((0,It.h)(Ve=>"closed"===Ve.state),(0,Jt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ue.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Rt.T)(this.backdropClick(),this.keydownEvents().pipe((0,It.h)(Ve=>Ve.keyCode===qe.hY&&!this.disableClose&&!(0,qe.Vb)(Ve)))).subscribe(Ve=>{this.disableClose||(Ve.preventDefault(),function Qt(H,ue,V){H._closeInteractionType=ue,H.close(V)}(this,"keydown"===Ve.type?"keyboard":"mouse"))})}close(ue){this._result=ue,this._containerInstance._animationStateChanged.pipe((0,It.h)(V=>"closing"===V.state),(0,Jt.q)(1)).subscribe(V=>{this._beforeClosed.next(ue),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),V.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(ue){let V=this._ref.config.positionStrategy;return ue&&(ue.left||ue.right)?ue.left?V.left(ue.left):V.right(ue.right):V.centerHorizontally(),ue&&(ue.top||ue.bottom)?ue.top?V.top(ue.top):V.bottom(ue.bottom):V.centerVertically(),this._ref.updatePosition(),this}updateSize(ue="",V=""){return this._ref.updateSize(ue,V),this}addPanelClass(ue){return this._ref.addPanelClass(ue),this}removePanelClass(ue){return this._ref.removePanelClass(ue),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Dn=new h.OlP("MatDialogData"),Xt=new h.OlP("mat-dialog-default-options"),mn=new h.OlP("mat-dialog-scroll-strategy"),Rn={provide:mn,deps:[N.aV],useFactory:function Un(H){return()=>H.scrollStrategies.block()}};let zn=0,$n=(()=>{class H{constructor(V,ce,Ve,Te,Et,ye,ut,O,re,Me){this._overlay=V,this._defaultOptions=Ve,this._parentDialog=Te,this._dialogRefConstructor=ut,this._dialogContainerType=O,this._dialogDataToken=re,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new q.x,this._afterOpenedAtThisLevel=new q.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Pe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,gt.O)(void 0))),this._scrollStrategy=ye,this._dialog=ce.get($e)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const V=this._parentDialog;return V?V._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(V,ce){let Ve;(ce={...this._defaultOptions||new vt,...ce}).id=ce.id||`${this._idPrefix}${zn++}`,ce.scrollStrategy=ce.scrollStrategy||this._scrollStrategy();const Te=this._dialog.open(V,{...ce,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:vt,useValue:ce},{provide:St,useValue:ce}]},templateContext:()=>({dialogRef:Ve}),providers:(Et,ye,ut)=>(Ve=new this._dialogRefConstructor(Et,ce,ut),Ve.updatePosition(ce?.position),[{provide:this._dialogContainerType,useValue:ut},{provide:this._dialogDataToken,useValue:ye.data},{provide:this._dialogRefConstructor,useValue:Ve}])});return Ve.componentInstance=Te.componentInstance,this.openDialogs.push(Ve),this.afterOpened.next(Ve),Ve.afterClosed().subscribe(()=>{const Et=this.openDialogs.indexOf(Ve);Et>-1&&(this.openDialogs.splice(Et,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ve}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(V){return this.openDialogs.find(ce=>ce.id===V)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(V){let ce=V.length;for(;ce--;)V[ce].close()}}return H.\u0275fac=function(V){h.$Z()},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),H})(),Vn=(()=>{class H extends $n{constructor(V,ce,Ve,Te,Et,ye,ut,O){super(V,ce,Te,ye,ut,Et,nn,Yt,Dn,O)}}return H.\u0275fac=function(V){return new(V||H)(h.LFG(N.aV),h.LFG(h.zs3),h.LFG(ie.Ye,8),h.LFG(Xt,8),h.LFG(mn),h.LFG(H,12),h.LFG(N.Xj),h.LFG(h.QbO,8))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),H})(),Be=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275dir=h.lG2({type:H,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),H})(),le=(()=>{class H{constructor(){this.align="start"}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275dir=h.lG2({type:H,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(V,ce){2&V&&h.ekj("mat-dialog-actions-align-center","center"===ce.align)("mat-dialog-actions-align-end","end"===ce.align)},inputs:{align:"align"}}),H})(),rt=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({providers:[Vn,Rn],imports:[ot,N.U8,Ye.eL,dt.BQ,dt.BQ]}),H})();var Xe=x(9101),wt=x(3683),$t=x(2722),un=x(590),jt=x(1281),mt=x(3336),Ne=x(4144);function yt(H,ue){1&H&&(h.ynx(0),h._uU(1,"\xb7"),h.BQk())}function Ut(H,ue){1&H&&(h.ynx(0),h._uU(1,"\xb7"),h.BQk())}const cn=function(H,ue){return{selected:H,disabled:ue}};function Nn(H,ue){if(1&H&&(h.ynx(0),h.TgZ(1,"button",8),h.YNc(2,Ut,2,0,"ng-container",6),h.qZA(),h.BQk()),2&H){const V=ue.$implicit,ce=h.oxw();h.xp6(1),h.Udp("transform","translate("+V.translateX+"px, "+V.translateY+"px)"),h.Q6J("ngClass",h.WLB(4,cn,ce.formattedValue===V.display||0===V.display&&0===ce.formattedValue,!ce.isAvailable(60===V.display?0:V.display))),h.xp6(1),h.Q6J("ngIf",V.display%5!=0)}}function vn(H,ue){if(1&H&&h._uU(0),2&H){const V=h.oxw().$implicit;h.Oqu(V.display)}}function kt(H,ue){if(1&H&&h._uU(0),2&H){const V=h.oxw().$implicit;h.Oqu(60===V.display?"00":V.display)}}function Ot(H,ue){1&H&&h.GkF(0)}function te(H,ue){if(1&H&&(h.ynx(0),h.TgZ(1,"button",9),h.YNc(2,vn,1,1,"ng-template",null,10,h.W1O),h.YNc(4,kt,1,1,"ng-template",null,11,h.W1O),h.YNc(6,Ot,1,0,"ng-container",12),h.qZA(),h.BQk()),2&H){const V=ue.$implicit,ce=h.MAs(3),Ve=h.MAs(5),Te=h.oxw();h.xp6(1),h.Udp("transform","translate("+V.translateX+"px, "+V.translateY+"px)"),h.Q6J("ngClass",h.WLB(6,cn,Te.formattedValue===V.display||60===V.display&&0===Te.formattedValue,!Te.isAvailable(60===V.display?0:V.display))),h.xp6(5),h.Q6J("ngIf","minutes"===Te.viewType)("ngIfThen",Ve)("ngIfElse",ce)}}function ae(H,ue){if(1&H&&(h.ynx(0),h.TgZ(1,"button",13),h._uU(2),h.qZA(),h.BQk()),2&H){const V=ue.$implicit,ce=h.oxw();h.xp6(1),h.Udp("transform","translate("+V.translateX+"px, "+V.translateY+"px)"),h.Q6J("ngClass",h.WLB(4,cn,ce.formattedValue===V.display||24===V.display&&0===ce.formattedValue,!ce.isAvailable(24===V.display?0:V.display))),h.xp6(1),h.hij(" ",24===V.display?"00":V.display," ")}}const K=function(H,ue){return{"small-pointer":H,"animated-pointer":ue}},z=function(H){return{"outer-dot-odd":H}};function de(H,ue){if(1&H){const V=h.EpF();h.TgZ(0,"button",14),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.cancelClickHandler())}),h._uU(1),h.qZA()}if(2&H){const V=h.oxw();h.Q6J("color",V.color),h.xp6(1),h.Oqu(V.cancelLabel)}}function J(H,ue){if(1&H){const V=h.EpF();h.TgZ(0,"button",15),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.okClickHandler())}),h._uU(1),h.qZA()}if(2&H){const V=h.oxw();h.Q6J("disabled",V.invalidSelection)("color",V.color),h.xp6(1),h.Oqu(V.okLabel)}}function ct(H,ue){1&H&&h.GkF(0)}function st(H,ue){1&H&&h._UZ(0,"div",4)}const Mt=function(H){return{select:H}};function Lt(H,ue){if(1&H){const V=h.EpF();h.TgZ(0,"div",16)(1,"span",17),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.setPm())}),h._uU(2),h.ALo(3,"uppercase"),h.qZA(),h.TgZ(4,"span",17),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.setAm())}),h._uU(5),h.ALo(6,"uppercase"),h.qZA()()}if(2&H){const V=h.oxw();h.xp6(1),h.Q6J("ngClass",h.VKq(8,Mt,V.isPm)),h.xp6(1),h.Oqu(h.lcZ(3,4,V.postMeridiemAbbreviation)),h.xp6(2),h.Q6J("ngClass",h.VKq(10,Mt,!V.isPm)),h.xp6(1),h.Oqu(h.lcZ(6,6,V.anteMeridiemAbbreviation))}}function je(H,ue){1&H&&h.GkF(0)}function nt(H,ue){1&H&&h.GkF(0)}const ve=function(H,ue){return{label:H,$implicit:ue}};function Ce(H){return H<10?`0${H}`:`${H}`}function Oe(H,ue){const V=H>=12;return"24h"===ue?{hour:H,isPm:V}:0===H||12===H?{hour:12,isPm:V}:H<12?{hour:H,isPm:V}:{hour:H-12,isPm:V}}function We(H,ue,V){const ce=+V;return(!H||+H<=ce)&&(!ue||ce<=+ue)}function se(H,ue,V,ce,Ve,Te){if(H>24||H<0||ue>60||ue<0)return!1;if(!V&&!ce)return!0;"12h"===Ve&&(12===H&&"AM"===Te&&(H=0),H>12&&(H-=12));const Et=new Date;return Et.setHours(H),Et.setMinutes(ue),Et.setSeconds(0),Et.setMilliseconds(0),We(V,ce,Et)}let me=(()=>{class H{constructor(){this.color="primary",this.changeEvent=new h.vpe,this.unavailableSelection=new h.vpe,this.invalidMeridiem=new h.vpe,this.invalidSelection=new h.vpe,this.clearInvalidMeridiem=new h.vpe,this.allowed12HourMap=null,this.allowed24HourMap=null,this.isFormattedValueAllowed=!0,this.meridiem=null,this.touching=!1,this.numbers=[],this.secondaryNumbers=[],this.minuteDots=[],this.invalidMeridiemEmitted=!0,this.handleTouchMove=V=>{V.preventDefault();const ce=V.target.getBoundingClientRect();this.movePointer(V.changedTouches[0].clientX-ce.left,V.changedTouches[0].clientY-ce.top)}}initIsAllowedFn(){!this.allowed12HourMap&&!this.allowed24HourMap||(this.isAvailableFn=function he(H,ue,V){return(ce,Ve,Te,Et)=>{const ye="hours"===Ve,[ut,O]=ye?[ce,null]:[Et,ce];if("12h"===V){if(!H)return!0;const re=Te?"pm":"am";return ye?!!Object.values(H[re][ut]).find(Me=>!0===Me):H[re][ut][O]}return!ue||(ye?!!Object.values(ue[ut]).find(re=>!0===re):ue[ut][O])}}(this.allowed12HourMap,this.allowed24HourMap,this.mode))}isAvailable(V){return!this.isAvailableFn||this.isAvailableFn(V,this.viewType,this.isPm,this.formattedHours)}ngOnChanges(V){(V.allowed12HourMap||V.allowed24HourMap||V.mode&&!V.mode.firstChange)&&this.initIsAllowedFn(),this.calculateAngule(),this.setNumbers(),this.meridiem=this.isPm?"PM":"AM",V.formattedValue&&(this.allowed12HourMap||this.allowed24HourMap)&&(this.isFormattedValueAllowed=this.isAvailable(this.formattedValue));const ce=!this.isAvailableFn||this.isAvailableFn(this.minutes,"minutes",this.isPm,this.formattedHours);ce&&this.invalidMeridiemEmitted&&(this.clearInvalidMeridiem.emit(),this.invalidMeridiemEmitted=!1),this.invalidSelection.emit(!ce)}calculateAngule(){this.angle=this.getPointerAngle(this.formattedValue,this.viewType)}setNumbers(){if("hours"===this.viewType){if("12h"===this.mode){const V=this.isPm?"pm":"am";this.numbers=this.getNumbers(12,{size:256},this.allowed12HourMap?Ve=>this.allowed12HourMap[V][Ve+1][0]:void 0),this.secondaryNumbers=[],this.minuteDots=[]}else if("24h"===this.mode){const V=this.allowed24HourMap?ce=>this.allowed24HourMap[ce][0]:void 0;this.numbers=this.getNumbers(12,{size:256},V),this.secondaryNumbers=this.getNumbers(12,{size:192,start:13},V),this.minuteDots=[]}}else{const V=this.isPm?"pm":"am",ce=this.allowed12HourMap?Ve=>this.allowed12HourMap[V][this.formattedHours][Ve]:this.allowed24HourMap?Ve=>this.allowed24HourMap[this.formattedHours][Ve]:void 0;this.numbers=this.getNumbers(12,{size:256,start:5,step:5},ce),this.minuteDots=this.getNumbers(60,{size:256,start:13}).map(Ve=>Ve.display<=59?(Ve.allowed=!ce||ce(Ve.display),Ve):(Ve.display=Ve.display-60,Ve.allowed=!ce||ce(Ve.display),Ve)),this.secondaryNumbers=[]}}disableAnimatedPointer(){this.touching=!0}enableAnimatedPointer(){this.touching=!1}handleTouchEnd(V){this.handleTouchMove(V),this.enableAnimatedPointer()}handleMouseMove(V){if((1===V.buttons||1===V.which)&&this.touching){const ce=V.target.getBoundingClientRect();this.movePointer(V.clientX-ce.left,V.clientY-ce.top)}}handleClick(V){const ce=V.target.getBoundingClientRect();this.movePointer(V.clientX-ce.left,V.clientY-ce.top)}movePointer(V,ce){const Ve=this.getPointerValue(V,ce,256);this.isAvailable(Ve)?Ve!==this.formattedValue&&(this.changeEvent.emit({value:Ve,type:this.viewType}),"minutes"!==this.viewType&&(this.isAvailable(Ve)||(this.minDate&&this.isAvailable(Ve)?this.changeEvent.emit({value:this.minDate.getMinutes(),type:"minutes"}):this.maxDate&&this.isAvailable(Ve)&&this.changeEvent.emit({value:this.maxDate.getMinutes(),type:"minutes"})))):this.unavailableSelection.emit()}getNumbers(V,{size:ce,start:Ve=1,step:Te=1},Et){return Array.apply(null,Array(V)).map((ye,ut)=>({display:ut*Te+Ve,translateX:(ce/2-20)*Math.cos(2*Math.PI*(ut-2)/V),translateY:(ce/2-20)*Math.sin(2*Math.PI*(ut-2)/V),allowed:!Et||Et(ut)}))}getPointerAngle(V,ce){return"hours"===this.viewType?"12h"===this.mode?30*(V-3):30*(V%12-3):6*(V-15)}getPointerValue(V,ce,Ve){let Te,Et=Math.atan2(Ve/2-V,Ve/2-ce)/Math.PI*180;if(Et<0&&(Et=360+Et),"hours"===this.viewType){if("12h"===this.mode)return Te=12-Math.round(12*Et/360),0===Te?12:Te;const ye=Math.sqrt(Math.pow(Ve/2-V,2)+Math.pow(Ve/2-ce,2));return Te=12-Math.round(12*Et/360),0===Te&&(Te=12),ye<Ve/2-32&&(Te=12===Te?0:Te+12),Te}return Te=Math.round(60-60*Et/360),60===Te?0:Te}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275cmp=h.Xpm({type:H,selectors:[["mat-clock"]],inputs:{mode:"mode",viewType:"viewType",color:"color",formattedValue:"formattedValue",minDate:"minDate",maxDate:"maxDate",isPm:"isPm",formattedHours:"formattedHours",minutes:"minutes",allowed12HourMap:"allowed12HourMap",allowed24HourMap:"allowed24HourMap"},outputs:{changeEvent:"changeEvent",unavailableSelection:"unavailableSelection",invalidMeridiem:"invalidMeridiem",invalidSelection:"invalidSelection",clearInvalidMeridiem:"clearInvalidMeridiem"},features:[h.TTD],decls:10,vars:16,consts:[[1,"root"],[1,"circle",3,"touchmove","mousemove","touchstart","mousedown","touchend","mouseup","click"],[1,"pointer-container",3,"ngClass"],["mat-mini-fab","",1,"inner-dot",3,"color"],[1,"pointer",3,"color"],["mat-mini-fab","",1,"outer-dot",3,"color","ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"number","minute-dot",3,"ngClass"],[1,"number",3,"ngClass"],["hoursTemplate",""],["minutesTemplate",""],[4,"ngIf","ngIfThen","ngIfElse"],[1,"number","small-number",3,"ngClass"]],template:function(V,ce){1&V&&(h.TgZ(0,"div",0)(1,"div",1),h.NdJ("touchmove",function(Te){return ce.handleTouchMove(Te)})("mousemove",function(Te){return ce.handleMouseMove(Te)})("touchstart",function(){return ce.disableAnimatedPointer()})("mousedown",function(){return ce.disableAnimatedPointer()})("touchend",function(Te){return ce.handleTouchEnd(Te)})("mouseup",function(){return ce.enableAnimatedPointer()})("click",function(Te){return ce.handleClick(Te)}),h.TgZ(2,"div",2),h._UZ(3,"button",3),h.TgZ(4,"mat-toolbar",4)(5,"button",5),h.YNc(6,yt,2,0,"ng-container",6),h.qZA()()(),h.YNc(7,Nn,3,7,"ng-container",7),h.YNc(8,te,7,9,"ng-container",7),h.YNc(9,ae,3,7,"ng-container",7),h.qZA()()),2&V&&(h.xp6(2),h.Udp("transform","rotate("+ce.angle+"deg)"),h.Q6J("ngClass",h.WLB(11,K,"24h"===ce.mode&&"hours"===ce.viewType&&(0===ce.formattedValue||ce.formattedValue>12),!ce.touching)),h.xp6(1),h.Q6J("color",ce.color),h.xp6(1),h.Q6J("color",ce.color),h.xp6(1),h.Q6J("color",ce.color)("ngClass",h.VKq(14,z,"minutes"===ce.viewType&&ce.formattedValue%5!=0)),h.xp6(1),h.Q6J("ngIf","minutes"===ce.viewType&&ce.formattedValue%5!=0),h.xp6(1),h.Q6J("ngForOf",ce.minuteDots),h.xp6(1),h.Q6J("ngForOf",ce.numbers),h.xp6(1),h.Q6J("ngForOf",ce.secondaryNumbers))},dependencies:[ie.mk,ie.sg,ie.O5,Xe.lW,wt.Ye],styles:[".root[_ngcontent-%COMP%]{width:256px;height:256px;cursor:default}.circle[_ngcontent-%COMP%]{width:256px;height:256px;border-radius:50%;position:relative;background:#ededed;cursor:pointer}.number[_ngcontent-%COMP%]{width:32px;height:32px;border:0px;left:calc(50% - 16px);top:calc(50% - 16px);position:absolute;text-align:center;line-height:32px;cursor:pointer;font-size:14px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:transparent!important;background:transparent!important;box-shadow:0 -1px 5px -200px #000!important;-webkit-box-shadow:0px -1px 5px -200px rgb(0,0,0)!important;-moz-box-shadow:0px -1px 5px -200px rgb(0,0,0)!important}.number.disabled[_ngcontent-%COMP%]{color:#0101011a}.number[_ngcontent-%COMP%]:not(.selected):not(.disabled){color:#000000de}.number[_ngcontent-%COMP%]:not(.disabled).minute-dot{color:#010101b3}.number[_ngcontent-%COMP%]:not(.disabled).minute-dot.selected{color:transparent}.small-number[_ngcontent-%COMP%]{font-size:12px}.small-number[_ngcontent-%COMP%]:not(.selected):not(.disabled){color:#000000ab}.pointer-container[_ngcontent-%COMP%]{width:calc(50% - 20px);height:2;position:absolute;left:50%;top:calc(50% - 1px);transform-origin:left center;pointer-events:none}.pointer-container.disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:transparent}.pointer[_ngcontent-%COMP%]{height:1px}.animated-pointer[_ngcontent-%COMP%]{transition:all .2s ease-out}.small-pointer[_ngcontent-%COMP%]{width:calc(50% - 52px)}.inner-dot[_ngcontent-%COMP%]{position:absolute;top:-3px;left:-4px;width:8px;height:8px;border-radius:50%;box-shadow:0 3px 5px -1px #0000,0 6px 10px #0000,0 1px 18px #0000!important;-webkit-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important;-moz-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important}.outer-dot[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;right:-16px;border-radius:50%;box-sizing:content-box;box-shadow:0 3px 5px -1px #0000,0 6px 10px #0000,0 1px 18px #0000!important;-webkit-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important;-moz-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important}.outer-dot-odd[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-shadow:0 3px 5px -1px #0000,0 6px 10px #0000,0 1px 18px #0000!important;-webkit-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important;-moz-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important}"],changeDetection:0}),H})(),Se=(()=>{class H{constructor(V){this.data=V,this.twoDigits=Ce,this.changeEvent=new h.vpe,this.okClickEvent=new h.vpe,this.cancelClickEvent=new h.vpe,this.allowed24HourMap=null,this.allowed12HourMap=null,this.invalidSelection=!1,this.viewType="hours",this.isPm=!1,this.skipMinuteAutoSwitch=!1,this.autoSwitchID=null,this.invalidMedianID=null,this.hasInvalidMeridiem=!1,this.editHoursClicked=!1,this.isClosing=!1,this.okClickHandler=()=>{this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.okClickEvent.emit(this.value)},this.cancelClickHandler=()=>{this.cancelClickEvent.emit()},this.isPm=V.isPm,this.bindData(V),this.value=V.value}set value(V){V=V||this.minDate||this.maxDate||new Date,this.hours=V.getHours(),this.minutes=V.getMinutes(),this._value=V}get value(){return this._value}set hours(V){this._hours=V,this._formattedHour=Oe(this.hours,this.mode).hour}get hours(){return this._hours}get formattedHours(){return this._formattedHour}bindData(V){this.mode=V.mode,this.okLabel=V.okLabel,this.cancelLabel=V.cancelLabel,this.okButtonTemplate=V.okButtonTemplate,this.cancelButtonTemplate=V.cancelButtonTemplate,this.anteMeridiemAbbreviation=V.anteMeridiemAbbreviation,this.postMeridiemAbbreviation=V.postMeridiemAbbreviation,this.color=V.color,this.minDate=V.minDate,this.maxDate=V.maxDate,this.allowed12HourMap=V.allowed12HourMap,this.allowed24HourMap=V.allowed24HourMap}ngDoCheck(){this.bindData(this.data)}handleClockChange({value:V,type:ce}){(this.hasInvalidMeridiem&&"12h"===this.mode||"24h"===this.mode&&"hours"===ce&&(this.hours>=12&&V<12||this.hours<12&&V>=12))&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),ce&&"hours"===ce||!ce&&"hours"===this.viewType?this.hours=V:(ce&&"minutes"===ce||!ce&&"minutes"===this.viewType)&&(this.minutes=V);const Te=new Date;Te.setHours(this.isPm?this.hours<12?this.hours+12:this.hours:12===this.hours?0:this.hours),Te.setMinutes(this.minutes),Te.setSeconds(0),Te.setMilliseconds(0),this.value=Te,this.changeEvent.emit(Te)}clearInvalidMeridiem(){this.hasInvalidMeridiem=!1}handleUnavailableSelection(){clearTimeout(this.autoSwitchID)}handleClockChangeDone(V){V.preventDefault(),"hours"===this.viewType&&!this.skipMinuteAutoSwitch&&(this.autoSwitchID=setTimeout(()=>{this.editMinutes(),this.autoSwitchID=null},300))}editHours(){this.viewType="hours",this.editHoursClicked=!0,setTimeout(()=>{this.editHoursClicked=!1},0)}editMinutes(){this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.viewType="minutes"}invalidSelectionHandler(V){this.invalidSelection=V}invalidMeridiem(){if("minutes"!==this.viewType&&this.editHoursClicked){if(this.invalidMedianID)return;this.invalidMedianID=setTimeout(()=>{this.isPm=!this.isPm,this.hasInvalidMeridiem=!1},0)}else this.hasInvalidMeridiem=!0}meridiemChange(V){const ce={type:this.viewType,value:"hours"===this.viewType?V:this.value.getMinutes()};this.handleClockChange(ce)}setAm(){this.hours>=12&&(this.hours=this.hours-12),this.isPm=!1,this.meridiemChange(this.hours)}setPm(){this.hours<12&&(this.hours=this.hours+12),this.isPm=!0,this.meridiemChange(this.hours)}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(Dn))},H.\u0275cmp=h.Xpm({type:H,selectors:[["mat-timepicker-dialog"]],outputs:{changeEvent:"changeEvent",okClickEvent:"okClickEvent",cancelClickEvent:"cancelClickEvent"},decls:25,vars:33,consts:[["defaultCancelButtonTemplate",""],["defaultOkButtonTemplate",""],[1,"root"],[1,"header",3,"color"],[1,"placeholder"],[1,"time-frame"],[1,"time","fixed-font-size",3,"ngClass","click"],[1,"fixed-font-size"],[4,"ngIf","ngIfThen","ngIfElse"],["normal",""],["ampm",""],[1,"body"],[3,"allowed12HourMap","allowed24HourMap","minDate","maxDate","color","viewType","mode","formattedHours","minutes","formattedValue","isPm","changeEvent","unavailableSelection","invalidMeridiem","mouseup","clearInvalidMeridiem","touchend","invalidSelection"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",3,"color","click"],["mat-button","",3,"disabled","color","click"],[1,"ampm"],[1,"time",3,"ngClass","click"]],template:function(V,ce){if(1&V&&(h.YNc(0,de,2,2,"ng-template",null,0,h.W1O),h.YNc(2,J,2,3,"ng-template",null,1,h.W1O),h.TgZ(4,"mat-dialog-content")(5,"div",2)(6,"mat-toolbar",3),h._UZ(7,"div",4),h.TgZ(8,"div",5)(9,"span",6),h.NdJ("click",function(){return ce.editHours()}),h._uU(10),h.qZA(),h.TgZ(11,"span",7),h._uU(12,":"),h.qZA(),h.TgZ(13,"span",6),h.NdJ("click",function(){return ce.editMinutes()}),h._uU(14),h.qZA()(),h.YNc(15,ct,1,0,"ng-container",8),h.YNc(16,st,1,0,"ng-template",null,9,h.W1O),h.YNc(18,Lt,7,12,"ng-template",null,10,h.W1O),h.qZA(),h.TgZ(20,"div",11)(21,"mat-clock",12),h.NdJ("changeEvent",function(Te){return ce.handleClockChange(Te)})("unavailableSelection",function(){return ce.handleUnavailableSelection()})("invalidMeridiem",function(){return ce.invalidMeridiem()})("mouseup",function(Te){return ce.handleClockChangeDone(Te)})("clearInvalidMeridiem",function(){return ce.clearInvalidMeridiem()})("touchend",function(Te){return ce.handleClockChangeDone(Te)})("invalidSelection",function(Te){return ce.invalidSelectionHandler(Te)}),h.qZA()()()(),h.TgZ(22,"mat-dialog-actions"),h.YNc(23,je,1,0,"ng-container",13),h.YNc(24,nt,1,0,"ng-container",13),h.qZA()),2&V){const Ve=h.MAs(1),Te=h.MAs(3),Et=h.MAs(17),ye=h.MAs(19);h.xp6(6),h.Q6J("color",ce.color),h.xp6(3),h.Q6J("ngClass",h.VKq(23,Mt,"hours"===ce.viewType&&"active")),h.xp6(1),h.hij(" ",ce.twoDigits(ce.formattedHours)," "),h.xp6(3),h.Q6J("ngClass",h.VKq(25,Mt,"minutes"===ce.viewType&&"active")),h.xp6(1),h.hij(" ",ce.twoDigits(ce.minutes)," "),h.xp6(1),h.Q6J("ngIf","12h"===ce.mode)("ngIfThen",ye)("ngIfElse",Et),h.xp6(6),h.Q6J("allowed12HourMap",ce.allowed12HourMap)("allowed24HourMap",ce.allowed24HourMap)("minDate",ce.minDate)("maxDate",ce.maxDate)("color",ce.color)("viewType",ce.viewType)("mode",ce.mode)("formattedHours",ce.formattedHours)("minutes",ce.minutes)("formattedValue","minutes"===ce.viewType?ce.minutes:ce.formattedHours)("isPm",ce.isPm),h.xp6(2),h.Q6J("ngTemplateOutlet",ce.cancelButtonTemplate||Ve)("ngTemplateOutletContext",h.WLB(27,ve,ce.cancelLabel,ce.cancelClickHandler)),h.xp6(1),h.Q6J("ngTemplateOutlet",ce.okButtonTemplate||Te)("ngTemplateOutletContext",h.WLB(30,ve,ce.okLabel,ce.okClickHandler))}},dependencies:[ie.mk,ie.O5,ie.tP,Be,le,Xe.lW,wt.Ye,me,ie.gd],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-height:395px;padding:0;margin-top:-24px;overflow:hidden}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-right:-8px;margin-left:-8px}.root[_ngcontent-%COMP%]{min-width:282px}.header[_ngcontent-%COMP%]{border-top-left-radius:2px;border-top-right-radius:2px;padding:20px 0;line-height:58px;font-size:58px;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;height:98px}.header[_ngcontent-%COMP%]   .fixed-font-size[_ngcontent-%COMP%]{font-size:58px}.header[_ngcontent-%COMP%]   .time-frame[_ngcontent-%COMP%]{height:60px}.time[_ngcontent-%COMP%]{transition:all .2s ease-out;cursor:pointer}.time[_ngcontent-%COMP%]:not(.select){opacity:.6}.placeholder[_ngcontent-%COMP%]{flex:1}.ampm[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;flex:1;font-size:14px;line-height:20px;margin-left:16px;font-weight:700px}.select[_ngcontent-%COMP%]{color:#fff}.body[_ngcontent-%COMP%]{padding:24px 16px 20px;display:flex;justify-content:center}"]}),H})(),_e=(()=>{class H{constructor(V,ce,Ve,Te,Et,ye,ut,O,re,Me,_t){this.ngControl=V,this.dialog=ce,this.renderer=Ve,this.zone=Te,this.fm=Et,this.elRef=ye,this._platform=ut,this._parentForm=O,this._matFormFiled=re,this._parentFormGroup=Me,this._errorState=!1,this._disabled=!1,this._readonly=!1,this.isAlive=new q.x,this.stateChanges=new q.x,this._uid="mat-time-picker-"+H.nextId++,this.describedBy="",this._required=!1,this.focused=!1,this.allowed24HourMap=null,this.allowed12HourMap=null,this.isInputFocused=!1,this.okButtonTemplate=null,this.cancelButtonTemplate=null,this.okLabel="Ok",this.cancelLabel="Cancel",this.anteMeridiemAbbreviation="am",this.postMeridiemAbbreviation="pm",this.mode="24h",this.color="primary",this.disableDialogOpenOnClick=!1,this.strict=!0,this.controlType="angular-material-timepicker",this.listeners=[],this._skipValueChangeEmission=!0,this.combination=[],this.timeChange=new h.vpe,this.invalidInput=new h.vpe,this.clickHandler=Sn=>{this.modalRef&&this.modalRef.componentInstance.isClosing||this.disabled||this.disableDialogOpenOnClick||!this.modalRef&&!this.disableDialogOpenOnClick&&this.showDialog()},this.handleChange=Sn=>{if(!(Sn instanceof Date))return;const di=this.value instanceof Date?new Date(this.value.getTime()):new Date;di.setHours(Sn.getHours()),di.setMinutes(Sn.getMinutes()),di.setSeconds(0),di.setMilliseconds(0),this.currentValue=di},this.handleOk=Sn=>{!this.currentValue&&Sn&&(this.currentValue=Sn),this.onChangeFn&&this.onChangeFn(this.currentValue),this.value=this.currentValue,this.modalRef.close()},this.handleCancel=()=>{this.modalRef.close()},this.id=this.id,this.errorStateMatcher=_t,null!=this.ngControl&&(this.ngControl.valueAccessor=this),ut.IOS&&Te.runOutsideAngular(()=>{ye.nativeElement.addEventListener("keyup",Sn=>{const di=Sn.target;!di.value&&!di.selectionStart&&!di.selectionEnd&&(di.setSelectionRange(1,1),di.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser}get errorState(){const V=this._errorState,Te=this.errorStateMatcher?this.errorStateMatcher.isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm):V;return Te!==V&&(this._errorState=Te,this.stateChanges.next()),Te}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(V){this._disabled=(0,jt.Ig)(V),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(V){this._id=V||this._uid}get readonly(){return this._readonly}set readonly(V){this._readonly=(0,jt.Ig)(V)}get shouldLabelFloat(){return this.focused||!this.empty}get required(){return this._required}set required(V){this._required=(0,jt.Ig)(V),this.stateChanges.next()}get placeholder(){return this._placeholder}set placeholder(V){this._placeholder=V,this.stateChanges.next()}set value(V){if(V===this._value)return;if(this._value=V,!V)return this._formattedValueString=null,this.setInputElementValue(""),void(this.currentValue=V);const{hour:ce,isPm:Ve}=Oe(V.getHours(),this.mode);this._isPm=Ve,this._formattedValueString="12h"===this.mode?`${ce}:${Ce(V.getMinutes())} ${Ve?this.postMeridiemAbbreviation:this.anteMeridiemAbbreviation}`:`${Ce(V.getHours())}:${Ce(V.getMinutes())}`,this.isInputFocused||this.setInputElementValue(this.formattedValueString),this.currentValue=V,this.stateChanges.next(),!this._skipValueChangeEmission&&this.timeChange.emit(this.currentValue)}get value(){return this._value}get isPm(){return this._isPm}get empty(){return!(this.currentValue instanceof Date)}get formattedValueString(){return this._formattedValueString}inputHandler(){let V=this.elRef.nativeElement.value;const ce=V.length;if(0===ce)return this.writeValue(null,!0),void(this.onChangeFn&&this.onChangeFn(null));const Ve=V.match(/am|pm/i);let Te=null;Ve&&(V=V.replace(Ve[0],""),[Te]=Ve);const Et=V.includes(":");let[ye,ut]=1===ce?[V,0]:2!==ce||Et?Et?V.split(":"):V.split(/(\d\d)/).filter(Me=>Me):[V,0];if(ye=+ye,/\s/.test(ut)){let Me;[ut,Me]=ut.split(/\s/),"pm"===Me&&!isNaN(ye)&&ye<12&&(ye+=12)}if(ut=+ut,isNaN(ye)||isNaN(ut))return void this.writeValue(null,!0);ye<12&&Te&&"pm"===Te.toLowerCase()?ye+=12:ye>=12&&Te&&"am"===Te.toLowerCase()&&(ye-=12),"12h"===this.mode&&+ye<0?ye="0":+ye>24?ye="24":+ye<0&&(ye="0"),+ut>59?ut="59":+ut<0&&(ut="0");const O=this.value?new Date(this.value.getTime()):new Date;O.setHours(+ye),O.setMinutes(+ut),O.setSeconds(0),O.setMilliseconds(0),We(this.minDate,this.maxDate,O)||this.invalidInput.emit(),this.writeValue(O,!0),this.onChangeFn&&this.onChangeFn(O)}keydownHandler(V){if(V.metaKey||V.ctrlKey||V.altKey)return void(this.combination=this.combination.concat(V.code));if(!/^[0-9a-zA-Z\s]{0,1}$/.test(V.key))return;const ce=V.target,Ve=ce.value;if(`${Ve.slice(0,ce.selectionStart)}${V.key}${Ve.slice(ce.selectionEnd)}`.match(this.pattern)||this.combination.length>0)return!0;V.preventDefault(),V.stopImmediatePropagation()}keyupHandler(V){this.combination=this.combination.filter(ce=>ce!==V.code)}focusHandler(){this.isInputFocused=!0}focusoutHandler(){this.isInputFocused=!1,this.setInputElementValue(this.formattedValueString),this.onTouchedFn&&!this.modalRef&&this.onTouchedFn()}setDescribedByIds(V){this.describedBy=V.join(" ")}onContainerClick(V){"input"!==V.target.tagName.toLowerCase()&&this.elRef.nativeElement.focus()}setInputElementValue(V){null==V&&(V=""),Promise.resolve().then(()=>{this.zone.runOutsideAngular(()=>{this.renderer.setProperty(this.elRef.nativeElement,"value",V)})})}validate(){return null==this.currentValue||(this.strict?We(this.minDate,this.maxDate,this.currentValue):function Re(H,ue,V){if(H instanceof Date){const Ve=new Date;Ve.setHours(H.getHours()),Ve.setMinutes(H.getMinutes()),Ve.setSeconds(0),Ve.setMilliseconds(0),H=Ve}if(ue instanceof Date){const Ve=new Date;Ve.setHours(ue.getHours()),Ve.setMinutes(ue.getMinutes()),Ve.setSeconds(0),Ve.setMilliseconds(0),ue=Ve}if(V instanceof Date){const Ve=new Date;Ve.setHours(V.getHours()),Ve.setMinutes(V.getMinutes()),Ve.setSeconds(0),Ve.setMilliseconds(0),V=Ve}const ce=+V;return(!H||+H<=ce)&&(!ue||ce<=+ue)}(this.minDate,this.maxDate,this.currentValue))?null:{dateRange:!0}}ngAfterViewInit(){this.listeners.push(this.renderer.listen(this._matFormFiled?this._matFormFiled._elementRef.nativeElement:this.elRef.nativeElement,"click",this.clickHandler))}ngOnInit(){if(this.ngControl&&this.ngControl.control?.parent){const[Ve]=Object.entries(this.ngControl.control.parent.controls).find(([,Et])=>Et===this.ngControl.control),Te=this.ngControl.control.parent.get(Ve);this.required=!!Te?.hasValidator(m.kI.required)}else if(this.ngControl){const Ve=this.ngControl?.formDirective?.control?.get(this.ngControl.path)||null;this.required=!!Ve?.hasValidator(m.kI.required)}this._platform.isBrowser&&this.fm.monitor(this.elRef.nativeElement,!0).subscribe(Ve=>{this.focused=!!Ve,this.stateChanges.next()});const V=!!this.maxDate,ce=!!this.minDate;(ce||V)&&(ce&&(this.minDate.setSeconds(0),this.minDate.setMilliseconds(0)),V&&(this.maxDate.setSeconds(0),this.maxDate.setMilliseconds(0)),Promise.resolve().then(()=>this.generateAllowedMap()),this.ngControl._rawValidators.find(Ve=>Ve===this)||(this.ngControl.control.setValidators(this.ngControl._rawValidators.concat(this)),this.ngControl.control.updateValueAndValidity())),this._skipValueChangeEmission=!1}generateAllowedMap(){const V=this.strict&&this.value instanceof Date;if("24h"===this.mode){this.allowed24HourMap={};for(let ce=0;ce<24;ce++)for(let Ve=0;Ve<60;Ve++){const Te=this.allowed24HourMap[ce]||{};if(V){const Et=new Date(this.value.getTime());Et.setHours(ce),Et.setMinutes(Ve),Et.setSeconds(0),Et.setMilliseconds(0),Te[Ve]=We(this.minDate,this.maxDate,Et)}else Te[Ve]=se(ce,Ve,this.minDate,this.maxDate,"24h");this.allowed24HourMap[ce]=Te}}else{this.allowed12HourMap={am:{},pm:{}};for(let ce=0;ce<24;ce++){const Ve=ce<12?"am":"pm";for(let Te=0;Te<60;Te++){const Et=ce>12?ce-12:0===ce?12:ce,ye=this.allowed12HourMap[Ve][Et]||{};if(V){const ut=new Date(this.value.getTime());ut.setHours(ce),ut.setMinutes(Te),ut.setSeconds(0),ut.setMilliseconds(0),ye[Te]=We(this.minDate,this.maxDate,ut)}else ye[Te]=se(ce,Te,this.minDate,this.maxDate,"24h");this.allowed12HourMap[Ve][Et]=ye}}}}ngOnChanges(V){this.pattern="24h"===this.mode?/^[0-9]{1,2}:?([0-9]{1,2})?$/:/^[0-9]{1,2}:?([0-9]{1,2})?\s?(a|p)?m?$/,(V.minDate&&!V.minDate.isFirstChange()&&+V.minDate.currentValue!==V.minDate.previousValue||V.maxDate&&!V.maxDate.isFirstChange()&&+V.maxDate.currentValue!==V.maxDate.previousValue||V.disableLimitBase&&!V.disableLimitBase.isFirstChange()&&+V.disableLimitBase.currentValue!==V.disableLimitBase.previousValue)&&(this.generateAllowedMap(),this.ngControl.control.updateValueAndValidity()),this.modalRef&&this.modalRef.componentInstance&&(this.modalRef.componentInstance.data={mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,okButtonTemplate:this.okButtonTemplate,cancelButtonTemplate:this.cancelButtonTemplate,anteMeridiemAbbreviation:this.anteMeridiemAbbreviation,postMeridiemAbbreviation:this.postMeridiemAbbreviation,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap})}checkValidity(V){return!!V&&se(V.getHours(),V.getMinutes(),this.minDate,this.maxDate,this.mode,this.isPm?"PM":"AM")}writeValue(V,ce=!1){ce||(this._skipValueChangeEmission=!0,Promise.resolve().then(()=>this._skipValueChangeEmission=!1)),V&&(V.setSeconds(0),V.setMilliseconds(0)),+this.value!=+V&&(this.value=V)}registerOnChange(V){this.onChangeFn=V}registerOnTouched(V){this.onTouchedFn=V}setDisabledState(V){this.disabled=V}showDialog(){if(this.disabled)return;this.isInputFocused=!1,this.modalRef=this.dialog.open(Se,{autoFocus:!1,data:{mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,okButtonTemplate:this.okButtonTemplate,cancelButtonTemplate:this.cancelButtonTemplate,anteMeridiemAbbreviation:this.anteMeridiemAbbreviation,postMeridiemAbbreviation:this.postMeridiemAbbreviation,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap}});const V=this.modalRef.componentInstance;V.changeEvent.pipe((0,$t.R)(this.isAlive)).subscribe(this.handleChange),V.okClickEvent.pipe((0,$t.R)(this.isAlive)).subscribe(this.handleOk),V.cancelClickEvent.pipe((0,$t.R)(this.isAlive)).subscribe(this.handleCancel),this.modalRef.beforeClosed().pipe((0,un.P)()).subscribe(()=>V.isClosing=!0),this.modalRef.afterClosed().pipe((0,un.P)()).subscribe(()=>{this.onTouchedFn&&this.onTouchedFn(),this.modalRef=null,this.elRef.nativeElement.focus()}),this.currentValue=this.value}ngOnDestroy(){this.isAlive.next(),this.isAlive.complete(),this.stateChanges.complete(),this._platform.isBrowser&&this.fm.stopMonitoring(this.elRef.nativeElement),this.listeners.forEach(V=>V())}}return H.nextId=0,H.\u0275fac=function(V){return new(V||H)(h.Y36(m.a5,10),h.Y36(Vn),h.Y36(h.Qsj),h.Y36(h.R0b),h.Y36(De.tE),h.Y36(h.SBq),h.Y36(ze.t4),h.Y36(m.F,8),h.Y36(A.KE,8),h.Y36(m.sg,8),h.Y36(dt.rD))},H.\u0275dir=h.lG2({type:H,selectors:[["input","matTimepicker",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(V,ce){1&V&&h.NdJ("input",function(){return ce.inputHandler()})("keydown",function(Te){return ce.keydownHandler(Te)})("keyup",function(Te){return ce.keyupHandler(Te)})("focus",function(){return ce.focusHandler()})("focusout",function(){return ce.focusoutHandler()}),2&V&&(h.Ikx("disabled",ce.disabled)("required",ce.required),h.uIk("id",ce.id)("placeholder",ce.placeholder)("readonly",ce.readonly||null)("aria-invalid",ce.errorState)("aria-required",ce.required.toString())("aria-describedby",ce.describedBy),h.ekj("mat-input-server",ce._isServer)("floating",ce.shouldLabelFloat))},inputs:{disabled:"disabled",id:"id",readonly:"readonly",errorStateMatcher:"errorStateMatcher",required:"required",placeholder:"placeholder",okButtonTemplate:"okButtonTemplate",cancelButtonTemplate:"cancelButtonTemplate",okLabel:"okLabel",cancelLabel:"cancelLabel",anteMeridiemAbbreviation:"anteMeridiemAbbreviation",postMeridiemAbbreviation:"postMeridiemAbbreviation",mode:"mode",color:"color",disableDialogOpenOnClick:"disableDialogOpenOnClick",strict:"strict",minDate:"minDate",maxDate:"maxDate",value:"value"},outputs:{timeChange:"timeChange",invalidInput:"invalidInput"},exportAs:["matTimepicker"],features:[h._Bn([{provide:A.Eo,useExisting:H}]),h.TTD]}),H})(),we=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({imports:[ie.ez,rt,Xe.ot,wt.g0,mt.Ps,Ne.c]}),H})()},5861:(bn,xt,x)=>{function m(A,De,N,ze,Ye,ie,qe){try{var q=A[ie](qe),Pe=q.value}catch(Ee){return void N(Ee)}q.done?De(Pe):Promise.resolve(Pe).then(ze,Ye)}function h(A){return function(){var De=this,N=arguments;return new Promise(function(ze,Ye){var ie=A.apply(De,N);function qe(Pe){m(ie,ze,Ye,qe,q,"next",Pe)}function q(Pe){m(ie,ze,Ye,qe,q,"throw",Pe)}qe(void 0)})}}x.d(xt,{Z:()=>h})}},bn=>{bn(bn.s=4433)}]);