"use strict";(self.webpackChunkszakdolgozat=self.webpackChunkszakdolgozat||[]).push([[179],{7128:(bn,Tt,S)=>{S.d(Tt,{nm:()=>xe});var m=S(4027),N=(S(4650),S(3692),S(5867),S(5861)),et=S(9681),tt=S(4859),pe=S(2090),ge=S(1877);const X=new Map,ye={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function Ge(Vt){return X.get(Vt)||ye}function ut(Vt,Lt){X.set(Vt,Lt)}function dt(){return we}class He{constructor(Lt,zt,yn,In,qn){if(this.operation=Lt,this.retryPolicy=zt,this.getWaitDuration=yn,this.lowerBound=In,this.upperBound=qn,this.pending=null,this.nextErrorWaitInterval=In,In>qn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Lt){var zt=this;return(0,N.Z)(function*(){zt.stop();try{zt.pending=new pe.BH,yield function je(Vt){return new Promise(Lt=>{setTimeout(Lt,Vt)})}(zt.getNextRun(Lt)),zt.pending.resolve(),yield zt.pending.promise,zt.pending=new pe.BH,yield zt.operation(),zt.pending.resolve(),yield zt.pending.promise,zt.process(!0).catch(()=>{})}catch(yn){zt.retryPolicy(yn)?zt.process(!1).catch(()=>{}):zt.stop()}})()}getNextRun(Lt){if(Lt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const zt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),zt}}}const Oe=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ot(Vt){if(!Ge(Vt).activated)throw Oe.create("use-before-activation",{appName:Vt.name})}function Rt(Vt,Lt){return At.apply(this,arguments)}function At(){return(At=(0,N.Z)(function*({url:Vt,body:Lt},zt){var yn,In;const qn={"Content-Type":"application/json"},Ai=zt.getImmediate({optional:!0});if(Ai){const Kr=yield Ai.getHeartbeatsHeader();Kr&&(qn["X-Firebase-Client"]=Kr)}const gr={method:"POST",body:JSON.stringify(Lt),headers:qn};let Pi,lr;try{Pi=yield fetch(Vt,gr)}catch(Kr){throw Oe.create("fetch-network-error",{originalErrorMessage:null===(yn=Kr)||void 0===yn?void 0:yn.message})}if(200!==Pi.status)throw Oe.create("fetch-status-error",{httpStatus:Pi.status});try{lr=yield Pi.json()}catch(Kr){throw Oe.create("fetch-parse-error",{originalErrorMessage:null===(In=Kr)||void 0===In?void 0:In.message})}const Zs=lr.ttl.match(/^([\d.]+)(s)$/);if(!Zs||!Zs[2]||isNaN(Number(Zs[1])))throw Oe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${lr.ttl}`});const gl=1e3*Number(Zs[1]),Hs=Date.now();return{token:lr.token,expireTimeMillis:Hs+gl,issuedAtTimeMillis:Hs}})).apply(this,arguments)}function on(Vt,Lt){const{projectId:zt,appId:yn,apiKey:In}=Vt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${zt}/apps/${yn}:exchangeDebugToken?key=${In}`,body:{debug_token:Lt}}}const wt="firebase-app-check-store";let $t=null;function rn(){return $t||($t=new Promise((Vt,Lt)=>{var zt;try{const yn=indexedDB.open("firebase-app-check-database",1);yn.onsuccess=In=>{Vt(In.target.result)},yn.onerror=In=>{var qn;Lt(Oe.create("storage-open",{originalErrorMessage:null===(qn=In.target.error)||void 0===qn?void 0:qn.message}))},yn.onupgradeneeded=In=>{0===In.oldVersion&&In.target.result.createObjectStore(wt,{keyPath:"compositeKey"})}}catch(yn){Lt(Oe.create("storage-open",{originalErrorMessage:null===(zt=yn)||void 0===zt?void 0:zt.message}))}}),$t)}function Un(){return(Un=(0,N.Z)(function*(Vt,Lt){const yn=(yield rn()).transaction(wt,"readwrite"),qn=yn.objectStore(wt).put({compositeKey:Vt,value:Lt});return new Promise((Ai,gr)=>{qn.onsuccess=Pi=>{Ai()},yn.onerror=Pi=>{var lr;gr(Oe.create("storage-set",{originalErrorMessage:null===(lr=Pi.target.error)||void 0===lr?void 0:lr.message}))}})})).apply(this,arguments)}const Hn=new ge.Yd("@firebase/app-check");function vn(Vt,Lt){return(0,pe.hl)()?function Cn(Vt,Lt){return function An(Vt,Lt){return Un.apply(this,arguments)}(function $n(Vt){return`${Vt.options.appId}-${Vt.name}`}(Vt),Lt)}(Vt,Lt).catch(zt=>{Hn.warn(`Failed to write token to IndexedDB. Error: ${zt}`)}):Promise.resolve()}function me(){return dt().enabled}function nt(){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,N.Z)(function*(){const Vt=dt();if(Vt.enabled&&Vt.token)return Vt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Wt={error:"UNKNOWN_ERROR"};function cn(Vt){return pe.US.encodeString(JSON.stringify(Vt),!1)}function Gt(Vt){return yt.apply(this,arguments)}function yt(){return(yt=(0,N.Z)(function*(Vt,Lt=!1){const zt=Vt.app;ot(zt);const yn=Ge(zt);let qn,In=yn.token;if(In&&!_n(In)&&(ut(zt,Object.assign(Object.assign({},yn),{token:void 0})),In=void 0),!In){const Pi=yield yn.cachedTokenPromise;Pi&&(_n(Pi)?In=Pi:yield vn(zt,void 0))}if(!Lt&&In&&_n(In))return{token:In.token};let gr,Ai=!1;if(me()){yn.exchangeTokenPromise||(yn.exchangeTokenPromise=Rt(on(zt,yield nt()),Vt.heartbeatServiceProvider).finally(()=>{yn.exchangeTokenPromise=void 0}),Ai=!0);const Pi=yield yn.exchangeTokenPromise;return yield vn(zt,Pi),ut(zt,Object.assign(Object.assign({},yn),{token:Pi})),{token:Pi.token}}try{yn.exchangeTokenPromise||(yn.exchangeTokenPromise=yn.provider.getToken().finally(()=>{yn.exchangeTokenPromise=void 0}),Ai=!0),In=yield yn.exchangeTokenPromise}catch(Pi){"appCheck/throttled"===Pi.code?Hn.warn(Pi.message):Hn.error(Pi),qn=Pi}return In?qn?gr=_n(In)?{token:In.token,internalError:qn}:Ot(qn):(gr={token:In.token},ut(zt,Object.assign(Object.assign({},yn),{token:In})),yield vn(zt,In)):gr=Ot(qn),Ai&&Rn(zt,gr),gr})).apply(this,arguments)}function vt(Vt,Lt){const zt=Ge(Vt),yn=zt.tokenObservers.filter(In=>In.next!==Lt);0===yn.length&&zt.tokenRefresher&&zt.tokenRefresher.isRunning()&&zt.tokenRefresher.stop(),ut(Vt,Object.assign(Object.assign({},zt),{tokenObservers:yn}))}function Ht(Vt){const{app:Lt}=Vt,zt=Ge(Lt);let yn=zt.tokenRefresher;yn||(yn=function un(Vt){const{app:Lt}=Vt;return new He((0,N.Z)(function*(){let yn;if(yn=Ge(Lt).token?yield Gt(Vt,!0):yield Gt(Vt),yn.error)throw yn.error;if(yn.internalError)throw yn.internalError}),()=>!0,()=>{const zt=Ge(Lt);if(zt.token){let yn=zt.token.issuedAtTimeMillis+.5*(zt.token.expireTimeMillis-zt.token.issuedAtTimeMillis)+3e5;return yn=Math.min(yn,zt.token.expireTimeMillis-3e5),Math.max(0,yn-Date.now())}return 0},3e4,96e4)}(Vt),ut(Lt,Object.assign(Object.assign({},zt),{tokenRefresher:yn}))),!yn.isRunning()&&zt.isTokenAutoRefreshEnabled&&yn.start()}function Rn(Vt,Lt){const zt=Ge(Vt).tokenObservers;for(const yn of zt)try{"EXTERNAL"===yn.type&&null!=Lt.error?yn.error(Lt.error):yn.next(Lt)}catch{}}function _n(Vt){return Vt.expireTimeMillis-Date.now()>0}function Ot(Vt){return{token:cn(Wt),error:Vt}}class Mt{constructor(Lt,zt){this.app=Lt,this.heartbeatServiceProvider=zt}_delete(){const{tokenObservers:Lt}=Ge(this.app);for(const zt of Lt)vt(this.app,zt.next);return Promise.resolve()}}const ce="app-check-internal";!function V(){(0,et._registerComponent)(new tt.wA("app-check",Vt=>function te(Vt,Lt){return new Mt(Vt,Lt)}(Vt.getProvider("app").getImmediate(),Vt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Vt,Lt,zt)=>{Vt.getProvider(ce).initialize()})),(0,et._registerComponent)(new tt.wA(ce,Vt=>function oe(Vt){return{getToken:Lt=>Gt(Vt,Lt),addTokenListener:Lt=>function Le(Vt,Lt,zt,yn){const{app:In}=Vt,qn=Ge(In),Ai={next:zt,error:yn,type:Lt};if(ut(In,Object.assign(Object.assign({},qn),{tokenObservers:[...qn.tokenObservers,Ai]})),qn.token&&_n(qn.token)){const gr=qn.token;Promise.resolve().then(()=>{zt({token:gr.token}),Ht(Vt)}).catch(()=>{})}qn.cachedTokenPromise.then(()=>Ht(Vt))}(Vt,"INTERNAL",Lt),removeTokenListener:Lt=>vt(Vt.app,Lt)}}(Vt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,et.registerVersion)("@firebase/app-check","0.5.15")}();class xe{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3692:(bn,Tt,S)=>{S.d(Tt,{Ot:()=>Se,ZF:()=>Ue,hX:()=>Ge,z6:()=>N});var m=S(5867),h=S(4650),A=S(4027);class Se{constructor(He){return He}}class N{constructor(){return(0,m.C6)()}}const pe=new h.OlP("angularfire2._apps"),ge={provide:Se,useFactory:function tt(at){return at&&1===at.length?at[0]:new Se((0,m.Mq)())},deps:[[new h.FiY,pe]]},X={provide:N,deps:[[new h.FiY,pe]]};function ye(at){return(He,je)=>{const $e=He.runOutsideAngular(()=>at(je));return new Se($e)}}let we=(()=>{class at{constructor(je){(0,m.KN)("angularfire",A.q4.full,"core"),(0,m.KN)("angularfire",A.q4.full,"app"),(0,m.KN)("angular",h.q4F.full,je.toString())}}return at.\u0275fac=function(je){return new(je||at)(h.LFG(h.Lbi))},at.\u0275mod=h.oAB({type:at}),at.\u0275inj=h.cJS({providers:[ge,X]}),at})();function Ge(at,...He){return{ngModule:we,providers:[{provide:pe,useFactory:ye(at),multi:!0,deps:[h.R0b,h.zs3,A.HU,...He]}]}}const Ue=(0,A.u3)(m.ZF,!0)},1205:(bn,Tt,S)=>{S.d(Tt,{zQ:()=>Jt,ww:()=>Zt,rT:()=>st,f7:()=>Rt,L6:()=>rt,_Q:()=>ot,lh:()=>pt,Qv:()=>Oe,nw:()=>At});var m=S(4650),h=S(7579),A=S(9646),Se=S(9751),N=S(8996),et=S(6451),tt=S(5363),pe=S(3900),ge=S(4004),X=S(6063);class ye extends h.x{constructor(fn=1/0,nn=1/0,wt=X.l){super(),this._bufferSize=fn,this._windowTime=nn,this._timestampProvider=wt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=nn===1/0,this._bufferSize=Math.max(1,fn),this._windowTime=Math.max(1,nn)}next(fn){const{isStopped:nn,_buffer:wt,_infiniteTimeWindow:qt,_timestampProvider:$t,_windowTime:rn}=this;nn||(wt.push(fn),!qt&&wt.push($t.now()+rn)),this._trimBuffer(),super.next(fn)}_subscribe(fn){this._throwIfClosed(),this._trimBuffer();const nn=this._innerSubscribe(fn),{_infiniteTimeWindow:wt,_buffer:qt}=this,$t=qt.slice();for(let rn=0;rn<$t.length&&!fn.closed;rn+=wt?1:2)fn.next($t[rn]);return this._checkFinalizedStatuses(fn),nn}_trimBuffer(){const{_bufferSize:fn,_timestampProvider:nn,_buffer:wt,_infiniteTimeWindow:qt}=this,$t=(qt?1:2)*fn;if(fn<1/0&&$t<wt.length&&wt.splice(0,wt.length-$t),!qt){const rn=nn.now();let Qt=0;for(let Cn=1;Cn<wt.length&&wt[Cn]<=rn;Cn+=2)Qt=Cn;Qt&&wt.splice(0,Qt+1)}}}var we=S(3099);function Ge(on,fn,nn){let wt,qt=!1;return on&&"object"==typeof on?({bufferSize:wt=1/0,windowTime:fn=1/0,refCount:qt=!1,scheduler:nn}=on):wt=on??1/0,(0,we.B)({connector:()=>new ye(wt,fn,nn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qt})}var ut=S(590),dt=S(576);function Pt(on,fn){return(0,dt.m)(fn)?(0,pe.w)(()=>on,fn):(0,pe.w)(()=>on)}var Ue=S(9468),mt=S(9300),jt=S(4027),kt=S(2011),at=S(6895),He=S(7128),je=S(127);const Oe=new m.OlP("angularfire2.auth.use-emulator"),rt=new m.OlP("angularfire2.auth.settings"),ot=new m.OlP("angularfire2.auth.tenant-id"),st=new m.OlP("angularfire2.auth.langugage-code"),pt=new m.OlP("angularfire2.auth.use-device-language"),Rt=new m.OlP("angularfire.auth.persistence"),At=(on,fn,nn,wt,qt,$t,rn,Qt)=>(0,kt.cc)(`${on.name}.auth`,"AngularFireAuth",on.name,()=>{const Cn=fn.runOutsideAngular(()=>on.auth());if(nn&&Cn.useEmulator(...nn),wt&&(Cn.tenantId=wt),Cn.languageCode=qt,$t&&Cn.useDeviceLanguage(),rn)for(const[Xt,gn]of Object.entries(rn))Cn.settings[Xt]=gn;return Qt&&Cn.setPersistence(Qt),Cn},[nn,wt,qt,$t,rn,Qt]);let Jt=(()=>{class on{constructor(nn,wt,qt,$t,rn,Qt,Cn,Xt,gn,An,Un,kn){const Wn=new h.x,$n=(0,A.of)(void 0).pipe((0,tt.Q)(rn.outsideAngular),(0,pe.w)(()=>$t.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,5881)))),(0,ge.U)(()=>(0,kt.on)(nn,$t,wt)),(0,ge.U)(Hn=>At(Hn,$t,Qt,Xt,gn,An,Cn,Un)),Ge({bufferSize:1,refCount:!1}));if((0,at.PM)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,A.of)(null);else{$n.pipe((0,ut.P)()).subscribe();const Gn=$n.pipe((0,pe.w)(Be=>Be.getRedirectResult().then(ae=>ae,()=>null)),jt.iC,Ge({bufferSize:1,refCount:!1})),Qn=$n.pipe((0,pe.w)(Be=>new Se.y(ae=>({unsubscribe:$t.runOutsideAngular(()=>Be.onAuthStateChanged(me=>ae.next(me),me=>ae.error(me),()=>ae.complete()))})))),vn=$n.pipe((0,pe.w)(Be=>new Se.y(ae=>({unsubscribe:$t.runOutsideAngular(()=>Be.onIdTokenChanged(me=>ae.next(me),me=>ae.error(me),()=>ae.complete()))}))));this.authState=Gn.pipe(Pt(Qn),(0,Ue.R)(rn.outsideAngular),(0,tt.Q)(rn.insideAngular)),this.user=Gn.pipe(Pt(vn),(0,Ue.R)(rn.outsideAngular),(0,tt.Q)(rn.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Be=>Be?(0,N.D)(Be.getIdToken()):(0,A.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Be=>Be?(0,N.D)(Be.getIdTokenResult()):(0,A.of)(null))),this.credential=(0,et.T)(Gn,Wn,this.authState.pipe((0,mt.h)(Be=>!Be))).pipe((0,ge.U)(Be=>Be?.user?Be:null),(0,Ue.R)(rn.outsideAngular),(0,tt.Q)(rn.insideAngular))}return(0,kt.pX)(this,$n,$t,{spy:{apply:(Hn,Gn,Qn)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&Qn.then(vn=>Wn.next(vn))}}})}}return on.\u0275fac=function(nn){return new(nn||on)(m.LFG(kt.Dh),m.LFG(kt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(jt.HU),m.LFG(Oe,8),m.LFG(rt,8),m.LFG(ot,8),m.LFG(st,8),m.LFG(pt,8),m.LFG(Rt,8),m.LFG(He.nm,8))},on.\u0275prov=m.Yz7({token:on,factory:on.\u0275fac,providedIn:"any"}),on})(),Zt=(()=>{class on{constructor(){je.Z.registerVersion("angularfire",jt.q4.full,"auth-compat")}}return on.\u0275fac=function(nn){return new(nn||on)},on.\u0275mod=m.oAB({type:on}),on.\u0275inj=m.cJS({providers:[Jt]}),on})()},3290:(bn,Tt,S)=>{S.d(Tt,{ST:()=>te,yb:()=>oe});var m=S(4650),h=S(4986),A=S(9751),Se=S(8996),N=S(9646),et=S(4027),tt=S(8675),pe=S(1520),ge=S(4004),X=S(5026),ye=S(1884),we=S(9300),Ge=S(2011),ut=S(6895),Pt=(S(5881),S(3942)),Ue=S(5525),mt=S(2090),jt=S(4859);function He(K,z){if(void 0===z)return{merge:!1};if(void 0!==z.mergeFields&&void 0!==z.merge)throw new Ue.WA("invalid-argument",`Invalid options passed to function ${K}(): You cannot specify both "merge" and "mergeFields".`);return z}function je(){if(typeof Uint8Array>"u")throw new Ue.WA("unimplemented","Uint8Arrays are not available in this environment.")}function $e(){if(!(0,Ue.Me)())throw new Ue.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Oe{constructor(z){this._delegate=z}static fromBase64String(z){return $e(),new Oe(Ue.Jj.fromBase64String(z))}static fromUint8Array(z){return je(),new Oe(Ue.Jj.fromUint8Array(z))}toBase64(){return $e(),this._delegate.toBase64()}toUint8Array(){return je(),this._delegate.toUint8Array()}isEqual(z){return this._delegate.isEqual(z._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rt(K){return function ot(K,z){if("object"!=typeof K||null===K)return!1;const ue=K;for(const J of z)if(J in ue&&"function"==typeof ue[J])return!0;return!1}(K,["next","error","complete"])}class st{enableIndexedDbPersistence(z,ue){return(0,Ue.ST)(z._delegate,{forceOwnership:ue})}enableMultiTabIndexedDbPersistence(z){return(0,Ue.fH)(z._delegate)}clearIndexedDbPersistence(z){return(0,Ue.Fc)(z._delegate)}}class pt{constructor(z,ue,J){this._delegate=ue,this._persistenceProvider=J,this.INTERNAL={delete:()=>this.terminate()},z instanceof Ue.l7||(this._appCompat=z)}get _databaseId(){return this._delegate._databaseId}settings(z){const ue=this._delegate._getSettings();!z.merge&&ue.host!==z.host&&(0,Ue.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),z.merge&&delete(z=Object.assign(Object.assign({},ue),z)).merge,this._delegate._setSettings(z)}useEmulator(z,ue,J={}){(0,Ue.at)(this._delegate,z,ue,J)}enableNetwork(){return(0,Ue.Ix)(this._delegate)}disableNetwork(){return(0,Ue.TF)(this._delegate)}enablePersistence(z){let ue=!1,J=!1;return z&&(ue=!!z.synchronizeTabs,J=!!z.experimentalForceOwningTab,(0,Ue.Wi)("synchronizeTabs",ue,"experimentalForceOwningTab",J)),ue?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,J)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ue.Mx)(this._delegate)}onSnapshotsInSync(z){return(0,Ue.sc)(this._delegate,z)}get app(){if(!this._appCompat)throw new Ue.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(z){try{return new gn(this,(0,Ue.hJ)(this._delegate,z))}catch(ue){throw nn(ue,"collection()","Firestore.collection()")}}doc(z){try{return new fn(this,(0,Ue.JU)(this._delegate,z))}catch(ue){throw nn(ue,"doc()","Firestore.doc()")}}collectionGroup(z){try{return new Qt(this,(0,Ue.B$)(this._delegate,z))}catch(ue){throw nn(ue,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(z){return(0,Ue.i3)(this._delegate,ue=>z(new Jt(this,ue)))}batch(){return(0,Ue.qY)(this._delegate),new Zt(new Ue.PU(this._delegate,z=>(0,Ue.GL)(this._delegate,z)))}loadBundle(z){return(0,Ue.Pb)(this._delegate,z)}namedQuery(z){return(0,Ue.L$)(this._delegate,z).then(ue=>ue?new Qt(this,ue):null)}}class Rt extends Ue.u7{constructor(z){super(),this.firestore=z}convertBytes(z){return new Oe(new Ue.Jj(z))}convertReference(z){const ue=this.convertDocumentKey(z,this.firestore._databaseId);return fn.forKey(ue,this.firestore,null)}}class Jt{constructor(z,ue){this._firestore=z,this._delegate=ue,this._userDataWriter=new Rt(z)}get(z){const ue=An(z);return this._delegate.get(ue).then(J=>new $t(this._firestore,new Ue.xU(this._firestore._delegate,this._userDataWriter,J._key,J._document,J.metadata,ue.converter)))}set(z,ue,J){const ft=An(z);return J?(He("Transaction.set",J),this._delegate.set(ft,ue,J)):this._delegate.set(ft,ue),this}update(z,ue,J,...ft){const it=An(z);return 2===arguments.length?this._delegate.update(it,ue):this._delegate.update(it,ue,J,...ft),this}delete(z){const ue=An(z);return this._delegate.delete(ue),this}}class Zt{constructor(z){this._delegate=z}set(z,ue,J){const ft=An(z);return J?(He("WriteBatch.set",J),this._delegate.set(ft,ue,J)):this._delegate.set(ft,ue),this}update(z,ue,J,...ft){const it=An(z);return 2===arguments.length?this._delegate.update(it,ue):this._delegate.update(it,ue,J,...ft),this}delete(z){const ue=An(z);return this._delegate.delete(ue),this}commit(){return this._delegate.commit()}}class on{constructor(z,ue,J){this._firestore=z,this._userDataWriter=ue,this._delegate=J}fromFirestore(z,ue){const J=new Ue.$q(this._firestore._delegate,this._userDataWriter,z._key,z._document,z.metadata,null);return this._delegate.fromFirestore(new rn(this._firestore,J),ue??{})}toFirestore(z,ue){return ue?this._delegate.toFirestore(z,ue):this._delegate.toFirestore(z)}static getInstance(z,ue){const J=on.INSTANCES;let ft=J.get(z);ft||(ft=new WeakMap,J.set(z,ft));let it=ft.get(ue);return it||(it=new on(z,new Rt(z),ue),ft.set(ue,it)),it}}on.INSTANCES=new WeakMap;class fn{constructor(z,ue){this.firestore=z,this._delegate=ue,this._userDataWriter=new Rt(z)}static forPath(z,ue,J){if(z.length%2!=0)throw new Ue.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${z.canonicalString()} has ${z.length}`);return new fn(ue,new Ue.my(ue._delegate,J,new Ue.Ky(z)))}static forKey(z,ue,J){return new fn(ue,new Ue.my(ue._delegate,J,z))}get id(){return this._delegate.id}get parent(){return new gn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(z){try{return new gn(this.firestore,(0,Ue.hJ)(this._delegate,z))}catch(ue){throw nn(ue,"collection()","DocumentReference.collection()")}}isEqual(z){return(z=(0,mt.m9)(z))instanceof Ue.my&&(0,Ue.Eo)(this._delegate,z)}set(z,ue){ue=He("DocumentReference.set",ue);try{return ue?(0,Ue.pl)(this._delegate,z,ue):(0,Ue.pl)(this._delegate,z)}catch(J){throw nn(J,"setDoc()","DocumentReference.set()")}}update(z,ue,...J){try{return 1===arguments.length?(0,Ue.r7)(this._delegate,z):(0,Ue.r7)(this._delegate,z,ue,...J)}catch(ft){throw nn(ft,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ue.oe)(this._delegate)}onSnapshot(...z){const ue=wt(z),J=qt(z,ft=>new $t(this.firestore,new Ue.xU(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)));return(0,Ue.cf)(this._delegate,ue,J)}get(z){let ue;return ue="cache"===z?.source?(0,Ue.kl)(this._delegate):"server"===z?.source?(0,Ue.Xk)(this._delegate):(0,Ue.QT)(this._delegate),ue.then(J=>new $t(this.firestore,new Ue.xU(this.firestore._delegate,this._userDataWriter,J._key,J._document,J.metadata,this._delegate.converter)))}withConverter(z){return new fn(this.firestore,this._delegate.withConverter(z?on.getInstance(this.firestore,z):null))}}function nn(K,z,ue){return K.message=K.message.replace(z,ue),K}function wt(K){for(const z of K)if("object"==typeof z&&!rt(z))return z;return{}}function qt(K,z){var ue,J;let ft;return ft=rt(K[0])?K[0]:rt(K[1])?K[1]:"function"==typeof K[0]?{next:K[0],error:K[1],complete:K[2]}:{next:K[1],error:K[2],complete:K[3]},{next:it=>{ft.next&&ft.next(z(it))},error:null===(ue=ft.error)||void 0===ue?void 0:ue.bind(ft),complete:null===(J=ft.complete)||void 0===J?void 0:J.bind(ft)}}class $t{constructor(z,ue){this._firestore=z,this._delegate=ue}get ref(){return new fn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(z){return this._delegate.data(z)}get(z,ue){return this._delegate.get(z,ue)}isEqual(z){return(0,Ue.qK)(this._delegate,z._delegate)}}class rn extends $t{data(z){const ue=this._delegate.data(z);return(0,Ue.K9)(void 0!==ue,"Document in a QueryDocumentSnapshot should exist"),ue}}class Qt{constructor(z,ue){this.firestore=z,this._delegate=ue,this._userDataWriter=new Rt(z)}where(z,ue,J){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.ar)(z,ue,J)))}catch(ft){throw nn(ft,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(z,ue){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.Xo)(z,ue)))}catch(J){throw nn(J,/(orderBy|where)\(\)/,"Query.$1()")}}limit(z){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.b9)(z)))}catch(ue){throw nn(ue,"limit()","Query.limit()")}}limitToLast(z){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.vh)(z)))}catch(ue){throw nn(ue,"limitToLast()","Query.limitToLast()")}}startAt(...z){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.e0)(...z)))}catch(ue){throw nn(ue,"startAt()","Query.startAt()")}}startAfter(...z){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.TQ)(...z)))}catch(ue){throw nn(ue,"startAfter()","Query.startAfter()")}}endBefore(...z){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.Lx)(...z)))}catch(ue){throw nn(ue,"endBefore()","Query.endBefore()")}}endAt(...z){try{return new Qt(this.firestore,(0,Ue.IO)(this._delegate,(0,Ue.Wu)(...z)))}catch(ue){throw nn(ue,"endAt()","Query.endAt()")}}isEqual(z){return(0,Ue.iE)(this._delegate,z._delegate)}get(z){let ue;return ue="cache"===z?.source?(0,Ue.UQ)(this._delegate):"server"===z?.source?(0,Ue.zN)(this._delegate):(0,Ue.PL)(this._delegate),ue.then(J=>new Xt(this.firestore,new Ue.W(this.firestore._delegate,this._userDataWriter,this._delegate,J._snapshot)))}onSnapshot(...z){const ue=wt(z),J=qt(z,ft=>new Xt(this.firestore,new Ue.W(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)));return(0,Ue.cf)(this._delegate,ue,J)}withConverter(z){return new Qt(this.firestore,this._delegate.withConverter(z?on.getInstance(this.firestore,z):null))}}class Cn{constructor(z,ue){this._firestore=z,this._delegate=ue}get type(){return this._delegate.type}get doc(){return new rn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xt{constructor(z,ue){this._firestore=z,this._delegate=ue}get query(){return new Qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(z=>new rn(this._firestore,z))}docChanges(z){return this._delegate.docChanges(z).map(ue=>new Cn(this._firestore,ue))}forEach(z,ue){this._delegate.forEach(J=>{z.call(ue,new rn(this._firestore,J))})}isEqual(z){return(0,Ue.qK)(this._delegate,z._delegate)}}class gn extends Qt{constructor(z,ue){super(z,ue),this.firestore=z,this._delegate=ue}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const z=this._delegate.parent;return z?new fn(this.firestore,z):null}doc(z){try{return new fn(this.firestore,void 0===z?(0,Ue.JU)(this._delegate):(0,Ue.JU)(this._delegate,z))}catch(ue){throw nn(ue,"doc()","CollectionReference.doc()")}}add(z){return(0,Ue.ET)(this._delegate,z).then(ue=>new fn(this.firestore,ue))}isEqual(z){return(0,Ue.Eo)(this._delegate,z._delegate)}withConverter(z){return new gn(this.firestore,this._delegate.withConverter(z?on.getInstance(this.firestore,z):null))}}function An(K){return(0,Ue.Cf)(K,Ue.my)}class Un{constructor(...z){this._delegate=new Ue.Lz(...z)}static documentId(){return new Un(Ue.Xb.keyField().canonicalString())}isEqual(z){return(z=(0,mt.m9)(z))instanceof Ue.Lz&&this._delegate._internalPath.isEqual(z._internalPath)}}class kn{constructor(z){this._delegate=z}static serverTimestamp(){const z=(0,Ue.Bt)();return z._methodName="FieldValue.serverTimestamp",new kn(z)}static delete(){const z=(0,Ue.AK)();return z._methodName="FieldValue.delete",new kn(z)}static arrayUnion(...z){const ue=(0,Ue.vr)(...z);return ue._methodName="FieldValue.arrayUnion",new kn(ue)}static arrayRemove(...z){const ue=(0,Ue.Ab)(...z);return ue._methodName="FieldValue.arrayRemove",new kn(ue)}static increment(z){const ue=(0,Ue.nP)(z);return ue._methodName="FieldValue.increment",new kn(ue)}isEqual(z){return this._delegate.isEqual(z._delegate)}}const Wn={Firestore:pt,GeoPoint:Ue.F8,Timestamp:Ue.EK,Blob:Oe,Transaction:Jt,WriteBatch:Zt,DocumentReference:fn,DocumentSnapshot:$t,Query:Qt,QueryDocumentSnapshot:rn,QuerySnapshot:Xt,CollectionReference:gn,FieldPath:Un,FieldValue:kn,setLogLevel:function At(K){(0,Ue.Ub)(K)},CACHE_SIZE_UNLIMITED:Ue.IX};!function Hn(K){(function $n(K,z){K.INTERNAL.registerComponent(new jt.wA("firestore-compat",ue=>{const J=ue.getProvider("app-compat").getImmediate(),ft=ue.getProvider("firestore").getImmediate();return z(J,ft)},"PUBLIC").setServiceProps(Object.assign({},Wn)))})(K,(z,ue)=>new pt(z,ue,new st)),K.registerVersion("@firebase/firestore-compat","0.2.1")}(Pt.Z);var Gn=S(1205),Qn=S(7128),vn=S(127);function ae(K,z){return function Be(K,z=h.z){return new A.y(ue=>{let J;return null!=z?z.schedule(()=>{J=K.onSnapshot({includeMetadataChanges:!0},ue)}):J=K.onSnapshot({includeMetadataChanges:!0},ue),()=>{J?.()}})}(K,z)}function nt(K,z){return ae(K,z).pipe((0,ge.U)(ue=>({payload:ue,type:"query"})))}function Ze(K,z){return nt(K,z).pipe((0,tt.O)(void 0),(0,pe.G)(),(0,ge.U)(([ue,J])=>{const ft=J.payload.docChanges(),it=ft.map(It=>({type:It.type,payload:It}));return ue&&JSON.stringify(ue.payload.metadata)!==JSON.stringify(J.payload.metadata)&&J.payload.docs.forEach((It,Bt)=>{const We=ft.find(Ce=>Ce.doc.ref.isEqual(It.ref)),qe=ue?.payload.docs.find(Ce=>Ce.ref.isEqual(It.ref));We&&JSON.stringify(We.doc.metadata)===JSON.stringify(It.metadata)||!We&&qe&&JSON.stringify(qe.metadata)===JSON.stringify(It.metadata)||it.push({type:"modified",payload:{oldIndex:Bt,newIndex:Bt,type:"modified",doc:It}})}),it}))}function Ct(K,z,ue){return Ze(K,ue).pipe((0,X.R)((J,ft)=>function Wt(K,z,ue){return z.forEach(J=>{ue.indexOf(J.type)>-1&&(K=function Gt(K,z){switch(z.type){case"added":if(!K[z.newIndex]||!K[z.newIndex].doc.ref.isEqual(z.doc.ref))return cn(K,z.newIndex,0,z);break;case"modified":if(null==K[z.oldIndex]||K[z.oldIndex].doc.ref.isEqual(z.doc.ref)){if(z.oldIndex!==z.newIndex){const ue=K.slice();return ue.splice(z.oldIndex,1),ue.splice(z.newIndex,0,z),ue}return cn(K,z.newIndex,1,z)}break;case"removed":if(K[z.oldIndex]&&K[z.oldIndex].doc.ref.isEqual(z.doc.ref))return cn(K,z.oldIndex,1)}return K}(K,J))}),K}(J,ft.map(it=>it.payload),z),[]),(0,ye.x)(),(0,ge.U)(J=>J.map(ft=>({type:ft.type,payload:ft}))))}function cn(K,z,ue,...J){const ft=K.slice();return ft.splice(z,ue,...J),ft}function yt(K){return(!K||0===K.length)&&(K=["added","removed","modified"]),K}class Le{constructor(z,ue,J){this.ref=z,this.query=ue,this.afs=J}stateChanges(z){let ue=Ze(this.query,this.afs.schedulers.outsideAngular);return z&&z.length>0&&(ue=ue.pipe((0,ge.U)(J=>J.filter(ft=>z.indexOf(ft.type)>-1)))),ue.pipe((0,tt.O)(void 0),(0,pe.G)(),(0,we.h)(([J,ft])=>ft.length>0||!J),(0,ge.U)(([J,ft])=>ft),et.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,X.R)((ue,J)=>[...ue,...J],[]))}snapshotChanges(z){const ue=yt(z);return Ct(this.query,ue,this.afs.schedulers.outsideAngular).pipe(et.iC)}valueChanges(z={}){return nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(ue=>ue.payload.docs.map(J=>z.idField?Object.assign(Object.assign({},J.data()),{[z.idField]:J.id}):J.data())),et.iC)}get(z){return(0,Se.D)(this.query.get(z)).pipe(et.iC)}add(z){return this.ref.add(z)}doc(z){return new vt(this.ref.doc(z),this.afs)}}class vt{constructor(z,ue){this.ref=z,this.afs=ue}set(z,ue){return this.ref.set(z,ue)}update(z){return this.ref.update(z)}delete(){return this.ref.delete()}collection(z,ue){const J=this.ref.collection(z),{ref:ft,query:it}=Mt(J,ue);return new Le(ft,it,this.afs)}snapshotChanges(){return function me(K,z){return ae(K,z).pipe((0,tt.O)(void 0),(0,pe.G)(),(0,ge.U)(([ue,J])=>J.exists?ue?.exists?{payload:J,type:"modified"}:{payload:J,type:"added"}:{payload:J,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(et.iC)}valueChanges(z={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:ue})=>z.idField?Object.assign(Object.assign({},ue.data()),{[z.idField]:ue.id}):ue.data()))}get(z){return(0,Se.D)(this.ref.get(z)).pipe(et.iC)}}class Ht{constructor(z,ue){this.query=z,this.afs=ue}stateChanges(z){return z&&0!==z.length?Ze(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(ue=>ue.filter(J=>z.indexOf(J.type)>-1)),(0,we.h)(ue=>ue.length>0),et.iC):Ze(this.query,this.afs.schedulers.outsideAngular).pipe(et.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,X.R)((ue,J)=>[...ue,...J],[]))}snapshotChanges(z){const ue=yt(z);return Ct(this.query,ue,this.afs.schedulers.outsideAngular).pipe(et.iC)}valueChanges(z={}){return nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(J=>J.payload.docs.map(ft=>z.idField?Object.assign({[z.idField]:ft.id},ft.data()):ft.data())),et.iC)}get(z){return(0,Se.D)(this.query.get(z)).pipe(et.iC)}}const un=new m.OlP("angularfire2.enableFirestorePersistence"),Rn=new m.OlP("angularfire2.firestore.persistenceSettings"),_n=new m.OlP("angularfire2.firestore.settings"),Ot=new m.OlP("angularfire2.firestore.use-emulator");function Mt(K,z=(ue=>ue)){return{query:z(K),ref:K}}let te=(()=>{class K{constructor(ue,J,ft,it,It,Bt,We,qe,Ce,Te,ne,Ne,_t,Ke,Ye,Pe,re){this.schedulers=We;const de=(0,Ge.on)(ue,Bt,J),_e=Ce;Te&&(0,Gn.nw)(de,Bt,ne,_t,Ke,Ye,Ne,Pe),[this.firestore,this.persistenceEnabled$]=(0,Ge.cc)(`${de.name}.firestore`,"AngularFirestore",de.name,()=>{const Ie=Bt.runOutsideAngular(()=>de.firestore());if(it&&Ie.settings(it),_e&&Ie.useEmulator(..._e),ft&&!(0,ut.PM)(It)){const ve=()=>{try{return(0,Se.D)(Ie.enablePersistence(qe||void 0).then(()=>!0,()=>!1))}catch(Ee){return typeof console<"u"&&console.warn(Ee),(0,N.of)(!1)}};return[Ie,Bt.runOutsideAngular(ve)]}return[Ie,(0,N.of)(!1)]},[it,_e,ft])}collection(ue,J){let ft;ft="string"==typeof ue?this.firestore.collection(ue):ue;const{ref:it,query:It}=Mt(ft,J),Bt=this.schedulers.ngZone.run(()=>it);return new Le(Bt,It,this)}collectionGroup(ue,J){const ft=J||(It=>It),it=this.firestore.collectionGroup(ue);return new Ht(ft(it),this)}doc(ue){let J;J="string"==typeof ue?this.firestore.doc(ue):ue;const ft=this.schedulers.ngZone.run(()=>J);return new vt(ft,this)}createId(){return this.firestore.collection("_").doc().id}}return K.\u0275fac=function(ue){return new(ue||K)(m.LFG(Ge.Dh),m.LFG(Ge.xv,8),m.LFG(un,8),m.LFG(_n,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(et.HU),m.LFG(Rn,8),m.LFG(Ot,8),m.LFG(Gn.zQ,8),m.LFG(Gn.Qv,8),m.LFG(Gn.L6,8),m.LFG(Gn._Q,8),m.LFG(Gn.rT,8),m.LFG(Gn.lh,8),m.LFG(Gn.f7,8),m.LFG(Qn.nm,8))},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac,providedIn:"any"}),K})(),oe=(()=>{class K{constructor(){vn.Z.registerVersion("angularfire",et.q4.full,"fst-compat")}static enablePersistence(ue){return{ngModule:K,providers:[{provide:un,useValue:!0},{provide:Rn,useValue:ue}]}}}return K.\u0275fac=function(ue){return new(ue||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({providers:[te]}),K})()},2011:(bn,Tt,S)=>{S.d(Tt,{Dh:()=>pe,GT:()=>et,cc:()=>ut,hO:()=>Ge,on:()=>X,pX:()=>N,xv:()=>ge});var m=S(4650),h=S(127),A=S(4027);bn=S.hmd(bn);const Se=["ngOnDestroy"],N=(mt,jt,kt,at={})=>new Proxy(mt,{get:(He,je)=>kt.runOutsideAngular(()=>{var $e;if(mt[je])return!(null===($e=at?.spy)||void 0===$e)&&$e.get&&at.spy.get(je,mt[je]),mt[je];if(Se.indexOf(je)>-1)return()=>{};const Oe=jt.toPromise().then(rt=>{const ot=rt&&rt[je];return"function"==typeof ot?ot.bind(rt):ot&&ot.then?ot.then(st=>kt.run(()=>st)):kt.run(()=>ot)});return new Proxy(()=>{},{get:(rt,ot)=>Oe[ot],apply:(rt,ot,st)=>Oe.then(pt=>{var Rt;const At=pt&&pt(...st);return!(null===(Rt=at?.spy)||void 0===Rt)&&Rt.apply&&at.spy.apply(je,st,At),At})})})}),et=(mt,jt)=>{jt.forEach(kt=>{Object.getOwnPropertyNames(kt.prototype||kt).forEach(at=>{Object.defineProperty(mt.prototype,at,Object.getOwnPropertyDescriptor(kt.prototype||kt,at))})})};class tt{constructor(jt){return jt}}const pe=new m.OlP("angularfire2.app.options"),ge=new m.OlP("angularfire2.app.name");function X(mt,jt,kt){const He="object"==typeof kt&&kt||{};He.name=He.name||"string"==typeof kt&&kt||"[DEFAULT]";const $e=h.Z.apps.filter(Oe=>Oe&&Oe.name===He.name)[0]||jt.runOutsideAngular(()=>h.Z.initializeApp(mt,He));try{JSON.stringify(mt)!==JSON.stringify($e.options)&&ye("error",`${$e.name} Firebase App already initialized with different options${bn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new tt($e)}const ye=(mt,...jt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[mt](...jt)},we={provide:tt,useFactory:X,deps:[pe,m.R0b,[new m.FiY,ge]]};let Ge=(()=>{class mt{constructor(kt){h.Z.registerVersion("angularfire",A.q4.full,"core"),h.Z.registerVersion("angularfire",A.q4.full,"app-compat"),h.Z.registerVersion("angular",m.q4F.full,kt.toString())}static initializeApp(kt,at){return{ngModule:mt,providers:[{provide:pe,useValue:kt},{provide:ge,useValue:at}]}}}return mt.\u0275fac=function(kt){return new(kt||mt)(m.LFG(m.Lbi))},mt.\u0275mod=m.oAB({type:mt}),mt.\u0275inj=m.cJS({providers:[we]}),mt})();function ut(mt,jt,kt,at,He){const[,je,$e]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===mt)||[];if(je)return function dt(mt,jt){try{return mt.toString()===jt.toString()}catch{return mt===jt}}(He,$e)||(Ue("error",`${jt} was already initialized on the ${kt} Firebase App with different settings.${Pt?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:He,was:$e})),je;{const Oe=at();return globalThis.\u0275AngularfireInstanceCache.push([mt,Oe,He]),Oe}}const Pt=!!bn.hot,Ue=(mt,...jt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[mt](...jt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4027:(bn,Tt,S)=>{S.d(Tt,{q4:()=>Ue,iC:()=>$t,HU:()=>Zt,vb:()=>pt,JM:()=>st,nk:()=>ot,n1:()=>Oe,_J:()=>rt,u3:()=>Cn});var m=S(4650),h=S(5867),A=S(3226),Se=S(2375),N=S(6148),et=S(4408),pe=S(7565);const X=new class ge extends pe.v{}(class tt extends et.o{constructor(gn,An){super(gn,An),this.scheduler=gn,this.work=An}schedule(gn,An=0){return An>0?super.schedule(gn,An):(this.delay=An,this.state=gn,this.scheduler.flush(this),this)}execute(gn,An){return An>0||this.closed?super.execute(gn,An):this._execute(gn,An)}requestAsyncId(gn,An,Un=0){return null!=Un&&Un>0||null==Un&&this.delay>0?super.requestAsyncId(gn,An,Un):gn.flush(this)}});var we=S(4986),Ge=S(9751),ut=S(8505),dt=S(9468),Pt=S(5363);const Ue=new m.GfV("7.4.1"),mt="__angularfire_symbol__analyticsIsSupportedValue",jt="__angularfire_symbol__analyticsIsSupported",kt="__angularfire_symbol__remoteConfigIsSupportedValue",at="__angularfire_symbol__remoteConfigIsSupported",He="__angularfire_symbol__messagingIsSupportedValue",je="__angularfire_symbol__messagingIsSupported";globalThis[jt]||(globalThis[jt]=(0,N.Gb)().then(Xt=>globalThis[mt]=Xt).catch(()=>globalThis[mt]=!1)),globalThis[je]||(globalThis[je]=(0,Se.Gb)().then(Xt=>globalThis[He]=Xt).catch(()=>globalThis[He]=!1)),globalThis[at]||(globalThis[at]=(0,A.Gb)().then(Xt=>globalThis[kt]=Xt).catch(()=>globalThis[kt]=!1));const $e=Xt=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${Xt} in the constructor, first ensure that ${Xt} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${Xt})\`.`,Oe={async:()=>globalThis[je],sync:()=>{const Xt=globalThis[He];if(void 0===Xt)throw new Error($e("Messaging"));return Xt}},rt={async:()=>globalThis[at],sync:()=>{const Xt=globalThis[kt];if(void 0===Xt)throw new Error($e("RemoteConfig"));return Xt}},ot={async:()=>globalThis[jt],sync:()=>{const Xt=globalThis[mt];if(void 0===Xt)throw new Error($e("Analytics"));return Xt}};function st(Xt,gn,An){if(gn){if(1===gn.length)return gn[0];const Wn=gn.filter($n=>$n.app===An);if(1===Wn.length)return Wn[0]}return An.container.getProvider(Xt).getImmediate({optional:!0})}const pt=(Xt,gn)=>{const An=gn?[gn]:(0,h.C6)(),Un=[];return An.forEach(kn=>{kn.container.getProvider(Xt).instances.forEach($n=>{Un.includes($n)||Un.push($n)})}),Un};function Rt(){}class At{constructor(gn,An=X){this.zone=gn,this.delegate=An}now(){return this.delegate.now()}schedule(gn,An,Un){const kn=this.zone;return this.delegate.schedule(function($n){kn.runGuarded(()=>{gn.apply(this,[$n])})},An,Un)}}class Jt{constructor(gn){this.zone=gn,this.task=null}call(gn,An){const Un=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rt,{},Rt,Rt)),An.pipe((0,ut.b)({next:Un,complete:Un,error:Un})).subscribe(gn).add(Un)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zt=(()=>{class Xt{constructor(An){this.ngZone=An,this.outsideAngular=An.runOutsideAngular(()=>new At(Zone.current)),this.insideAngular=An.run(()=>new At(Zone.current,we.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Xt.\u0275fac=function(An){return new(An||Xt)(m.LFG(m.R0b))},Xt.\u0275prov=m.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"}),Xt})();function on(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function fn(Xt){return on().ngZone.runOutsideAngular(()=>Xt())}function nn(Xt){return on().ngZone.run(()=>Xt())}function $t(Xt){return on(),function rn(Xt){return function(An){return(An=An.lift(new Jt(Xt.ngZone))).pipe((0,dt.R)(Xt.outsideAngular),(0,Pt.Q)(Xt.insideAngular))}}(on())(Xt)}const Qt=(Xt,gn)=>function(){const Un=arguments;return gn&&setTimeout(()=>{"scheduled"===gn.state&&gn.invoke()},10),nn(()=>Xt.apply(void 0,Un))},Cn=(Xt,gn)=>function(){let An;const Un=arguments;for(let Wn=0;Wn<arguments.length;Wn++)"function"==typeof Un[Wn]&&(gn&&(An||(An=nn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rt,{},Rt,Rt)))),Un[Wn]=Qt(Un[Wn],An));const kn=fn(()=>Xt.apply(this,Un));if(!gn){if(kn instanceof Ge.y){const Wn=on();return kn.pipe((0,dt.R)(Wn.outsideAngular),(0,Pt.Q)(Wn.insideAngular))}return nn(()=>kn)}return kn instanceof Ge.y?kn.pipe($t):kn instanceof Promise?nn(()=>new Promise((Wn,$n)=>kn.then(Hn=>nn(()=>Wn(Hn)),Hn=>nn(()=>$n(Hn))))):"function"==typeof kn&&An?function(){return setTimeout(()=>{An&&"scheduled"===An.state&&An.invoke()},10),kn.apply(this,arguments)}:nn(()=>kn)}},7573:(bn,Tt,S)=>{S.d(Tt,{$:()=>Ds,A:()=>ye,B:()=>ut,G:()=>St,H:()=>Re,J:()=>io,L:()=>We,M:()=>oo,N:()=>ao,P:()=>j,Q:()=>Vo,R:()=>gs,T:()=>cs,U:()=>zi,V:()=>Eo,W:()=>Wl,X:()=>Ho,Y:()=>lo,Z:()=>yi,_:()=>oa,a:()=>ka,a0:()=>Zc,a1:()=>Gr,a2:()=>Y,a3:()=>ze,a4:()=>mi,a5:()=>Es,a6:()=>xr,a7:()=>co,a8:()=>Ja,a9:()=>ho,aA:()=>au,aB:()=>qu,aC:()=>zh,aD:()=>Zg,aE:()=>Ve,aI:()=>Jc,aL:()=>Do,aa:()=>wc,ab:()=>Aa,ac:()=>Ia,af:()=>Ma,ag:()=>yl,ah:()=>U,ak:()=>To,al:()=>tr,an:()=>Bn,ao:()=>bp,ap:()=>_e,aq:()=>ot,ar:()=>de,as:()=>Ye,at:()=>kt,au:()=>Dl,av:()=>Ac,aw:()=>at,ax:()=>Oe,ay:()=>pt,az:()=>qe,b:()=>Oa,c:()=>Gi,d:()=>Ss,e:()=>Ps,f:()=>zs,g:()=>qg,h:()=>Ep,i:()=>nl,j:()=>ou,k:()=>Qh,l:()=>Dp,m:()=>il,n:()=>kc,o:()=>pe,r:()=>Wo,s:()=>Ba,u:()=>R,v:()=>Ar});var m=S(5861),h=S(2090),A=S(9681),Se=S(1877),N=S(655),et=S(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ut=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dt=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pt=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new Se.Yd("@firebase/auth");function jt(k,...w){mt.logLevel<=Se.in.ERROR&&mt.error(`Auth (${A.SDK_VERSION}): ${k}`,...w)}function kt(k,...w){throw $e(k,...w)}function at(k,...w){return $e(k,...w)}function He(k,w,D){const F=Object.assign(Object.assign({},dt()),{[w]:D});return new h.LL("auth","Firebase",F).create(w,{appName:k.name})}function je(k,w,D){if(!(w instanceof D))throw D.name!==w.constructor.name&&kt(k,"argument-error"),He(k,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(k,...w){if("string"!=typeof k){const D=w[0],F=[...w.slice(1)];return F[0]&&(F[0].appName=k.name),k._errorFactory.create(D,...F)}return Pt.create(k,...w)}function Oe(k,w,...D){if(!k)throw $e(w,...D)}function rt(k){const w="INTERNAL ASSERTION FAILED: "+k;throw jt(w),new Error(w)}function ot(k,w){k||rt(w)}const st=new Map;function pt(k){ot(k instanceof Function,"Expected a class definition");let w=st.get(k);return w?(ot(w instanceof k,"Instance stored in cache mismatched with class"),w):(w=new k,st.set(k,w),w)}function Jt(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.href)||""}function Zt(){return"http:"===on()||"https:"===on()}function on(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.protocol)||null}class wt{constructor(w,D){this.shortDelay=w,this.longDelay=D,ot(D>w,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qt(k,w){ot(k.emulator,"Emulator should always be set here");const{url:D}=k.emulator;return w?`${D}${w.startsWith("/")?w.slice(1):w}`:D}class $t{static initialize(w,D,F){this.fetchImpl=w,D&&(this.headersImpl=D),F&&(this.responseImpl=F)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qt=new wt(3e4,6e4);function Cn(k,w){return k.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:k.tenantId}):w}function Xt(k,w,D,F){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(k,w,D,F,De={}){return An(k,De,(0,m.Z)(function*(){let Qe={},Kt={};F&&("GET"===w?Kt=F:Qe={body:JSON.stringify(F)});const xn=(0,h.xO)(Object.assign({key:k.config.apiKey},Kt)).slice(1),Jn=yield k._getAdditionalHeaders();return Jn["Content-Type"]="application/json",k.languageCode&&(Jn["X-Firebase-Locale"]=k.languageCode),$t.fetch()($n(k,k.config.apiHost,D,xn),Object.assign({method:w,headers:Jn,referrerPolicy:"no-referrer"},Qe))}))})).apply(this,arguments)}function An(k,w,D){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(k,w,D){k._canInitEmulator=!1;const F=Object.assign(Object.assign({},rn),w);try{const De=new Hn(k),Qe=yield Promise.race([D(),De.promise]);De.clearNetworkTimeout();const Kt=yield Qe.json();if("needConfirmation"in Kt)throw Gn(k,"account-exists-with-different-credential",Kt);if(Qe.ok&&!("errorMessage"in Kt))return Kt;{const xn=Qe.ok?Kt.errorMessage:Kt.error.message,[Jn,ti]=xn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jn)throw Gn(k,"credential-already-in-use",Kt);if("EMAIL_EXISTS"===Jn)throw Gn(k,"email-already-in-use",Kt);if("USER_DISABLED"===Jn)throw Gn(k,"user-disabled",Kt);const ri=F[Jn]||Jn.toLowerCase().replace(/[_\s]+/g,"-");if(ti)throw He(k,ri,ti);kt(k,ri)}}catch(De){if(De instanceof h.ZR)throw De;kt(k,"network-request-failed")}})).apply(this,arguments)}function kn(k,w,D,F){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(k,w,D,F,De={}){const Qe=yield Xt(k,w,D,F,De);return"mfaPendingCredential"in Qe&&kt(k,"multi-factor-auth-required",{_serverResponse:Qe}),Qe})).apply(this,arguments)}function $n(k,w,D,F){const De=`${w}${D}?${F}`;return k.config.emulator?qt(k.config,De):`${k.config.apiScheme}://${De}`}class Hn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((D,F)=>{this.timer=setTimeout(()=>F(at(this.auth,"network-request-failed")),Qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(k,w,D){const F={appName:k.name};D.email&&(F.email=D.email),D.phoneNumber&&(F.phoneNumber=D.phoneNumber);const De=at(k,w,F);return De.customData._tokenResponse=D,De}function vn(){return(vn=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Be(k,w){return ae.apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function me(k,w){return nt.apply(this,arguments)}function nt(){return(nt=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Ze(k){if(k)try{const w=new Date(Number(k));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function cn(){return(cn=(0,m.Z)(function*(k,w=!1){const D=(0,h.m9)(k),F=yield D.getIdToken(w),De=yt(F);Oe(De&&De.exp&&De.auth_time&&De.iat,D.auth,"internal-error");const Qe="object"==typeof De.firebase?De.firebase:void 0,Kt=Qe?.sign_in_provider;return{claims:De,token:F,authTime:Ze(Gt(De.auth_time)),issuedAtTime:Ze(Gt(De.iat)),expirationTime:Ze(Gt(De.exp)),signInProvider:Kt||null,signInSecondFactor:Qe?.sign_in_second_factor||null}})).apply(this,arguments)}function Gt(k){return 1e3*Number(k)}function yt(k){var w;const[D,F,De]=k.split(".");if(void 0===D||void 0===F||void 0===De)return jt("JWT malformed, contained fewer than 3 sections"),null;try{const Qe=(0,h.tV)(F);return Qe?JSON.parse(Qe):(jt("Failed to decode base64 JWT payload"),null)}catch(Qe){return jt("Caught error parsing JWT payload as JSON",null===(w=Qe)||void 0===w?void 0:w.toString()),null}}function vt(k,w){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(k,w,D=!1){if(D)return w;try{return yield w}catch(F){throw F instanceof h.ZR&&un(F)&&k.auth.currentUser===k&&(yield k.auth.signOut()),F}})).apply(this,arguments)}function un({code:k}){return"auth/user-disabled"===k||"auth/user-token-expired"===k}class Rn{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var D;if(w){const F=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),F}{this.errorBackoff=3e4;const De=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,De)}}schedule(w=!1){var D=this;if(!this.isRunning)return;const F=this.getInterval(w);this.timerId=setTimeout((0,m.Z)(function*(){yield D.iteration()}),F)}iteration(){var w=this;return(0,m.Z)(function*(){var D;try{yield w.user.getIdToken(!0)}catch(F){return void("auth/network-request-failed"===(null===(D=F)||void 0===D?void 0:D.code)&&w.schedule(!0))}w.schedule()})()}}class _n{constructor(w,D){this.createdAt=w,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ze(this.lastLoginAt),this.creationTime=Ze(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ot(k){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(k){var w;const D=k.auth,F=yield k.getIdToken(),De=yield vt(k,me(D,{idToken:F}));Oe(De?.users.length,D,"internal-error");const Qe=De.users[0];k._notifyReloadListener(Qe);const Kt=null!==(w=Qe.providerUserInfo)&&void 0!==w&&w.length?z(Qe.providerUserInfo):[],xn=K(k.providerData,Kt),ri=!!k.isAnonymous&&!(k.email&&Qe.passwordHash||xn?.length),or={uid:Qe.localId,displayName:Qe.displayName||null,photoURL:Qe.photoUrl||null,email:Qe.email||null,emailVerified:Qe.emailVerified||!1,phoneNumber:Qe.phoneNumber||null,tenantId:Qe.tenantId||null,providerData:xn,metadata:new _n(Qe.createdAt,Qe.lastLoginAt),isAnonymous:ri};Object.assign(k,or)})).apply(this,arguments)}function oe(){return(oe=(0,m.Z)(function*(k){const w=(0,h.m9)(k);yield Ot(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function K(k,w){return[...k.filter(F=>!w.some(De=>De.providerId===F.providerId)),...w]}function z(k){return k.map(w=>{var{providerId:D}=w,F=(0,N._T)(w,["providerId"]);return{providerId:D,uid:F.rawId||"",displayName:F.displayName||null,email:F.email||null,phoneNumber:F.phoneNumber||null,photoURL:F.photoUrl||null}})}function J(){return(J=(0,m.Z)(function*(k,w){const D=yield An(k,{},(0,m.Z)(function*(){const F=(0,h.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:De,apiKey:Qe}=k.config,Kt=$n(k,De,"/v1/token",`key=${Qe}`),xn=yield k._getAdditionalHeaders();return xn["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(Kt,{method:"POST",headers:xn,body:F})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){Oe(w.idToken,"internal-error"),Oe(typeof w.idToken<"u","internal-error"),Oe(typeof w.refreshToken<"u","internal-error");const D="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Le(k){const w=yt(k);return Oe(w,"internal-error"),Oe(typeof w.exp<"u","internal-error"),Oe(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,D)}getToken(w,D=!1){var F=this;return(0,m.Z)(function*(){return Oe(!F.accessToken||F.refreshToken,w,"user-token-expired"),D||!F.accessToken||F.isExpired?F.refreshToken?(yield F.refresh(w,F.refreshToken),F.accessToken):null:F.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,D){var F=this;return(0,m.Z)(function*(){const{accessToken:De,refreshToken:Qe,expiresIn:Kt}=yield function ue(k,w){return J.apply(this,arguments)}(w,D);F.updateTokensAndExpiration(De,Qe,Number(Kt))})()}updateTokensAndExpiration(w,D,F){this.refreshToken=D||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*F}static fromJSON(w,D){const{refreshToken:F,accessToken:De,expirationTime:Qe}=D,Kt=new ft;return F&&(Oe("string"==typeof F,"internal-error",{appName:w}),Kt.refreshToken=F),De&&(Oe("string"==typeof De,"internal-error",{appName:w}),Kt.accessToken=De),Qe&&(Oe("number"==typeof Qe,"internal-error",{appName:w}),Kt.expirationTime=Qe),Kt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return rt("not implemented")}}function it(k,w){Oe("string"==typeof k||typeof k>"u","internal-error",{appName:w})}class It{constructor(w){var{uid:D,auth:F,stsTokenManager:De}=w,Qe=(0,N._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=F,this.stsTokenManager=De,this.accessToken=De.accessToken,this.displayName=Qe.displayName||null,this.email=Qe.email||null,this.emailVerified=Qe.emailVerified||!1,this.phoneNumber=Qe.phoneNumber||null,this.photoURL=Qe.photoURL||null,this.isAnonymous=Qe.isAnonymous||!1,this.tenantId=Qe.tenantId||null,this.providerData=Qe.providerData?[...Qe.providerData]:[],this.metadata=new _n(Qe.createdAt||void 0,Qe.lastLoginAt||void 0)}getIdToken(w){var D=this;return(0,m.Z)(function*(){const F=yield vt(D,D.stsTokenManager.getToken(D.auth,w));return Oe(F,D.auth,"internal-error"),D.accessToken!==F&&(D.accessToken=F,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),F})()}getIdTokenResult(w){return function Wt(k){return cn.apply(this,arguments)}(this,w)}reload(){return function te(k){return oe.apply(this,arguments)}(this)}_assign(w){this!==w&&(Oe(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(D=>Object.assign({},D)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){return new It(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(w){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,D=!1){var F=this;return(0,m.Z)(function*(){let De=!1;w.idToken&&w.idToken!==F.stsTokenManager.accessToken&&(F.stsTokenManager.updateFromServerResponse(w),De=!0),D&&(yield Ot(F)),yield F.auth._persistUserIfCurrent(F),De&&F.auth._notifyListenersIfCurrent(F)})()}delete(){var w=this;return(0,m.Z)(function*(){const D=yield w.getIdToken();return yield vt(w,function Qn(k,w){return vn.apply(this,arguments)}(w.auth,{idToken:D})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,D){var F,De,Qe,Kt,xn,Jn,ti,ri;const or=null!==(F=D.displayName)&&void 0!==F?F:void 0,Ro=null!==(De=D.email)&&void 0!==De?De:void 0,Yt=null!==(Qe=D.phoneNumber)&&void 0!==Qe?Qe:void 0,$r=null!==(Kt=D.photoURL)&&void 0!==Kt?Kt:void 0,xs=null!==(xn=D.tenantId)&&void 0!==xn?xn:void 0,Rc=null!==(Jn=D._redirectEventId)&&void 0!==Jn?Jn:void 0,du=null!==(ti=D.createdAt)&&void 0!==ti?ti:void 0,Jh=null!==(ri=D.lastLoginAt)&&void 0!==ri?ri:void 0,{uid:Va,emailVerified:id,isAnonymous:fa,providerData:ic,stsTokenManager:ef}=D;Oe(Va&&ef,w,"internal-error");const Ni=ft.fromJSON(this.name,ef);Oe("string"==typeof Va,w,"internal-error"),it(or,w.name),it(Ro,w.name),Oe("boolean"==typeof id,w,"internal-error"),Oe("boolean"==typeof fa,w,"internal-error"),it(Yt,w.name),it($r,w.name),it(xs,w.name),it(Rc,w.name),it(du,w.name),it(Jh,w.name);const Qr=new It({uid:Va,auth:w,email:Ro,emailVerified:id,displayName:or,isAnonymous:fa,photoURL:$r,phoneNumber:Yt,tenantId:xs,stsTokenManager:Ni,createdAt:du,lastLoginAt:Jh});return ic&&Array.isArray(ic)&&(Qr.providerData=ic.map(Zd=>Object.assign({},Zd))),Rc&&(Qr._redirectEventId=Rc),Qr}static _fromIdTokenResponse(w,D,F=!1){return(0,m.Z)(function*(){const De=new ft;De.updateFromServerResponse(D);const Qe=new It({uid:D.localId,auth:w,stsTokenManager:De,isAnonymous:F});return yield Ot(Qe),Qe})()}}const We=(()=>{class k{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(D,F){var De=this;return(0,m.Z)(function*(){De.storage[D]=F})()}_get(D){var F=this;return(0,m.Z)(function*(){const De=F.storage[D];return void 0===De?null:De})()}_remove(D){var F=this;return(0,m.Z)(function*(){delete F.storage[D]})()}_addListener(D,F){}_removeListener(D,F){}}return k.type="NONE",k})();function qe(k,w,D){return`firebase:${k}:${w}:${D}`}class Ce{constructor(w,D,F){this.persistence=w,this.auth=D,this.userKey=F;const{config:De,name:Qe}=this.auth;this.fullUserKey=qe(this.userKey,De.apiKey,Qe),this.fullPersistenceKey=qe("persistence",De.apiKey,Qe),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,m.Z)(function*(){const D=yield w.persistence._get(w.fullUserKey);return D?It._fromJSON(w.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var D=this;return(0,m.Z)(function*(){if(D.persistence===w)return;const F=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=w,F?D.setCurrentUser(F):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,D,F="authUser"){return(0,m.Z)(function*(){if(!D.length)return new Ce(pt(We),w,F);const De=(yield Promise.all(D.map(function(){var ti=(0,m.Z)(function*(ri){if(yield ri._isAvailable())return ri});return function(ri){return ti.apply(this,arguments)}}()))).filter(ti=>ti);let Qe=De[0]||pt(We);const Kt=qe(F,w.config.apiKey,w.name);let xn=null;for(const ti of D)try{const ri=yield ti._get(Kt);if(ri){const or=It._fromJSON(w,ri);ti!==Qe&&(xn=or),Qe=ti;break}}catch{}const Jn=De.filter(ti=>ti._shouldAllowMigration);return Qe._shouldAllowMigration&&Jn.length?(Qe=Jn[0],xn&&(yield Qe._set(Kt,xn.toJSON())),yield Promise.all(D.map(function(){var ti=(0,m.Z)(function*(ri){if(ri!==Qe)try{yield ri._remove(Kt)}catch{}});return function(ri){return ti.apply(this,arguments)}}())),new Ce(Qe,w,F)):new Ce(Qe,w,F)})()}}function Te(k){const w=k.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Ke(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(ne(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(Pe(w))return"Blackberry";if(re(w))return"Webos";if(Ne(w))return"Safari";if((w.includes("chrome/")||_t(w))&&!w.includes("edge/"))return"Chrome";if(Ye(w))return"Android";{const F=k.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===F?.length)return F[1]}return"Other"}function ne(k=(0,h.z$)()){return/firefox\//i.test(k)}function Ne(k=(0,h.z$)()){const w=k.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function _t(k=(0,h.z$)()){return/crios\//i.test(k)}function Ke(k=(0,h.z$)()){return/iemobile/i.test(k)}function Ye(k=(0,h.z$)()){return/android/i.test(k)}function Pe(k=(0,h.z$)()){return/blackberry/i.test(k)}function re(k=(0,h.z$)()){return/webos/i.test(k)}function de(k=(0,h.z$)()){return/iphone|ipad|ipod/i.test(k)||/macintosh/i.test(k)&&/mobile/i.test(k)}function _e(k=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(k)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(k)}function Ee(k=(0,h.z$)()){return de(k)||Ye(k)||re(k)||Pe(k)||/windows phone/i.test(k)||Ke(k)}function ce(k,w=[]){let D;switch(k){case"Browser":D=Te((0,h.z$)());break;case"Worker":D=`${Te((0,h.z$)())}-${k}`;break;default:D=k}const F=w.length?w.join(","):"FirebaseCore-web";return`${D}/JsCore/${A.SDK_VERSION}/${F}`}class V{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,D){const F=Qe=>new Promise((Kt,xn)=>{try{Kt(w(Qe))}catch(Jn){xn(Jn)}});F.onAbort=D,this.queue.push(F);const De=this.queue.length-1;return()=>{this.queue[De]=()=>Promise.resolve()}}runMiddleware(w){var D=this;return(0,m.Z)(function*(){var F;if(D.auth.currentUser===w)return;const De=[];try{for(const Qe of D.queue)yield Qe(w),Qe.onAbort&&De.push(Qe.onAbort)}catch(Qe){De.reverse();for(const Kt of De)try{Kt()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:null===(F=Qe)||void 0===F?void 0:F.message})}})()}}class le{constructor(w,D,F){this.app=w,this.heartbeatServiceProvider=D,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(w,D){var F=this;return D&&(this._popupRedirectResolver=pt(D)),this._initializationPromise=this.queue((0,m.Z)(function*(){var De,Qe;if(!F._deleted&&(F.persistenceManager=yield Ce.create(F,w),!F._deleted)){if(null!==(De=F._popupRedirectResolver)&&void 0!==De&&De._shouldInitProactively)try{yield F._popupRedirectResolver._initialize(F)}catch{}yield F.initializeCurrentUser(D),F.lastNotifiedUid=(null===(Qe=F.currentUser)||void 0===Qe?void 0:Qe.uid)||null,!F._deleted&&(F._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,m.Z)(function*(){if(w._deleted)return;const D=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||D){if(w.currentUser&&D&&w.currentUser.uid===D.uid)return w._currentUser._assign(D),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(D,!0)}})()}initializeCurrentUser(w){var D=this;return(0,m.Z)(function*(){var F;const De=yield D.assertedPersistence.getCurrentUser();let Qe=De,Kt=!1;if(w&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const xn=null===(F=D.redirectUser)||void 0===F?void 0:F._redirectEventId,Jn=Qe?._redirectEventId,ti=yield D.tryRedirectSignIn(w);(!xn||xn===Jn)&&ti?.user&&(Qe=ti.user,Kt=!0)}if(!Qe)return D.directlySetCurrentUser(null);if(!Qe._redirectEventId){if(Kt)try{yield D.beforeStateQueue.runMiddleware(Qe)}catch(xn){Qe=De,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(xn))}return Qe?D.reloadAndSetCurrentUserOrClear(Qe):D.directlySetCurrentUser(null)}return Oe(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===Qe._redirectEventId?D.directlySetCurrentUser(Qe):D.reloadAndSetCurrentUserOrClear(Qe)})()}tryRedirectSignIn(w){var D=this;return(0,m.Z)(function*(){let F=null;try{F=yield D._popupRedirectResolver._completeRedirectFn(D,w,!0)}catch{yield D._setRedirectUser(null)}return F})()}reloadAndSetCurrentUserOrClear(w){var D=this;return(0,m.Z)(function*(){var F;try{yield Ot(w)}catch(De){if("auth/network-request-failed"!==(null===(F=De)||void 0===F?void 0:F.code))return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function nn(){if(typeof navigator>"u")return null;const k=navigator;return k.languages&&k.languages[0]||k.language||null}()}_delete(){var w=this;return(0,m.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var D=this;return(0,m.Z)(function*(){const F=w?(0,h.m9)(w):null;return F&&Oe(F.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(F&&F._clone(D))})()}_updateCurrentUser(w,D=!1){var F=this;return(0,m.Z)(function*(){if(!F._deleted)return w&&Oe(F.tenantId===w.tenantId,F,"tenant-id-mismatch"),D||(yield F.beforeStateQueue.runMiddleware(w)),F.queue((0,m.Z)(function*(){yield F.directlySetCurrentUser(w),F.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,m.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var D=this;return this.queue((0,m.Z)(function*(){yield D.assertedPersistence.setPersistence(pt(w))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new h.LL("auth","Firebase",w())}onAuthStateChanged(w,D,F){return this.registerStateListener(this.authStateSubscription,w,D,F)}beforeAuthStateChanged(w,D){return this.beforeStateQueue.pushCallback(w,D)}onIdTokenChanged(w,D,F){return this.registerStateListener(this.idTokenSubscription,w,D,F)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,D){var F=this;return(0,m.Z)(function*(){const De=yield F.getOrInitRedirectPersistenceManager(D);return null===w?De.removeCurrentUser():De.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var D=this;return(0,m.Z)(function*(){if(!D.redirectPersistenceManager){const F=w&&pt(w)||D._popupRedirectResolver;Oe(F,D,"argument-error"),D.redirectPersistenceManager=yield Ce.create(D,[pt(F._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(w){var D=this;return(0,m.Z)(function*(){var F,De;return D._isInitialized&&(yield D.queue((0,m.Z)(function*(){}))),(null===(F=D._currentUser)||void 0===F?void 0:F._redirectEventId)===w?D._currentUser:(null===(De=D.redirectUser)||void 0===De?void 0:De._redirectEventId)===w?D.redirectUser:null})()}_persistUserIfCurrent(w){var D=this;return(0,m.Z)(function*(){if(w===D.currentUser)return D.queue((0,m.Z)(function*(){return D.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const F=null!==(D=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==F&&(this.lastNotifiedUid=F,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,D,F,De){if(this._deleted)return()=>{};const Qe="function"==typeof D?D:D.next.bind(D),Kt=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(Kt,this,"internal-error"),Kt.then(()=>Qe(this.currentUser)),"function"==typeof D?w.addObserver(D,F,De):w.addObserver(D)}directlySetCurrentUser(w){var D=this;return(0,m.Z)(function*(){D.currentUser&&D.currentUser!==w&&D._currentUser._stopProactiveRefresh(),w&&D.isProactiveRefreshEnabled&&w._startProactiveRefresh(),D.currentUser=w,w?yield D.assertedPersistence.setCurrentUser(w):yield D.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,m.Z)(function*(){var D;const F={"X-Client-Version":w.clientVersion};w.app.options.appId&&(F["X-Firebase-gmpid"]=w.app.options.appId);const De=yield null===(D=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return De&&(F["X-Firebase-Client"]=De),F})()}}function Ve(k){return(0,h.m9)(k)}class xe{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,h.ne)(D=>this.observer=D)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function St(k,w,D){const F=Ve(k);Oe(F._canInitEmulator,F,"emulator-config-failed"),Oe(/^https?:\/\//.test(w),F,"invalid-emulator-scheme");const De=!!D?.disableWarnings,Qe=be(w),{host:Kt,port:xn}=function ht(k){const w=be(k),D=/(\/\/)?([^?#/]+)/.exec(k.substr(w.length));if(!D)return{host:"",port:null};const F=D[2].split("@").pop()||"",De=/^(\[[^\]]+\])(:|$)/.exec(F);if(De){const Qe=De[1];return{host:Qe,port:O(F.substr(Qe.length+1))}}{const[Qe,Kt]=F.split(":");return{host:Qe,port:O(Kt)}}}(w);F.config.emulator={url:`${Qe}//${Kt}${null===xn?"":`:${xn}`}/`},F.settings.appVerificationDisabledForTesting=!0,F.emulatorConfig=Object.freeze({host:Kt,port:xn,protocol:Qe.replace(":",""),options:Object.freeze({disableWarnings:De})}),De||function ie(){function k(){const w=document.createElement("p"),D=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",k):k())}()}function be(k){const w=k.indexOf(":");return w<0?"":k.substr(0,w+1)}function O(k){if(!k)return null;const w=Number(k);return isNaN(w)?null:w}class Re{constructor(w,D){this.providerId=w,this.signInMethod=D}toJSON(){return rt("not implemented")}_getIdTokenResponse(w){return rt("not implemented")}_linkToIdToken(w,D){return rt("not implemented")}_getReauthenticationResolver(w){return rt("not implemented")}}function bt(k,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:resetPassword",Cn(k,w))})).apply(this,arguments)}function fi(k,w){return Di.apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Ks(k,w){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",Cn(k,w))})).apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithPassword",Cn(k,w))})).apply(this,arguments)}function es(k,w){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:sendOobCode",Cn(k,w))})).apply(this,arguments)}function Lt(k,w){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(k,w){return es(k,w)})).apply(this,arguments)}function yn(k,w){return In.apply(this,arguments)}function In(){return(In=(0,m.Z)(function*(k,w){return es(k,w)})).apply(this,arguments)}function qn(k,w){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(k,w){return es(k,w)})).apply(this,arguments)}function gr(k,w){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(k,w){return es(k,w)})).apply(this,arguments)}function Zs(){return(Zs=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithEmailLink",Cn(k,w))})).apply(this,arguments)}function Hs(){return(Hs=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithEmailLink",Cn(k,w))})).apply(this,arguments)}class Kr extends Re{constructor(w,D,F,De=null){super("password",F),this._email=w,this._password=D,this._tenantId=De}static _fromEmailAndPassword(w,D){return new Kr(w,D,"password")}static _fromEmailAndCode(w,D,F=null){return new Kr(w,D,"emailLink",F)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const D="string"==typeof w?JSON.parse(w):w;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(w){var D=this;return(0,m.Z)(function*(){switch(D.signInMethod){case"password":return function Is(k,w){return as.apply(this,arguments)}(w,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function lr(k,w){return Zs.apply(this,arguments)}(w,{email:D._email,oobCode:D._password});default:kt(w,"internal-error")}})()}_linkToIdToken(w,D){var F=this;return(0,m.Z)(function*(){switch(F.signInMethod){case"password":return fi(w,{idToken:D,returnSecureToken:!0,email:F._email,password:F._password});case"emailLink":return function gl(k,w){return Hs.apply(this,arguments)}(w,{idToken:D,email:F._email,oobCode:F._password});default:kt(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function no(k,w){return ls.apply(this,arguments)}function ls(){return(ls=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithIdp",Cn(k,w))})).apply(this,arguments)}class io extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const D=new io(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(D.idToken=w.idToken),w.accessToken&&(D.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(D.nonce=w.nonce),w.pendingToken&&(D.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(D.accessToken=w.oauthToken,D.secret=w.oauthTokenSecret):kt("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const D="string"==typeof w?JSON.parse(w):w,{providerId:F,signInMethod:De}=D,Qe=(0,N._T)(D,["providerId","signInMethod"]);if(!F||!De)return null;const Kt=new io(F,De);return Kt.idToken=Qe.idToken||void 0,Kt.accessToken=Qe.accessToken||void 0,Kt.secret=Qe.secret,Kt.nonce=Qe.nonce,Kt.pendingToken=Qe.pendingToken||null,Kt}_getIdTokenResponse(w){return no(w,this.buildRequest())}_linkToIdToken(w,D){const F=this.buildRequest();return F.idToken=D,no(w,F)}_getReauthenticationResolver(w){const D=this.buildRequest();return D.autoCreate=!1,no(w,D)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),w.postBody=(0,h.xO)(D)}return w}}function zl(k,w){return Co.apply(this,arguments)}function Co(){return(Co=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:sendVerificationCode",Cn(k,w))})).apply(this,arguments)}function bs(){return(bs=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithPhoneNumber",Cn(k,w))})).apply(this,arguments)}function Us(){return(Us=(0,m.Z)(function*(k,w){const D=yield kn(k,"POST","/v1/accounts:signInWithPhoneNumber",Cn(k,w));if(D.temporaryProof)throw Gn(k,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function so(){return(so=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithPhoneNumber",Cn(k,Object.assign(Object.assign({},w),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class ws extends Re{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,D){return new ws({verificationId:w,verificationCode:D})}static _fromTokenResponse(w,D){return new ws({phoneNumber:w,temporaryProof:D})}_getIdTokenResponse(w){return function qa(k,w){return bs.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,D){return function qs(k,w){return Us.apply(this,arguments)}(w,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function ro(k,w){return so.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:D,verificationId:F,verificationCode:De}=this.params;return w&&D?{temporaryProof:w,phoneNumber:D}:{sessionInfo:F,code:De}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:D,verificationCode:F,phoneNumber:De,temporaryProof:Qe}=w;return F||D||De||Qe?new ws({verificationId:D,verificationCode:F,phoneNumber:De,temporaryProof:Qe}):null}}class mr{constructor(w){var D,F,De,Qe,Kt,xn;const Jn=(0,h.zd)((0,h.pd)(w)),ti=null!==(D=Jn.apiKey)&&void 0!==D?D:null,ri=null!==(F=Jn.oobCode)&&void 0!==F?F:null,or=function sa(k){switch(k){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(De=Jn.mode)&&void 0!==De?De:null);Oe(ti&&ri&&or,"argument-error"),this.apiKey=ti,this.operation=or,this.code=ri,this.continueUrl=null!==(Qe=Jn.continueUrl)&&void 0!==Qe?Qe:null,this.languageCode=null!==(Kt=Jn.languageCode)&&void 0!==Kt?Kt:null,this.tenantId=null!==(xn=Jn.tenantId)&&void 0!==xn?xn:null}static parseLink(w){const D=function Qs(k){const w=(0,h.zd)((0,h.pd)(k)).link,D=w?(0,h.zd)((0,h.pd)(w)).deep_link_id:null,F=(0,h.zd)((0,h.pd)(k)).deep_link_id;return(F?(0,h.zd)((0,h.pd)(F)).link:null)||F||D||w||k}(w);try{return new mr(D)}catch{return null}}}let oo=(()=>{class k{constructor(){this.providerId=k.PROVIDER_ID}static credential(D,F){return Kr._fromEmailAndPassword(D,F)}static credentialWithLink(D,F){const De=mr.parseLink(F);return Oe(De,"argument-error"),Kr._fromEmailAndCode(D,De.code,De.tenantId)}}return k.PROVIDER_ID="password",k.EMAIL_PASSWORD_SIGN_IN_METHOD="password",k.EMAIL_LINK_SIGN_IN_METHOD="emailLink",k})();class Er{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Gs extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class zi extends Gs{static credentialFromJSON(w){const D="string"==typeof w?JSON.parse(w):w;return Oe("providerId"in D&&"signInMethod"in D,"argument-error"),io._fromParams(D)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return Oe(w.idToken||w.accessToken,"argument-error"),io._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return zi.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return zi.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:D,oauthAccessToken:F,oauthTokenSecret:De,pendingToken:Qe,nonce:Kt,providerId:xn}=w;if(!F&&!De&&!D&&!Qe||!xn)return null;try{return new zi(xn)._credential({idToken:D,accessToken:F,nonce:Kt,pendingToken:Qe})}catch{return null}}}let ao=(()=>{class k extends Gs{constructor(){super("facebook.com")}static credential(D){return io._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return k.credential(D.oauthAccessToken)}catch{return null}}}return k.FACEBOOK_SIGN_IN_METHOD="facebook.com",k.PROVIDER_ID="facebook.com",k})(),Vo=(()=>{class k extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(D,F){return io._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:F})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:F,oauthAccessToken:De}=D;if(!F&&!De)return null;try{return k.credential(F,De)}catch{return null}}}return k.GOOGLE_SIGN_IN_METHOD="google.com",k.PROVIDER_ID="google.com",k})(),cs=(()=>{class k extends Gs{constructor(){super("github.com")}static credential(D){return io._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return k.credential(D.oauthAccessToken)}catch{return null}}}return k.GITHUB_SIGN_IN_METHOD="github.com",k.PROVIDER_ID="github.com",k})();class Do extends Re{constructor(w,D){super(w,w),this.pendingToken=D}_getIdTokenResponse(w){return no(w,this.buildRequest())}_linkToIdToken(w,D){const F=this.buildRequest();return F.idToken=D,no(w,F)}_getReauthenticationResolver(w){const D=this.buildRequest();return D.autoCreate=!1,no(w,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const D="string"==typeof w?JSON.parse(w):w,{providerId:F,signInMethod:De,pendingToken:Qe}=D;return F&&De&&Qe&&F===De?new Do(F,Qe):null}static _create(w,D){return new Do(w,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Eo extends Er{constructor(w){Oe(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Eo.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Eo.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const D=Do.fromJSON(w);return Oe(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:D,providerId:F}=w;if(!D||!F)return null;try{return Do._create(F,D)}catch{return null}}}let Wl=(()=>{class k extends Gs{constructor(){super("twitter.com")}static credential(D,F){return io._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:F})}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:F,oauthTokenSecret:De}=D;if(!F||!De)return null;try{return k.credential(F,De)}catch{return null}}}return k.TWITTER_SIGN_IN_METHOD="twitter.com",k.PROVIDER_ID="twitter.com",k})();function ts(k,w){return Os.apply(this,arguments)}function Os(){return(Os=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signUp",Cn(k,w))})).apply(this,arguments)}class cr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,D,F,De=!1){return(0,m.Z)(function*(){const Qe=yield It._fromIdTokenResponse(w,F,De),Kt=Xs(F);return new cr({user:Qe,providerId:Kt,_tokenResponse:F,operationType:D})})()}static _forOperation(w,D,F){return(0,m.Z)(function*(){yield w._updateTokensIfNecessary(F,!0);const De=Xs(F);return new cr({user:w,providerId:De,_tokenResponse:F,operationType:D})})()}}function Xs(k){return k.providerId?k.providerId:"phoneNumber"in k?"phone":null}function Ho(k){return ml.apply(this,arguments)}function ml(){return(ml=(0,m.Z)(function*(k){var w;const D=Ve(k);if(yield D._initializationPromise,null!==(w=D.currentUser)&&void 0!==w&&w.isAnonymous)return new cr({user:D.currentUser,providerId:null,operationType:"signIn"});const F=yield ts(D,{returnSecureToken:!0}),De=yield cr._fromIdTokenResponse(D,"signIn",F,!0);return yield D._updateCurrentUser(De.user),De})).apply(this,arguments)}class Zi extends h.ZR{constructor(w,D,F,De){var Qe;super(D.code,D.message),this.operationType=F,this.user=De,Object.setPrototypeOf(this,Zi.prototype),this.customData={appName:w.name,tenantId:null!==(Qe=w.tenantId)&&void 0!==Qe?Qe:void 0,_serverResponse:D.customData._serverResponse,operationType:F}}static _fromErrorAndOperation(w,D,F,De){return new Zi(w,D,F,De)}}function Ea(k,w,D,F){return("reauthenticate"===w?D._getReauthenticationResolver(k):D._getIdTokenResponse(k)).catch(Qe=>{throw"auth/multi-factor-auth-required"===Qe.code?Zi._fromErrorAndOperation(k,Qe,w,F):Qe})}function Qa(k){return new Set(k.map(({providerId:w})=>w).filter(w=>!!w))}function To(k,w){return ns.apply(this,arguments)}function ns(){return(ns=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k);yield Hr(!0,D,w);const{providerUserInfo:F}=yield Be(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[w]}),De=Qa(F||[]);return D.providerData=D.providerData.filter(Qe=>De.has(Qe.providerId)),De.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function Ta(k,w){return ks.apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(k,w,D=!1){const F=yield vt(k,w._linkToIdToken(k.auth,yield k.getIdToken()),D);return cr._forOperation(k,"link",F)})).apply(this,arguments)}function Hr(k,w,D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(k,w,D){yield Ot(w);const De=!1===k?"provider-already-linked":"no-such-provider";Oe(Qa(w.providerData).has(D)===k,w.auth,De)})).apply(this,arguments)}function Sa(k,w){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,m.Z)(function*(k,w,D=!1){var F;const{auth:De}=k,Qe="reauthenticate";try{const Kt=yield vt(k,Ea(De,Qe,w,k),D);Oe(Kt.idToken,De,"internal-error");const xn=yt(Kt.idToken);Oe(xn,De,"internal-error");const{sub:Jn}=xn;return Oe(k.uid===Jn,De,"user-mismatch"),cr._forOperation(k,Qe,Kt)}catch(Kt){throw"auth/user-not-found"===(null===(F=Kt)||void 0===F?void 0:F.code)&&kt(De,"user-mismatch"),Kt}})).apply(this,arguments)}function Ur(k,w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,m.Z)(function*(k,w,D=!1){const F="signIn",De=yield Ea(k,F,w),Qe=yield cr._fromIdTokenResponse(k,F,De);return D||(yield k._updateCurrentUser(Qe.user)),Qe})).apply(this,arguments)}function lo(k,w){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,m.Z)(function*(k,w){return Ur(Ve(k),w)})).apply(this,arguments)}function yi(k,w){return So.apply(this,arguments)}function So(){return(So=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k);return yield Hr(!1,D,w.providerId),Ta(D,w)})).apply(this,arguments)}function oa(k,w){return us.apply(this,arguments)}function us(){return(us=(0,m.Z)(function*(k,w){return Sa((0,h.m9)(k),w)})).apply(this,arguments)}function xo(k,w){return is.apply(this,arguments)}function is(){return(is=(0,m.Z)(function*(k,w){return kn(k,"POST","/v1/accounts:signInWithCustomToken",Cn(k,w))})).apply(this,arguments)}function Ds(k,w){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,m.Z)(function*(k,w){const D=Ve(k),F=yield xo(D,{token:w,returnSecureToken:!0}),De=yield cr._fromIdTokenResponse(D,"signIn",F);return yield D._updateCurrentUser(De.user),De})).apply(this,arguments)}class rr{constructor(w,D){this.factorId=w,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(w,D){return"phoneInfo"in D?Dn._fromServerResponse(w,D):kt(w,"internal-error")}}class Dn extends rr{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,D){return new Dn(D)}}function Ii(k,w,D){var F;Oe((null===(F=D.url)||void 0===F?void 0:F.length)>0,k,"invalid-continue-uri"),Oe(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,k,"invalid-dynamic-link-domain"),w.continueUrl=D.url,w.dynamicLinkDomain=D.dynamicLinkDomain,w.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(Oe(D.iOS.bundleId.length>0,k,"missing-ios-bundle-id"),w.iOSBundleId=D.iOS.bundleId),D.android&&(Oe(D.android.packageName.length>0,k,"missing-android-pkg-name"),w.androidInstallApp=D.android.installApp,w.androidMinimumVersionCode=D.android.minimumVersion,w.androidPackageName=D.android.packageName)}function Zc(k,w,D){return xa.apply(this,arguments)}function xa(){return(xa=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),De={requestType:"PASSWORD_RESET",email:w};D&&Ii(F,De,D),yield yn(F,De)})).apply(this,arguments)}function Gr(k,w,D){return q.apply(this,arguments)}function q(){return(q=(0,m.Z)(function*(k,w,D){yield bt((0,h.m9)(k),{oobCode:w,newPassword:D})})).apply(this,arguments)}function Y(k,w){return $.apply(this,arguments)}function $(){return($=(0,m.Z)(function*(k,w){yield Ks((0,h.m9)(k),{oobCode:w})})).apply(this,arguments)}function ze(k,w){return dn.apply(this,arguments)}function dn(){return(dn=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k),F=yield bt(D,{oobCode:w}),De=F.requestType;switch(Oe(De,D,"internal-error"),De){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(F.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(F.mfaInfo,D,"internal-error");default:Oe(F.email,D,"internal-error")}let Qe=null;return F.mfaInfo&&(Qe=rr._fromServerResponse(Ve(D),F.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.newEmail:F.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.email:F.newEmail)||null,multiFactorInfo:Qe},operation:De}})).apply(this,arguments)}function mi(k,w){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,m.Z)(function*(k,w){const{data:D}=yield ze((0,h.m9)(k),w);return D.email})).apply(this,arguments)}function Es(k,w,D){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,m.Z)(function*(k,w,D){const F=Ve(k),De=yield ts(F,{returnSecureToken:!0,email:w,password:D}),Qe=yield cr._fromIdTokenResponse(F,"signIn",De);return yield F._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}function xr(k,w,D){return lo((0,h.m9)(k),oo.credential(w,D))}function co(k,w,D){return uo.apply(this,arguments)}function uo(){return(uo=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),De={requestType:"EMAIL_SIGNIN",email:w};Oe(D.handleCodeInApp,F,"argument-error"),D&&Ii(F,De,D),yield qn(F,De)})).apply(this,arguments)}function Ja(k,w){return"EMAIL_SIGNIN"===mr.parseLink(w)?.operation}function ho(k,w,D){return qc.apply(this,arguments)}function qc(){return(qc=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),De=oo.credentialWithLink(w,D||Jt());return Oe(De._tenantId===(F.tenantId||null),F,"tenant-id-mismatch"),lo(F,De)})).apply(this,arguments)}function _l(k,w){return Go.apply(this,arguments)}function Go(){return(Go=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:createAuthUri",Cn(k,w))})).apply(this,arguments)}function wc(k,w){return el.apply(this,arguments)}function el(){return(el=(0,m.Z)(function*(k,w){const F={identifier:w,continueUri:Zt()?Jt():"http://localhost"},{signinMethods:De}=yield _l((0,h.m9)(k),F);return De||[]})).apply(this,arguments)}function Aa(k,w){return aa.apply(this,arguments)}function aa(){return(aa=(0,m.Z)(function*(k,w){const D=(0,h.m9)(k),De={requestType:"VERIFY_EMAIL",idToken:yield k.getIdToken()};w&&Ii(D.auth,De,w);const{email:Qe}=yield Lt(D.auth,De);Qe!==k.email&&(yield k.reload())})).apply(this,arguments)}function Ia(k,w,D){return jo.apply(this,arguments)}function jo(){return(jo=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),Qe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield k.getIdToken(),newEmail:w};D&&Ii(F.auth,Qe,D);const{email:Kt}=yield gr(F.auth,Qe);Kt!==k.email&&(yield k.reload())})).apply(this,arguments)}function Qc(k,w){return vl.apply(this,arguments)}function vl(){return(vl=(0,m.Z)(function*(k,w){return Xt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Ma(k,w){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,m.Z)(function*(k,{displayName:w,photoURL:D}){if(void 0===w&&void 0===D)return;const F=(0,h.m9)(k),Qe={idToken:yield F.getIdToken(),displayName:w,photoUrl:D,returnSecureToken:!0},Kt=yield vt(F,Qc(F.auth,Qe));F.displayName=Kt.displayName||null,F.photoURL=Kt.photoUrl||null;const xn=F.providerData.find(({providerId:Jn})=>"password"===Jn);xn&&(xn.displayName=F.displayName,xn.photoURL=F.photoURL),yield F._updateTokensIfNecessary(Kt)})).apply(this,arguments)}function yl(k,w){return he((0,h.m9)(k),w,null)}function U(k,w){return he((0,h.m9)(k),null,w)}function he(k,w,D){return W.apply(this,arguments)}function W(){return(W=(0,m.Z)(function*(k,w,D){const{auth:F}=k,Qe={idToken:yield k.getIdToken(),returnSecureToken:!0};w&&(Qe.email=w),D&&(Qe.password=D);const Kt=yield vt(k,fi(F,Qe));yield k._updateTokensIfNecessary(Kt,!0)})).apply(this,arguments)}class Et{constructor(w,D,F={}){this.isNewUser=w,this.providerId=D,this.profile=F}}class ln extends Et{constructor(w,D,F,De){super(w,D,F),this.username=De}}class pn extends Et{constructor(w,D){super(w,"facebook.com",D)}}class li extends ln{constructor(w,D){super(w,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class er extends Et{constructor(w,D){super(w,"google.com",D)}}class ji extends ln{constructor(w,D,F){super(w,"twitter.com",D,F)}}function tr(k){const{user:w,_tokenResponse:D}=k;return w.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function Me(k){var w,D;if(!k)return null;const{providerId:F}=k,De=k.rawUserInfo?JSON.parse(k.rawUserInfo):{},Qe=k.isNewUser||"identitytoolkit#SignupNewUserResponse"===k.kind;if(!F&&k?.idToken){const Kt=null===(D=null===(w=yt(k.idToken))||void 0===w?void 0:w.firebase)||void 0===D?void 0:D.sign_in_provider;if(Kt)return new Et(Qe,"anonymous"!==Kt&&"custom"!==Kt?Kt:null)}if(!F)return null;switch(F){case"facebook.com":return new pn(Qe,De);case"github.com":return new li(Qe,De);case"google.com":return new er(Qe,De);case"twitter.com":return new ji(Qe,De,k.screenName||null);case"custom":case"anonymous":return new Et(Qe,null);default:return new Et(Qe,F,De)}}(D)}function Ar(k,w,D,F){return(0,h.m9)(k).onAuthStateChanged(w,D,F)}class ps{constructor(w,D,F){this.type=w,this.credential=D,this.auth=F}static _fromIdtoken(w,D){return new ps("enroll",w,D)}static _fromMfaPendingCredential(w){return new ps("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var D,F;if(w?.multiFactorSession){if(null!==(D=w.multiFactorSession)&&void 0!==D&&D.pendingCredential)return ps._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(F=w.multiFactorSession)&&void 0!==F&&F.idToken)return ps._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Kl{constructor(w,D,F){this.session=w,this.hints=D,this.signInResolver=F}static _fromError(w,D){const F=Ve(w),De=D.customData._serverResponse,Qe=(De.mfaInfo||[]).map(xn=>rr._fromServerResponse(F,xn));Oe(De.mfaPendingCredential,F,"internal-error");const Kt=ps._fromMfaPendingCredential(De.mfaPendingCredential);return new Kl(Kt,Qe,function(){var xn=(0,m.Z)(function*(Jn){const ti=yield Jn._process(F,Kt);delete De.mfaInfo,delete De.mfaPendingCredential;const ri=Object.assign(Object.assign({},De),{idToken:ti.idToken,refreshToken:ti.refreshToken});switch(D.operationType){case"signIn":const or=yield cr._fromIdTokenResponse(F,D.operationType,ri);return yield F._updateCurrentUser(or.user),or;case"reauthenticate":return Oe(D.user,F,"internal-error"),cr._forOperation(D.user,D.operationType,ri);default:kt(F,"internal-error")}});return function(Jn){return xn.apply(this,arguments)}}())}resolveSignIn(w){var D=this;return(0,m.Z)(function*(){return D.signInResolver(w)})()}}function Bn(k,w){var D;const F=(0,h.m9)(k),De=w;return Oe(w.customData.operationType,F,"argument-error"),Oe(null===(D=De.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,F,"argument-error"),Kl._fromError(F,De)}function ur(k,w){return Xt(k,"POST","/v2/accounts/mfaEnrollment:start",Cn(k,w))}class ui{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(F=>rr._fromServerResponse(w.auth,F)))})}static _fromUser(w){return new ui(w)}getSession(){var w=this;return(0,m.Z)(function*(){return ps._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,D){var F=this;return(0,m.Z)(function*(){const De=w,Qe=yield F.getSession(),Kt=yield vt(F.user,De._process(F.user.auth,Qe,D));return yield F.user._updateTokensIfNecessary(Kt),F.user.reload()})()}unenroll(w){var D=this;return(0,m.Z)(function*(){var F;const De="string"==typeof w?w:w.uid,Qe=yield D.user.getIdToken(),Kt=yield vt(D.user,function ju(k,w){return Xt(k,"POST","/v2/accounts/mfaEnrollment:withdraw",Cn(k,w))}(D.user.auth,{idToken:Qe,mfaEnrollmentId:De}));D.enrolledFactors=D.enrolledFactors.filter(({uid:xn})=>xn!==De),yield D.user._updateTokensIfNecessary(Kt);try{yield D.user.reload()}catch(xn){if("auth/user-token-expired"!==(null===(F=xn)||void 0===F?void 0:F.code))throw xn}})()}}const Ei=new WeakMap;function bp(k){const w=(0,h.m9)(k);return Ei.has(w)||Ei.set(w,ui._fromUser(w)),Ei.get(w)}const Zn="__sak";class hn{constructor(w,D){this.storageRetriever=w,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,D){return this.storage.setItem(w,JSON.stringify(D)),Promise.resolve()}_get(w){const D=this.storage.getItem(w);return Promise.resolve(D?JSON.parse(D):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oa=(()=>{class k extends hn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,F)=>this.onStorageEvent(D,F),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nn(){const k=(0,h.z$)();return Ne(k)||de(k)}()&&function H(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ee(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const F of Object.keys(this.listeners)){const De=this.storage.getItem(F),Qe=this.localCache[F];De!==Qe&&D(F,Qe,De)}}onStorageEvent(D,F=!1){if(!D.key)return void this.forAllChangedKeys((xn,Jn,ti)=>{this.notifyListeners(xn,ti)});const De=D.key;if(F?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xn=this.storage.getItem(De);if(D.newValue!==xn)null!==D.newValue?this.storage.setItem(De,D.newValue):this.storage.removeItem(De);else if(this.localCache[De]===D.newValue&&!F)return}const Qe=()=>{const xn=this.storage.getItem(De);!F&&this.localCache[De]===xn||this.notifyListeners(De,xn)},Kt=this.storage.getItem(De);!function ve(){return(0,h.w1)()&&10===document.documentMode}()||Kt===D.newValue||D.newValue===D.oldValue?Qe():setTimeout(Qe,10)}notifyListeners(D,F){this.localCache[D]=F;const De=this.listeners[D];if(De)for(const Qe of Array.from(De))Qe(F&&JSON.parse(F))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,F,De)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:F,newValue:De}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,F){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(F)}_removeListener(D,F){this.listeners[D]&&(this.listeners[D].delete(F),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,F){var De=()=>super._set,Qe=this;return(0,m.Z)(function*(){yield De().call(Qe,D,F),Qe.localCache[D]=JSON.stringify(F)})()}_get(D){var F=()=>super._get,De=this;return(0,m.Z)(function*(){const Qe=yield F().call(De,D);return De.localCache[D]=JSON.stringify(Qe),Qe})()}_remove(D){var F=()=>super._remove,De=this;return(0,m.Z)(function*(){yield F().call(De,D),delete De.localCache[D]})()}}return k.type="LOCAL",k})(),ka=(()=>{class k extends hn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,F){}_removeListener(D,F){}}return k.type="SESSION",k})();let Cc=(()=>{class k{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const F=this.receivers.find(Qe=>Qe.isListeningto(D));if(F)return F;const De=new k(D);return this.receivers.push(De),De}isListeningto(D){return this.eventTarget===D}handleEvent(D){var F=this;return(0,m.Z)(function*(){const De=D,{eventId:Qe,eventType:Kt,data:xn}=De.data,Jn=F.handlersMap[Kt];if(!Jn?.size)return;De.ports[0].postMessage({status:"ack",eventId:Qe,eventType:Kt});const ti=Array.from(Jn).map(function(){var or=(0,m.Z)(function*(Ro){return Ro(De.origin,xn)});return function(Ro){return or.apply(this,arguments)}}()),ri=yield function $u(k){return Promise.all(k.map(function(){var w=(0,m.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(F){return{fulfilled:!1,reason:F}}});return function(D){return w.apply(this,arguments)}}()))}(ti);De.ports[0].postMessage({status:"done",eventId:Qe,eventType:Kt,response:ri})})()}_subscribe(D,F){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(F)}_unsubscribe(D,F){this.handlersMap[D]&&F&&this.handlersMap[D].delete(F),(!F||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return k.receivers=[],k})();function Jc(k="",w=10){let D="";for(let F=0;F<w;F++)D+=Math.floor(10*Math.random());return k+D}class Gh{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,D,F=50){var De=this;return(0,m.Z)(function*(){const Qe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Qe)throw new Error("connection_unavailable");let Kt,xn;return new Promise((Jn,ti)=>{const ri=Jc("",20);Qe.port1.start();const or=setTimeout(()=>{ti(new Error("unsupported_event"))},F);xn={messageChannel:Qe,onMessage(Ro){const Yt=Ro;if(Yt.data.eventId===ri)switch(Yt.data.status){case"ack":clearTimeout(or),Kt=setTimeout(()=>{ti(new Error("timeout"))},3e3);break;case"done":clearTimeout(Kt),Jn(Yt.data.response);break;default:clearTimeout(or),clearTimeout(Kt),ti(new Error("invalid_response"))}}},De.handlers.add(xn),Qe.port1.addEventListener("message",xn.onMessage),De.target.postMessage({eventType:w,eventId:ri,data:D},[Qe.port2])}).finally(()=>{xn&&De.removeMessageHandler(xn)})})()}}function Or(){return window}function ci(){return typeof Or().WorkerGlobalScope<"u"&&"function"==typeof Or().importScripts}function Io(){return(Io=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ra="firebaseLocalStorageDb",eu="firebaseLocalStorage",kr="fbase_key";class jn{constructor(w){this.request=w}toPromise(){return new Promise((w,D)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function Na(k,w){return k.transaction([eu],w?"readwrite":"readonly").objectStore(eu)}function ca(){const k=indexedDB.open(Ra,1);return new Promise((w,D)=>{k.addEventListener("error",()=>{D(k.error)}),k.addEventListener("upgradeneeded",()=>{const F=k.result;try{F.createObjectStore(eu,{keyPath:kr})}catch(De){D(De)}}),k.addEventListener("success",(0,m.Z)(function*(){const F=k.result;F.objectStoreNames.contains(eu)?w(F):(F.close(),yield function jr(){const k=indexedDB.deleteDatabase(Ra);return new jn(k).toPromise()}(),w(yield ca()))}))})}function bl(k,w,D){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,m.Z)(function*(k,w,D){const F=Na(k,!0).put({[kr]:w,value:D});return new jn(F).toPromise()})).apply(this,arguments)}function tl(){return(tl=(0,m.Z)(function*(k,w){const D=Na(k,!1).get(w),F=yield new jn(D).toPromise();return void 0===F?null:F.value})).apply(this,arguments)}function tu(k,w){const D=Na(k,!0).delete(w);return new jn(D).toPromise()}const nl=(()=>{class k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,m.Z)(function*(){return D.db||(D.db=yield ca()),D.db})()}_withRetries(D){var F=this;return(0,m.Z)(function*(){let De=0;for(;;)try{const Qe=yield F._openDb();return yield D(Qe)}catch(Qe){if(De++>3)throw Qe;F.db&&(F.db.close(),F.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,m.Z)(function*(){return ci()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,m.Z)(function*(){D.receiver=Cc._getInstance(function Ci(){return ci()?self:null}()),D.receiver._subscribe("keyChanged",function(){var F=(0,m.Z)(function*(De,Qe){return{keyProcessed:(yield D._poll()).includes(Qe.key)}});return function(De,Qe){return F.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var F=(0,m.Z)(function*(De,Qe){return["keyChanged"]});return function(De,Qe){return F.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,m.Z)(function*(){var F,De;if(D.activeServiceWorker=yield function la(){return Io.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new Gh(D.activeServiceWorker);const Qe=yield D.sender._send("ping",{},800);!Qe||(null===(F=Qe[0])||void 0===F?void 0:F.fulfilled)&&(null===(De=Qe[0])||void 0===De?void 0:De.value.includes("keyChanged"))&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var F=this;return(0,m.Z)(function*(){if(F.sender&&F.activeServiceWorker&&function dr(){var k;return(null===(k=navigator?.serviceWorker)||void 0===k?void 0:k.controller)||null}()===F.activeServiceWorker)try{yield F.sender._send("keyChanged",{key:D},F.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const D=yield ca();return yield bl(D,Zn,"1"),yield tu(D,Zn),!0}catch{}return!1})()}_withPendingWrite(D){var F=this;return(0,m.Z)(function*(){F.pendingWrites++;try{yield D()}finally{F.pendingWrites--}})()}_set(D,F){var De=this;return(0,m.Z)(function*(){return De._withPendingWrite((0,m.Z)(function*(){return yield De._withRetries(Qe=>bl(Qe,D,F)),De.localCache[D]=F,De.notifyServiceWorker(D)}))})()}_get(D){var F=this;return(0,m.Z)(function*(){const De=yield F._withRetries(Qe=>function Pa(k,w){return tl.apply(this,arguments)}(Qe,D));return F.localCache[D]=De,De})()}_remove(D){var F=this;return(0,m.Z)(function*(){return F._withPendingWrite((0,m.Z)(function*(){return yield F._withRetries(De=>tu(De,D)),delete F.localCache[D],F.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,m.Z)(function*(){const F=yield D._withRetries(Kt=>{const xn=Na(Kt,!1).getAll();return new jn(xn).toPromise()});if(!F)return[];if(0!==D.pendingWrites)return[];const De=[],Qe=new Set;for(const{fbase_key:Kt,value:xn}of F)Qe.add(Kt),JSON.stringify(D.localCache[Kt])!==JSON.stringify(xn)&&(D.notifyListeners(Kt,xn),De.push(Kt));for(const Kt of Object.keys(D.localCache))D.localCache[Kt]&&!Qe.has(Kt)&&(D.notifyListeners(Kt,null),De.push(Kt));return De})()}notifyListeners(D,F){this.localCache[D]=F;const De=this.listeners[D];if(De)for(const Qe of Array.from(De))Qe(F)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,F){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(F)}_removeListener(D,F){this.listeners[D]&&(this.listeners[D].delete(F),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return k.type="LOCAL",k})();function nu(k,w){return Xt(k,"POST","/v2/accounts/mfaSignIn:start",Cn(k,w))}function an(){return(an=(0,m.Z)(function*(k){return(yield Xt(k,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zr(k){return new Promise((w,D)=>{const F=document.createElement("script");F.setAttribute("src",k),F.onload=w,F.onerror=De=>{const Qe=at("internal-error");Qe.customData=De,D(Qe)},F.type="text/javascript",F.charset="UTF-8",function $o(){var k,w;return null!==(w=null===(k=document.getElementsByTagName("head"))||void 0===k?void 0:k[0])&&void 0!==w?w:document}().appendChild(F)})}function Dc(k){return`__${k}${Math.floor(1e6*Math.random())}`}const Ec=1e12;class Oo{constructor(w){this.auth=w,this.counter=Ec,this._widgets=new Map}render(w,D){const F=this.counter;return this._widgets.set(F,new sr(w,this.auth.name,D||{})),this.counter++,F}reset(w){var D;const F=w||Ec;null===(D=this._widgets.get(F))||void 0===D||D.delete(),this._widgets.delete(F)}getResponse(w){var D;return(null===(D=this._widgets.get(w||Ec))||void 0===D?void 0:D.getResponse())||""}execute(w){var D=this;return(0,m.Z)(function*(){var F;return null===(F=D._widgets.get(w||Ec))||void 0===F||F.execute(),""})()}}class sr{constructor(w,D,F){this.params=F,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const De="string"==typeof w?document.getElementById(w):w;Oe(De,"argument-error",{appName:D}),this.container=De,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bd(k){const w=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<k;F++)w.push(D.charAt(Math.floor(Math.random()*D.length)));return w.join("")}(50);const{callback:w,"expired-callback":D}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ku=Dc("rcb"),jh=new wt(3e4,6e4);class wp{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Or().grecaptcha)||void 0===w||!w.render)}load(w,D=""){return Oe(function La(k){return k.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(k)}(D),w,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(Or().grecaptcha):new Promise((F,De)=>{const Qe=Or().setTimeout(()=>{De(at(w,"network-request-failed"))},jh.get());Or()[Ku]=()=>{Or().clearTimeout(Qe),delete Or()[Ku];const xn=Or().grecaptcha;if(!xn)return void De(at(w,"internal-error"));const Jn=xn.render;xn.render=(ti,ri)=>{const or=Jn(ti,ri);return this.counter++,or},this.hostLanguage=D,F(xn)},zr(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Ku,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(Qe),De(at(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var D;return!(null===(D=Or().grecaptcha)||void 0===D||!D.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cp{load(w){return(0,m.Z)(function*(){return new Oo(w)})()}clearedOneInstance(){}}const hr="recaptcha",iu={theme:"light",type:"image"};class gs{constructor(w,D=Object.assign({},iu),F){this.parameters=D,this.type=hr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ve(F),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const De="string"==typeof w?document.getElementById(w):w;Oe(De,this.auth,"argument-error"),this.container=De,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cp:new wp,this.validateStartingState()}verify(){var w=this;return(0,m.Z)(function*(){w.assertNotDestroyed();const D=yield w.render(),F=w.getAssertedRecaptcha();return F.getResponse(D)||new Promise(Qe=>{const Kt=xn=>{!xn||(w.tokenChangeListeners.delete(Kt),Qe(xn))};w.tokenChangeListeners.add(Kt),w.isInvisible&&F.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return D=>{if(this.tokenChangeListeners.forEach(F=>F(D)),"function"==typeof w)w(D);else if("string"==typeof w){const F=Or()[w];"function"==typeof F&&F(D)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,m.Z)(function*(){if(yield w.init(),!w.widgetId){let D=w.container;if(!w.isInvisible){const F=document.createElement("div");D.appendChild(F),D=F}w.widgetId=w.getAssertedRecaptcha().render(D,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,m.Z)(function*(){Oe(Zt()&&!ci(),w.auth,"internal-error"),yield function Mi(){let k=null;return new Promise(w=>{"complete"!==document.readyState?(k=()=>w(),window.addEventListener("load",k)):w()}).catch(w=>{throw k&&window.removeEventListener("load",k),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const D=yield function da(k){return an.apply(this,arguments)}(w.auth);Oe(D,w.auth,"internal-error"),w.parameters.sitekey=D})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ql{constructor(w,D){this.verificationId=w,this.onConfirmation=D}confirm(w){const D=ws._fromVerification(this.verificationId,w);return this.onConfirmation(D)}}function Ba(k,w,D){return po.apply(this,arguments)}function po(){return(po=(0,m.Z)(function*(k,w,D){const F=Ve(k),De=yield vr(F,w,(0,h.m9)(D));return new ql(De,Qe=>lo(F,Qe))})).apply(this,arguments)}function Dp(k,w,D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);yield Hr(!1,F,"phone");const De=yield vr(F.auth,w,(0,h.m9)(D));return new ql(De,Qe=>yi(F,Qe))})).apply(this,arguments)}function Wo(k,w,D){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k),De=yield vr(F.auth,w,(0,h.m9)(D));return new ql(De,Qe=>oa(F,Qe))})).apply(this,arguments)}function vr(k,w,D){return M.apply(this,arguments)}function M(){return(M=(0,m.Z)(function*(k,w,D){var F;const De=yield D.verify();try{let Qe;if(Oe("string"==typeof De,k,"argument-error"),Oe(D.type===hr,k,"argument-error"),Qe="string"==typeof w?{phoneNumber:w}:w,"session"in Qe){const Kt=Qe.session;if("phoneNumber"in Qe)return Oe("enroll"===Kt.type,k,"internal-error"),(yield ur(k,{idToken:Kt.credential,phoneEnrollmentInfo:{phoneNumber:Qe.phoneNumber,recaptchaToken:De}})).phoneSessionInfo.sessionInfo;{Oe("signin"===Kt.type,k,"internal-error");const xn=(null===(F=Qe.multiFactorHint)||void 0===F?void 0:F.uid)||Qe.multiFactorUid;return Oe(xn,k,"missing-multi-factor-info"),(yield nu(k,{mfaPendingCredential:Kt.credential,mfaEnrollmentId:xn,phoneSignInInfo:{recaptchaToken:De}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Kt}=yield zl(k,{phoneNumber:Qe.phoneNumber,recaptchaToken:De});return Kt}}finally{D._reset()}})).apply(this,arguments)}function R(k,w){return x.apply(this,arguments)}function x(){return(x=(0,m.Z)(function*(k,w){yield Ta((0,h.m9)(k),w)})).apply(this,arguments)}let j=(()=>{class k{constructor(D){this.providerId=k.PROVIDER_ID,this.auth=Ve(D)}verifyPhoneNumber(D,F){return vr(this.auth,D,(0,h.m9)(F))}static credential(D,F){return ws._fromVerification(D,F)}static credentialFromResult(D){return k.credentialFromTaggedObject(D)}static credentialFromError(D){return k.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:F,temporaryProof:De}=D;return F&&De?ws._fromTokenResponse(F,De):null}}return k.PROVIDER_ID="phone",k.PHONE_SIGN_IN_METHOD="phone",k})();function Z(k,w){return w?pt(w):(Oe(k._popupRedirectResolver,k,"argument-error"),k._popupRedirectResolver)}class ke extends Re{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return no(w,this._buildIdpRequest())}_linkToIdToken(w,D){return no(w,this._buildIdpRequest(D))}_getReauthenticationResolver(w){return no(w,this._buildIdpRequest())}_buildIdpRequest(w){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(D.idToken=w),D}}function gt(k){return Ur(k.auth,new ke(k),k.bypassAuthState)}function Dt(k){const{auth:w,user:D}=k;return Oe(D,w,"internal-error"),Sa(D,new ke(k),k.bypassAuthState)}function mn(k){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,m.Z)(function*(k){const{auth:w,user:D}=k;return Oe(D,w,"internal-error"),Ta(D,new ke(k),k.bypassAuthState)})).apply(this,arguments)}class Ri{constructor(w,D,F,De,Qe=!1){this.auth=w,this.resolver=F,this.user=De,this.bypassAuthState=Qe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var w=this;return new Promise(function(){var D=(0,m.Z)(function*(F,De){w.pendingPromise={resolve:F,reject:De};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(Qe){w.reject(Qe)}});return function(F,De){return D.apply(this,arguments)}}())}onAuthEvent(w){var D=this;return(0,m.Z)(function*(){const{urlResponse:F,sessionId:De,postBody:Qe,tenantId:Kt,error:xn,type:Jn}=w;if(xn)return void D.reject(xn);const ti={auth:D.auth,requestUri:F,sessionId:De,tenantId:Kt||void 0,postBody:Qe||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(Jn)(ti))}catch(ri){D.reject(ri)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return gt;case"linkViaPopup":case"linkViaRedirect":return mn;case"reauthViaPopup":case"reauthViaRedirect":return Dt;default:kt(this.auth,"internal-error")}}resolve(w){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new wt(2e3,1e4);function Gi(k,w,D){return ds.apply(this,arguments)}function ds(){return(ds=(0,m.Z)(function*(k,w,D){const F=Ve(k);je(k,w,Er);const De=Z(F,D);return new js(F,"signInViaPopup",w,De).executeNotNull()})).apply(this,arguments)}function Ps(k,w,D){return ha.apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);je(F.auth,w,Er);const De=Z(F.auth,D);return new js(F.auth,"reauthViaPopup",w,De,F).executeNotNull()})).apply(this,arguments)}function Ss(k,w,D){return wl.apply(this,arguments)}function wl(){return(wl=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);je(F.auth,w,Er);const De=Z(F.auth,D);return new js(F.auth,"linkViaPopup",w,De,F).executeNotNull()})).apply(this,arguments)}let js=(()=>{class k extends Ri{constructor(D,F,De,Qe,Kt){super(D,F,Qe,Kt),this.provider=De,this.authWindow=null,this.pollId=null,k.currentPopupAction&&k.currentPopupAction.cancel(),k.currentPopupAction=this}executeNotNull(){var D=this;return(0,m.Z)(function*(){const F=yield D.execute();return Oe(F,D.auth,"internal-error"),F})()}onExecution(){var D=this;return(0,m.Z)(function*(){ot(1===D.filter.length,"Popup operations only handle one event");const F=Jc();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],F),D.authWindow.associatedEvent=F,D.resolver._originValidation(D.auth).catch(De=>{D.reject(De)}),D.resolver._isIframeWebStorageSupported(D.auth,De=>{De||D.reject(at(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,k.currentPopupAction=null}pollUserCancellation(){const D=()=>{var F,De;this.pollId=null!==(De=null===(F=this.authWindow)||void 0===F?void 0:F.window)&&void 0!==De&&De.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,ii.get())};D()}}return k.currentPopupAction=null,k})();const Xl=new Map;class ru extends Ri{constructor(w,D,F=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,F),this.eventId=null}execute(){var w=()=>super.execute,D=this;return(0,m.Z)(function*(){let F=Xl.get(D.auth._key());if(!F){try{const Qe=(yield function Vd(k,w){return Jl.apply(this,arguments)}(D.resolver,D.auth))?yield w().call(D):null;F=()=>Promise.resolve(Qe)}catch(De){F=()=>Promise.reject(De)}Xl.set(D.auth._key(),F)}return D.bypassAuthState||Xl.set(D.auth._key(),()=>Promise.resolve(null)),F()})()}onAuthEvent(w){var D=()=>super.onAuthEvent,F=this;return(0,m.Z)(function*(){if("signInViaRedirect"===w.type)return D().call(F,w);if("unknown"!==w.type){if(w.eventId){const De=yield F.auth._redirectUserForId(w.eventId);if(De)return F.user=De,D().call(F,w);F.resolve(null)}}else F.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Jl(){return(Jl=(0,m.Z)(function*(k,w){const D=ec(w),F=Sc(k);if(!(yield F._isAvailable()))return!1;const De="true"===(yield F._get(D));return yield F._remove(D),De})).apply(this,arguments)}function Tc(k,w){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,m.Z)(function*(k,w){return Sc(k)._set(ec(w),"true")})).apply(this,arguments)}function Zg(){Xl.clear()}function zh(k,w){Xl.set(k._key(),w)}function Sc(k){return pt(k._redirectPersistence)}function ec(k){return qe("pendingRedirect",k.config.apiKey,k.name)}function zs(k,w,D){return function ms(k,w,D){return yr.apply(this,arguments)}(k,w,D)}function yr(){return(yr=(0,m.Z)(function*(k,w,D){const F=Ve(k);je(k,w,Er);const De=Z(F,D);return yield Tc(De,F),De._openRedirect(F,w,"signInViaRedirect")})).apply(this,arguments)}function Ep(k,w,D){return function Ud(k,w,D){return Ko.apply(this,arguments)}(k,w,D)}function Ko(){return(Ko=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);je(F.auth,w,Er);const De=Z(F.auth,D);yield Tc(De,F.auth);const Qe=yield Tp(F);return De._openRedirect(F.auth,w,"reauthViaRedirect",Qe)})).apply(this,arguments)}function qg(k,w,D){return function Zu(k,w,D){return su.apply(this,arguments)}(k,w,D)}function su(){return(su=(0,m.Z)(function*(k,w,D){const F=(0,h.m9)(k);je(F.auth,w,Er);const De=Z(F.auth,D);yield Hr(!1,F,w.providerId),yield Tc(De,F.auth);const Qe=yield Tp(F);return De._openRedirect(F.auth,w,"linkViaRedirect",Qe)})).apply(this,arguments)}function ou(k,w){return xc.apply(this,arguments)}function xc(){return(xc=(0,m.Z)(function*(k,w){return yield Ve(k)._initializationPromise,qu(k,w,!1)})).apply(this,arguments)}function qu(k,w){return qr.apply(this,arguments)}function qr(){return(qr=(0,m.Z)(function*(k,w,D=!1){const F=Ve(k),De=Z(F,w),Kt=yield new ru(F,De,D).execute();return Kt&&!D&&(delete Kt.user._redirectEventId,yield F._persistUserIfCurrent(Kt.user),yield F._setRedirectUser(null,w)),Kt})).apply(this,arguments)}function Tp(k){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,m.Z)(function*(k){const w=Jc(`${k.uid}:::`);return k._redirectEventId=w,yield k.auth._setRedirectUser(k),yield k.auth._persistUserIfCurrent(k),w})).apply(this,arguments)}class au{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let D=!1;return this.consumers.forEach(F=>{this.isEventForConsumer(w,F)&&(D=!0,this.sendToConsumer(w,F),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Xg(k){switch(k.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qg(k);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=w,D=!0)),D}sendToConsumer(w,D){var F;if(w.error&&!Qg(w)){const De=(null===(F=w.error.code)||void 0===F?void 0:F.split("auth/")[1])||"internal-error";D.onError(at(this.auth,De))}else D.onAuthEvent(w)}isEventForConsumer(w,D){const F=null===D.eventId||!!w.eventId&&w.eventId===D.eventId;return D.filter.includes(w.type)&&F}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($h(w))}saveEventToCache(w){this.cachedEventUids.add($h(w)),this.lastProcessedEventTime=Date.now()}}function $h(k){return[k.type,k.eventId,k.sessionId,k.tenantId].filter(w=>w).join("-")}function Qg({type:k,error:w}){return"unknown"===k&&"auth/no-auth-event"===w?.code}function Ac(k){return ko.apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(k,w={}){return Xt(k,"GET","/v1/projects",w)})).apply(this,arguments)}const lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z_=/^https?/;function Yh(){return(Yh=(0,m.Z)(function*(k){if(k.config.emulator)return;const{authorizedDomains:w}=yield Ac(k);for(const D of w)try{if(tc(D))return}catch{}kt(k,"unauthorized-domain")})).apply(this,arguments)}function tc(k){const w=Jt(),{protocol:D,hostname:F}=new URL(w);if(k.startsWith("chrome-extension://")){const Kt=new URL(k);return""===Kt.hostname&&""===F?"chrome-extension:"===D&&k.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===D&&Kt.hostname===F}if(!Z_.test(D))return!1;if(lu.test(k))return F===k;const De=k.replace(/\./g,"\\.");return new RegExp("^(.+\\."+De+"|"+De+")$","i").test(F)}const Sp=new wt(3e4,6e4);function nc(){const k=Or().___jsl;if(k?.H)for(const w of Object.keys(k.H))if(k.H[w].r=k.H[w].r||[],k.H[w].L=k.H[w].L||[],k.H[w].r=[...k.H[w].L],k.CP)for(let D=0;D<k.CP.length;D++)k.CP[D]=null}let Cl=null;function jd(k){return Cl=Cl||function xp(k){return new Promise((w,D)=>{var F,De,Qe;function Kt(){nc(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{nc(),D(at(k,"network-request-failed"))},timeout:Sp.get()})}if(null!==(De=null===(F=Or().gapi)||void 0===F?void 0:F.iframes)&&void 0!==De&&De.Iframe)w(gapi.iframes.getContext());else{if(null===(Qe=Or().gapi)||void 0===Qe||!Qe.load){const xn=Dc("iframefcb");return Or()[xn]=()=>{gapi.load?Kt():D(at(k,"network-request-failed"))},zr(`https://apis.google.com/js/api.js?onload=${xn}`).catch(Jn=>D(Jn))}Kt()}}).catch(w=>{throw Cl=null,w})}(k),Cl}const Kh=new wt(5e3,15e3),Xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $d(k){const w=k.config;Oe(w.authDomain,k,"auth-domain-config-required");const D=w.emulator?qt(w,"emulator/auth/iframe"):`https://${k.config.authDomain}/__/auth/iframe`,F={apiKey:w.apiKey,appName:k.name,v:A.SDK_VERSION},De=zd.get(k.config.apiHost);De&&(F.eid=De);const Qe=k._getFrameworks();return Qe.length&&(F.fw=Qe.join(",")),`${D}?${(0,h.xO)(F).slice(1)}`}function cu(){return cu=(0,m.Z)(function*(k){const w=yield jd(k),D=Or().gapi;return Oe(D,k,"internal-error"),w.open({where:document.body,url:$d(k),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xu,dontclear:!0},F=>new Promise(function(){var De=(0,m.Z)(function*(Qe,Kt){yield F.restyle({setHideOnLeave:!1});const xn=at(k,"network-request-failed"),Jn=Or().setTimeout(()=>{Kt(xn)},Kh.get());function ti(){Or().clearTimeout(Jn),Qe(F)}F.ping(ti).then(ti,()=>{Kt(xn)})});return function(Qe,Kt){return De.apply(this,arguments)}}()))}),cu.apply(this,arguments)}const Ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mp{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dl(k,w,D,F,De,Qe){Oe(k.config.authDomain,k,"auth-domain-config-required"),Oe(k.config.apiKey,k,"invalid-api-key");const Kt={apiKey:k.config.apiKey,appName:k.name,authType:D,redirectUrl:F,v:A.SDK_VERSION,eventId:De};if(w instanceof Er){w.setDefaultLanguage(k.languageCode),Kt.providerId=w.providerId||"",(0,h.xb)(w.getCustomParameters())||(Kt.customParameters=JSON.stringify(w.getCustomParameters()));for(const[Jn,ti]of Object.entries(Qe||{}))Kt[Jn]=ti}if(w instanceof Gs){const Jn=w.getScopes().filter(ti=>""!==ti);Jn.length>0&&(Kt.scopes=Jn.join(","))}k.tenantId&&(Kt.tid=k.tenantId);const xn=Kt;for(const Jn of Object.keys(xn))void 0===xn[Jn]&&delete xn[Jn];return`${function qo({config:k}){return k.emulator?qt(k,"emulator/auth/handler"):`https://${k.authDomain}/__/auth/handler`}(k)}?${(0,h.xO)(xn).slice(1)}`}const td="webStorageSupport",Qh=class Oc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=qu,this._overrideRedirectResult=zh}_openPopup(w,D,F,De){var Qe=this;return(0,m.Z)(function*(){var Kt;ot(null===(Kt=Qe.eventManagers[w._key()])||void 0===Kt?void 0:Kt.manager,"_initialize() not called before _openPopup()");const xn=Dl(w,D,F,Jt(),De);return function Mc(k,w,D,F=500,De=600){const Qe=Math.max((window.screen.availHeight-De)/2,0).toString(),Kt=Math.max((window.screen.availWidth-F)/2,0).toString();let xn="";const Jn=Object.assign(Object.assign({},Ju),{width:F.toString(),height:De.toString(),top:Qe,left:Kt}),ti=(0,h.z$)().toLowerCase();D&&(xn=_t(ti)?"_blank":D),ne(ti)&&(w=w||"http://localhost",Jn.scrollbars="yes");const ri=Object.entries(Jn).reduce((Ro,[Yt,$r])=>`${Ro}${Yt}=${$r},`,"");if(function Ie(k=(0,h.z$)()){var w;return de(k)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(ti)&&"_self"!==xn)return function qh(k,w){const D=document.createElement("a");D.href=k,D.target=w;const F=document.createEvent("MouseEvent");F.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(F)}(w||"",xn),new Mp(null);const or=window.open(w||"",xn,ri);Oe(or,k,"popup-blocked");try{or.focus()}catch{}return new Mp(or)}(w,xn,Jc())})()}_openRedirect(w,D,F,De){var Qe=this;return(0,m.Z)(function*(){return yield Qe._originValidation(w),function Wu(k){Or().location.href=k}(Dl(w,D,F,Jt(),De)),new Promise(()=>{})})()}_initialize(w){const D=w._key();if(this.eventManagers[D]){const{manager:De,promise:Qe}=this.eventManagers[D];return De?Promise.resolve(De):(ot(Qe,"If manager is not set, promise should be"),Qe)}const F=this.initAndGetManager(w);return this.eventManagers[D]={promise:F},F.catch(()=>{delete this.eventManagers[D]}),F}initAndGetManager(w){var D=this;return(0,m.Z)(function*(){const F=yield function Zh(k){return cu.apply(this,arguments)}(w),De=new au(w);return F.register("authEvent",Qe=>(Oe(Qe?.authEvent,w,"invalid-auth-event"),{status:De.onEvent(Qe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[w._key()]={manager:De},D.iframes[w._key()]=F,De})()}_isIframeWebStorageSupported(w,D){this.iframes[w._key()].send(td,{type:td},De=>{var Qe;const Kt=null===(Qe=De?.[0])||void 0===Qe?void 0:Qe[td];void 0!==Kt&&D(!!Kt),kt(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const D=w._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Wh(k){return Yh.apply(this,arguments)}(w)),this.originValidationPromises[D]}get _shouldInitProactively(){return Ee()||Ne()||de()}};class Yd extends class uu{constructor(w){this.factorId=w}_process(w,D,F){switch(D.type){case"enroll":return this._finalizeEnroll(w,D.credential,F);case"signin":return this._finalizeSignIn(w,D.credential);default:return rt("unexpected MultiFactorSessionType")}}}{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new Yd(w)}_finalizeEnroll(w,D,F){return function zo(k,w){return Xt(k,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(k,w))}(w,{idToken:D,displayName:F,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,D){return function ua(k,w){return Xt(k,"POST","/v2/accounts/mfaSignIn:finalize",Cn(k,w))}(w,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let il=(()=>{class k{constructor(){}static assertion(D){return Yd._fromCredential(D)}}return k.FACTOR_ID="phone",k})();var rl="@firebase/auth",Rp="0.20.10";class q_{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var D=this;return(0,m.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const D=this.auth.onIdTokenChanged(F=>{var De;w((null===(De=F)||void 0===De?void 0:De.stsTokenManager.accessToken)||null)});this.internalListeners.set(w,D),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const D=this.internalListeners.get(w);!D||(this.internalListeners.delete(w),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hs=(0,h.Pz)("authIdTokenMaxAge")||300;let nd=null;const gi=k=>function(){var w=(0,m.Z)(function*(D){const F=D&&(yield D.getIdTokenResult()),De=F&&((new Date).getTime()-Date.parse(F.issuedAtTime))/1e3;if(De&&De>hs)return;const Qe=F?.token;nd!==Qe&&(nd=Qe,yield fetch(k,{method:Qe?"POST":"DELETE",headers:Qe?{Authorization:`Bearer ${Qe}`}:{}}))});return function(D){return w.apply(this,arguments)}}();function kc(k=(0,A.getApp)()){const w=(0,A._getProvider)(k,"auth");if(w.isInitialized())return w.getImmediate();const D=function Rt(k,w){const D=(0,A._getProvider)(k,"auth");if(D.isInitialized()){const De=D.getImmediate(),Qe=D.getOptions();if((0,h.vZ)(Qe,w??{}))return De;kt(De,"already-initialized")}return D.initialize({options:w})}(k,{popupRedirectResolver:Qh,persistence:[nl,Oa,ka]}),F=(0,h.Pz)("authTokenSyncURL");if(F){const Qe=gi(F);(function Xi(k,w,D){(0,h.m9)(k).beforeAuthStateChanged(w,D)})(D,Qe,()=>Qe(D.currentUser)),function _r(k,w,D,F){(0,h.m9)(k).onIdTokenChanged(w,D,F)}(D,Kt=>Qe(Kt))}const De=(0,h.q4)("auth");return De&&St(D,`http://${De}`),D}!function Xh(k){(0,A._registerComponent)(new et.wA("auth",(w,{options:D})=>{const F=w.getProvider("app").getImmediate(),De=w.getProvider("heartbeat"),{apiKey:Qe,authDomain:Kt}=F.options;return((xn,Jn)=>{Oe(Qe&&!Qe.includes(":"),"invalid-api-key",{appName:xn.name}),Oe(!Kt?.includes(":"),"argument-error",{appName:xn.name});const ti={apiKey:Qe,authDomain:Kt,clientPlatform:k,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(k)},ri=new le(xn,Jn,ti);return function At(k,w){const D=w?.persistence||[],F=(Array.isArray(D)?D:[D]).map(pt);w?.errorMap&&k._updateErrorMap(w.errorMap),k._initializeWithPersistence(F,w?.popupRedirectResolver)}(ri,D),ri})(F,De)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,D,F)=>{w.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new et.wA("auth-internal",w=>{const D=Ve(w.getProvider("auth").getImmediate());return new q_(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(rl,Rp,function Nr(k){switch(k){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(k)),(0,A.registerVersion)(rl,Rp,"esm2017")}("Browser")},5525:(bn,Tt,S)=>{S.d(Tt,{u7:()=>Th,Jj:()=>As,IX:()=>p0,my:()=>Mr,xU:()=>$c,Lz:()=>Ol,WA:()=>Nn,F8:()=>fc,$q:()=>Pg,W:()=>Nl,EK:()=>dr,PU:()=>wa,l7:()=>ke,Ky:()=>jn,Xb:()=>kr,Cf:()=>Yi,K9:()=>bp,Me:()=>Dp,yq:()=>zo,Wi:()=>Gf,ET:()=>ty,Ab:()=>iy,vr:()=>ny,Fc:()=>$v,hJ:()=>Zm,B$:()=>Dg,at:()=>zf,oe:()=>Ah,AK:()=>Ll,TF:()=>Wa,JU:()=>Bv,ST:()=>m0,fH:()=>Qf,Ix:()=>Wv,Wu:()=>rp,Lx:()=>u_,qY:()=>os,GL:()=>Vu,QT:()=>y0,kl:()=>Fg,Xk:()=>Lg,PL:()=>Jv,UQ:()=>ey,zN:()=>op,ad:()=>g0,nP:()=>b0,b9:()=>Rg,vh:()=>Ng,Pb:()=>Fo,L$:()=>Ed,cf:()=>h_,sc:()=>Ih,Xo:()=>o_,IO:()=>ip,iE:()=>$f,Eo:()=>c0,i3:()=>Fl,Bt:()=>fl,pl:()=>Pl,Ub:()=>Kl,qK:()=>Xv,TQ:()=>v0,e0:()=>l_,r7:()=>xh,Mx:()=>t_,ar:()=>Dh});var pe,m=S(5861),h=S(9681),A=S(4859),Se=S(1877),N=S(2090),et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tt={},ge=ge||{},X=et||self;function ye(){}function we(l){var i=typeof l;return"array"==(i="object"!=i?i:l?Array.isArray(l)?"array":i:"null")||"object"==i&&"number"==typeof l.length}function Ge(l){var i=typeof l;return"object"==i&&null!=l||"function"==i}var dt="closure_uid_"+(1e9*Math.random()>>>0),Pt=0;function Ue(l,i,o){return l.call.apply(l.bind,arguments)}function mt(l,i,o){if(!l)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),l.apply(i,g)}}return function(){return l.apply(i,arguments)}}function jt(l,i,o){return(jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ue:mt).apply(null,arguments)}function kt(l,i){var o=Array.prototype.slice.call(arguments,1);return function(){var d=o.slice();return d.push.apply(d,arguments),l.apply(this,d)}}function at(l,i){function o(){}o.prototype=i.prototype,l.X=i.prototype,l.prototype=new o,l.prototype.constructor=l,l.Wb=function(d,g,y){for(var E=Array(arguments.length-2),L=2;L<arguments.length;L++)E[L-2]=arguments[L];return i.prototype[g].apply(d,E)}}function He(){this.s=this.s,this.o=this.o}var $e={};He.prototype.s=!1,He.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function ut(l){return Object.prototype.hasOwnProperty.call(l,dt)&&l[dt]||(l[dt]=++Pt)}(this);delete $e[l]}},He.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Oe=Array.prototype.indexOf?function(l,i){return Array.prototype.indexOf.call(l,i,void 0)}:function(l,i){if("string"==typeof l)return"string"!=typeof i||1!=i.length?-1:l.indexOf(i,0);for(let o=0;o<l.length;o++)if(o in l&&l[o]===i)return o;return-1};function rt(l){const i=l.length;if(0<i){const o=Array(i);for(let d=0;d<i;d++)o[d]=l[d];return o}return[]}function ot(l,i){for(let o=1;o<arguments.length;o++){const d=arguments[o];if(we(d)){const g=l.length||0,y=d.length||0;l.length=g+y;for(let E=0;E<y;E++)l[g+E]=d[E]}else l.push(d)}}function st(l,i){this.type=l,this.g=this.target=i,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var l=!1,i=Object.defineProperty({},"passive",{get:function(){l=!0}});try{X.addEventListener("test",ye,i),X.removeEventListener("test",ye,i)}catch{}return l}();function Rt(l){return/^[\s\xa0]*$/.test(l)}var At=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function Jt(l,i){return l<i?-1:l>i?1:0}function Zt(){var l=X.navigator;return l&&(l=l.userAgent)?l:""}function on(l){return-1!=Zt().indexOf(l)}function fn(l){return fn[" "](l),l}fn[" "]=ye;var gn,l,wt=on("Opera"),qt=on("Trident")||on("MSIE"),$t=on("Edge"),rn=$t||qt,Qt=on("Gecko")&&!(-1!=Zt().toLowerCase().indexOf("webkit")&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),Cn=-1!=Zt().toLowerCase().indexOf("webkit")&&!on("Edge");function Xt(){var l=X.document;return l?l.documentMode:void 0}e:{var An="",Un=(l=Zt(),Qt?/rv:([^\);]+)(\)|;)/.exec(l):$t?/Edge\/([\d\.]+)/.exec(l):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Cn?/WebKit\/(\S+)/.exec(l):wt?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Un&&(An=Un?Un[1]:""),qt){var kn=Xt();if(null!=kn&&kn>parseFloat(An)){gn=String(kn);break e}}gn=An}var Wn={};var Qn=X.document&&qt&&(Xt()||parseInt(gn,10))||void 0;function vn(l,i){if(st.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var o=this.type=l.type,d=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=i,i=l.relatedTarget){if(Qt){e:{try{fn(i.nodeName);var g=!0;break e}catch{}g=!1}g||(i=null)}}else"mouseover"==o?i=l.fromElement:"mouseout"==o&&(i=l.toElement);this.relatedTarget=i,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Be[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&vn.X.h.call(this)}}at(vn,st);var Be={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.X.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),me=0;function nt(l,i,o,d,g){this.listener=l,this.proxy=null,this.src=i,this.type=o,this.capture=!!d,this.ha=g,this.key=++me,this.ba=this.ea=!1}function Ze(l){l.ba=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ct(l,i,o){for(const d in l)i.call(o,l[d],d,l)}function Wt(l){const i={};for(const o in l)i[o]=l[o];return i}const cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gt(l,i){let o,d;for(let g=1;g<arguments.length;g++){for(o in d=arguments[g],d)l[o]=d[o];for(let y=0;y<cn.length;y++)o=cn[y],Object.prototype.hasOwnProperty.call(d,o)&&(l[o]=d[o])}}function yt(l){this.src=l,this.g={},this.h=0}function Le(l,i){var o=i.type;if(o in l.g){var y,d=l.g[o],g=Oe(d,i);(y=0<=g)&&Array.prototype.splice.call(d,g,1),y&&(Ze(i),0==l.g[o].length&&(delete l.g[o],l.h--))}}function vt(l,i,o,d){for(var g=0;g<l.length;++g){var y=l[g];if(!y.ba&&y.listener==i&&y.capture==!!o&&y.ha==d)return g}return-1}yt.prototype.add=function(l,i,o,d,g){var y=l.toString();(l=this.g[y])||(l=this.g[y]=[],this.h++);var E=vt(l,i,d,g);return-1<E?(i=l[E],o||(i.ea=!1)):((i=new nt(i,this.src,y,!!d,g)).ea=o,l.push(i)),i};var Ht="closure_lm_"+(1e6*Math.random()|0),un={};function Rn(l,i,o,d,g){if(d&&d.once)return Mt(l,i,o,d,g);if(Array.isArray(i)){for(var y=0;y<i.length;y++)Rn(l,i[y],o,d,g);return null}return o=ft(o),l&&l[ae]?l.N(i,o,Ge(d)?!!d.capture:!!d,g):_n(l,i,o,!1,d,g)}function _n(l,i,o,d,g,y){if(!i)throw Error("Invalid event type");var E=Ge(g)?!!g.capture:!!g,L=ue(l);if(L||(l[Ht]=L=new yt(l)),(o=L.add(i,o,d,E,y)).proxy)return o;if(d=function Ot(){const i=z;return function l(o){return i.call(l.src,l.listener,o)}}(),o.proxy=d,d.src=l,d.listener=o,l.addEventListener)pt||(g=E),void 0===g&&(g=!1),l.addEventListener(i.toString(),d,g);else if(l.attachEvent)l.attachEvent(K(i.toString()),d);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(d)}return o}function Mt(l,i,o,d,g){if(Array.isArray(i)){for(var y=0;y<i.length;y++)Mt(l,i[y],o,d,g);return null}return o=ft(o),l&&l[ae]?l.O(i,o,Ge(d)?!!d.capture:!!d,g):_n(l,i,o,!0,d,g)}function te(l,i,o,d,g){if(Array.isArray(i))for(var y=0;y<i.length;y++)te(l,i[y],o,d,g);else d=Ge(d)?!!d.capture:!!d,o=ft(o),l&&l[ae]?(l=l.i,(i=String(i).toString())in l.g&&-1<(o=vt(y=l.g[i],o,d,g))&&(Ze(y[o]),Array.prototype.splice.call(y,o,1),0==y.length&&(delete l.g[i],l.h--))):l&&(l=ue(l))&&(i=l.g[i.toString()],l=-1,i&&(l=vt(i,o,d,g)),(o=-1<l?i[l]:null)&&oe(o))}function oe(l){if("number"!=typeof l&&l&&!l.ba){var i=l.src;if(i&&i[ae])Le(i.i,l);else{var o=l.type,d=l.proxy;i.removeEventListener?i.removeEventListener(o,d,l.capture):i.detachEvent?i.detachEvent(K(o),d):i.addListener&&i.removeListener&&i.removeListener(d),(o=ue(i))?(Le(o,l),0==o.h&&(o.src=null,i[Ht]=null)):Ze(l)}}}function K(l){return l in un?un[l]:un[l]="on"+l}function z(l,i){if(l.ba)l=!0;else{i=new vn(i,this);var o=l.listener,d=l.ha||l.src;l.ea&&oe(l),l=o.call(d,i)}return l}function ue(l){return(l=l[Ht])instanceof yt?l:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(l){return"function"==typeof l?l:(l[J]||(l[J]=function(i){return l.handleEvent(i)}),l[J])}function it(){He.call(this),this.i=new yt(this),this.P=this,this.I=null}function It(l,i){var o,d=l.I;if(d)for(o=[];d;d=d.I)o.push(d);if(l=l.P,d=i.type||i,"string"==typeof i)i=new st(i,l);else if(i instanceof st)i.target=i.target||l;else{var g=i;Gt(i=new st(d,l),g)}if(g=!0,o)for(var y=o.length-1;0<=y;y--){var E=i.g=o[y];g=Bt(E,d,!0,i)&&g}if(g=Bt(E=i.g=l,d,!0,i)&&g,g=Bt(E,d,!1,i)&&g,o)for(y=0;y<o.length;y++)g=Bt(E=i.g=o[y],d,!1,i)&&g}function Bt(l,i,o,d){if(!(i=l.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,y=0;y<i.length;++y){var E=i[y];if(E&&!E.ba&&E.capture==o){var L=E.listener,ee=E.ha||E.src;E.ea&&Le(l.i,E),g=!1!==L.call(ee,d)&&g}}return g&&!d.defaultPrevented}at(it,He),it.prototype[ae]=!0,it.prototype.removeEventListener=function(l,i,o,d){te(this,l,i,o,d)},it.prototype.M=function(){if(it.X.M.call(this),this.i){var i,l=this.i;for(i in l.g){for(var o=l.g[i],d=0;d<o.length;d++)Ze(o[d]);delete l.g[i],l.h--}}this.I=null},it.prototype.N=function(l,i,o,d){return this.i.add(String(l),i,!1,o,d)},it.prototype.O=function(l,i,o,d){return this.i.add(String(l),i,!0,o,d)};var We=X.JSON.stringify;function qe(){var l=re;let i=null;return l.g&&(i=l.g,l.g=l.g.next,l.g||(l.h=null),i.next=null),i}var Ke,Te=new class{constructor(l,i){this.i=l,this.j=i,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new ne,l=>l.reset());class ne{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Ne(l){X.setTimeout(()=>{throw l},0)}function _t(l,i){Ke||function Ye(){var l=X.Promise.resolve(void 0);Ke=function(){l.then(de)}}(),Pe||(Ke(),Pe=!0),re.add(l,i)}var Pe=!1,re=new class Ce{constructor(){this.h=this.g=null}add(i,o){const d=Te.get();d.set(i,o),this.h?this.h.next=d:this.g=d,this.h=d}};function de(){for(var l;l=qe();){try{l.h.call(l.g)}catch(o){Ne(o)}var i=Te;i.j(l),100>i.h&&(i.h++,l.next=i.g,i.g=l)}Pe=!1}function _e(l,i){it.call(this),this.h=l||1,this.g=i||X,this.j=jt(this.lb,this),this.l=Date.now()}function Ie(l){l.ca=!1,l.R&&(l.g.clearTimeout(l.R),l.R=null)}function ve(l,i,o){if("function"==typeof l)o&&(l=jt(l,o));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=jt(l.handleEvent,l)}return 2147483647<Number(i)?-1:X.setTimeout(l,i||0)}function Ee(l){l.g=ve(()=>{l.g=null,l.i&&(l.i=!1,Ee(l))},l.j);const i=l.h;l.h=null,l.m.apply(null,i)}at(_e,it),(pe=_e.prototype).ca=!1,pe.R=null,pe.lb=function(){if(this.ca){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-l):(this.R&&(this.g.clearTimeout(this.R),this.R=null),It(this,"tick"),this.ca&&(Ie(this),this.start()))}},pe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.M=function(){_e.X.M.call(this),Ie(this),delete this.g};class H extends He{constructor(i,o){super(),this.m=i,this.j=o,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Ee(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(l){He.call(this),this.h=l,this.g={}}at(ce,He);var V=[];function le(l,i,o,d){Array.isArray(o)||(o&&(V[0]=o.toString()),o=V);for(var g=0;g<o.length;g++){var y=Rn(i,o[g],d||l.handleEvent,!1,l.h||l);if(!y)break;l.g[y.key]=y}}function Ve(l){Ct(l.g,function(i,o){this.g.hasOwnProperty(o)&&oe(i)},l),l.g={}}function xe(){this.g=!0}function ht(l,i,o,d){l.info(function(){return"XMLHTTP TEXT ("+i+"): "+function ie(l,i){if(!l.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o)for(l=0;l<o.length;l++)if(Array.isArray(o[l])){var d=o[l];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var y=g[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var E=1;E<g.length;E++)g[E]=""}}}return We(o)}catch{return i}}(l,o)+(d?" "+d:"")})}ce.prototype.M=function(){ce.X.M.call(this),Ve(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xe.prototype.Aa=function(){this.g=!1},xe.prototype.info=function(){};var Re={},bt=null;function Sn(){return bt=bt||new it}function fi(l){st.call(this,Re.Pa,l)}function Di(l){const i=Sn();It(i,new fi(i,l))}function Ks(l,i){st.call(this,Re.STAT_EVENT,l),this.stat=i}function Ji(l){const i=Sn();It(i,new Ks(i,l))}function Is(l,i){st.call(this,Re.Qa,l),this.size=i}function as(l,i){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){l()},i)}Re.Pa="serverreachability",at(fi,st),Re.STAT_EVENT="statevent",at(Ks,st),Re.Qa="timingevent",at(Is,st);var es={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Vt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Lt(){}function yn(){}Lt.prototype.h=null;var gr,In={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function qn(){st.call(this,"d")}function Ai(){st.call(this,"c")}function Pi(){}function lr(l,i,o,d){this.l=l,this.j=i,this.m=o,this.U=d||1,this.S=new ce(this),this.O=gl,this.T=new _e(l=rn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zs}function Zs(){this.i=null,this.g="",this.h=!1}at(qn,st),at(Ai,st),at(Pi,Lt),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},gr=new Pi;var gl=45e3,Hs={},Kr={};function no(l,i,o){l.K=1,l.v=ao(Ms(i)),l.s=o,l.P=!0,ls(l,null)}function ls(l,i){l.F=Date.now(),Co(l),l.A=Ms(l.v);var o=l.A,d=l.U;Array.isArray(d)||(d=[String(d)]),ml(o.i,"t",d),l.C=0,o=l.l.H,l.h=new Zs,l.g=U(l.l,o?i:null,!l.s),0<l.N&&(l.L=new H(jt(l.La,l,l.g),l.N)),le(l.S,l.g,"readystatechange",l.ib),i=l.H?Wt(l.H):{},l.s?(l.u||(l.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",l.g.da(l.A,l.u,l.s,i)):(l.u="GET",l.g.da(l.A,l.u,null,i)),Di(1),function St(l,i,o,d,g,y){l.info(function(){if(l.g)if(y)for(var E="",L=y.split("&"),ee=0;ee<L.length;ee++){var fe=L[ee].split("=");if(1<fe.length){var Xe=fe[0];fe=fe[1];var xt=Xe.split("_");E=2<=xt.length&&"type"==xt[1]?E+(Xe+"=")+fe+"&":E+(Xe+"=redacted&")}}else E=null;else E=y;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+i+"\n"+o+"\n"+E})}(l.j,l.u,l.A,l.m,l.U,l.s)}function jl(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Da}function io(l,i,o){let g,d=!0;for(;!l.I&&l.C<o.length;){if(g=zl(l,o),g==Kr){4==i&&(l.o=4,Ji(14),d=!1),ht(l.j,l.m,null,"[Incomplete Response]");break}if(g==Hs){l.o=4,Ji(15),ht(l.j,l.m,o,"[Invalid Chunk]"),d=!1;break}ht(l.j,l.m,g,null),ra(l,g)}jl(l)&&g!=Kr&&g!=Hs&&(l.h.g="",l.C=0),4!=i||0!=o.length||l.h.h||(l.o=1,Ji(16),d=!1),l.i=l.i&&d,d?0<o.length&&!l.$&&(l.$=!0,(i=l.l).g==l&&i.$&&!i.K&&(i.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),aa(i),i.K=!0,Ji(11))):(ht(l.j,l.m,o,"[Invalid Chunked Response]"),Us(l),qs(l))}function zl(l,i){var o=l.C,d=i.indexOf("\n",o);return-1==d?Kr:(o=Number(i.substring(o,d)),isNaN(o)?Hs:(d+=1)+o>i.length?Kr:(i=i.substr(d,o),l.C=d+o,i))}function Co(l){l.V=Date.now()+l.O,qa(l,l.O)}function qa(l,i){if(null!=l.B)throw Error("WatchDog timer not null");l.B=as(jt(l.gb,l),i)}function bs(l){l.B&&(X.clearTimeout(l.B),l.B=null)}function qs(l){0==l.l.G||l.I||Qc(l.l,l)}function Us(l){bs(l);var i=l.L;i&&"function"==typeof i.na&&i.na(),l.L=null,Ie(l.T),Ve(l.S),l.g&&(i=l.g,l.g=null,i.abort(),i.na())}function ra(l,i){try{var o=l.l;if(0!=o.G&&(o.g==l||Hr(o.h,l)))if(!l.J&&Hr(o.h,l)&&3==o.G){try{var d=o.Fa.g.parse(i)}catch{d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0]){e:if(!o.u){if(o.g){if(!(o.g.F+3e3<l.F))break e;jo(o),uo(o)}Aa(o),Ji(18)}}else o.Ba=g[1],0<o.Ba-o.T&&37500>g[2]&&o.L&&0==o.A&&!o.v&&(o.v=as(jt(o.cb,o),6e3));if(1>=ks(o.h)&&o.ja){try{o.ja()}catch{}o.ja=void 0}}else Ma(o,11)}else if((l.J||o.g==l)&&jo(o),!Rt(i))for(g=o.Fa.g.parse(i),i=0;i<g.length;i++){let fe=g[i];if(o.T=fe[0],fe=fe[1],2==o.G)if("c"==fe[0]){o.I=fe[1],o.ka=fe[2];const Xe=fe[3];null!=Xe&&(o.ma=Xe,o.j.info("VER="+o.ma));const xt=fe[4];null!=xt&&(o.Ca=xt,o.j.info("SVER="+o.Ca));const sn=fe[5];null!=sn&&"number"==typeof sn&&0<sn&&(o.J=d=1.5*sn,o.j.info("backChannelRequestTimeoutMs_="+d)),d=o;const wn=l.g;if(wn){const Mn=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mn){var y=d.h;y.g||-1==Mn.indexOf("spdy")&&-1==Mn.indexOf("quic")&&-1==Mn.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(Bi(y,y.h),y.h=null))}if(d.D){const si=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;si&&(d.za=si,zi(d.F,d.D,si))}}o.G=3,o.l&&o.l.xa(),o.$&&(o.P=Date.now()-l.F,o.j.info("Handshake RTT: "+o.P+"ms"));var E=l;if((d=o).sa=yl(d,d.H?d.ka:null,d.V),E.J){Sa(d.h,E);var L=E,ee=d.J;ee&&L.setTimeout(ee),L.B&&(bs(L),Co(L)),d.g=E}else el(d);0<o.i.length&&ho(o)}else"stop"!=fe[0]&&"close"!=fe[0]||Ma(o,7);else 3==o.G&&("stop"==fe[0]||"close"==fe[0]?"stop"==fe[0]?Ma(o,7):co(o):"noop"!=fe[0]&&o.l&&o.l.wa(fe),o.A=0)}Di(4)}catch{}}function ws(l,i){if(l.forEach&&"function"==typeof l.forEach)l.forEach(i,void 0);else if(we(l)||"string"==typeof l)Array.prototype.forEach.call(l,i,void 0);else for(var o=function so(l){if(l.oa&&"function"==typeof l.oa)return l.oa();if(!l.W||"function"!=typeof l.W){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(we(l)||"string"==typeof l){var i=[];l=l.length;for(var o=0;o<l;o++)i.push(o);return i}i=[],o=0;for(const d in l)i[o++]=d;return i}}}(l),d=function ro(l){if(l.W&&"function"==typeof l.W)return l.W();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(we(l)){for(var i=[],o=l.length,d=0;d<o;d++)i.push(l[d]);return i}for(d in i=[],o=0,l)i[o++]=l[d];return i}(l),g=d.length,y=0;y<g;y++)i.call(void 0,d[y],o&&o[y],l)}(pe=lr.prototype).setTimeout=function(l){this.O=l},pe.ib=function(l){l=l.target;const i=this.L;i&&3==dn(l)?i.l():this.La(l)},pe.La=function(l){try{if(l==this.g)e:{const Xe=dn(this.g);var i=this.g.Ea();const xt=this.g.aa();if(!(3>Xe)&&(3!=Xe||rn||this.g&&(this.h.h||this.g.fa()||mi(this.g)))){this.I||4!=Xe||7==i||Di(8==i||0>=xt?3:2),bs(this);var o=this.g.aa();this.Y=o;t:if(jl(this)){var d=mi(this.g);l="";var g=d.length,y=4==dn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),qs(this);var E="";break t}this.h.i=new X.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,l+=this.h.i.decode(d[i],{stream:y&&i==g-1});d.splice(0,g),this.h.g+=l,this.C=0,E=this.h.g}else E=this.g.fa();if(this.i=200==o,function be(l,i,o,d,g,y,E){l.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+i+"\n"+o+"\n"+y+" "+E})}(this.j,this.u,this.A,this.m,this.U,Xe,o),this.i){if(this.Z&&!this.J){t:{if(this.g){var L,ee=this.g;if((L=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rt(L)){var fe=L;break t}}fe=null}if(!(o=fe)){this.i=!1,this.o=3,Ji(12),Us(this),qs(this);break e}ht(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ra(this,o)}this.P?(io(this,Xe,E),rn&&this.i&&3==Xe&&(le(this.S,this.T,"tick",this.hb),this.T.start())):(ht(this.j,this.m,E,null),ra(this,E)),4==Xe&&Us(this),this.i&&!this.I&&(4==Xe?Qc(this.l,this):(this.i=!1,Co(this)))}else 400==o&&0<E.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),Us(this),qs(this)}}}catch{}},pe.hb=function(){if(this.g){var l=dn(this.g),i=this.g.fa();this.C<i.length&&(bs(this),io(this,l,i),this.i&&4!=l&&Co(this))}},pe.cancel=function(){this.I=!0,Us(this)},pe.gb=function(){this.B=null;const l=Date.now();0<=l-this.V?(function O(l,i){l.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Di(3),Ji(17)),Us(this),this.o=2,qs(this)):qa(this,this.V-l)};var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(l,i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof mr){this.h=void 0!==i?i:l.h,oo(this,l.j),this.s=l.s,this.g=l.g,Er(this,l.m),this.l=l.l,i=l.i;var o=new Os;o.i=i.i,i.g&&(o.g=new Map(i.g),o.h=i.h),Gs(this,o),this.o=l.o}else l&&(o=String(l).match(sa))?(this.h=!!i,oo(this,o[1]||"",!0),this.s=Vo(o[2]||""),this.g=Vo(o[3]||"",!0),Er(this,o[4]),this.l=Vo(o[5]||"",!0),Gs(this,o[6]||"",!0),this.o=Vo(o[7]||"")):(this.h=!!i,this.i=new Os(null,this.h))}function Ms(l){return new mr(l)}function oo(l,i,o){l.j=o?Vo(i,!0):i,l.j&&(l.j=l.j.replace(/:$/,""))}function Er(l,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);l.m=i}else l.m=null}function Gs(l,i,o){i instanceof Os?(l.i=i,function Ea(l,i){i&&!l.j&&(cr(l),l.i=null,l.g.forEach(function(o,d){var g=d.toLowerCase();d!=g&&(Xs(this,d),ml(this,g,o))},l)),l.j=i}(l.i,l.h)):(o||(i=cs(i,Wl)),l.i=new Os(i,l.h))}function zi(l,i,o){l.i.set(i,o)}function ao(l){return zi(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Vo(l,i){return l?i?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function cs(l,i,o){return"string"==typeof l?(l=encodeURI(l).replace(i,Da),o&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Da(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}mr.prototype.toString=function(){var l=[],i=this.j;i&&l.push(cs(i,Do,!0),":");var o=this.g;return(o||"file"==i)&&(l.push("//"),(i=this.s)&&l.push(cs(i,Do,!0),"@"),l.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&l.push(":",String(o))),(o=this.l)&&(this.g&&"/"!=o.charAt(0)&&l.push("/"),l.push(cs(o,"/"==o.charAt(0)?Eo:$l,!0))),(o=this.i.toString())&&l.push("?",o),(o=this.o)&&l.push("#",cs(o,ts)),l.join("")};var Do=/[#\/\?@]/g,$l=/[#\?:]/g,Eo=/[#\?]/g,Wl=/[#\?@]/g,ts=/#/g;function Os(l,i){this.h=this.g=null,this.i=l||null,this.j=!!i}function cr(l){l.g||(l.g=new Map,l.h=0,l.i&&function Qs(l,i){if(l){l=l.split("&");for(var o=0;o<l.length;o++){var d=l[o].indexOf("="),g=null;if(0<=d){var y=l[o].substring(0,d);g=l[o].substring(d+1)}else y=l[o];i(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(i,o){l.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}function Xs(l,i){cr(l),i=Zi(l,i),l.g.has(i)&&(l.i=null,l.h-=l.g.get(i).length,l.g.delete(i))}function Ho(l,i){return cr(l),i=Zi(l,i),l.g.has(i)}function ml(l,i,o){Xs(l,i),0<o.length&&(l.i=null,l.g.set(Zi(l,i),rt(o)),l.h+=o.length)}function Zi(l,i){return i=String(i),l.j&&(i=i.toLowerCase()),i}function To(l){this.l=l||ns,l=X.PerformanceNavigationTiming?0<(l=X.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(X.g&&X.g.Ga&&X.g.Ga()&&X.g.Ga().$b),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=Os.prototype).add=function(l,i){cr(this),this.i=null,l=Zi(this,l);var o=this.g.get(l);return o||this.g.set(l,o=[]),o.push(i),this.h+=1,this},pe.forEach=function(l,i){cr(this),this.g.forEach(function(o,d){o.forEach(function(g){l.call(i,g,d,this)},this)},this)},pe.oa=function(){cr(this);const l=Array.from(this.g.values()),i=Array.from(this.g.keys()),o=[];for(let d=0;d<i.length;d++){const g=l[d];for(let y=0;y<g.length;y++)o.push(i[d])}return o},pe.W=function(l){cr(this);let i=[];if("string"==typeof l)Ho(this,l)&&(i=i.concat(this.g.get(Zi(this,l))));else{l=Array.from(this.g.values());for(let o=0;o<l.length;o++)i=i.concat(l[o])}return i},pe.set=function(l,i){return cr(this),this.i=null,Ho(this,l=Zi(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[i]),this.h+=1,this},pe.get=function(l,i){return l&&0<(l=this.W(l)).length?String(l[0]):i},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],i=Array.from(this.g.keys());for(var o=0;o<i.length;o++){var d=i[o];const y=encodeURIComponent(String(d)),E=this.W(d);for(d=0;d<E.length;d++){var g=y;""!==E[d]&&(g+="="+encodeURIComponent(String(E[d]))),l.push(g)}}return this.i=l.join("&")};var ns=10;function Ta(l){return!!l.h||!!l.g&&l.g.size>=l.j}function ks(l){return l.h?1:l.g?l.g.size:0}function Hr(l,i){return l.h?l.h==i:!!l.g&&l.g.has(i)}function Bi(l,i){l.g?l.g.add(i):l.h=i}function Sa(l,i){l.h&&l.h==i?l.h=null:l.g&&l.g.has(i)&&l.g.delete(i)}function Rs(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let i=l.i;for(const o of l.g.values())i=i.concat(o.D);return i}return rt(l.i)}function Ur(){}function Cs(){this.g=new Ur}function lo(l,i,o){const d=o||"";try{ws(l,function(g,y){let E=g;Ge(g)&&(E=We(g)),i.push(d+y+"="+encodeURIComponent(E))})}catch(g){throw i.push(d+"type="+encodeURIComponent("_badmap")),g}}function yi(l,i,o,d,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(d)}catch{}}function So(l){this.l=l.ac||null,this.j=l.jb||!1}function oa(l,i){it.call(this),this.D=l,this.u=i,this.m=void 0,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}To.prototype.cancel=function(){if(this.i=Rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},Ur.prototype.stringify=function(l){return X.JSON.stringify(l,void 0)},Ur.prototype.parse=function(l){return X.JSON.parse(l,void 0)},at(So,Lt),So.prototype.g=function(){return new oa(this.l,this.j)},So.prototype.i=function(l){return function(){return l}}({}),at(oa,it);var us=0;function xo(l){l.j.read().then(l.Ta.bind(l)).catch(l.ga.bind(l))}function is(l){l.readyState=4,l.l=null,l.j=null,l.A=null,Ds(l)}function Ds(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(pe=oa.prototype).open=function(l,i){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=i,this.readyState=1,Ds(this)},pe.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(i.body=l),(this.D||X).fetch(new Request(this.B,i)).then(this.Wa.bind(this),this.ga.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,is(this)),this.readyState=us},pe.Wa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xo(this)}else l.text().then(this.Va.bind(this),this.ga.bind(this))},pe.Ta=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var i=l.value?l.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!l.done}))&&(this.response=this.responseText+=i)}l.done?is(this):Ds(this),3==this.readyState&&xo(this)}},pe.Va=function(l){this.g&&(this.response=this.responseText=l,is(this))},pe.Ua=function(l){this.g&&(this.response=l,is(this))},pe.ga=function(){this.g&&is(this)},pe.setRequestHeader=function(l,i){this.v.append(l,i)},pe.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],i=this.h.entries();for(var o=i.next();!o.done;)l.push((o=o.value)[0]+": "+o[1]),o=i.next();return l.join("\r\n")},Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Xa=X.JSON.parse;function rr(l){it.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dn,this.K=this.L=!1}at(rr,it);var Dn="",Ii=/^https?$/i,Zc=["POST","PUT"];function Gr(l,i){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=i,l.m=5,q(l),$(l)}function q(l){l.D||(l.D=!0,It(l,"complete"),It(l,"error"))}function Y(l){if(l.h&&typeof ge<"u"&&(!l.C[1]||4!=dn(l)||2!=l.aa()))if(l.v&&4==dn(l))ve(l.Ha,0,l);else if(It(l,"readystatechange"),4==dn(l)){l.h=!1;try{const L=l.aa();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var d;if(d=0===L){var g=String(l.H).match(sa)[1]||null;if(!g&&X.self&&X.self.location){var y=X.self.location.protocol;g=y.substr(0,y.length-1)}d=!Ii.test(g?g.toLowerCase():"")}o=d}if(o)It(l,"complete"),It(l,"success");else{l.m=6;try{var E=2<dn(l)?l.g.statusText:""}catch{E=""}l.j=E+" ["+l.aa()+"]",q(l)}}finally{$(l)}}}function $(l,i){if(l.g){ze(l);const o=l.g,d=l.C[0]?ye:null;l.g=null,l.C=null,i||It(l,"ready");try{o.onreadystatechange=d}catch{}}}function ze(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(X.clearTimeout(l.A),l.A=null)}function dn(l){return l.g?l.g.readyState:0}function mi(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case Dn:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(l){let i="";return Ct(l,function(o,d){i+=d,i+=":",i+=o,i+="\r\n"}),i}function Es(l,i,o){e:{for(d in o){var d=!1;break e}d=!0}d||(o=Tr(o),"string"==typeof l?null!=o&&encodeURIComponent(String(o)):zi(l,i,o))}function Ts(l,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[l]||i}function xr(l){this.Ca=0,this.i=[],this.j=new xe,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ts("failFast",!1,l),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ts("baseRetryDelayMs",5e3,l),this.bb=Ts("retryDelaySeedMs",1e4,l),this.$a=Ts("forwardChannelMaxRetries",2,l),this.ta=Ts("forwardChannelRequestTimeoutMs",2e4,l),this.ra=l&&l.xmlHttpFactory||void 0,this.Da=l&&l.Zb||!1,this.J=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.I="",this.h=new To(l&&l.concurrentRequestLimit),this.Fa=new Cs,this.O=l&&l.fastHandshake||!1,this.N=l&&l.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=l&&l.Xb||!1,l&&l.Aa&&this.j.Aa(),l&&l.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&l&&l.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function co(l){if(Ja(l),3==l.G){var i=l.U++,o=Ms(l.F);zi(o,"SID",l.I),zi(o,"RID",i),zi(o,"TYPE","terminate"),Go(l,o),(i=new lr(l,l.j,i,void 0)).K=2,i.v=ao(Ms(o)),o=!1,X.navigator&&X.navigator.sendBeacon&&(o=X.navigator.sendBeacon(i.v.toString(),"")),!o&&X.Image&&((new Image).src=i.v,o=!0),o||(i.g=U(i.l,null),i.g.da(i.v)),i.F=Date.now(),Co(i)}Yl(l)}function uo(l){l.g&&(aa(l),l.g.cancel(),l.g=null)}function Ja(l){uo(l),l.u&&(X.clearTimeout(l.u),l.u=null),jo(l),l.h.cancel(),l.m&&("number"==typeof l.m&&X.clearTimeout(l.m),l.m=null)}function ho(l){Ta(l.h)||l.m||(l.m=!0,_t(l.Ja,l),l.C=0)}function _l(l,i){var o;o=i?i.m:l.U++;const d=Ms(l.F);zi(d,"SID",l.I),zi(d,"RID",o),zi(d,"AID",l.T),Go(l,d),l.o&&l.s&&Es(d,l.o,l.s),o=new lr(l,l.j,o,l.C+1),null===l.o&&(o.H=l.s),i&&(l.i=i.D.concat(l.i)),i=wc(l,o,1e3),o.setTimeout(Math.round(.5*l.ta)+Math.round(.5*l.ta*Math.random())),Bi(l.h,o),no(o,d,i)}function Go(l,i){l.ia&&Ct(l.ia,function(o,d){zi(i,d,o)}),l.l&&ws({},function(o,d){zi(i,d,o)})}function wc(l,i,o){o=Math.min(l.i.length,o);var d=l.l?jt(l.l.Ra,l.l,l):null;e:{var g=l.i;let y=-1;for(;;){const E=["count="+o];-1==y?0<o?(y=g[0].h,E.push("ofs="+y)):y=0:E.push("ofs="+y);let L=!0;for(let ee=0;ee<o;ee++){let fe=g[ee].h;const Xe=g[ee].g;if(fe-=y,0>fe)y=Math.max(0,g[ee].h-100),L=!1;else try{lo(Xe,E,"req"+fe+"_")}catch{d&&d(Xe)}}if(L){d=E.join("&");break e}}}return l=l.i.splice(0,o),i.D=l,d}function el(l){l.g||l.u||(l.Z=1,_t(l.Ia,l),l.A=0)}function Aa(l){return!(l.g||l.u||3<=l.A||(l.Z++,l.u=as(jt(l.Ia,l),vl(l,l.A)),l.A++,0))}function aa(l){null!=l.B&&(X.clearTimeout(l.B),l.B=null)}function Ia(l){l.g=new lr(l,l.j,"rpc",l.Z),null===l.o&&(l.g.H=l.s),l.g.N=0;var i=Ms(l.sa);zi(i,"RID","rpc"),zi(i,"SID",l.I),zi(i,"CI",l.L?"0":"1"),zi(i,"AID",l.T),zi(i,"TYPE","xmlhttp"),Go(l,i),l.o&&l.s&&Es(i,l.o,l.s),l.J&&l.g.setTimeout(l.J);var o=l.g;l=l.ka,o.K=1,o.v=ao(Ms(i)),o.s=null,o.P=!0,ls(o,l)}function jo(l){null!=l.v&&(X.clearTimeout(l.v),l.v=null)}function Qc(l,i){var o=null;if(l.g==i){jo(l),aa(l),l.g=null;var d=2}else{if(!Hr(l.h,i))return;o=i.D,Sa(l.h,i),d=1}if(0!=l.G)if(l.pa=i.Y,i.i)if(1==d){o=i.s?i.s.length:0,i=Date.now()-i.F;var g=l.C;It(d=Sn(),new Is(d,o,i,g)),ho(l)}else el(l);else if(3==(g=i.o)||0==g&&0<l.pa||!(1==d&&function qc(l,i){return!(ks(l.h)>=l.h.j-(l.m?1:0)||(l.m?(l.i=i.D.concat(l.i),0):1==l.G||2==l.G||l.C>=(l.Za?0:l.$a)||(l.m=as(jt(l.Ja,l,i),vl(l,l.C)),l.C++,0)))}(l,i)||2==d&&Aa(l)))switch(o&&0<o.length&&(i=l.h,i.i=i.i.concat(o)),g){case 1:Ma(l,5);break;case 4:Ma(l,10);break;case 3:Ma(l,6);break;default:Ma(l,2)}}function vl(l,i){let o=l.Xa+Math.floor(Math.random()*l.bb);return l.l||(o*=2),o*i}function Ma(l,i){if(l.j.info("Error code "+i),2==i){var o=null;l.l&&(o=null);var d=jt(l.kb,l);o||(o=new mr("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||oo(o,"https"),ao(o)),function Uo(l,i){const o=new xe;if(X.Image){const d=new Image;d.onload=kt(yi,o,d,"TestLoadImage: loaded",!0,i),d.onerror=kt(yi,o,d,"TestLoadImage: error",!1,i),d.onabort=kt(yi,o,d,"TestLoadImage: abort",!1,i),d.ontimeout=kt(yi,o,d,"TestLoadImage: timeout",!1,i),X.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=l}else i(!1)}(o.toString(),d)}else Ji(2);l.G=0,l.l&&l.l.va(i),Yl(l),Ja(l)}function Yl(l){if(l.G=0,l.la=[],l.l){const i=Rs(l.h);(0!=i.length||0!=l.i.length)&&(ot(l.la,i),ot(l.la,l.i),l.h.i.length=0,rt(l.i),l.i.length=0),l.l.ua()}}function yl(l,i,o){var d=o instanceof mr?Ms(o):new mr(o,void 0);if(""!=d.g)i&&(d.g=i+"."+d.g),Er(d,d.m);else{var g=X.location;d=g.protocol,i=i?i+"."+g.hostname:g.hostname,g=+g.port;var y=new mr(null,void 0);d&&oo(y,d),i&&(y.g=i),g&&Er(y,g),o&&(y.l=o),d=y}return i=l.za,(o=l.D)&&i&&zi(d,o,i),zi(d,"VER",l.ma),Go(l,d),d}function U(l,i,o){if(i&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new rr(o&&l.Da&&!l.ra?new So({jb:!0}):l.ra)).Ka(l.H),i}function he(){}function W(){if(qt&&!(10<=Number(Qn)))throw Error("Environmental error: no available transport.")}function Me(l,i){it.call(this),this.g=new xr(i),this.l=l,this.h=i&&i.messageUrlParams||null,l=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(l?l["X-WebChannel-Content-Type"]=i.messageContentType:l={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(l?l["X-WebChannel-Client-Profile"]=i.ya:l={"X-WebChannel-Client-Profile":i.ya}),this.g.S=l,(l=i&&i.Yb)&&!Rt(l)&&(this.g.o=l),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Rt(i)&&(this.g.D=i,null!==(l=this.h)&&i in l&&i in(l=this.h)&&delete l[i]),this.j=new pn(this)}function Et(l){qn.call(this);var i=l.__sm__;if(i){e:{for(const o in i){l=o;break e}l=void 0}(this.i=l)&&(l=this.i,i=null!==i&&l in i?i[l]:void 0),this.data=i}else this.data=l}function ln(){Ai.call(this),this.status=1}function pn(l){this.g=l}(pe=rr.prototype).Ka=function(l){this.L=l},pe.da=function(l,i,o,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);i=i?i.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gr.g(),this.C=function zt(l){return l.h||(l.h=l.i())}(this.u?this.u:gr),this.g.onreadystatechange=jt(this.Ha,this);try{this.F=!0,this.g.open(i,String(l),!0),this.F=!1}catch(y){return void Gr(this,y)}if(l=o||"",o=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var g in d)o.set(g,d[g]);else{if("function"!=typeof d.keys||"function"!=typeof d.get)throw Error("Unknown input type for opt_headers: "+String(d));for(const y of d.keys())o.set(y,d.get(y))}d=Array.from(o.keys()).find(y=>"content-type"==y.toLowerCase()),g=X.FormData&&l instanceof X.FormData,!(0<=Oe(Zc,i))||d||g||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,E]of o)this.g.setRequestHeader(y,E);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ze(this),0<this.B&&((this.K=function xa(l){return qt&&function $n(){return function nn(l){var i=Wn;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=l(9)}(function(){let l=0;const i=At(String(gn)).split("."),o=At("9").split("."),d=Math.max(i.length,o.length);for(let E=0;0==l&&E<d;E++){var g=i[E]||"",y=o[E]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==g[0].length&&0==y[0].length)break;l=Jt(0==g[1].length?0:parseInt(g[1],10),0==y[1].length?0:parseInt(y[1],10))||Jt(0==g[2].length,0==y[2].length)||Jt(g[2],y[2]),g=g[3],y=y[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.qa,this)):this.A=ve(this.qa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(y){Gr(this,y)}},pe.qa=function(){typeof ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))},pe.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,It(this,"complete"),It(this,"abort"),$(this))},pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$(this,!0)),rr.X.M.call(this)},pe.Ha=function(){this.s||(this.F||this.v||this.l?Y(this):this.fb())},pe.fb=function(){Y(this)},pe.aa=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},pe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pe.Sa=function(l){if(this.g){var i=this.g.responseText;return l&&0==i.indexOf(l)&&(i=i.substring(l.length)),Xa(i)}},pe.Ea=function(){return this.m},pe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=xr.prototype).ma=8,pe.G=1,pe.Ja=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const g=new lr(this,this.j,l,void 0);let y=this.s;if(this.S&&(y?(y=Wt(y),Gt(y,this.S)):y=this.S),null!==this.o||this.N||(g.H=y,y=null),this.O)e:{for(var i=0,o=0;o<this.i.length;o++){var d=this.i[o];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(i+=d)){i=o;break e}if(4096===i||o===this.i.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=wc(this,g,i),zi(o=Ms(this.F),"RID",l),zi(o,"CVER",22),this.D&&zi(o,"X-HTTP-Session-Id",this.D),Go(this,o),y&&(this.N?i="headers="+encodeURIComponent(String(Tr(y)))+"&"+i:this.o&&Es(o,this.o,y)),Bi(this.h,g),this.Ya&&zi(o,"TYPE","init"),this.O?(zi(o,"$req",i),zi(o,"SID","null"),g.Z=!0,no(g,o,null)):no(g,o,i),this.G=2}}else 3==this.G&&(l?_l(this,l):0==this.i.length||Ta(this.h)||_l(this))},pe.Ia=function(){if(this.u=null,Ia(this),this.$&&!(this.K||null==this.g||0>=this.P)){var l=2*this.P;this.j.info("BP detection timer enabled: "+l),this.B=as(jt(this.eb,this),l)}},pe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ji(10),uo(this),Ia(this))},pe.cb=function(){null!=this.v&&(this.v=null,uo(this),Aa(this),Ji(19))},pe.kb=function(l){l?(this.j.info("Successfully pinged google.com"),Ji(2)):(this.j.info("Failed to ping google.com"),Ji(1))},(pe=he.prototype).xa=function(){},pe.wa=function(){},pe.va=function(){},pe.ua=function(){},pe.Ra=function(){},W.prototype.g=function(l,i){return new Me(l,i)},at(Me,it),Me.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var l=this.g,i=this.l,o=this.h||void 0;Ji(0),l.V=i,l.ia=o||{},l.L=l.Y,l.F=yl(l,null,l.V),ho(l)},Me.prototype.close=function(){co(this.g)},Me.prototype.u=function(l){var i=this.g;if("string"==typeof l){var o={};o.__data__=l,l=o}else this.v&&((o={}).__data__=We(l),l=o);i.i.push(new class{constructor(l,i){this.h=l,this.g=i}}(i.ab++,l)),3==i.G&&ho(i)},Me.prototype.M=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,Me.X.M.call(this)},at(Et,qn),at(ln,Ai),at(pn,he),pn.prototype.xa=function(){It(this.g,"a")},pn.prototype.wa=function(l){It(this.g,new Et(l))},pn.prototype.va=function(l){It(this.g,new ln(l))},pn.prototype.ua=function(){It(this.g,"b")},W.prototype.createWebChannel=W.prototype.g,Me.prototype.send=Me.prototype.u,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Vt.COMPLETE="complete",yn.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",it.prototype.listen=it.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.Oa,rr.prototype.getLastErrorCode=rr.prototype.Ea,rr.prototype.getStatus=rr.prototype.aa,rr.prototype.getResponseJson=rr.prototype.Sa,rr.prototype.getResponseText=rr.prototype.fa,rr.prototype.send=rr.prototype.da,rr.prototype.setWithCredentials=rr.prototype.Ka;var li=tt.createWebChannelTransport=function(){return new W},er=tt.getStatEventTarget=function(){return Sn()},ji=tt.ErrorCode=es,tr=tt.EventType=Vt,Vi=tt.Event=Re,_r=tt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Xi=tt.FetchXmlHttpFactory=So,Ar=tt.WebChannel=yn,Ao=tt.XhrIo=rr;const Js="@firebase/firestore";class Ir{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let Ns="9.12.1";const Zr=new Se.Yd("@firebase/firestore");function ps(){return Zr.logLevel}function Kl(l){Zr.setLogLevel(l)}function Bn(l,...i){if(Zr.logLevel<=Se.in.DEBUG){const o=i.map(ju);Zr.debug(`Firestore (${Ns}): ${l}`,...o)}}function ur(l,...i){if(Zr.logLevel<=Se.in.ERROR){const o=i.map(ju);Zr.error(`Firestore (${Ns}): ${l}`,...o)}}function zo(l,...i){if(Zr.logLevel<=Se.in.WARN){const o=i.map(ju);Zr.warn(`Firestore (${Ns}): ${l}`,...o)}}function ju(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function ui(l="Unexpected state"){const i=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+l;throw ur(i),new Error(i)}function Ei(l,i){l||ui()}function bp(l,i){l||ui()}function Zn(l,i){return l}const hn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nn extends N.ZR{constructor(i,o){super(i,o),this.code=i,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}}class Xc{constructor(i,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class zu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,o){i.enqueueRetryable(()=>o(Ir.UNAUTHENTICATED))}shutdown(){}}class Oa{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,o){this.changeListener=o,i.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Uh{constructor(i){this.t=i,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,o){var d=this;let g=this.i;const y=fe=>this.i!==g?(g=this.i,o(fe)):Promise.resolve();let E=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Lr,i.enqueueRetryable(()=>y(this.currentUser))};const L=()=>{const fe=E;i.enqueueRetryable((0,m.Z)(function*(){yield fe.promise,yield y(d.currentUser)}))},ee=fe=>{Bn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=fe,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(fe=>ee(fe)),setTimeout(()=>{if(!this.auth){const fe=this.t.getImmediate({optional:!0});fe?ee(fe):(Bn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Lr)}},0),L()}getToken(){const i=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(d=>this.i!==i?(Bn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(Ei("string"==typeof d.accessToken),new Xc(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Ei(null===i||"string"==typeof i),new Ir(i)}}class ka{constructor(i,o,d,g){this.h=i,this.l=o,this.m=d,this.g=g,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ei(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const i=this.I();return i&&this.p.set("Authorization",i),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $u{constructor(i,o,d,g){this.h=i,this.l=o,this.m=d,this.g=g}getToken(){return Promise.resolve(new ka(this.h,this.l,this.m,this.g))}start(i,o){i.enqueueRetryable(()=>o(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cc{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jc{constructor(i){this.T=i,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(i,o){const d=y=>{null!=y.error&&Bn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const E=y.token!==this.A;return this.A=y.token,Bn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?o(y.token):Promise.resolve()};this.o=y=>{i.enqueueRetryable(()=>d(y))};const g=y=>{Bn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>g(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?g(y):Bn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(o=>o?(Ei("string"==typeof o.token),this.A=o.token,new Cc(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Or(l){const i=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(o);else for(let d=0;d<l;d++)o[d]=Math.floor(256*Math.random());return o}class Wu{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/i.length)*i.length;let d="";for(;d.length<20;){const g=Or(40);for(let y=0;y<g.length;++y)d.length<20&&g[y]<o&&(d+=i.charAt(g[y]%i.length))}return d}}function ci(l,i){return l<i?-1:l>i?1:0}function la(l,i,o){return l.length===i.length&&l.every((d,g)=>o(d,i[g]))}function Io(l){return l+"\0"}class dr{constructor(i,o){if(this.seconds=i,this.nanoseconds=o,o<0)throw new Nn(hn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Nn(hn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(i<-62135596800)throw new Nn(hn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Nn(hn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return dr.fromMillis(Date.now())}static fromDate(i){return dr.fromMillis(i.getTime())}static fromMillis(i){const o=Math.floor(i/1e3),d=Math.floor(1e6*(i-1e3*o));return new dr(o,d)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?ci(this.nanoseconds,i.nanoseconds):ci(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ci{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ci(i)}static min(){return new Ci(new dr(0,0))}static max(){return new Ci(new dr(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ra{constructor(i,o,d){void 0===o?o=0:o>i.length&&ui(),void 0===d?d=i.length-o:d>i.length-o&&ui(),this.segments=i,this.offset=o,this.len=d}get length(){return this.len}isEqual(i){return 0===Ra.comparator(this,i)}child(i){const o=this.segments.slice(this.offset,this.limit());return i instanceof Ra?i.forEach(d=>{o.push(d)}):o.push(i),this.construct(o)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}forEach(i){for(let o=this.offset,d=this.limit();o<d;o++)i(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,o){const d=Math.min(i.length,o.length);for(let g=0;g<d;g++){const y=i.get(g),E=o.get(g);if(y<E)return-1;if(y>E)return 1}return i.length<o.length?-1:i.length>o.length?1:0}}class Hi extends Ra{construct(i,o,d){return new Hi(i,o,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const o=[];for(const d of i){if(d.indexOf("//")>=0)throw new Nn(hn.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);o.push(...d.split("/").filter(g=>g.length>0))}return new Hi(o)}static emptyPath(){return new Hi([])}}const eu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends Ra{construct(i,o,d){return new kr(i,o,d)}static isValidIdentifier(i){return eu.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(i){const o=[];let d="",g=0;const y=()=>{if(0===d.length)throw new Nn(hn.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(d),d=""};let E=!1;for(;g<i.length;){const L=i[g];if("\\"===L){if(g+1===i.length)throw new Nn(hn.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const ee=i[g+1];if("\\"!==ee&&"."!==ee&&"`"!==ee)throw new Nn(hn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);d+=ee,g+=2}else"`"===L?(E=!E,g++):"."!==L||E?(d+=L,g++):(y(),g++)}if(y(),E)throw new Nn(hn.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new kr(o)}static emptyPath(){return new kr([])}}class jn{constructor(i){this.path=i}static fromPath(i){return new jn(Hi.fromString(i))}static fromName(i){return new jn(Hi.fromString(i).popFirst(5))}static empty(){return new jn(Hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Hi.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,o){return Hi.comparator(i.path,o.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new jn(new Hi(i.slice()))}}class Na{constructor(i,o,d,g){this.indexId=i,this.collectionGroup=o,this.fields=d,this.indexState=g}}function jr(l){return l.fields.find(i=>2===i.kind)}function ca(l){return l.fields.filter(i=>2!==i.kind)}Na.UNKNOWN_ID=-1;class Rr{constructor(i,o){this.fieldPath=i,this.kind=o}}class tl{constructor(i,o){this.sequenceNumber=i,this.offset=o}static empty(){return new tl(0,Mo.min())}}function tu(l,i){const o=l.toTimestamp().seconds,d=l.toTimestamp().nanoseconds+1,g=Ci.fromTimestamp(1e9===d?new dr(o+1,0):new dr(o,d));return new Mo(g,jn.empty(),i)}function Fa(l){return new Mo(l.readTime,l.key,-1)}class Mo{constructor(i,o,d){this.readTime=i,this.documentKey=o,this.largestBatchId=d}static min(){return new Mo(Ci.min(),jn.empty(),-1)}static max(){return new Mo(Ci.max(),jn.empty(),-1)}}function Yu(l,i){let o=l.readTime.compareTo(i.readTime);return 0!==o?o:(o=jn.comparator(l.documentKey,i.documentKey),0!==o?o:ci(l.largestBatchId,i.largestBatchId))}const nl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function ua(l){return da.apply(this,arguments)}function da(){return da=(0,m.Z)(function*(l){if(l.code!==hn.FAILED_PRECONDITION||l.message!==nl)throw l;Bn("LocalStore","Unexpectedly lost primary lease")}),da.apply(this,arguments)}class an{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(i){return this.next(void 0,i)}next(i,o){return this.callbackAttached&&ui(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(i,this.result):new an((d,g)=>{this.nextCallback=y=>{this.wrapSuccess(i,y).next(d,g)},this.catchCallback=y=>{this.wrapFailure(o,y).next(d,g)}})}toPromise(){return new Promise((i,o)=>{this.next(i,o)})}wrapUserFunction(i){try{const o=i();return o instanceof an?o:an.resolve(o)}catch(o){return an.reject(o)}}wrapSuccess(i,o){return i?this.wrapUserFunction(()=>i(o)):an.resolve(o)}wrapFailure(i,o){return i?this.wrapUserFunction(()=>i(o)):an.reject(o)}static resolve(i){return new an((o,d)=>{o(i)})}static reject(i){return new an((o,d)=>{d(i)})}static waitFor(i){return new an((o,d)=>{let g=0,y=0,E=!1;i.forEach(L=>{++g,L.next(()=>{++y,E&&y===g&&o()},ee=>d(ee))}),E=!0,y===g&&o()})}static or(i){let o=an.resolve(!1);for(const d of i)o=o.next(g=>g?an.resolve(g):d());return o}static forEach(i,o){const d=[];return i.forEach((g,y)=>{d.push(o.call(this,g,y))}),this.waitFor(d)}static mapArray(i,o){return new an((d,g)=>{const y=i.length,E=new Array(y);let L=0;for(let ee=0;ee<y;ee++){const fe=ee;o(i[fe]).next(Xe=>{E[fe]=Xe,++L,L===y&&d(E)},Xe=>g(Xe))}})}static doWhile(i,o){return new an((d,g)=>{const y=()=>{!0===i()?o().next(()=>{y()},g):d()};y()})}}class $o{constructor(i,o){this.action=i,this.transaction=o,this.aborted=!1,this.P=new Lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{o.error?this.P.reject(new Zl(i,o.error)):this.P.resolve()},this.transaction.onerror=d=>{const g=Bd(d.target.error);this.P.reject(new Zl(i,g))}}static open(i,o,d,g){try{return new $o(o,i.transaction(g,d))}catch(y){throw new Zl(o,y)}}get v(){return this.P.promise}abort(i){i&&this.P.reject(i),this.aborted||(Bn("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const i=this.transaction;this.aborted||"function"!=typeof i.commit||i.commit()}store(i){const o=this.transaction.objectStore(i);return new Ec(o)}}class zr{constructor(i,o,d){this.name=i,this.version=o,this.S=d,12.2===zr.D((0,N.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Bn("SimpleDb","Removing database:",i),Oo(window.indexedDB.deleteDatabase(i)).toPromise()}static C(){if(!(0,N.hl)())return!1;if(zr.N())return!0;const i=(0,N.z$)(),o=zr.D(i),d=0<o&&o<10,g=zr.k(i),y=0<g&&g<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||d||y)}static N(){var i;return typeof process<"u"&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.O)}static M(i,o){return i.store(o)}static D(i){const o=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(d)}static k(i){const o=i.match(/Android ([\d.]+)/i),d=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(d)}F(i){var o=this;return(0,m.Z)(function*(){return o.db||(Bn("SimpleDb","Opening database:",o.name),o.db=yield new Promise((d,g)=>{const y=indexedDB.open(o.name,o.version);y.onsuccess=E=>{d(E.target.result)},y.onblocked=()=>{g(new Zl(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=E=>{const L=E.target.error;g("VersionError"===L.name?new Nn(hn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===L.name?new Nn(hn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+L):new Zl(i,L))},y.onupgradeneeded=E=>{Bn("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',E.oldVersion),o.S.$(E.target.result,y.transaction,E.oldVersion,o.version).next(()=>{Bn("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.B&&(o.db.onversionchange=d=>o.B(d)),o.db})()}L(i){this.B=i,this.db&&(this.db.onversionchange=o=>i(o))}runTransaction(i,o,d,g){var y=this;return(0,m.Z)(function*(){const E="readonly"===o;let L=0;for(;;){++L;try{y.db=yield y.F(i);const ee=$o.open(y.db,i,E?"readonly":"readwrite",d),fe=g(ee).next(Xe=>(ee.V(),Xe)).catch(Xe=>(ee.abort(Xe),an.reject(Xe))).toPromise();return fe.catch(()=>{}),yield ee.v,fe}catch(ee){const fe=ee,Xe="FirebaseError"!==fe.name&&L<3;if(Bn("SimpleDb","Transaction failed with error:",fe.message,"Retrying:",Xe),y.close(),!Xe)return Promise.reject(fe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dc{constructor(i){this.U=i,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(i){this.U=i}done(){this.q=!0}j(i){this.K=i}delete(){return Oo(this.U.delete())}}class Zl extends Nn{constructor(i,o){super(hn.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function eo(l){return"IndexedDbTransactionError"===l.name}class Ec{constructor(i){this.store=i}put(i,o){let d;return void 0!==o?(Bn("SimpleDb","PUT",this.store.name,i,o),d=this.store.put(o,i)):(Bn("SimpleDb","PUT",this.store.name,"<auto-key>",i),d=this.store.put(i)),Oo(d)}add(i){return Bn("SimpleDb","ADD",this.store.name,i,i),Oo(this.store.add(i))}get(i){return Oo(this.store.get(i)).next(o=>(void 0===o&&(o=null),Bn("SimpleDb","GET",this.store.name,i,o),o))}delete(i){return Bn("SimpleDb","DELETE",this.store.name,i),Oo(this.store.delete(i))}count(){return Bn("SimpleDb","COUNT",this.store.name),Oo(this.store.count())}W(i,o){const d=this.options(i,o);if(d.index||"function"!=typeof this.store.getAll){const g=this.cursor(d),y=[];return this.H(g,(E,L)=>{y.push(L)}).next(()=>y)}{const g=this.store.getAll(d.range);return new an((y,E)=>{g.onerror=L=>{E(L.target.error)},g.onsuccess=L=>{y(L.target.result)}})}}J(i,o){const d=this.store.getAll(i,null===o?void 0:o);return new an((g,y)=>{d.onerror=E=>{y(E.target.error)},d.onsuccess=E=>{g(E.target.result)}})}Y(i,o){Bn("SimpleDb","DELETE ALL",this.store.name);const d=this.options(i,o);d.X=!1;const g=this.cursor(d);return this.H(g,(y,E,L)=>L.delete())}Z(i,o){let d;o?d=i:(d={},o=i);const g=this.cursor(d);return this.H(g,o)}tt(i){const o=this.cursor({});return new an((d,g)=>{o.onerror=y=>{const E=Bd(y.target.error);g(E)},o.onsuccess=y=>{const E=y.target.result;E?i(E.primaryKey,E.value).next(L=>{L?E.continue():d()}):d()}})}H(i,o){const d=[];return new an((g,y)=>{i.onerror=E=>{y(E.target.error)},i.onsuccess=E=>{const L=E.target.result;if(!L)return void g();const ee=new Dc(L),fe=o(L.primaryKey,L.value,ee);if(fe instanceof an){const Xe=fe.catch(xt=>(ee.done(),an.reject(xt)));d.push(Xe)}ee.isDone?g():null===ee.G?L.continue():L.continue(ee.G)}}).next(()=>an.waitFor(d))}options(i,o){let d;return void 0!==i&&("string"==typeof i?d=i:o=i),{index:d,range:o}}cursor(i){let o="next";if(i.reverse&&(o="prev"),i.index){const d=this.store.index(i.index);return i.X?d.openKeyCursor(i.range,o):d.openCursor(i.range,o)}return this.store.openCursor(i.range,o)}}function Oo(l){return new an((i,o)=>{l.onsuccess=d=>{i(d.target.result)},l.onerror=d=>{const g=Bd(d.target.error);o(g)}})}let sr=!1;function Bd(l){const i=zr.D((0,N.z$)());if(i>=12.2&&i<13){const o="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(o)>=0){const d=new Nn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sr||(sr=!0,setTimeout(()=>{throw d},0)),d}}return l}class Ku{constructor(i,o){this.asyncQueue=i,this.et=o,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(i){var o=this;Bn("IndexBackiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,(0,m.Z)(function*(){o.task=null;try{Bn("IndexBackiller",`Documents written: ${yield o.et.st()}`)}catch(d){eo(d)?Bn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",d):yield ua(d)}yield o.nt(6e4)}))}}class jh{constructor(i,o){this.localStore=i,this.persistence=o}st(i=50){var o=this;return(0,m.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",d=>o.it(d,i))})()}it(i,o){const d=new Set;let g=o,y=!0;return an.doWhile(()=>!0===y&&g>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(E=>{if(null!==E&&!d.has(E))return Bn("IndexBackiller",`Processing collection: ${E}`),this.rt(i,E,g).next(L=>{g-=L,d.add(E)});y=!1})).next(()=>o-g)}rt(i,o,d){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,o).next(g=>this.localStore.localDocuments.getNextDocuments(i,o,g,d).next(y=>{const E=y.changes;return this.localStore.indexManager.updateIndexEntries(i,E).next(()=>this.ot(g,y)).next(L=>(Bn("IndexBackiller",`Updating offset: ${L}`),this.localStore.indexManager.updateCollectionGroup(i,o,L))).next(()=>E.size)}))}ot(i,o){let d=i;return o.changes.forEach((g,y)=>{const E=Fa(y);Yu(E,d)>0&&(d=E)}),new Mo(d.readTime,d.documentKey,Math.max(o.batchId,i.largestBatchId))}}class fo{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=d=>this.ut(d),this.ct=d=>o.writeSequenceNumber(d))}ut(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ct&&this.ct(i),i}}function wp(l){let i=0;for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&i++;return i}function La(l,i){for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&i(o,l[o])}function Cp(l){for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}fo.at=-1;class hr{constructor(i,o){this.comparator=i,this.root=o||gs.EMPTY}insert(i,o){return new hr(this.comparator,this.root.insert(i,o,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(i){return new hr(this.comparator,this.root.remove(i,this.comparator).copy(null,null,gs.BLACK,null,null))}get(i){let o=this.root;for(;!o.isEmpty();){const d=this.comparator(i,o.key);if(0===d)return o.value;d<0?o=o.left:d>0&&(o=o.right)}return null}indexOf(i){let o=0,d=this.root;for(;!d.isEmpty();){const g=this.comparator(i,d.key);if(0===g)return o+d.left.size;g<0?d=d.left:(o+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((o,d)=>(i(o,d),!1))}toString(){const i=[];return this.inorderTraversal((o,d)=>(i.push(`${o}:${d}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new iu(this.root,i,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new iu(this.root,i,this.comparator,!0)}}class iu{constructor(i,o,d,g){this.isReverse=g,this.nodeStack=[];let y=1;for(;!i.isEmpty();)if(y=o?d(i.key,o):1,o&&g&&(y*=-1),y<0)i=this.isReverse?i.left:i.right;else{if(0===y){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const o={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class gs{constructor(i,o,d,g,y){this.key=i,this.value=o,this.color=d??gs.RED,this.left=g??gs.EMPTY,this.right=y??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,o,d,g,y){return new gs(i??this.key,o??this.value,d??this.color,g??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,d){let g=this;const y=d(i,g.key);return g=y<0?g.copy(null,null,null,g.left.insert(i,o,d),null):0===y?g.copy(null,o,null,null,null):g.copy(null,null,null,null,g.right.insert(i,o,d)),g.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,o){let d,g=this;if(o(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,o),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===o(i,g.key)){if(g.right.isEmpty())return gs.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,o))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ui();const i=this.left.check();if(i!==this.right.check())throw ui();return i+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw ui()}get value(){throw ui()}get color(){throw ui()}get left(){throw ui()}get right(){throw ui()}copy(l,i,o,d,g){return this}insert(l,i,o){return new gs(l,i)}remove(l,i){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mi{constructor(i){this.comparator=i,this.data=new hr(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((o,d)=>(i(o),!1))}forEachInRange(i,o){const d=this.data.getIteratorFrom(i[0]);for(;d.hasNext();){const g=d.getNext();if(this.comparator(g.key,i[1])>=0)return;o(g.key)}}forEachWhile(i,o){let d;for(d=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();d.hasNext();)if(!i(d.getNext().key))return}firstAfterOrEqual(i){const o=this.data.getIteratorFrom(i);return o.hasNext()?o.getNext().key:null}getIterator(){return new ql(this.data.getIterator())}getIteratorFrom(i){return new ql(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let o=this;return o.size<i.size&&(o=i,i=this),i.forEach(d=>{o=o.add(d)}),o}isEqual(i){if(!(i instanceof Mi)||this.size!==i.size)return!1;const o=this.data.getIterator(),d=i.data.getIterator();for(;o.hasNext();){const g=o.getNext().key,y=d.getNext().key;if(0!==this.comparator(g,y))return!1}return!0}toArray(){const i=[];return this.forEach(o=>{i.push(o)}),i}toString(){const i=[];return this.forEach(o=>i.push(o)),"SortedSet("+i.toString()+")"}copy(i){const o=new Mi(this.comparator);return o.data=i,o}}class ql{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ba(l){return l.hasNext()?l.getNext():void 0}class po{constructor(i){this.fields=i,i.sort(kr.comparator)}static empty(){return new po([])}unionWith(i){let o=new Mi(kr.comparator);for(const d of this.fields)o=o.add(d);for(const d of i)o=o.add(d);return new po(o.toArray())}covers(i){for(const o of this.fields)if(o.isPrefixOf(i))return!0;return!1}isEqual(i){return la(this.fields,i.fields,(o,d)=>o.isEqual(d))}}function Dp(){return typeof atob<"u"}class Yn{constructor(i){this.binaryString=i}static fromBase64String(i){const o=atob(i);return new Yn(o)}static fromUint8Array(i){const o=function(d){let g="";for(let y=0;y<d.length;++y)g+=String.fromCharCode(d[y]);return g}(i);return new Yn(o)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let d=0;d<i.length;d++)o[d]=i.charCodeAt(d);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return ci(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const Wo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(l){if(Ei(!!l),"string"==typeof l){let i=0;const o=Wo.exec(l);if(Ei(!!o),o[1]){let g=o[1];g=(g+"000000000").substr(0,9),i=Number(g)}const d=new Date(l);return{seconds:Math.floor(d.getTime()/1e3),nanos:i}}return{seconds:vr(l.seconds),nanos:vr(l.nanos)}}function vr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function M(l){return"string"==typeof l?Yn.fromBase64String(l):Yn.fromUint8Array(l)}function R(l){var i,o;return"server_timestamp"===(null===(o=((null===(i=l?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function x(l){const i=l.mapValue.fields.__previous_value__;return R(i)?x(i):i}function j(l){const i=Yo(l.mapValue.fields.__local_write_time__.timestampValue);return new dr(i.seconds,i.nanos)}class Z{constructor(i,o,d,g,y,E,L,ee){this.databaseId=i,this.appId=o,this.persistenceKey=d,this.host=g,this.ssl=y,this.forceLongPolling=E,this.autoDetectLongPolling=L,this.useFetchStreams=ee}}class ke{constructor(i,o){this.projectId=i,this.database=o||"(default)"}static empty(){return new ke("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof ke&&i.projectId===this.projectId&&i.database===this.database}}function gt(l){return null==l}function Dt(l){return 0===l&&1/l==-1/0}function mn(l){return"number"==typeof l&&Number.isInteger(l)&&!Dt(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}const Vn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ri={nullValue:"NULL_VALUE"};function ii(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?R(l)?4:Hd(l)?9007199254740991:10:ui()}function Gi(l,i){if(l===i)return!0;const o=ii(l);if(o!==ii(i))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return j(l).isEqual(j(i));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;const y=Yo(d.timestampValue),E=Yo(g.timestampValue);return y.seconds===E.seconds&&y.nanos===E.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return g=i,M(l.bytesValue).isEqual(M(g.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(d,g){return vr(d.geoPointValue.latitude)===vr(g.geoPointValue.latitude)&&vr(d.geoPointValue.longitude)===vr(g.geoPointValue.longitude)}(l,i);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return vr(d.integerValue)===vr(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){const y=vr(d.doubleValue),E=vr(g.doubleValue);return y===E?Dt(y)===Dt(E):isNaN(y)&&isNaN(E)}return!1}(l,i);case 9:return la(l.arrayValue.values||[],i.arrayValue.values||[],Gi);case 10:return function(d,g){const y=d.mapValue.fields||{},E=g.mapValue.fields||{};if(wp(y)!==wp(E))return!1;for(const L in y)if(y.hasOwnProperty(L)&&(void 0===E[L]||!Gi(y[L],E[L])))return!1;return!0}(l,i);default:return ui()}var g}function ds(l,i){return void 0!==(l.values||[]).find(o=>Gi(o,i))}function Ps(l,i){if(l===i)return 0;const o=ii(l),d=ii(i);if(o!==d)return ci(o,d);switch(o){case 0:case 9007199254740991:return 0;case 1:return ci(l.booleanValue,i.booleanValue);case 2:return function(g,y){const E=vr(g.integerValue||g.doubleValue),L=vr(y.integerValue||y.doubleValue);return E<L?-1:E>L?1:E===L?0:isNaN(E)?isNaN(L)?0:-1:1}(l,i);case 3:return ha(l.timestampValue,i.timestampValue);case 4:return ha(j(l),j(i));case 5:return ci(l.stringValue,i.stringValue);case 6:return function(g,y){const E=M(g),L=M(y);return E.compareTo(L)}(l.bytesValue,i.bytesValue);case 7:return function(g,y){const E=g.split("/"),L=y.split("/");for(let ee=0;ee<E.length&&ee<L.length;ee++){const fe=ci(E[ee],L[ee]);if(0!==fe)return fe}return ci(E.length,L.length)}(l.referenceValue,i.referenceValue);case 8:return function(g,y){const E=ci(vr(g.latitude),vr(y.latitude));return 0!==E?E:ci(vr(g.longitude),vr(y.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(g,y){const E=g.values||[],L=y.values||[];for(let ee=0;ee<E.length&&ee<L.length;++ee){const fe=Ps(E[ee],L[ee]);if(fe)return fe}return ci(E.length,L.length)}(l.arrayValue,i.arrayValue);case 10:return function(g,y){if(g===Vn.mapValue&&y===Vn.mapValue)return 0;if(g===Vn.mapValue)return 1;if(y===Vn.mapValue)return-1;const E=g.fields||{},L=Object.keys(E),ee=y.fields||{},fe=Object.keys(ee);L.sort(),fe.sort();for(let Xe=0;Xe<L.length&&Xe<fe.length;++Xe){const xt=ci(L[Xe],fe[Xe]);if(0!==xt)return xt;const sn=Ps(E[L[Xe]],ee[fe[Xe]]);if(0!==sn)return sn}return ci(L.length,fe.length)}(l.mapValue,i.mapValue);default:throw ui()}}function ha(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return ci(l,i);const o=Yo(l),d=Yo(i),g=ci(o.seconds,d.seconds);return 0!==g?g:ci(o.nanos,d.nanos)}function Ss(l){return wl(l)}function wl(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(d){const g=Yo(d);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?M(l.bytesValue).toBase64():"referenceValue"in l?jn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(i=l.geoPointValue).latitude},${i.longitude})`:"arrayValue"in l?function(d){let g="[",y=!0;for(const E of d.values||[])y?y=!1:g+=",",g+=wl(E);return g+"]"}(l.arrayValue):"mapValue"in l?function(d){const g=Object.keys(d.fields||{}).sort();let y="{",E=!0;for(const L of g)E?E=!1:y+=",",y+=`${L}:${wl(d.fields[L])}`;return y+"}"}(l.mapValue):ui();var i}function js(l,i){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`}}function Ql(l){return!!l&&"integerValue"in l}function Xl(l){return!!l&&"arrayValue"in l}function ru(l){return!!l&&"nullValue"in l}function Vd(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Jl(l){return!!l&&"mapValue"in l}function Tc(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const i={mapValue:{fields:{}}};return La(l.mapValue.fields,(o,d)=>i.mapValue.fields[o]=Tc(d)),i}if(l.arrayValue){const i={arrayValue:{values:[]}};for(let o=0;o<(l.arrayValue.values||[]).length;++o)i.arrayValue.values[o]=Tc(l.arrayValue.values[o]);return i}return Object.assign({},l)}function Hd(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zg(l){return"nullValue"in l?Ri:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?js(ke.empty(),jn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:ui()}function zh(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?js(ke.empty(),jn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?Vn:ui()}function Sc(l,i){const o=Ps(l.value,i.value);return 0!==o?o:l.inclusive&&!i.inclusive?-1:!l.inclusive&&i.inclusive?1:0}function ec(l,i){const o=Ps(l.value,i.value);return 0!==o?o:l.inclusive&&!i.inclusive?1:!l.inclusive&&i.inclusive?-1:0}class zs{constructor(i){this.value=i}static empty(){return new zs({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let o=this.value;for(let d=0;d<i.length-1;++d)if(o=(o.mapValue.fields||{})[i.get(d)],!Jl(o))return null;return o=(o.mapValue.fields||{})[i.lastSegment()],o||null}}set(i,o){this.getFieldsMap(i.popLast())[i.lastSegment()]=Tc(o)}setAll(i){let o=kr.emptyPath(),d={},g=[];i.forEach((E,L)=>{if(!o.isImmediateParentOf(L)){const ee=this.getFieldsMap(o);this.applyChanges(ee,d,g),d={},g=[],o=L.popLast()}E?d[L.lastSegment()]=Tc(E):g.push(L.lastSegment())});const y=this.getFieldsMap(o);this.applyChanges(y,d,g)}delete(i){const o=this.field(i.popLast());Jl(o)&&o.mapValue.fields&&delete o.mapValue.fields[i.lastSegment()]}isEqual(i){return Gi(this.value,i.value)}getFieldsMap(i){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let d=0;d<i.length;++d){let g=o.mapValue.fields[i.get(d)];Jl(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},o.mapValue.fields[i.get(d)]=g),o=g}return o.mapValue.fields}applyChanges(i,o,d){La(o,(g,y)=>i[g]=y);for(const g of d)delete i[g]}clone(){return new zs(Tc(this.value))}}function ms(l){const i=[];return La(l.fields,(o,d)=>{const g=new kr([o]);if(Jl(d)){const y=ms(d.mapValue).fields;if(0===y.length)i.push(g);else for(const E of y)i.push(g.child(E))}else i.push(g)}),new po(i)}class yr{constructor(i,o,d,g,y,E){this.key=i,this.documentType=o,this.version=d,this.readTime=g,this.data=y,this.documentState=E}static newInvalidDocument(i){return new yr(i,0,Ci.min(),Ci.min(),zs.empty(),0)}static newFoundDocument(i,o,d){return new yr(i,1,o,Ci.min(),d,0)}static newNoDocument(i,o){return new yr(i,2,o,Ci.min(),zs.empty(),0)}static newUnknownDocument(i,o){return new yr(i,3,o,Ci.min(),zs.empty(),2)}convertToFoundDocument(i,o){return this.version=i,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ci.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof yr&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ep{constructor(i,o=null,d=[],g=[],y=null,E=null,L=null){this.path=i,this.collectionGroup=o,this.orderBy=d,this.filters=g,this.limit=y,this.startAt=E,this.endAt=L,this.ht=null}}function Ud(l,i=null,o=[],d=[],g=null,y=null,E=null){return new Ep(l,i,o,d,g,y,E)}function Ko(l){const i=Zn(l);if(null===i.ht){let o=i.path.canonicalString();null!==i.collectionGroup&&(o+="|cg:"+i.collectionGroup),o+="|f:",o+=i.filters.map(d=>{return(g=d).field.canonicalString()+g.op.toString()+Ss(g.value);var g}).join(","),o+="|ob:",o+=i.orderBy.map(d=>{return(g=d).field.canonicalString()+g.dir;var g}).join(","),gt(i.limit)||(o+="|l:",o+=i.limit),i.startAt&&(o+="|lb:",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(d=>Ss(d)).join(",")),i.endAt&&(o+="|ub:",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(d=>Ss(d)).join(",")),i.ht=o}return i.ht}function Zu(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!Z_(l.orderBy[g],i.orderBy[g]))return!1;if(l.filters.length!==i.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((o=l.filters[g]).op!==(d=i.filters[g]).op||!o.field.isEqual(d.field)||!Gi(o.value,d.value))return!1;var o,d;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!Yh(l.startAt,i.startAt)&&Yh(l.endAt,i.endAt)}function su(l){return jn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function ou(l,i){return l.filters.filter(o=>o instanceof qr&&o.field.isEqual(i))}function xc(l,i,o){let d=Ri,g=!0;for(const y of ou(l,i)){let E=Ri,L=!0;switch(y.op){case"<":case"<=":E=Zg(y.value);break;case"==":case"in":case">=":E=y.value;break;case">":E=y.value,L=!1;break;case"!=":case"not-in":E=Ri}Sc({value:d,inclusive:g},{value:E,inclusive:L})<0&&(d=E,g=L)}if(null!==o)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(i)){const E=o.position[y];Sc({value:d,inclusive:g},{value:E,inclusive:o.inclusive})<0&&(d=E,g=o.inclusive);break}return{value:d,inclusive:g}}function qu(l,i,o){let d=Vn,g=!0;for(const y of ou(l,i)){let E=Vn,L=!0;switch(y.op){case">=":case">":E=zh(y.value),L=!1;break;case"==":case"in":case"<=":E=y.value;break;case"<":E=y.value,L=!1;break;case"!=":case"not-in":E=Vn}ec({value:d,inclusive:g},{value:E,inclusive:L})>0&&(d=E,g=L)}if(null!==o)for(let y=0;y<l.orderBy.length;++y)if(l.orderBy[y].field.isEqual(i)){const E=o.position[y];ec({value:d,inclusive:g},{value:E,inclusive:o.inclusive})>0&&(d=E,g=o.inclusive);break}return{value:d,inclusive:g}}class qr extends class{}{constructor(i,o,d){super(),this.field=i,this.op=o,this.value=d}static create(i,o,d){return i.isKeyField()?"in"===o||"not-in"===o?this.lt(i,o,d):new Tp(i,o,d):"array-contains"===o?new $h(i,d):"in"===o?new Qg(i,d):"not-in"===o?new Xg(i,d):"array-contains-any"===o?new Ac(i,d):new qr(i,o,d)}static lt(i,o,d){return"in"===o?new Gd(i,d):new Qu(i,d)}matches(i){const o=i.data.field(this.field);return"!="===this.op?null!==o&&this.ft(Ps(o,this.value)):null!==o&&ii(this.value)===ii(o)&&this.ft(Ps(o,this.value))}ft(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return ui()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Tp extends qr{constructor(i,o,d){super(i,o,d),this.key=jn.fromName(d.referenceValue)}matches(i){const o=jn.comparator(i.key,this.key);return this.ft(o)}}class Gd extends qr{constructor(i,o){super(i,"in",o),this.keys=au(0,o)}matches(i){return this.keys.some(o=>o.isEqual(i.key))}}class Qu extends qr{constructor(i,o){super(i,"not-in",o),this.keys=au(0,o)}matches(i){return!this.keys.some(o=>o.isEqual(i.key))}}function au(l,i){var o;return((null===(o=i.arrayValue)||void 0===o?void 0:o.values)||[]).map(d=>jn.fromName(d.referenceValue))}class $h extends qr{constructor(i,o){super(i,"array-contains",o)}matches(i){const o=i.data.field(this.field);return Xl(o)&&ds(o.arrayValue,this.value)}}class Qg extends qr{constructor(i,o){super(i,"in",o)}matches(i){const o=i.data.field(this.field);return null!==o&&ds(this.value.arrayValue,o)}}class Xg extends qr{constructor(i,o){super(i,"not-in",o)}matches(i){if(ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=i.data.field(this.field);return null!==o&&!ds(this.value.arrayValue,o)}}class Ac extends qr{constructor(i,o){super(i,"array-contains-any",o)}matches(i){const o=i.data.field(this.field);return!(!Xl(o)||!o.arrayValue.values)&&o.arrayValue.values.some(d=>ds(this.value.arrayValue,d))}}class ko{constructor(i,o){this.position=i,this.inclusive=o}}class lu{constructor(i,o="asc"){this.field=i,this.dir=o}}function Z_(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}function Wh(l,i,o){let d=0;for(let g=0;g<l.position.length;g++){const y=i[g],E=l.position[g];if(d=y.field.isKeyField()?jn.comparator(jn.fromName(E.referenceValue),o.key):Ps(E,o.data.field(y.field)),"desc"===y.dir&&(d*=-1),0!==d)break}return d}function Yh(l,i){if(null===l)return null===i;if(null===i||l.inclusive!==i.inclusive||l.position.length!==i.position.length)return!1;for(let o=0;o<l.position.length;o++)if(!Gi(l.position[o],i.position[o]))return!1;return!0}class tc{constructor(i,o=null,d=[],g=[],y=null,E="F",L=null,ee=null){this.path=i,this.collectionGroup=o,this.explicitOrderBy=d,this.filters=g,this.limit=y,this.limitType=E,this.startAt=L,this.endAt=ee,this._t=null,this.wt=null}}function Sp(l,i,o,d,g,y,E,L){return new tc(l,i,o,d,g,y,E,L)}function nc(l){return new tc(l)}function xp(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Cl(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}function jd(l){for(const i of l.filters)if(i.dt())return i.field;return null}function Kh(l){return null!==l.collectionGroup}function Ic(l){const i=Zn(l);if(null===i._t){i._t=[];const o=jd(i),d=Cl(i);if(null!==o&&null===d)o.isKeyField()||i._t.push(new lu(o)),i._t.push(new lu(kr.keyField(),"asc"));else{let g=!1;for(const y of i.explicitOrderBy)i._t.push(y),y.field.isKeyField()&&(g=!0);if(!g){const y=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i._t.push(new lu(kr.keyField(),y))}}}return i._t}function Zo(l){const i=Zn(l);if(!i.wt)if("F"===i.limitType)i.wt=Ud(i.path,i.collectionGroup,Ic(i),i.filters,i.limit,i.startAt,i.endAt);else{const o=[];for(const y of Ic(i))o.push(new lu(y.field,"desc"===y.dir?"asc":"desc"));const d=i.endAt?new ko(i.endAt.position,i.endAt.inclusive):null,g=i.startAt?new ko(i.startAt.position,i.startAt.inclusive):null;i.wt=Ud(i.path,i.collectionGroup,o,i.filters,i.limit,d,g)}return i.wt}function Xu(l,i,o){return new tc(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),i,o,l.startAt,l.endAt)}function zd(l,i){return Zu(Zo(l),Zo(i))&&l.limitType===i.limitType}function $d(l){return`${Ko(Zo(l))}|lt:${l.limitType}`}function Zh(l){return`Query(target=${function qg(l){let i=l.path.canonicalString();return null!==l.collectionGroup&&(i+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(i+=`, filters: [${l.filters.map(o=>{return`${(d=o).field.canonicalString()} ${d.op} ${Ss(d.value)}`;var d}).join(", ")}]`),gt(l.limit)||(i+=", limit: "+l.limit),l.orderBy.length>0&&(i+=`, orderBy: [${l.orderBy.map(o=>{return`${(d=o).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),l.startAt&&(i+=", startAt: ",i+=l.startAt.inclusive?"b:":"a:",i+=l.startAt.position.map(o=>Ss(o)).join(",")),l.endAt&&(i+=", endAt: ",i+=l.endAt.inclusive?"a:":"b:",i+=l.endAt.position.map(o=>Ss(o)).join(",")),`Target(${i})`}(Zo(l))}; limitType=${l.limitType})`}function cu(l,i){return i.isFoundDocument()&&function(o,d){const g=d.key.path;return null!==o.collectionGroup?d.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(g):jn.isDocumentKey(o.path)?o.path.isEqual(g):o.path.isImmediateParentOf(g)}(l,i)&&function(o,d){for(const g of o.explicitOrderBy)if(!g.field.isKeyField()&&null===d.data.field(g.field))return!1;return!0}(l,i)&&function(o,d){for(const g of o.filters)if(!g.matches(d))return!1;return!0}(l,i)&&(d=i,!((o=l).startAt&&!function(g,y,E){const L=Wh(g,y,E);return g.inclusive?L<=0:L<0}(o.startAt,Ic(o),d)||o.endAt&&!function(g,y,E){const L=Wh(g,y,E);return g.inclusive?L>=0:L>0}(o.endAt,Ic(o),d)));var o,d}function Ju(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Wd(l){return(i,o)=>{let d=!1;for(const g of Ic(l)){const y=ed(g,i,o);if(0!==y)return y;d=d||g.field.isKeyField()}return 0}}function ed(l,i,o){const d=l.field.isKeyField()?jn.comparator(i.key,o.key):function(g,y,E){const L=y.data.field(g),ee=E.data.field(g);return null!==L&&null!==ee?Ps(L,ee):ui()}(l.field,i,o);switch(l.dir){case"asc":return d;case"desc":return-1*d;default:return ui()}}function Ap(l,i){if(l.gt){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dt(i)?"-0":i}}function Ip(l){return{integerValue:""+l}}function Mp(l,i){return mn(i)?Ip(i):Ap(l,i)}class Mc{constructor(){this._=void 0}}function qh(l,i,o){return l instanceof Dl?function(d,g){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return g&&(y.fields.__previous_value__=g),{mapValue:y}}(o,i):l instanceof qo?td(l,i):l instanceof Oc?Qh(l,i):function(d,g){const y=kp(d,g),E=Yd(y)+Yd(d.yt);return Ql(y)&&Ql(d.yt)?Ip(E):Ap(d.It,E)}(l,i)}function Op(l,i,o){return l instanceof qo?td(l,i):l instanceof Oc?Qh(l,i):o}function kp(l,i){return l instanceof uu?Ql(o=i)||(d=o)&&"doubleValue"in d?i:{integerValue:0}:null;var d,o}class Dl extends Mc{}class qo extends Mc{constructor(i){super(),this.elements=i}}function td(l,i){const o=il(i);for(const d of l.elements)o.some(g=>Gi(g,d))||o.push(d);return{arrayValue:{values:o}}}class Oc extends Mc{constructor(i){super(),this.elements=i}}function Qh(l,i){let o=il(i);for(const d of l.elements)o=o.filter(g=>!Gi(g,d));return{arrayValue:{values:o}}}class uu extends Mc{constructor(i,o){super(),this.It=i,this.yt=o}}function Yd(l){return vr(l.integerValue||l.doubleValue)}function il(l){return Xl(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class rl{constructor(i,o){this.field=i,this.transform=o}}class q_{constructor(i,o){this.version=i,this.transformResults=o}}class Nr{constructor(i,o){this.updateTime=i,this.exists=o}static none(){return new Nr}static exists(i){return new Nr(void 0,i)}static updateTime(i){return new Nr(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Xh(l,i){return void 0!==l.updateTime?i.isFoundDocument()&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i.isFoundDocument()}class Kd{}function hs(l,i){if(!l.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return l.isNoDocument()?new Kt(l.key,Nr.none()):new w(l.key,l.data,Nr.none());{const o=l.data,d=zs.empty();let g=new Mi(kr.comparator);for(let y of i.fields)if(!g.has(y)){let E=o.field(y);null===E&&y.length>1&&(y=y.popLast(),E=o.field(y)),null===E?d.delete(y):d.set(y,E),g=g.add(y)}return new D(l.key,d,new po(g.toArray()),Nr.none())}}function nd(l,i,o){l instanceof w?function(d,g,y){const E=d.value.clone(),L=De(d.fieldTransforms,g,y.transformResults);E.setAll(L),g.convertToFoundDocument(y.version,E).setHasCommittedMutations()}(l,i,o):l instanceof D?function(d,g,y){if(!Xh(d.precondition,g))return void g.convertToUnknownDocument(y.version);const E=De(d.fieldTransforms,g,y.transformResults),L=g.data;L.setAll(F(d)),L.setAll(E),g.convertToFoundDocument(y.version,L).setHasCommittedMutations()}(l,i,o):i.convertToNoDocument(o.version).setHasCommittedMutations()}function gi(l,i,o,d){return l instanceof w?function(g,y,E,L){if(!Xh(g.precondition,y))return E;const ee=g.value.clone(),fe=Qe(g.fieldTransforms,L,y);return ee.setAll(fe),y.convertToFoundDocument(y.version,ee).setHasLocalMutations(),null}(l,i,o,d):l instanceof D?function(g,y,E,L){if(!Xh(g.precondition,y))return E;const ee=Qe(g.fieldTransforms,L,y),fe=y.data;return fe.setAll(F(g)),fe.setAll(ee),y.convertToFoundDocument(y.version,fe).setHasLocalMutations(),null===E?null:E.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(Xe=>Xe.field))}(l,i,o,d):(E=o,Xh(l.precondition,y=i)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):E);var y,E}function kc(l,i){let o=null;for(const d of l.fieldTransforms){const g=i.data.field(d.field),y=kp(d.transform,g||null);null!=y&&(null===o&&(o=zs.empty()),o.set(d.field,y))}return o||null}function k(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.precondition.isEqual(i.precondition)&&(d=i.fieldTransforms,!!(void 0===(o=l.fieldTransforms)&&void 0===d||o&&d&&la(o,d,(g,y)=>function Rp(l,i){return l.field.isEqual(i.field)&&(d=i.transform,(o=l.transform)instanceof qo&&d instanceof qo||o instanceof Oc&&d instanceof Oc?la(o.elements,d.elements,Gi):o instanceof uu&&d instanceof uu?Gi(o.yt,d.yt):o instanceof Dl&&d instanceof Dl);var o,d}(g,y))))&&(0===l.type?l.value.isEqual(i.value):1!==l.type||l.data.isEqual(i.data)&&l.fieldMask.isEqual(i.fieldMask));var o,d}class w extends Kd{constructor(i,o,d,g=[]){super(),this.key=i,this.value=o,this.precondition=d,this.fieldTransforms=g,this.type=0}getFieldMask(){return null}}class D extends Kd{constructor(i,o,d,g,y=[]){super(),this.key=i,this.data=o,this.fieldMask=d,this.precondition=g,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function F(l){const i=new Map;return l.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const d=l.data.field(o);i.set(o,d)}}),i}function De(l,i,o){const d=new Map;Ei(l.length===o.length);for(let g=0;g<o.length;g++){const y=l[g],E=y.transform,L=i.data.field(y.field);d.set(y.field,Op(E,L,o[g]))}return d}function Qe(l,i,o){const d=new Map;for(const g of l){const y=g.transform,E=o.data.field(g.field);d.set(g.field,qh(y,E,i))}return d}class Kt extends Kd{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xn extends Kd{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jn{constructor(i){this.count=i}}var ti,ri;function or(l){switch(l){default:return ui();case hn.CANCELLED:case hn.UNKNOWN:case hn.DEADLINE_EXCEEDED:case hn.RESOURCE_EXHAUSTED:case hn.INTERNAL:case hn.UNAVAILABLE:case hn.UNAUTHENTICATED:return!1;case hn.INVALID_ARGUMENT:case hn.NOT_FOUND:case hn.ALREADY_EXISTS:case hn.PERMISSION_DENIED:case hn.FAILED_PRECONDITION:case hn.ABORTED:case hn.OUT_OF_RANGE:case hn.UNIMPLEMENTED:case hn.DATA_LOSS:return!0}}function Ro(l){if(void 0===l)return ur("GRPC error has no .code"),hn.UNKNOWN;switch(l){case ti.OK:return hn.OK;case ti.CANCELLED:return hn.CANCELLED;case ti.UNKNOWN:return hn.UNKNOWN;case ti.DEADLINE_EXCEEDED:return hn.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return hn.RESOURCE_EXHAUSTED;case ti.INTERNAL:return hn.INTERNAL;case ti.UNAVAILABLE:return hn.UNAVAILABLE;case ti.UNAUTHENTICATED:return hn.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return hn.INVALID_ARGUMENT;case ti.NOT_FOUND:return hn.NOT_FOUND;case ti.ALREADY_EXISTS:return hn.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return hn.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return hn.FAILED_PRECONDITION;case ti.ABORTED:return hn.ABORTED;case ti.OUT_OF_RANGE:return hn.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return hn.UNIMPLEMENTED;case ti.DATA_LOSS:return hn.DATA_LOSS;default:return ui()}}(ri=ti||(ti={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";class Yt{constructor(i,o){this.mapKeyFn=i,this.equalsFn=o,this.inner={},this.innerSize=0}get(i){const o=this.mapKeyFn(i),d=this.inner[o];if(void 0!==d)for(const[g,y]of d)if(this.equalsFn(g,i))return y}has(i){return void 0!==this.get(i)}set(i,o){const d=this.mapKeyFn(i),g=this.inner[d];if(void 0===g)return this.inner[d]=[[i,o]],void this.innerSize++;for(let y=0;y<g.length;y++)if(this.equalsFn(g[y][0],i))return void(g[y]=[i,o]);g.push([i,o]),this.innerSize++}delete(i){const o=this.mapKeyFn(i),d=this.inner[o];if(void 0===d)return!1;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],i))return 1===d.length?delete this.inner[o]:d.splice(g,1),this.innerSize--,!0;return!1}forEach(i){La(this.inner,(o,d)=>{for(const[g,y]of d)i(g,y)})}isEmpty(){return Cp(this.inner)}size(){return this.innerSize}}const $r=new hr(jn.comparator);function xs(){return $r}const Rc=new hr(jn.comparator);function du(...l){let i=Rc;for(const o of l)i=i.insert(o.key,o);return i}function Jh(l){let i=Rc;return l.forEach((o,d)=>i=i.insert(o,d.overlayedDocument)),i}function Va(){return fa()}function id(){return fa()}function fa(){return new Yt(l=>l.toString(),(l,i)=>l.isEqual(i))}const ic=new hr(jn.comparator),ef=new Mi(jn.comparator);function Ni(...l){let i=ef;for(const o of l)i=i.add(o);return i}const Qr=new Mi(ci);function Zd(){return Qr}class tf{constructor(i,o,d,g,y){this.snapshotVersion=i,this.targetChanges=o,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(i,o,d){const g=new Map;return g.set(i,rd.createSynthesizedTargetChangeForCurrentChange(i,o,d)),new tf(Ci.min(),g,Zd(),xs(),Ni())}}class rd{constructor(i,o,d,g,y){this.resumeToken=i,this.current=o,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(i,o,d){return new rd(d,o,Ni(),Ni(),Ni())}}class nf{constructor(i,o,d,g){this.Tt=i,this.removedTargetIds=o,this.key=d,this.Et=g}}class Q_{constructor(i,o){this.targetId=i,this.At=o}}class X_{constructor(i,o,d=Yn.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=o,this.resumeToken=d,this.cause=g}}class Fy{constructor(){this.Rt=0,this.bt=Gb(),this.Pt=Yn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(i){i.approximateByteSize()>0&&(this.Vt=!0,this.Pt=i)}xt(){let i=Ni(),o=Ni(),d=Ni();return this.bt.forEach((g,y)=>{switch(y){case 0:i=i.add(g);break;case 2:o=o.add(g);break;case 1:d=d.add(g);break;default:ui()}}),new rd(this.Pt,this.vt,i,o,d)}Nt(){this.Vt=!1,this.bt=Gb()}kt(i,o){this.Vt=!0,this.bt=this.bt.insert(i,o)}Ot(i){this.Vt=!0,this.bt=this.bt.remove(i)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ub{constructor(i){this.Bt=i,this.Lt=new Map,this.Ut=xs(),this.qt=Ly(),this.Kt=new Mi(ci)}Gt(i){for(const o of i.Tt)i.Et&&i.Et.isFoundDocument()?this.Qt(o,i.Et):this.jt(o,i.key,i.Et);for(const o of i.removedTargetIds)this.jt(o,i.key,i.Et)}Wt(i){this.forEachTarget(i,o=>{const d=this.zt(o);switch(i.state){case 0:this.Ht(o)&&d.Ct(i.resumeToken);break;case 1:d.Ft(),d.St||d.Nt(),d.Ct(i.resumeToken);break;case 2:d.Ft(),d.St||this.removeTarget(o);break;case 3:this.Ht(o)&&(d.$t(),d.Ct(i.resumeToken));break;case 4:this.Ht(o)&&(this.Jt(o),d.Ct(i.resumeToken));break;default:ui()}})}forEachTarget(i,o){i.targetIds.length>0?i.targetIds.forEach(o):this.Lt.forEach((d,g)=>{this.Ht(g)&&o(g)})}Yt(i){const o=i.targetId,d=i.At.count,g=this.Xt(o);if(g){const y=g.target;if(su(y))if(0===d){const E=new jn(y.path);this.jt(o,E,yr.newNoDocument(E,Ci.min()))}else Ei(1===d);else this.Zt(o)!==d&&(this.Jt(o),this.Kt=this.Kt.add(o))}}te(i){const o=new Map;this.Lt.forEach((y,E)=>{const L=this.Xt(E);if(L){if(y.current&&su(L.target)){const ee=new jn(L.target.path);null!==this.Ut.get(ee)||this.ee(E,ee)||this.jt(E,ee,yr.newNoDocument(ee,i))}y.Dt&&(o.set(E,y.xt()),y.Nt())}});let d=Ni();this.qt.forEach((y,E)=>{let L=!0;E.forEachWhile(ee=>{const fe=this.Xt(ee);return!fe||2===fe.purpose||(L=!1,!1)}),L&&(d=d.add(y))}),this.Ut.forEach((y,E)=>E.setReadTime(i));const g=new tf(i,o,this.Kt,this.Ut,d);return this.Ut=xs(),this.qt=Ly(),this.Kt=new Mi(ci),g}Qt(i,o){if(!this.Ht(i))return;const d=this.ee(i,o.key)?2:0;this.zt(i).kt(o.key,d),this.Ut=this.Ut.insert(o.key,o),this.qt=this.qt.insert(o.key,this.ne(o.key).add(i))}jt(i,o,d){if(!this.Ht(i))return;const g=this.zt(i);this.ee(i,o)?g.kt(o,1):g.Ot(o),this.qt=this.qt.insert(o,this.ne(o).delete(i)),d&&(this.Ut=this.Ut.insert(o,d))}removeTarget(i){this.Lt.delete(i)}Zt(i){const o=this.zt(i).xt();return this.Bt.getRemoteKeysForTarget(i).size+o.addedDocuments.size-o.removedDocuments.size}Mt(i){this.zt(i).Mt()}zt(i){let o=this.Lt.get(i);return o||(o=new Fy,this.Lt.set(i,o)),o}ne(i){let o=this.qt.get(i);return o||(o=new Mi(ci),this.qt=this.qt.insert(i,o)),o}Ht(i){const o=null!==this.Xt(i);return o||Bn("WatchChangeAggregator","Detected inactive target",i),o}Xt(i){const o=this.Lt.get(i);return o&&o.St?null:this.Bt.se(i)}Jt(i){this.Lt.set(i,new Fy),this.Bt.getRemoteKeysForTarget(i).forEach(o=>{this.jt(i,o,null)})}ee(i,o){return this.Bt.getRemoteKeysForTarget(i).has(o)}}function Ly(){return new hr(jn.comparator)}function Gb(){return new hr(jn.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},Np={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class J_{constructor(i,o){this.databaseId=i,this.gt=o}}function rf(l,i){return l.gt?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function ev(l,i){return l.gt?i.toBase64():i.toUint8Array()}function By(l,i){return rf(l,i.toTimestamp())}function go(l){return Ei(!!l),Ci.fromTimestamp(function(i){const o=Yo(i);return new dr(o.seconds,o.nanos)}(l))}function Pp(l,i){return(o=l,new Hi(["projects",o.projectId,"databases",o.database])).child("documents").child(i).canonicalString();var o}function tv(l){const i=Hi.fromString(l);return Ei(Gy(i)),i}function qd(l,i){return Pp(l.databaseId,i.path)}function hu(l,i){const o=tv(i);if(o.get(1)!==l.databaseId.projectId)throw new Nn(hn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+l.databaseId.projectId);if(o.get(3)!==l.databaseId.database)throw new Nn(hn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+l.databaseId.database);return new jn(iv(o))}function nv(l,i){return Pp(l.databaseId,i)}function Jg(l){const i=tv(l);return 4===i.length?Hi.emptyPath():iv(i)}function sf(l){return new Hi(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function iv(l){return Ei(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function sd(l,i,o){return{name:qd(l,i),fields:o.value.mapValue.fields}}function Vy(l,i,o){const d=hu(l,i.name),g=go(i.updateTime),y=new zs({mapValue:{fields:i.fields}}),E=yr.newFoundDocument(d,g,y);return o&&E.setHasCommittedMutations(),o?E.setHasCommittedMutations():E}function Fp(l,i){let o;if(i instanceof w)o={update:sd(l,i.key,i.value)};else if(i instanceof Kt)o={delete:qd(l,i.key)};else if(i instanceof D)o={update:sd(l,i.key,i.data),updateMask:sv(i.fieldMask)};else{if(!(i instanceof xn))return ui();o={verify:qd(l,i.key)}}return i.fieldTransforms.length>0&&(o.updateTransforms=i.fieldTransforms.map(d=>function(g,y){const E=y.transform;if(E instanceof Dl)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof qo)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Oc)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof uu)return{fieldPath:y.field.canonicalString(),increment:E.yt};throw ui()}(0,d))),i.precondition.isNone||(o.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:By(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:ui()),o;var g}function Lp(l,i){const o=i.currentDocument?void 0!==(g=i.currentDocument).updateTime?Nr.updateTime(go(g.updateTime)):void 0!==g.exists?Nr.exists(g.exists):Nr.none():Nr.none(),d=i.updateTransforms?i.updateTransforms.map(g=>function(y,E){let L=null;"setToServerValue"in E?(Ei("REQUEST_TIME"===E.setToServerValue),L=new Dl):"appendMissingElements"in E?L=new qo(E.appendMissingElements.values||[]):"removeAllFromArray"in E?L=new Oc(E.removeAllFromArray.values||[]):"increment"in E?L=new uu(y,E.increment):ui();const ee=kr.fromServerFormat(E.fieldPath);return new rl(ee,L)}(l,g)):[];var g;if(i.update){const g=hu(l,i.update.name),y=new zs({mapValue:{fields:i.update.fields}});if(i.updateMask){const E=new po((i.updateMask.fieldPaths||[]).map(fe=>kr.fromServerFormat(fe)));return new D(g,y,E,o,d)}return new w(g,y,o,d)}if(i.delete){const g=hu(l,i.delete);return new Kt(g,o)}if(i.verify){const g=hu(l,i.verify);return new xn(g,o)}return ui()}function od(l,i){return{documents:[nv(l,i.path)]}}function nm(l,i){const o={structuredQuery:{}},d=i.path;null!==i.collectionGroup?(o.parent=nv(l,d),o.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o.parent=nv(l,d.popLast()),o.structuredQuery.from=[{collectionId:d.lastSegment()}]);const g=function(ee){if(0===ee.length)return;const fe=ee.map(Xe=>function(xt){if("=="===xt.op){if(Vd(xt.value))return{unaryFilter:{field:lf(xt.field),op:"IS_NAN"}};if(ru(xt.value))return{unaryFilter:{field:lf(xt.field),op:"IS_NULL"}}}else if("!="===xt.op){if(Vd(xt.value))return{unaryFilter:{field:lf(xt.field),op:"IS_NOT_NAN"}};if(ru(xt.value))return{unaryFilter:{field:lf(xt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lf(xt.field),op:af(xt.op),value:xt.value}}}(Xe));return 1===fe.length?fe[0]:{compositeFilter:{op:"AND",filters:fe}}}(i.filters);g&&(o.structuredQuery.where=g);const y=function(ee){if(0!==ee.length)return ee.map(fe=>{return{field:lf((Xe=fe).field),direction:Uy(Xe.dir)};var Xe})}(i.orderBy);y&&(o.structuredQuery.orderBy=y);const E=(fe=i.limit,l.gt||gt(fe)?fe:{value:fe});var fe,L,ee;return null!==E&&(o.structuredQuery.limit=E),i.startAt&&(o.structuredQuery.startAt={before:(L=i.startAt).inclusive,values:L.position}),i.endAt&&(o.structuredQuery.endAt={before:!(ee=i.endAt).inclusive,values:ee.position}),o}function im(l){let i=Jg(l.parent);const o=l.structuredQuery,d=o.from?o.from.length:0;let g=null;if(d>0){Ei(1===d);const Xe=o.from[0];Xe.allDescendants?g=Xe.collectionId:i=i.child(Xe.collectionId)}let y=[];o.where&&(y=Hy(o.where));let E=[];o.orderBy&&(E=o.orderBy.map(Xe=>{return new lu(cf((xt=Xe).field),function(sn){switch(sn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let L=null;o.limit&&(L=function(Xe){let xt;return xt="object"==typeof Xe?Xe.value:Xe,gt(xt)?null:xt}(o.limit));let ee=null;var Xe;o.startAt&&(ee=new ko((Xe=o.startAt).values||[],!!Xe.before));let fe=null;return o.endAt&&(fe=function(Xe){return new ko(Xe.values||[],!Xe.before)}(o.endAt)),Sp(i,g,E,y,L,"F",ee,fe)}function Hy(l){return l?void 0!==l.unaryFilter?[$b(l)]:void 0!==l.fieldFilter?[zb(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(i=>Hy(i)).reduce((i,o)=>i.concat(o)):ui():[]}function Uy(l){return oD[l]}function af(l){return Np[l]}function lf(l){return{fieldPath:l.canonicalString()}}function cf(l){return kr.fromServerFormat(l.fieldPath)}function zb(l){return qr.create(cf(l.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ui()}}(l.fieldFilter.op),l.fieldFilter.value)}function $b(l){switch(l.unaryFilter.op){case"IS_NAN":const i=cf(l.unaryFilter.field);return qr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=cf(l.unaryFilter.field);return qr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=cf(l.unaryFilter.field);return qr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=cf(l.unaryFilter.field);return qr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ui()}}function sv(l){const i=[];return l.fields.forEach(o=>i.push(o.canonicalString())),{fieldPaths:i}}function Gy(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}function Qo(l){let i="";for(let o=0;o<l.length;o++)i.length>0&&(i=ov(i)),i=Wb(l.get(o),i);return ov(i)}function Wb(l,i){let o=i;const d=l.length;for(let g=0;g<d;g++){const y=l.charAt(g);switch(y){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=y}}return o}function ov(l){return l+"\x01\x01"}function fu(l){const i=l.length;if(Ei(i>=2),2===i)return Ei("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Hi.emptyPath();const o=i-2,d=[];let g="";for(let y=0;y<i;){const E=l.indexOf("\x01",y);switch((E<0||E>o)&&ui(),l.charAt(E+1)){case"\x01":const L=l.substring(y,E);let ee;0===g.length?ee=L:(g+=L,ee=g,g=""),d.push(ee);break;case"\x10":g+=l.substring(y,E),g+="\0";break;case"\x11":g+=l.substring(y,E+1);break;default:ui()}y=E+2}return new Hi(d)}const jy=["userId","batchId"];function ad(l,i){return[l,Qo(i)]}function zy(l,i,o){return[l,Qo(i),o]}const uf={},Bp=["prefixPath","collectionGroup","readTime","documentId"],Yb=["prefixPath","collectionGroup","documentId"],aD=["collectionGroup","readTime","prefixPath","documentId"],$y=["canonicalId","targetId"],Kb=["targetId","path"],Zb=["path","targetId"],df=["collectionId","parent"],rm=["indexId","uid"],av=["uid","sequenceNumber"],lv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cv=["indexId","uid","orderedDocumentKey"],Wy=["userId","collectionPath","documentId"],uv=["userId","collectionPath","largestBatchId"],qb=["userId","collectionGroup","largestBatchId"],Qb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dv=[...Qb,"documentOverlays"],Xb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yy=Xb,lD=[...Yy,"indexConfiguration","indexState","indexEntries"];class Vp extends nu{constructor(i,o){super(),this.ie=i,this.currentSequenceNumber=o}}function mo(l,i){const o=Zn(l);return zr.M(o.ie,i)}class sm{constructor(i,o,d,g){this.batchId=i,this.localWriteTime=o,this.baseMutations=d,this.mutations=g}applyToRemoteDocument(i,o){const d=o.mutationResults;for(let g=0;g<this.mutations.length;g++){const y=this.mutations[g];y.key.isEqual(i.key)&&nd(y,i,d[g])}}applyToLocalView(i,o){for(const d of this.baseMutations)d.key.isEqual(i.key)&&(o=gi(d,i,o,this.localWriteTime));for(const d of this.mutations)d.key.isEqual(i.key)&&(o=gi(d,i,o,this.localWriteTime));return o}applyToLocalDocumentSet(i,o){const d=id();return this.mutations.forEach(g=>{const y=i.get(g.key),E=y.overlayedDocument;let L=this.applyToLocalView(E,y.mutatedFields);L=o.has(g.key)?null:L;const ee=hs(E,L);null!==ee&&d.set(g.key,ee),E.isValidDocument()||E.convertToNoDocument(Ci.min())}),d}keys(){return this.mutations.reduce((i,o)=>i.add(o.key),Ni())}isEqual(i){return this.batchId===i.batchId&&la(this.mutations,i.mutations,(o,d)=>k(o,d))&&la(this.baseMutations,i.baseMutations,(o,d)=>k(o,d))}}class Hp{constructor(i,o,d,g){this.batch=i,this.commitVersion=o,this.mutationResults=d,this.docVersions=g}static from(i,o,d){Ei(i.mutations.length===d.length);let g=ic;const y=i.mutations;for(let E=0;E<y.length;E++)g=g.insert(y[E].key,d[E].version);return new Hp(i,o,d,g)}}class hf{constructor(i,o){this.largestBatchId=i,this.mutation=o}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nc{constructor(i,o,d,g,y=Ci.min(),E=Ci.min(),L=Yn.EMPTY_BYTE_STRING){this.target=i,this.targetId=o,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=L}withSequenceNumber(i){return new Nc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,o){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class Up{constructor(i){this.re=i}}function Qd(l,i){const o=i.key,d={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Gp(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())d.document={name:qd(g=l.re,(y=i).key),fields:y.data.value.mapValue.fields,updateTime:rf(g,y.version.toTimestamp())};else if(i.isNoDocument())d.noDocument={path:o.path.toArray(),readTime:Pc(i.version)};else{if(!i.isUnknownDocument())return ui();d.unknownDocument={path:o.path.toArray(),version:Pc(i.version)}}var g,y;return d}function Gp(l){const i=l.toTimestamp();return[i.seconds,i.nanoseconds]}function Pc(l){const i=l.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function Xo(l){const i=new dr(l.seconds,l.nanoseconds);return Ci.fromTimestamp(i)}function pu(l,i){const o=(i.baseMutations||[]).map(y=>Lp(l.re,y));for(let y=0;y<i.mutations.length-1;++y){const E=i.mutations[y];y+1<i.mutations.length&&void 0!==i.mutations[y+1].transform&&(E.updateTransforms=i.mutations[y+1].transform.fieldTransforms,i.mutations.splice(y+1,1),++y)}const d=i.mutations.map(y=>Lp(l.re,y)),g=dr.fromMillis(i.localWriteTimeMs);return new sm(i.batchId,g,o,d)}function ff(l){const i=Xo(l.readTime),o=void 0!==l.lastLimboFreeSnapshotVersion?Xo(l.lastLimboFreeSnapshotVersion):Ci.min();let d;var g;return void 0!==l.query.documents?(Ei(1===(g=l.query).documents.length),d=Zo(nc(Jg(g.documents[0])))):d=Zo(im(l.query)),new Nc(d,l.targetId,0,l.lastListenSequenceNumber,i,o,Yn.fromBase64String(l.resumeToken))}function fv(l,i){const o=Pc(i.snapshotVersion),d=Pc(i.lastLimboFreeSnapshotVersion);let g;g=su(i.target)?od(l.re,i.target):nm(l.re,i.target);const y=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:Ko(i.target),readTime:o,resumeToken:y,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:d,query:g}}function jp(l){const i=im({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Xu(i,i.limit,"L"):i}function om(l,i){return new hf(i.largestBatchId,Lp(l.re,i.overlayMutation))}function zp(l,i){const o=i.path.lastSegment();return[l,Qo(i.path.popLast()),o]}function pv(l,i,o,d){return{indexId:l,uid:i.uid||"",sequenceNumber:o,readTime:Pc(d.readTime),documentKey:Qo(d.documentKey.path),largestBatchId:d.largestBatchId}}class Ky{getBundleMetadata(i,o){return pf(i).get(o).next(d=>{if(d)return{id:(g=d).bundleId,createTime:Xo(g.createTime),version:g.version};var g})}saveBundleMetadata(i,o){return pf(i).put({bundleId:(d=o).id,createTime:Pc(go(d.createTime)),version:d.version});var d}getNamedQuery(i,o){return $p(i).get(o).next(d=>{if(d)return{name:(g=d).name,query:jp(g.bundledQuery),readTime:Xo(g.readTime)};var g})}saveNamedQuery(i,o){return $p(i).put({name:(d=o).name,readTime:Pc(go(d.readTime)),bundledQuery:d.bundledQuery});var d}}function pf(l){return mo(l,"bundles")}function $p(l){return mo(l,"namedQueries")}class Wp{constructor(i,o){this.It=i,this.userId=o}static oe(i,o){return new Wp(i,o.uid||"")}getOverlay(i,o){return gf(i).get(zp(this.userId,o)).next(d=>d?om(this.It,d):null)}getOverlays(i,o){const d=Va();return an.forEach(o,g=>this.getOverlay(i,g).next(y=>{null!==y&&d.set(g,y)})).next(()=>d)}saveOverlays(i,o,d){const g=[];return d.forEach((y,E)=>{const L=new hf(o,E);g.push(this.ue(i,L))}),an.waitFor(g)}removeOverlaysForBatchId(i,o,d){const g=new Set;o.forEach(E=>g.add(Qo(E.getCollectionPath())));const y=[];return g.forEach(E=>{const L=IDBKeyRange.bound([this.userId,E,d],[this.userId,E,d+1],!1,!0);y.push(gf(i).Y("collectionPathOverlayIndex",L))}),an.waitFor(y)}getOverlaysForCollection(i,o,d){const g=Va(),y=Qo(o),E=IDBKeyRange.bound([this.userId,y,d],[this.userId,y,Number.POSITIVE_INFINITY],!0);return gf(i).W("collectionPathOverlayIndex",E).next(L=>{for(const ee of L){const fe=om(this.It,ee);g.set(fe.getKey(),fe)}return g})}getOverlaysForCollectionGroup(i,o,d,g){const y=Va();let E;const L=IDBKeyRange.bound([this.userId,o,d],[this.userId,o,Number.POSITIVE_INFINITY],!0);return gf(i).Z({index:"collectionGroupOverlayIndex",range:L},(ee,fe,Xe)=>{const xt=om(this.It,fe);y.size()<g||xt.largestBatchId===E?(y.set(xt.getKey(),xt),E=xt.largestBatchId):Xe.done()}).next(()=>y)}ue(i,o){return gf(i).put(function(d,g,y){const[E,L,ee]=zp(g,y.mutation.key);return{userId:g,collectionPath:L,documentId:ee,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Fp(d.re,y.mutation)}}(this.It,this.userId,o))}}function gf(l){return mo(l,"documentOverlays")}class gu{constructor(){}ce(i,o){this.ae(i,o),o.he()}ae(i,o){if("nullValue"in i)this.le(o,5);else if("booleanValue"in i)this.le(o,10),o.fe(i.booleanValue?1:0);else if("integerValue"in i)this.le(o,15),o.fe(vr(i.integerValue));else if("doubleValue"in i){const d=vr(i.doubleValue);isNaN(d)?this.le(o,13):(this.le(o,15),Dt(d)?o.fe(0):o.fe(d))}else if("timestampValue"in i){const d=i.timestampValue;this.le(o,20),"string"==typeof d?o.de(d):(o.de(`${d.seconds||""}`),o.fe(d.nanos||0))}else if("stringValue"in i)this._e(i.stringValue,o),this.we(o);else if("bytesValue"in i)this.le(o,30),o.me(M(i.bytesValue)),this.we(o);else if("referenceValue"in i)this.ge(i.referenceValue,o);else if("geoPointValue"in i){const d=i.geoPointValue;this.le(o,45),o.fe(d.latitude||0),o.fe(d.longitude||0)}else"mapValue"in i?Hd(i)?this.le(o,Number.MAX_SAFE_INTEGER):(this.ye(i.mapValue,o),this.we(o)):"arrayValue"in i?(this.pe(i.arrayValue,o),this.we(o)):ui()}_e(i,o){this.le(o,25),this.Ie(i,o)}Ie(i,o){o.de(i)}ye(i,o){const d=i.fields||{};this.le(o,55);for(const g of Object.keys(d))this._e(g,o),this.ae(d[g],o)}pe(i,o){const d=i.values||[];this.le(o,50);for(const g of d)this.ae(g,o)}ge(i,o){this.le(o,37),jn.fromName(i).path.forEach(d=>{this.le(o,60),this.Ie(d,o)})}le(i,o){i.fe(o)}we(i){i.fe(2)}}function Zy(l){if(0===l)return 8;let i=0;return l>>4==0&&(i+=4,l<<=4),l>>6==0&&(i+=2,l<<=2),l>>7==0&&(i+=1),i}function gv(l){const i=64-function(o){let d=0;for(let g=0;g<8;++g){const y=Zy(255&o[g]);if(d+=y,8!==y)break}return d}(l);return Math.ceil(i/8)}gu.Te=new gu;class Jo{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(i){const o=i[Symbol.iterator]();let d=o.next();for(;!d.done;)this.Ae(d.value),d=o.next();this.Re()}be(i){const o=i[Symbol.iterator]();let d=o.next();for(;!d.done;)this.Pe(d.value),d=o.next();this.ve()}Ve(i){for(const o of i){const d=o.charCodeAt(0);if(d<128)this.Ae(d);else if(d<2048)this.Ae(960|d>>>6),this.Ae(128|63&d);else if(o<"\ud800"||"\udbff"<o)this.Ae(480|d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d);else{const g=o.codePointAt(0);this.Ae(240|g>>>18),this.Ae(128|63&g>>>12),this.Ae(128|63&g>>>6),this.Ae(128|63&g)}}this.Re()}Se(i){for(const o of i){const d=o.charCodeAt(0);if(d<128)this.Pe(d);else if(d<2048)this.Pe(960|d>>>6),this.Pe(128|63&d);else if(o<"\ud800"||"\udbff"<o)this.Pe(480|d>>>12),this.Pe(128|63&d>>>6),this.Pe(128|63&d);else{const g=o.codePointAt(0);this.Pe(240|g>>>18),this.Pe(128|63&g>>>12),this.Pe(128|63&g>>>6),this.Pe(128|63&g)}}this.ve()}De(i){const o=this.Ce(i),d=gv(o);this.xe(1+d),this.buffer[this.position++]=255&d;for(let g=o.length-d;g<o.length;++g)this.buffer[this.position++]=255&o[g]}Ne(i){const o=this.Ce(i),d=gv(o);this.xe(1+d),this.buffer[this.position++]=~(255&d);for(let g=o.length-d;g<o.length;++g)this.buffer[this.position++]=~(255&o[g])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(i){this.xe(i.length),this.buffer.set(i,this.position),this.position+=i.length}$e(){return this.buffer.slice(0,this.position)}Ce(i){const o=function(g){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,g,!1),new Uint8Array(y.buffer)}(i),d=0!=(128&o[0]);o[0]^=d?255:128;for(let g=1;g<o.length;++g)o[g]^=d?255:0;return o}Ae(i){const o=255&i;0===o?(this.Oe(0),this.Oe(255)):255===o?(this.Oe(255),this.Oe(0)):this.Oe(o)}Pe(i){const o=255&i;0===o?(this.Fe(0),this.Fe(255)):255===o?(this.Fe(255),this.Fe(0)):this.Fe(i)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(i){this.xe(1),this.buffer[this.position++]=i}Fe(i){this.xe(1),this.buffer[this.position++]=~i}xe(i){const o=i+this.position;if(o<=this.buffer.length)return;let d=2*this.buffer.length;d<o&&(d=o);const g=new Uint8Array(d);g.set(this.buffer),this.buffer=g}}class rc{constructor(i){this.Be=i}me(i){this.Be.Ee(i)}de(i){this.Be.Ve(i)}fe(i){this.Be.De(i)}he(){this.Be.ke()}}class am{constructor(i){this.Be=i}me(i){this.Be.be(i)}de(i){this.Be.Se(i)}fe(i){this.Be.Ne(i)}he(){this.Be.Me()}}class mu{constructor(){this.Be=new Jo,this.Le=new rc(this.Be),this.Ue=new am(this.Be)}seed(i){this.Be.seed(i)}qe(i){return 0===i?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class rs{constructor(i,o,d,g){this.indexId=i,this.documentKey=o,this.arrayValue=d,this.directionalValue=g}Ke(){const i=this.directionalValue.length,o=0===i||255===this.directionalValue[i-1]?i+1:i,d=new Uint8Array(o);return d.set(this.directionalValue,0),o!==i?d.set([0],this.directionalValue.length):++d[d.length-1],new rs(this.indexId,this.documentKey,this.arrayValue,d)}}function El(l,i){let o=l.indexId-i.indexId;return 0!==o?o:(o=lm(l.arrayValue,i.arrayValue),0!==o?o:(o=lm(l.directionalValue,i.directionalValue),0!==o?o:jn.comparator(l.documentKey,i.documentKey)))}function lm(l,i){for(let o=0;o<l.length&&o<i.length;++o){const d=l[o]-i[o];if(0!==d)return d}return l.length-i.length}class qy{constructor(i){this.collectionId=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment(),this.Ge=i.orderBy,this.Qe=[];for(const o of i.filters){const d=o;d.dt()?this.je=d:this.Qe.push(d)}}We(i){const o=jr(i);if(void 0!==o&&!this.ze(o))return!1;const d=ca(i);let g=0,y=0;for(;g<d.length&&this.ze(d[g]);++g);if(g===d.length)return!0;if(void 0!==this.je){const E=d[g];if(!this.He(this.je,E)||!this.Je(this.Ge[y++],E))return!1;++g}for(;g<d.length;++g){const E=d[g];if(y>=this.Ge.length||!this.Je(this.Ge[y++],E))return!1}return!0}ze(i){for(const o of this.Qe)if(this.He(o,i))return!0;return!1}He(i,o){return!(void 0===i||!i.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===i.op||"array-contains-any"===i.op)}Je(i,o){return!!i.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===i.dir||1===o.kind&&"desc"===i.dir)}}class mv{constructor(){this.Ye=new sc}addToCollectionParentIndex(i,o){return this.Ye.add(o),an.resolve()}getCollectionParents(i,o){return an.resolve(this.Ye.getEntries(o))}addFieldIndex(i,o){return an.resolve()}deleteFieldIndex(i,o){return an.resolve()}getDocumentsMatchingTarget(i,o){return an.resolve(null)}getIndexType(i,o){return an.resolve(0)}getFieldIndexes(i,o){return an.resolve([])}getNextCollectionGroupToUpdate(i){return an.resolve(null)}getMinOffset(i,o){return an.resolve(Mo.min())}getMinOffsetFromCollectionGroup(i,o){return an.resolve(Mo.min())}updateCollectionGroup(i,o,d){return an.resolve()}updateIndexEntries(i,o){return an.resolve()}}class sc{constructor(){this.index={}}add(i){const o=i.lastSegment(),d=i.popLast(),g=this.index[o]||new Mi(Hi.comparator),y=!g.has(d);return this.index[o]=g.add(d),y}has(i){const o=i.lastSegment(),d=i.popLast(),g=this.index[o];return g&&g.has(d)}getEntries(i){return(this.index[i]||new Mi(Hi.comparator)).toArray()}}const Xd=new Uint8Array(0);class ld{constructor(i,o){this.user=i,this.databaseId=o,this.Xe=new sc,this.Ze=new Yt(d=>Ko(d),(d,g)=>Zu(d,g)),this.uid=i.uid||""}addToCollectionParentIndex(i,o){if(!this.Xe.has(o)){const d=o.lastSegment(),g=o.popLast();i.addOnCommittedListener(()=>{this.Xe.add(o)});const y={collectionId:d,parent:Qo(g)};return cm(i).put(y)}return an.resolve()}getCollectionParents(i,o){const d=[],g=IDBKeyRange.bound([o,""],[Io(o),""],!1,!0);return cm(i).W(g).next(y=>{for(const E of y){if(E.collectionId!==o)break;d.push(fu(E.parent))}return d})}addFieldIndex(i,o){const d=_u(i),g={indexId:(E=o).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var E;delete g.indexId;const y=d.add(g);if(o.indexState){const E=Tl(i);return y.next(L=>{E.put(pv(L,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return y.next()}deleteFieldIndex(i,o){const d=_u(i),g=Tl(i),y=cd(i);return d.delete(o.indexId).next(()=>g.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(i,o){const d=cd(i);let g=!0;const y=new Map;return an.forEach(this.tn(o),E=>this.en(i,E).next(L=>{g&&(g=!!L),y.set(E,L)})).next(()=>{if(g){let E=Ni();const L=[];return an.forEach(y,(ee,fe)=>{var Xe;Bn("IndexedDbIndexManager",`Using index ${Xe=ee,`id=${Xe.indexId}|cg=${Xe.collectionGroup}|f=${Xe.fields.map(pr=>`${pr.fieldPath}:${pr.kind}`).join(",")}`} to execute ${Ko(o)}`);const xt=function(pr,vs){const Vr=jr(vs);if(void 0===Vr)return null;for(const ir of ou(pr,Vr.fieldPath))switch(ir.op){case"array-contains-any":return ir.value.arrayValue.values||[];case"array-contains":return[ir.value]}return null}(fe,ee),sn=function(pr,vs){const Vr=new Map;for(const ir of ca(vs))for(const bo of ou(pr,ir.fieldPath))switch(bo.op){case"==":case"in":Vr.set(ir.fieldPath.canonicalString(),bo.value);break;case"not-in":case"!=":return Vr.set(ir.fieldPath.canonicalString(),bo.value),Array.from(Vr.values())}return null}(fe,ee),wn=function(pr,vs){const Vr=[];let ir=!0;for(const bo of ca(vs)){const Mh=0===bo.kind?xc(pr,bo.fieldPath,pr.startAt):qu(pr,bo.fieldPath,pr.startAt);Vr.push(Mh.value),ir&&(ir=Mh.inclusive)}return new ko(Vr,ir)}(fe,ee),Mn=function(pr,vs){const Vr=[];let ir=!0;for(const bo of ca(vs)){const Mh=0===bo.kind?qu(pr,bo.fieldPath,pr.endAt):xc(pr,bo.fieldPath,pr.endAt);Vr.push(Mh.value),ir&&(ir=Mh.inclusive)}return new ko(Vr,ir)}(fe,ee),si=this.nn(ee,fe,wn),di=this.nn(ee,fe,Mn),Qi=this.sn(ee,fe,sn),Br=this.rn(ee.indexId,xt,si,wn.inclusive,di,Mn.inclusive,Qi);return an.forEach(Br,pr=>d.J(pr,o.limit).next(vs=>{vs.forEach(Vr=>{const ir=jn.fromSegments(Vr.documentKey);E.has(ir)||(E=E.add(ir),L.push(ir))})}))}).next(()=>L)}return an.resolve(null)})}tn(i){let o=this.Ze.get(i);return o||(o=[i],this.Ze.set(i,o),o)}rn(i,o,d,g,y,E,L){const ee=(null!=o?o.length:1)*Math.max(d.length,y.length),fe=ee/(null!=o?o.length:1),Xe=[];for(let xt=0;xt<ee;++xt){const sn=o?this.on(o[xt/fe]):Xd,wn=this.un(i,sn,d[xt%fe],g),Mn=this.cn(i,sn,y[xt%fe],E),si=L.map(di=>this.un(i,sn,di,!0));Xe.push(...this.createRange(wn,Mn,si))}return Xe}un(i,o,d,g){const y=new rs(i,jn.empty(),o,d);return g?y:y.Ke()}cn(i,o,d,g){const y=new rs(i,jn.empty(),o,d);return g?y.Ke():y}en(i,o){const d=new qy(o),g=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(i,g).next(y=>{let E=null;for(const L of y)d.We(L)&&(!E||L.fields.length>E.fields.length)&&(E=L);return E})}getIndexType(i,o){let d=2;return an.forEach(this.tn(o),g=>this.en(i,g).next(y=>{y?0!==d&&y.fields.length<function(E){let L=new Mi(kr.comparator),ee=!1;for(const fe of E.filters){const Xe=fe;Xe.field.isKeyField()||("array-contains"===Xe.op||"array-contains-any"===Xe.op?ee=!0:L=L.add(Xe.field))}for(const fe of E.orderBy)fe.field.isKeyField()||(L=L.add(fe.field));return L.size+(ee?1:0)}(g)&&(d=1):d=0})).next(()=>d)}an(i,o){const d=new mu;for(const g of ca(i)){const y=o.data.field(g.fieldPath);if(null==y)return null;const E=d.qe(g.kind);gu.Te.ce(y,E)}return d.$e()}on(i){const o=new mu;return gu.Te.ce(i,o.qe(0)),o.$e()}hn(i,o){const d=new mu;return gu.Te.ce(js(this.databaseId,o),d.qe(function(g){const y=ca(g);return 0===y.length?0:y[y.length-1].kind}(i))),d.$e()}sn(i,o,d){if(null===d)return[];let g=[];g.push(new mu);let y=0;for(const E of ca(i)){const L=d[y++];for(const ee of g)if(this.ln(o,E.fieldPath)&&Xl(L))g=this.fn(g,E,L);else{const fe=ee.qe(E.kind);gu.Te.ce(L,fe)}}return this.dn(g)}nn(i,o,d){return this.sn(i,o,d.position)}dn(i){const o=[];for(let d=0;d<i.length;++d)o[d]=i[d].$e();return o}fn(i,o,d){const g=[...i],y=[];for(const E of d.arrayValue.values||[])for(const L of g){const ee=new mu;ee.seed(L.$e()),gu.Te.ce(E,ee.qe(o.kind)),y.push(ee)}return y}ln(i,o){return!!i.filters.find(d=>d instanceof qr&&d.field.isEqual(o)&&("in"===d.op||"not-in"===d.op))}getFieldIndexes(i,o){const d=_u(i),g=Tl(i);return(o?d.W("collectionGroupIndex",IDBKeyRange.bound(o,o)):d.W()).next(y=>{const E=[];return an.forEach(y,L=>g.get([L.indexId,this.uid]).next(ee=>{E.push(function(fe,Xe){const xt=Xe?new tl(Xe.sequenceNumber,new Mo(Xo(Xe.readTime),new jn(fu(Xe.documentKey)),Xe.largestBatchId)):tl.empty(),sn=fe.fields.map(([wn,Mn])=>new Rr(kr.fromServerFormat(wn),Mn));return new Na(fe.indexId,fe.collectionGroup,sn,xt)}(L,ee))})).next(()=>E)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(o=>0===o.length?null:(o.sort((d,g)=>{const y=d.indexState.sequenceNumber-g.indexState.sequenceNumber;return 0!==y?y:ci(d.collectionGroup,g.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(i,o,d){const g=_u(i),y=Tl(i);return this._n(i).next(E=>g.W("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(L=>an.forEach(L,ee=>y.put(pv(ee.indexId,this.user,E,d)))))}updateIndexEntries(i,o){const d=new Map;return an.forEach(o,(g,y)=>{const E=d.get(g.collectionGroup);return(E?an.resolve(E):this.getFieldIndexes(i,g.collectionGroup)).next(L=>(d.set(g.collectionGroup,L),an.forEach(L,ee=>this.wn(i,g,ee).next(fe=>{const Xe=this.mn(y,ee);return fe.isEqual(Xe)?an.resolve():this.gn(i,y,ee,fe,Xe)}))))})}yn(i,o,d,g){return cd(i).put({indexId:g.indexId,uid:this.uid,arrayValue:g.arrayValue,directionalValue:g.directionalValue,orderedDocumentKey:this.hn(d,o.key),documentKey:o.key.path.toArray()})}pn(i,o,d,g){return cd(i).delete([g.indexId,this.uid,g.arrayValue,g.directionalValue,this.hn(d,o.key),o.key.path.toArray()])}wn(i,o,d){const g=cd(i);let y=new Mi(El);return g.Z({index:"documentKeyIndex",range:IDBKeyRange.only([d.indexId,this.uid,this.hn(d,o)])},(E,L)=>{y=y.add(new rs(d.indexId,o,L.arrayValue,L.directionalValue))}).next(()=>y)}mn(i,o){let d=new Mi(El);const g=this.an(o,i);if(null==g)return d;const y=jr(o);if(null!=y){const E=i.data.field(y.fieldPath);if(Xl(E))for(const L of E.arrayValue.values||[])d=d.add(new rs(o.indexId,i.key,this.on(L),g))}else d=d.add(new rs(o.indexId,i.key,Xd,g));return d}gn(i,o,d,g,y){Bn("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const E=[];return function(L,ee,fe,Xe,xt){const sn=L.getIterator(),wn=ee.getIterator();let Mn=Ba(sn),si=Ba(wn);for(;Mn||si;){let di=!1,Qi=!1;if(Mn&&si){const Br=fe(Mn,si);Br<0?Qi=!0:Br>0&&(di=!0)}else null!=Mn?Qi=!0:di=!0;di?(Xe(si),si=Ba(wn)):Qi?(xt(Mn),Mn=Ba(sn)):(Mn=Ba(sn),si=Ba(wn))}}(g,y,El,L=>{E.push(this.yn(i,o,d,L))},L=>{E.push(this.pn(i,o,d,L))}),an.waitFor(E)}_n(i){let o=1;return Tl(i).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(d,g,y)=>{y.done(),o=g.sequenceNumber+1}).next(()=>o)}createRange(i,o,d){d=d.sort((E,L)=>El(E,L)).filter((E,L,ee)=>!L||0!==El(E,ee[L-1]));const g=[];g.push(i);for(const E of d){const L=El(E,i),ee=El(E,o);if(0===L)g[0]=i.Ke();else if(L>0&&ee<0)g.push(E),g.push(E.Ke());else if(ee>0)break}g.push(o);const y=[];for(let E=0;E<g.length;E+=2)y.push(IDBKeyRange.bound([g[E].indexId,this.uid,g[E].arrayValue,g[E].directionalValue,Xd,[]],[g[E+1].indexId,this.uid,g[E+1].arrayValue,g[E+1].directionalValue,Xd,[]]));return y}getMinOffsetFromCollectionGroup(i,o){return this.getFieldIndexes(i,o).next(um)}getMinOffset(i,o){return an.mapArray(this.tn(o),d=>this.en(i,d).next(g=>g||ui())).next(um)}}function cm(l){return mo(l,"collectionParents")}function cd(l){return mo(l,"indexEntries")}function _u(l){return mo(l,"indexConfiguration")}function Tl(l){return mo(l,"indexState")}function um(l){Ei(0!==l.length);let i=l[0].indexState.offset,o=i.largestBatchId;for(let d=1;d<l.length;d++){const g=l[d].indexState.offset;Yu(g,i)<0&&(i=g),o<g.largestBatchId&&(o=g.largestBatchId)}return new Mo(i.readTime,i.documentKey,o)}const dm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class br{constructor(i,o,d){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=d}static withCacheSize(i){return new br(i,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sl(l,i,o){const d=l.store("mutations"),g=l.store("documentMutations"),y=[],E=IDBKeyRange.only(o.batchId);let L=0;const ee=d.Z({range:E},(Xe,xt,sn)=>(L++,sn.delete()));y.push(ee.next(()=>{Ei(1===L)}));const fe=[];for(const Xe of o.mutations){const xt=zy(i,Xe.key.path,o.batchId);y.push(g.delete(xt)),fe.push(Xe.key)}return an.waitFor(y).next(()=>fe)}function pa(l){if(!l)return 0;let i;if(l.document)i=l.document;else if(l.unknownDocument)i=l.unknownDocument;else{if(!l.noDocument)throw ui();i=l.noDocument}return JSON.stringify(i).length}br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(41943040,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);class Ha{constructor(i,o,d,g){this.userId=i,this.It=o,this.indexManager=d,this.referenceDelegate=g,this.In={}}static oe(i,o,d,g){Ei(""!==i.uid);const y=i.isAuthenticated()?i.uid:"";return new Ha(y,o,d,g)}checkEmpty(i){let o=!0;const d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ud(i).Z({index:"userMutationsIndex",range:d},(g,y,E)=>{o=!1,E.done()}).next(()=>o)}addMutationBatch(i,o,d,g){const y=vu(i),E=ud(i);return E.add({}).next(L=>{Ei("number"==typeof L);const ee=new sm(L,o,d,g),fe=function(sn,wn,Mn){const si=Mn.baseMutations.map(Qi=>Fp(sn.re,Qi)),di=Mn.mutations.map(Qi=>Fp(sn.re,Qi));return{userId:wn,batchId:Mn.batchId,localWriteTimeMs:Mn.localWriteTime.toMillis(),baseMutations:si,mutations:di}}(this.It,this.userId,ee),Xe=[];let xt=new Mi((sn,wn)=>ci(sn.canonicalString(),wn.canonicalString()));for(const sn of g){const wn=zy(this.userId,sn.key.path,L);xt=xt.add(sn.key.path.popLast()),Xe.push(E.put(fe)),Xe.push(y.put(wn,uf))}return xt.forEach(sn=>{Xe.push(this.indexManager.addToCollectionParentIndex(i,sn))}),i.addOnCommittedListener(()=>{this.In[L]=ee.keys()}),an.waitFor(Xe).next(()=>ee)})}lookupMutationBatch(i,o){return ud(i).get(o).next(d=>d?(Ei(d.userId===this.userId),pu(this.It,d)):null)}Tn(i,o){return this.In[o]?an.resolve(this.In[o]):this.lookupMutationBatch(i,o).next(d=>{if(d){const g=d.keys();return this.In[o]=g,g}return null})}getNextMutationBatchAfterBatchId(i,o){const d=o+1,g=IDBKeyRange.lowerBound([this.userId,d]);let y=null;return ud(i).Z({index:"userMutationsIndex",range:g},(E,L,ee)=>{L.userId===this.userId&&(Ei(L.batchId>=d),y=pu(this.It,L)),ee.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(i){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let d=-1;return ud(i).Z({index:"userMutationsIndex",range:o,reverse:!0},(g,y,E)=>{d=y.batchId,E.done()}).next(()=>d)}getAllMutationBatches(i){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ud(i).W("userMutationsIndex",o).next(d=>d.map(g=>pu(this.It,g)))}getAllMutationBatchesAffectingDocumentKey(i,o){const d=ad(this.userId,o.path),g=IDBKeyRange.lowerBound(d),y=[];return vu(i).Z({range:g},(E,L,ee)=>{const[fe,Xe,xt]=E,sn=fu(Xe);if(fe===this.userId&&o.path.isEqual(sn))return ud(i).get(xt).next(wn=>{if(!wn)throw ui();Ei(wn.userId===this.userId),y.push(pu(this.It,wn))});ee.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(i,o){let d=new Mi(ci);const g=[];return o.forEach(y=>{const E=ad(this.userId,y.path),L=IDBKeyRange.lowerBound(E),ee=vu(i).Z({range:L},(fe,Xe,xt)=>{const[sn,wn,Mn]=fe,si=fu(wn);sn===this.userId&&y.path.isEqual(si)?d=d.add(Mn):xt.done()});g.push(ee)}),an.waitFor(g).next(()=>this.En(i,d))}getAllMutationBatchesAffectingQuery(i,o){const d=o.path,g=d.length+1,y=ad(this.userId,d),E=IDBKeyRange.lowerBound(y);let L=new Mi(ci);return vu(i).Z({range:E},(ee,fe,Xe)=>{const[xt,sn,wn]=ee,Mn=fu(sn);xt===this.userId&&d.isPrefixOf(Mn)?Mn.length===g&&(L=L.add(wn)):Xe.done()}).next(()=>this.En(i,L))}En(i,o){const d=[],g=[];return o.forEach(y=>{g.push(ud(i).get(y).next(E=>{if(null===E)throw ui();Ei(E.userId===this.userId),d.push(pu(this.It,E))}))}),an.waitFor(g).next(()=>d)}removeMutationBatch(i,o){return Sl(i.ie,this.userId,o).next(d=>(i.addOnCommittedListener(()=>{this.An(o.batchId)}),an.forEach(d,g=>this.referenceDelegate.markPotentiallyOrphaned(i,g))))}An(i){delete this.In[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(o=>{if(!o)return an.resolve();const d=IDBKeyRange.lowerBound([this.userId]),g=[];return vu(i).Z({range:d},(y,E,L)=>{if(y[0]===this.userId){const ee=fu(y[1]);g.push(ee)}else L.done()}).next(()=>{Ei(0===g.length)})})}containsKey(i,o){return _o(i,this.userId,o)}Rn(i){return hm(i).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _o(l,i,o){const d=ad(i,o.path),g=d[1],y=IDBKeyRange.lowerBound(d);let E=!1;return vu(l).Z({range:y,X:!0},(L,ee,fe)=>{const[Xe,xt,sn]=L;Xe===i&&xt===g&&(E=!0),fe.done()}).next(()=>E)}function ud(l){return mo(l,"mutations")}function vu(l){return mo(l,"documentMutations")}function hm(l){return mo(l,"mutationQueues")}class ga{constructor(i){this.bn=i}next(){return this.bn+=2,this.bn}static Pn(){return new ga(0)}static vn(){return new ga(-1)}}class $s{constructor(i,o){this.referenceDelegate=i,this.It=o}allocateTargetId(i){return this.Vn(i).next(o=>{const d=new ga(o.highestTargetId);return o.highestTargetId=d.next(),this.Sn(i,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.Vn(i).next(o=>Ci.fromTimestamp(new dr(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.Vn(i).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(i,o,d){return this.Vn(i).next(g=>(g.highestListenSequenceNumber=o,d&&(g.lastRemoteSnapshotVersion=d.toTimestamp()),o>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=o),this.Sn(i,g)))}addTargetData(i,o){return this.Dn(i,o).next(()=>this.Vn(i).next(d=>(d.targetCount+=1,this.Cn(o,d),this.Sn(i,d))))}updateTargetData(i,o){return this.Dn(i,o)}removeTargetData(i,o){return this.removeMatchingKeysForTargetId(i,o.targetId).next(()=>ma(i).delete(o.targetId)).next(()=>this.Vn(i)).next(d=>(Ei(d.targetCount>0),d.targetCount-=1,this.Sn(i,d)))}removeTargets(i,o,d){let g=0;const y=[];return ma(i).Z((E,L)=>{const ee=ff(L);ee.sequenceNumber<=o&&null===d.get(ee.targetId)&&(g++,y.push(this.removeTargetData(i,ee)))}).next(()=>an.waitFor(y)).next(()=>g)}forEachTarget(i,o){return ma(i).Z((d,g)=>{const y=ff(g);o(y)})}Vn(i){return Yp(i).get("targetGlobalKey").next(o=>(Ei(null!==o),o))}Sn(i,o){return Yp(i).put("targetGlobalKey",o)}Dn(i,o){return ma(i).put(fv(this.It,o))}Cn(i,o){let d=!1;return i.targetId>o.highestTargetId&&(o.highestTargetId=i.targetId,d=!0),i.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=i.sequenceNumber,d=!0),d}getTargetCount(i){return this.Vn(i).next(o=>o.targetCount)}getTargetData(i,o){const d=Ko(o),g=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]);let y=null;return ma(i).Z({range:g,index:"queryTargetsIndex"},(E,L,ee)=>{const fe=ff(L);Zu(o,fe.target)&&(y=fe,ee.done())}).next(()=>y)}addMatchingKeys(i,o,d){const g=[],y=sl(i);return o.forEach(E=>{const L=Qo(E.path);g.push(y.put({targetId:d,path:L})),g.push(this.referenceDelegate.addReference(i,d,E))}),an.waitFor(g)}removeMatchingKeys(i,o,d){const g=sl(i);return an.forEach(o,y=>{const E=Qo(y.path);return an.waitFor([g.delete([d,E]),this.referenceDelegate.removeReference(i,d,y)])})}removeMatchingKeysForTargetId(i,o){const d=sl(i),g=IDBKeyRange.bound([o],[o+1],!1,!0);return d.delete(g)}getMatchingKeysForTargetId(i,o){const d=IDBKeyRange.bound([o],[o+1],!1,!0),g=sl(i);let y=Ni();return g.Z({range:d,X:!0},(E,L,ee)=>{const fe=fu(E[1]),Xe=new jn(fe);y=y.add(Xe)}).next(()=>y)}containsKey(i,o){const d=Qo(o.path),g=IDBKeyRange.bound([d],[Io(d)],!1,!0);let y=0;return sl(i).Z({index:"documentTargetsIndex",X:!0,range:g},([E,L],ee,fe)=>{0!==E&&(y++,fe.done())}).next(()=>y>0)}se(i,o){return ma(i).get(o).next(d=>d?ff(d):null)}}function ma(l){return mo(l,"targets")}function Yp(l){return mo(l,"targetGlobal")}function sl(l){return mo(l,"targetDocuments")}function mf([l,i],[o,d]){const g=ci(l,o);return 0===g?ci(i,d):g}class _v{constructor(i){this.xn=i,this.buffer=new Mi(mf),this.Nn=0}kn(){return++this.Nn}On(i){const o=[i,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(o);else{const d=this.buffer.last();mf(o,d)<0&&(this.buffer=this.buffer.delete(d).add(o))}}get maxValue(){return this.buffer.last()[0]}}class _s{constructor(i,o,d){this.garbageCollector=i,this.asyncQueue=o,this.localStore=d,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(i){var o=this;Bn("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,m.Z)(function*(){o.Mn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(d){eo(d)?Bn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield ua(d)}yield o.Fn(3e5)}))}}class vv{constructor(i,o){this.$n=i,this.params=o}calculateTargetCount(i,o){return this.$n.Bn(i).next(d=>Math.floor(o/100*d))}nthSequenceNumber(i,o){if(0===o)return an.resolve(fo.at);const d=new _v(o);return this.$n.forEachTarget(i,g=>d.On(g.sequenceNumber)).next(()=>this.$n.Ln(i,g=>d.On(g))).next(()=>d.maxValue)}removeTargets(i,o,d){return this.$n.removeTargets(i,o,d)}removeOrphanedDocuments(i,o){return this.$n.removeOrphanedDocuments(i,o)}collect(i,o){return-1===this.params.cacheSizeCollectionThreshold?(Bn("LruGarbageCollector","Garbage collection skipped; disabled"),an.resolve(dm)):this.getCacheSize(i).next(d=>d<this.params.cacheSizeCollectionThreshold?(Bn("LruGarbageCollector",`Garbage collection skipped; Cache size ${d} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dm):this.Un(i,o))}getCacheSize(i){return this.$n.getCacheSize(i)}Un(i,o){let d,g,y,E,L,ee,fe;const Xe=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(xt=>(xt>this.params.maximumSequenceNumbersToCollect?(Bn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xt}`),g=this.params.maximumSequenceNumbersToCollect):g=xt,E=Date.now(),this.nthSequenceNumber(i,g))).next(xt=>(d=xt,L=Date.now(),this.removeTargets(i,d,o))).next(xt=>(y=xt,ee=Date.now(),this.removeOrphanedDocuments(i,d))).next(xt=>(fe=Date.now(),ps()<=Se.in.DEBUG&&Bn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Xe}ms\n\tDetermined least recently used ${g} in `+(L-E)+`ms\n\tRemoved ${y} targets in `+(ee-L)+`ms\n\tRemoved ${xt} documents in `+(fe-ee)+`ms\nTotal Duration: ${fe-Xe}ms`),an.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:y,documentsRemoved:xt})))}}class Qy{constructor(i,o){this.db=i,this.garbageCollector=new vv(this,o)}Bn(i){const o=this.qn(i);return this.db.getTargetCache().getTargetCount(i).next(d=>o.next(g=>d+g))}qn(i){let o=0;return this.Ln(i,d=>{o++}).next(()=>o)}forEachTarget(i,o){return this.db.getTargetCache().forEachTarget(i,o)}Ln(i,o){return this.Kn(i,(d,g)=>o(g))}addReference(i,o,d){return Jd(i,d)}removeReference(i,o,d){return Jd(i,d)}removeTargets(i,o,d){return this.db.getTargetCache().removeTargets(i,o,d)}markPotentiallyOrphaned(i,o){return Jd(i,o)}Gn(i,o){return function(d,g){let y=!1;return hm(d).tt(E=>_o(d,E,g).next(L=>(L&&(y=!0),an.resolve(!L)))).next(()=>y)}(i,o)}removeOrphanedDocuments(i,o){const d=this.db.getRemoteDocumentCache().newChangeBuffer(),g=[];let y=0;return this.Kn(i,(E,L)=>{if(L<=o){const ee=this.Gn(i,E).next(fe=>{if(!fe)return y++,d.getEntry(i,E).next(()=>(d.removeEntry(E,Ci.min()),sl(i).delete([0,Qo(E.path)])))});g.push(ee)}}).next(()=>an.waitFor(g)).next(()=>d.apply(i)).next(()=>y)}removeTarget(i,o){const d=o.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,d)}updateLimboDocument(i,o){return Jd(i,o)}Kn(i,o){const d=sl(i);let g,y=fo.at;return d.Z({index:"documentTargetsIndex"},([E,L],{path:ee,sequenceNumber:fe})=>{0===E?(y!==fo.at&&o(new jn(fu(g)),y),y=fe,g=ee):y=fo.at}).next(()=>{y!==fo.at&&o(new jn(fu(g)),y)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Jd(l,i){return sl(l).put((d=l.currentSequenceNumber,{targetId:0,path:Qo(i.path),sequenceNumber:d}));var d}class Kp{constructor(){this.changes=new Yt(i=>i.toString(),(i,o)=>i.isEqual(o)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,o){this.assertNotApplied(),this.changes.set(i,yr.newInvalidDocument(i).setReadTime(o))}getEntry(i,o){this.assertNotApplied();const d=this.changes.get(o);return void 0!==d?an.resolve(d):this.getFromCache(i,o)}getEntries(i,o){return this.getAllFromCache(i,o)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class yv{constructor(i){this.It=i}setIndexManager(i){this.indexManager=i}addEntry(i,o,d){return Ua(i).put(d)}removeEntry(i,o,d){return Ua(i).delete(function(g,y){const E=g.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Gp(y),E[E.length-1]]}(o,d))}updateMetadata(i,o){return this.getMetadata(i).next(d=>(d.byteSize+=o,this.Qn(i,d)))}getEntry(i,o){let d=yr.newInvalidDocument(o);return Ua(i).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_f(o))},(g,y)=>{d=this.jn(o,y)}).next(()=>d)}Wn(i,o){let d={size:0,document:yr.newInvalidDocument(o)};return Ua(i).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_f(o))},(g,y)=>{d={document:this.jn(o,y),size:pa(y)}}).next(()=>d)}getEntries(i,o){let d=xs();return this.zn(i,o,(g,y)=>{const E=this.jn(g,y);d=d.insert(g,E)}).next(()=>d)}Hn(i,o){let d=xs(),g=new hr(jn.comparator);return this.zn(i,o,(y,E)=>{const L=this.jn(y,E);d=d.insert(y,L),g=g.insert(y,pa(E))}).next(()=>({documents:d,Jn:g}))}zn(i,o,d){if(o.isEmpty())return an.resolve();let g=new Mi(wv);o.forEach(ee=>g=g.add(ee));const y=IDBKeyRange.bound(_f(g.first()),_f(g.last())),E=g.getIterator();let L=E.getNext();return Ua(i).Z({index:"documentKeyIndex",range:y},(ee,fe,Xe)=>{const xt=jn.fromSegments([...fe.prefixPath,fe.collectionGroup,fe.documentId]);for(;L&&wv(L,xt)<0;)d(L,null),L=E.getNext();L&&L.isEqual(xt)&&(d(L,fe),L=E.hasNext()?E.getNext():null),L?Xe.j(_f(L)):Xe.done()}).next(()=>{for(;L;)d(L,null),L=E.hasNext()?E.getNext():null})}getAllFromCollection(i,o,d){const g=[o.popLast().toArray(),o.lastSegment(),Gp(d.readTime),d.documentKey.path.isEmpty()?"":d.documentKey.path.lastSegment()],y=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(i).W(IDBKeyRange.bound(g,y,!0)).next(E=>{let L=xs();for(const ee of E){const fe=this.jn(jn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);L=L.insert(fe.key,fe)}return L})}getAllFromCollectionGroup(i,o,d,g){let y=xs();const E=bu(o,d),L=bu(o,Mo.max());return Ua(i).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,L,!0)},(ee,fe,Xe)=>{const xt=this.jn(jn.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);y=y.insert(xt.key,xt),y.size===g&&Xe.done()}).next(()=>y)}newChangeBuffer(i){return new yu(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(o=>o.byteSize)}getMetadata(i){return dd(i).get("remoteDocumentGlobalKey").next(o=>(Ei(!!o),o))}Qn(i,o){return dd(i).put("remoteDocumentGlobalKey",o)}jn(i,o){if(o){const d=function hv(l,i){let o;if(i.document)o=Vy(l.re,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const d=jn.fromSegments(i.noDocument.path),g=Xo(i.noDocument.readTime);o=yr.newNoDocument(d,g),i.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!i.unknownDocument)return ui();{const d=jn.fromSegments(i.unknownDocument.path),g=Xo(i.unknownDocument.version);o=yr.newUnknownDocument(d,g)}}return i.readTime&&o.setReadTime(function(d){const g=new dr(d[0],d[1]);return Ci.fromTimestamp(g)}(i.readTime)),o}(this.It,o);if(!d.isNoDocument()||!d.version.isEqual(Ci.min()))return d}return yr.newInvalidDocument(i)}}function bv(l){return new yv(l)}class yu extends Kp{constructor(i,o){super(),this.Yn=i,this.trackRemovals=o,this.Xn=new Yt(d=>d.toString(),(d,g)=>d.isEqual(g))}applyChanges(i){const o=[];let d=0,g=new Mi((y,E)=>ci(y.canonicalString(),E.canonicalString()));return this.changes.forEach((y,E)=>{const L=this.Xn.get(y);if(o.push(this.Yn.removeEntry(i,y,L.readTime)),E.isValidDocument()){const ee=Qd(this.Yn.It,E);g=g.add(y.path.popLast()),d+=pa(ee)-L.size,o.push(this.Yn.addEntry(i,y,ee))}else if(d-=L.size,this.trackRemovals){const ee=Qd(this.Yn.It,E.convertToNoDocument(Ci.min()));o.push(this.Yn.addEntry(i,y,ee))}}),g.forEach(y=>{o.push(this.Yn.indexManager.addToCollectionParentIndex(i,y))}),o.push(this.Yn.updateMetadata(i,d)),an.waitFor(o)}getFromCache(i,o){return this.Yn.Wn(i,o).next(d=>(this.Xn.set(o,{size:d.size,readTime:d.document.readTime}),d.document))}getAllFromCache(i,o){return this.Yn.Hn(i,o).next(({documents:d,Jn:g})=>(g.forEach((y,E)=>{this.Xn.set(y,{size:E,readTime:d.get(y).readTime})}),d))}}function dd(l){return mo(l,"remoteDocumentGlobal")}function Ua(l){return mo(l,"remoteDocumentsV14")}function _f(l){const i=l.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function bu(l,i){const o=i.documentKey.path.toArray();return[l,Gp(i.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function wv(l,i){const o=l.path.toArray(),d=i.path.toArray();let g=0;for(let y=0;y<o.length-2&&y<d.length-2;++y)if(g=ci(o[y],d[y]),g)return g;return g=ci(o.length,d.length),g||(g=ci(o[o.length-2],d[d.length-2]),g||ci(o[o.length-1],d[d.length-1]))}class Xy{constructor(i,o){this.overlayedDocument=i,this.mutatedFields=o}}class eh{constructor(i,o,d,g){this.remoteDocumentCache=i,this.mutationQueue=o,this.documentOverlayCache=d,this.indexManager=g}getDocument(i,o){let d=null;return this.documentOverlayCache.getOverlay(i,o).next(g=>(d=g,this.getBaseDocument(i,o,d))).next(g=>(null!==d&&gi(d.mutation,g,po.empty(),dr.now()),g))}getDocuments(i,o){return this.remoteDocumentCache.getEntries(i,o).next(d=>this.getLocalViewOfDocuments(i,d,Ni()).next(()=>d))}getLocalViewOfDocuments(i,o,d=Ni()){const g=Va();return this.populateOverlays(i,g,o).next(()=>this.computeViews(i,o,g,d).next(y=>{let E=du();return y.forEach((L,ee)=>{E=E.insert(L,ee.overlayedDocument)}),E}))}getOverlayedDocuments(i,o){const d=Va();return this.populateOverlays(i,d,o).next(()=>this.computeViews(i,o,d,Ni()))}populateOverlays(i,o,d){const g=[];return d.forEach(y=>{o.has(y)||g.push(y)}),this.documentOverlayCache.getOverlays(i,g).next(y=>{y.forEach((E,L)=>{o.set(E,L)})})}computeViews(i,o,d,g){let y=xs();const E=fa(),L=fa();return o.forEach((ee,fe)=>{const Xe=d.get(fe.key);g.has(fe.key)&&(void 0===Xe||Xe.mutation instanceof D)?y=y.insert(fe.key,fe):void 0!==Xe&&(E.set(fe.key,Xe.mutation.getFieldMask()),gi(Xe.mutation,fe,Xe.mutation.getFieldMask(),dr.now()))}),this.recalculateAndSaveOverlays(i,y).next(ee=>(ee.forEach((fe,Xe)=>E.set(fe,Xe)),o.forEach((fe,Xe)=>{var xt;return L.set(fe,new Xy(Xe,null!==(xt=E.get(fe))&&void 0!==xt?xt:null))}),L))}recalculateAndSaveOverlays(i,o){const d=fa();let g=new hr((E,L)=>E-L),y=Ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,o).next(E=>{for(const L of E)L.keys().forEach(ee=>{const fe=o.get(ee);if(null===fe)return;let Xe=d.get(ee)||po.empty();Xe=L.applyToLocalView(fe,Xe),d.set(ee,Xe);const xt=(g.get(L.batchId)||Ni()).add(ee);g=g.insert(L.batchId,xt)})}).next(()=>{const E=[],L=g.getReverseIterator();for(;L.hasNext();){const ee=L.getNext(),fe=ee.key,Xe=ee.value,xt=id();Xe.forEach(sn=>{if(!y.has(sn)){const wn=hs(o.get(sn),d.get(sn));null!==wn&&xt.set(sn,wn),y=y.add(sn)}}),E.push(this.documentOverlayCache.saveOverlays(i,fe,xt))}return an.waitFor(E)}).next(()=>d)}recalculateAndSaveOverlaysForDocumentKeys(i,o){return this.remoteDocumentCache.getEntries(i,o).next(d=>this.recalculateAndSaveOverlays(i,d))}getDocumentsMatchingQuery(i,o,d){return jn.isDocumentKey((g=o).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(i,o.path):Kh(o)?this.getDocumentsMatchingCollectionGroupQuery(i,o,d):this.getDocumentsMatchingCollectionQuery(i,o,d);var g}getNextDocuments(i,o,d,g){return this.remoteDocumentCache.getAllFromCollectionGroup(i,o,d,g).next(y=>{const E=g-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,o,d.largestBatchId,g-y.size):an.resolve(Va());let L=-1,ee=y;return E.next(fe=>an.forEach(fe,(Xe,xt)=>(L<xt.largestBatchId&&(L=xt.largestBatchId),y.get(Xe)?an.resolve():this.getBaseDocument(i,Xe,xt).next(sn=>{ee=ee.insert(Xe,sn)}))).next(()=>this.populateOverlays(i,fe,y)).next(()=>this.computeViews(i,ee,fe,Ni())).next(Xe=>({batchId:L,changes:Jh(Xe)})))})}getDocumentsMatchingDocumentQuery(i,o){return this.getDocument(i,new jn(o)).next(d=>{let g=du();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})}getDocumentsMatchingCollectionGroupQuery(i,o,d){const g=o.collectionGroup;let y=du();return this.indexManager.getCollectionParents(i,g).next(E=>an.forEach(E,L=>{const ee=(fe=o,Xe=L.child(g),new tc(Xe,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Xe;return this.getDocumentsMatchingCollectionQuery(i,ee,d).next(fe=>{fe.forEach((Xe,xt)=>{y=y.insert(Xe,xt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(i,o,d){let g;return this.remoteDocumentCache.getAllFromCollection(i,o.path,d).next(y=>(g=y,this.documentOverlayCache.getOverlaysForCollection(i,o.path,d.largestBatchId))).next(y=>{y.forEach((L,ee)=>{const fe=ee.getKey();null===g.get(fe)&&(g=g.insert(fe,yr.newInvalidDocument(fe)))});let E=du();return g.forEach((L,ee)=>{const fe=y.get(L);void 0!==fe&&gi(fe.mutation,ee,po.empty(),dr.now()),cu(o,ee)&&(E=E.insert(L,ee))}),E})}getBaseDocument(i,o,d){return null===d||1===d.mutation.type?this.remoteDocumentCache.getEntry(i,o):an.resolve(yr.newInvalidDocument(o))}}class Zp{constructor(i){this.It=i,this.Zn=new Map,this.ts=new Map}getBundleMetadata(i,o){return an.resolve(this.Zn.get(o))}saveBundleMetadata(i,o){var d;return this.Zn.set(o.id,{id:(d=o).id,version:d.version,createTime:go(d.createTime)}),an.resolve()}getNamedQuery(i,o){return an.resolve(this.ts.get(o))}saveNamedQuery(i,o){return this.ts.set(o.name,{name:(d=o).name,query:jp(d.bundledQuery),readTime:go(d.readTime)}),an.resolve();var d}}class Cv{constructor(){this.overlays=new hr(jn.comparator),this.es=new Map}getOverlay(i,o){return an.resolve(this.overlays.get(o))}getOverlays(i,o){const d=Va();return an.forEach(o,g=>this.getOverlay(i,g).next(y=>{null!==y&&d.set(g,y)})).next(()=>d)}saveOverlays(i,o,d){return d.forEach((g,y)=>{this.ue(i,o,y)}),an.resolve()}removeOverlaysForBatchId(i,o,d){const g=this.es.get(d);return void 0!==g&&(g.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(d)),an.resolve()}getOverlaysForCollection(i,o,d){const g=Va(),y=o.length+1,E=new jn(o.child("")),L=this.overlays.getIteratorFrom(E);for(;L.hasNext();){const ee=L.getNext().value,fe=ee.getKey();if(!o.isPrefixOf(fe.path))break;fe.path.length===y&&ee.largestBatchId>d&&g.set(ee.getKey(),ee)}return an.resolve(g)}getOverlaysForCollectionGroup(i,o,d,g){let y=new hr((fe,Xe)=>fe-Xe);const E=this.overlays.getIterator();for(;E.hasNext();){const fe=E.getNext().value;if(fe.getKey().getCollectionGroup()===o&&fe.largestBatchId>d){let Xe=y.get(fe.largestBatchId);null===Xe&&(Xe=Va(),y=y.insert(fe.largestBatchId,Xe)),Xe.set(fe.getKey(),fe)}}const L=Va(),ee=y.getIterator();for(;ee.hasNext()&&(ee.getNext().value.forEach((fe,Xe)=>L.set(fe,Xe)),!(L.size()>=g)););return an.resolve(L)}ue(i,o,d){const g=this.overlays.get(d.key);if(null!==g){const E=this.es.get(g.largestBatchId).delete(d.key);this.es.set(g.largestBatchId,E)}this.overlays=this.overlays.insert(d.key,new hf(o,d));let y=this.es.get(o);void 0===y&&(y=Ni(),this.es.set(o,y)),this.es.set(o,y.add(d.key))}}class qp{constructor(){this.ns=new Mi(Fs.ss),this.rs=new Mi(Fs.os)}isEmpty(){return this.ns.isEmpty()}addReference(i,o){const d=new Fs(i,o);this.ns=this.ns.add(d),this.rs=this.rs.add(d)}us(i,o){i.forEach(d=>this.addReference(d,o))}removeReference(i,o){this.cs(new Fs(i,o))}hs(i,o){i.forEach(d=>this.removeReference(d,o))}ls(i){const o=new jn(new Hi([])),d=new Fs(o,i),g=new Fs(o,i+1),y=[];return this.rs.forEachInRange([d,g],E=>{this.cs(E),y.push(E.key)}),y}fs(){this.ns.forEach(i=>this.cs(i))}cs(i){this.ns=this.ns.delete(i),this.rs=this.rs.delete(i)}ds(i){const o=new jn(new Hi([])),d=new Fs(o,i),g=new Fs(o,i+1);let y=Ni();return this.rs.forEachInRange([d,g],E=>{y=y.add(E.key)}),y}containsKey(i){const o=new Fs(i,0),d=this.ns.firstAfterOrEqual(o);return null!==d&&i.isEqual(d.key)}}class Fs{constructor(i,o){this.key=i,this._s=o}static ss(i,o){return jn.comparator(i.key,o.key)||ci(i._s,o._s)}static os(i,o){return ci(i._s,o._s)||jn.comparator(i.key,o.key)}}class Qp{constructor(i,o){this.indexManager=i,this.referenceDelegate=o,this.mutationQueue=[],this.ws=1,this.gs=new Mi(Fs.ss)}checkEmpty(i){return an.resolve(0===this.mutationQueue.length)}addMutationBatch(i,o,d,g){const y=this.ws;this.ws++;const E=new sm(y,o,d,g);this.mutationQueue.push(E);for(const L of g)this.gs=this.gs.add(new Fs(L.key,y)),this.indexManager.addToCollectionParentIndex(i,L.key.path.popLast());return an.resolve(E)}lookupMutationBatch(i,o){return an.resolve(this.ys(o))}getNextMutationBatchAfterBatchId(i,o){const g=this.ps(o+1),y=g<0?0:g;return an.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return an.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(i){return an.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,o){const d=new Fs(o,0),g=new Fs(o,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([d,g],E=>{const L=this.ys(E._s);y.push(L)}),an.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(i,o){let d=new Mi(ci);return o.forEach(g=>{const y=new Fs(g,0),E=new Fs(g,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,E],L=>{d=d.add(L._s)})}),an.resolve(this.Is(d))}getAllMutationBatchesAffectingQuery(i,o){const d=o.path,g=d.length+1;let y=d;jn.isDocumentKey(y)||(y=y.child(""));const E=new Fs(new jn(y),0);let L=new Mi(ci);return this.gs.forEachWhile(ee=>{const fe=ee.key.path;return!!d.isPrefixOf(fe)&&(fe.length===g&&(L=L.add(ee._s)),!0)},E),an.resolve(this.Is(L))}Is(i){const o=[];return i.forEach(d=>{const g=this.ys(d);null!==g&&o.push(g)}),o}removeMutationBatch(i,o){Ei(0===this.Ts(o.batchId,"removed")),this.mutationQueue.shift();let d=this.gs;return an.forEach(o.mutations,g=>{const y=new Fs(g.key,o.batchId);return d=d.delete(y),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.gs=d})}An(i){}containsKey(i,o){const d=new Fs(o,0),g=this.gs.firstAfterOrEqual(d);return an.resolve(o.isEqual(g&&g.key))}performConsistencyCheck(i){return an.resolve()}Ts(i,o){return this.ps(i)}ps(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}ys(i){const o=this.ps(i);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class fm{constructor(i){this.Es=i,this.docs=new hr(jn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,o){const d=o.key,g=this.docs.get(d),y=g?g.size:0,E=this.Es(o);return this.docs=this.docs.insert(d,{document:o.mutableCopy(),size:E}),this.size+=E-y,this.indexManager.addToCollectionParentIndex(i,d.path.popLast())}removeEntry(i){const o=this.docs.get(i);o&&(this.docs=this.docs.remove(i),this.size-=o.size)}getEntry(i,o){const d=this.docs.get(o);return an.resolve(d?d.document.mutableCopy():yr.newInvalidDocument(o))}getEntries(i,o){let d=xs();return o.forEach(g=>{const y=this.docs.get(g);d=d.insert(g,y?y.document.mutableCopy():yr.newInvalidDocument(g))}),an.resolve(d)}getAllFromCollection(i,o,d){let g=xs();const y=new jn(o.child("")),E=this.docs.getIteratorFrom(y);for(;E.hasNext();){const{key:L,value:{document:ee}}=E.getNext();if(!o.isPrefixOf(L.path))break;L.path.length>o.length+1||Yu(Fa(ee),d)<=0||(g=g.insert(ee.key,ee.mutableCopy()))}return an.resolve(g)}getAllFromCollectionGroup(i,o,d,g){ui()}As(i,o){return an.forEach(this.docs,d=>o(d))}newChangeBuffer(i){return new Xp(this)}getSize(i){return an.resolve(this.size)}}class Xp extends Kp{constructor(i){super(),this.Yn=i}applyChanges(i){const o=[];return this.changes.forEach((d,g)=>{g.isValidDocument()?o.push(this.Yn.addEntry(i,g)):this.Yn.removeEntry(d)}),an.waitFor(o)}getFromCache(i,o){return this.Yn.getEntry(i,o)}getAllFromCache(i,o){return this.Yn.getEntries(i,o)}}class Dv{constructor(i){this.persistence=i,this.Rs=new Yt(o=>Ko(o),Zu),this.lastRemoteSnapshotVersion=Ci.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qp,this.targetCount=0,this.vs=ga.Pn()}forEachTarget(i,o){return this.Rs.forEach((d,g)=>o(g)),an.resolve()}getLastRemoteSnapshotVersion(i){return an.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return an.resolve(this.bs)}allocateTargetId(i){return this.highestTargetId=this.vs.next(),an.resolve(this.highestTargetId)}setTargetsMetadata(i,o,d){return d&&(this.lastRemoteSnapshotVersion=d),o>this.bs&&(this.bs=o),an.resolve()}Dn(i){this.Rs.set(i.target,i);const o=i.targetId;o>this.highestTargetId&&(this.vs=new ga(o),this.highestTargetId=o),i.sequenceNumber>this.bs&&(this.bs=i.sequenceNumber)}addTargetData(i,o){return this.Dn(o),this.targetCount+=1,an.resolve()}updateTargetData(i,o){return this.Dn(o),an.resolve()}removeTargetData(i,o){return this.Rs.delete(o.target),this.Ps.ls(o.targetId),this.targetCount-=1,an.resolve()}removeTargets(i,o,d){let g=0;const y=[];return this.Rs.forEach((E,L)=>{L.sequenceNumber<=o&&null===d.get(L.targetId)&&(this.Rs.delete(E),y.push(this.removeMatchingKeysForTargetId(i,L.targetId)),g++)}),an.waitFor(y).next(()=>g)}getTargetCount(i){return an.resolve(this.targetCount)}getTargetData(i,o){const d=this.Rs.get(o)||null;return an.resolve(d)}addMatchingKeys(i,o,d){return this.Ps.us(o,d),an.resolve()}removeMatchingKeys(i,o,d){this.Ps.hs(o,d);const g=this.persistence.referenceDelegate,y=[];return g&&o.forEach(E=>{y.push(g.markPotentiallyOrphaned(i,E))}),an.waitFor(y)}removeMatchingKeysForTargetId(i,o){return this.Ps.ls(o),an.resolve()}getMatchingKeysForTargetId(i,o){const d=this.Ps.ds(o);return an.resolve(d)}containsKey(i,o){return an.resolve(this.Ps.containsKey(o))}}class Jp{constructor(i,o){this.Vs={},this.overlays={},this.Ss=new fo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=i(this),this.Cs=new Dv(this),this.indexManager=new mv,this.remoteDocumentCache=new fm(d=>this.referenceDelegate.xs(d)),this.It=new Up(o),this.Ns=new Zp(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let o=this.overlays[i.toKey()];return o||(o=new Cv,this.overlays[i.toKey()]=o),o}getMutationQueue(i,o){let d=this.Vs[i.toKey()];return d||(d=new Qp(o,this.referenceDelegate),this.Vs[i.toKey()]=d),d}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(i,o,d){Bn("MemoryPersistence","Starting transaction:",i);const g=new pm(this.Ss.next());return this.referenceDelegate.ks(),d(g).next(y=>this.referenceDelegate.Os(g).next(()=>y)).toPromise().then(y=>(g.raiseOnCommittedEvent(),y))}Ms(i,o){return an.or(Object.values(this.Vs).map(d=>()=>d.containsKey(i,o)))}}class pm extends nu{constructor(i){super(),this.currentSequenceNumber=i}}class th{constructor(i){this.persistence=i,this.Fs=new qp,this.$s=null}static Bs(i){return new th(i)}get Ls(){if(this.$s)return this.$s;throw ui()}addReference(i,o,d){return this.Fs.addReference(d,o),this.Ls.delete(d.toString()),an.resolve()}removeReference(i,o,d){return this.Fs.removeReference(d,o),this.Ls.add(d.toString()),an.resolve()}markPotentiallyOrphaned(i,o){return this.Ls.add(o.toString()),an.resolve()}removeTarget(i,o){this.Fs.ls(o.targetId).forEach(g=>this.Ls.add(g.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(i,o.targetId).next(g=>{g.forEach(y=>this.Ls.add(y.toString()))}).next(()=>d.removeTargetData(i,o))}ks(){this.$s=new Set}Os(i){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return an.forEach(this.Ls,d=>{const g=jn.fromPath(d);return this.Us(i,g).next(y=>{y||o.removeEntry(g,Ci.min())})}).next(()=>(this.$s=null,o.apply(i)))}updateLimboDocument(i,o){return this.Us(i,o).next(d=>{d?this.Ls.delete(o.toString()):this.Ls.add(o.toString())})}xs(i){return 0}Us(i,o){return an.or([()=>an.resolve(this.Fs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(i,o),()=>this.persistence.Ms(i,o)])}}class Fc{constructor(i){this.It=i}$(i,o,d,g){const y=new $o("createOrUpgrade",o);var L;d<1&&g>=1&&(i.createObjectStore("owner"),(L=i).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jy,{unique:!0}),L.createObjectStore("documentMutations"),gm(i),function(L){L.createObjectStore("remoteDocuments")}(i));let E=an.resolve();return d<3&&g>=3&&(0!==d&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(i),gm(i)),E=E.next(()=>function(L){const ee=L.store("targetGlobal"),fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ci.min().toTimestamp(),targetCount:0};return ee.put("targetGlobalKey",fe)}(y))),d<4&&g>=4&&(0!==d&&(E=E.next(()=>function(L,ee){return ee.store("mutations").W().next(fe=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jy,{unique:!0});const Xe=ee.store("mutations"),xt=fe.map(sn=>Xe.put(sn));return an.waitFor(xt)})}(i,y))),E=E.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(i)})),d<5&&g>=5&&(E=E.next(()=>this.qs(y))),d<6&&g>=6&&(E=E.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(i),this.Ks(y)))),d<7&&g>=7&&(E=E.next(()=>this.Gs(y))),d<8&&g>=8&&(E=E.next(()=>this.Qs(i,y))),d<9&&g>=9&&(E=E.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(i)})),d<10&&g>=10&&(E=E.next(()=>this.js(y))),d<11&&g>=11&&(E=E.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),d<12&&g>=12&&(E=E.next(()=>{!function(L){const ee=L.createObjectStore("documentOverlays",{keyPath:Wy});ee.createIndex("collectionPathOverlayIndex",uv,{unique:!1}),ee.createIndex("collectionGroupOverlayIndex",qb,{unique:!1})}(i)})),d<13&&g>=13&&(E=E.next(()=>function(L){const ee=L.createObjectStore("remoteDocumentsV14",{keyPath:Bp});ee.createIndex("documentKeyIndex",Yb),ee.createIndex("collectionGroupIndex",aD)}(i)).next(()=>this.Ws(i,y)).next(()=>i.deleteObjectStore("remoteDocuments"))),d<14&&g>=14&&(E=E.next(()=>this.zs(i,y))),d<15&&g>=15&&(E=E.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:rm}).createIndex("sequenceNumberIndex",av,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:lv}).createIndex("documentKeyIndex",cv,{unique:!1})}(i))),E}Ks(i){let o=0;return i.store("remoteDocuments").Z((d,g)=>{o+=pa(g)}).next(()=>{const d={byteSize:o};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",d)})}qs(i){const o=i.store("mutationQueues"),d=i.store("mutations");return o.W().next(g=>an.forEach(g,y=>{const E=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return d.W("userMutationsIndex",E).next(L=>an.forEach(L,ee=>{Ei(ee.userId===y.userId);const fe=pu(this.It,ee);return Sl(i,y.userId,fe).next(()=>{})}))}))}Gs(i){const o=i.store("targetDocuments"),d=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(g=>{const y=[];return d.Z((E,L)=>{const ee=new Hi(E),fe=[0,Qo(ee)];y.push(o.get(fe).next(Xe=>Xe?an.resolve():o.put({targetId:0,path:Qo(ee),sequenceNumber:g.highestListenSequenceNumber})))}).next(()=>an.waitFor(y))})}Qs(i,o){i.createObjectStore("collectionParents",{keyPath:df});const d=o.store("collectionParents"),g=new sc,y=E=>{if(g.add(E)){const L=E.lastSegment(),ee=E.popLast();return d.put({collectionId:L,parent:Qo(ee)})}};return o.store("remoteDocuments").Z({X:!0},(E,L)=>{const ee=new Hi(E);return y(ee.popLast())}).next(()=>o.store("documentMutations").Z({X:!0},([E,L,ee],fe)=>{const Xe=fu(L);return y(Xe.popLast())}))}js(i){const o=i.store("targets");return o.Z((d,g)=>{const y=ff(g),E=fv(this.It,y);return o.put(E)})}Ws(i,o){const d=o.store("remoteDocuments"),g=[];return d.Z((y,E)=>{const L=o.store("remoteDocumentsV14"),ee=(fe=E,fe.document?new jn(Hi.fromString(fe.document.name).popFirst(5)):fe.noDocument?jn.fromSegments(fe.noDocument.path):fe.unknownDocument?jn.fromSegments(fe.unknownDocument.path):ui()).path.toArray();var fe;const Xe={prefixPath:ee.slice(0,ee.length-2),collectionGroup:ee[ee.length-2],documentId:ee[ee.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};g.push(L.put(Xe))}).next(()=>an.waitFor(g))}zs(i,o){const d=o.store("mutations"),g=bv(this.It),y=new Jp(th.Bs,this.It.re);return d.W().next(E=>{const L=new Map;return E.forEach(ee=>{var fe;let Xe=null!==(fe=L.get(ee.userId))&&void 0!==fe?fe:Ni();pu(this.It,ee).keys().forEach(xt=>Xe=Xe.add(xt)),L.set(ee.userId,Xe)}),an.forEach(L,(ee,fe)=>{const Xe=new Ir(fe),xt=Wp.oe(this.It,Xe),sn=y.getIndexManager(Xe),wn=Ha.oe(Xe,this.It,sn,y.referenceDelegate);return new eh(g,wn,xt,sn).recalculateAndSaveOverlaysForDocumentKeys(new Vp(o,fo.at),ee).next()})})}}function gm(l){l.createObjectStore("targetDocuments",{keyPath:Kb}).createIndex("documentTargetsIndex",Zb,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$y,{unique:!0}),l.createObjectStore("targetGlobal")}const vf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mm{constructor(i,o,d,g,y,E,L,ee,fe,Xe,xt=15){if(this.allowTabSynchronization=i,this.persistenceKey=o,this.clientId=d,this.Hs=y,this.window=E,this.document=L,this.Js=fe,this.Ys=Xe,this.Xs=xt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=sn=>Promise.resolve(),!mm.C())throw new Nn(hn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qy(this,g),this.ii=o+"main",this.It=new Up(ee),this.ri=new zr(this.ii,this.Xs,new Fc(this.It)),this.Cs=new $s(this.referenceDelegate,this.It),this.remoteDocumentCache=bv(this.It),this.Ns=new Ky,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Xe&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nn(hn.FAILED_PRECONDITION,vf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Cs.getHighestSequenceNumber(i))}).then(i=>{this.Ss=new fo(i,this.Js)}).then(()=>{this.Ds=!0}).catch(i=>(this.ri&&this.ri.close(),Promise.reject(i)))}li(i){var o=this;return this.si=function(){var d=(0,m.Z)(function*(g){if(o.started)return i(g)});return function(g){return d.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.ri.L(function(){var o=(0,m.Z)(function*(d){null===d.newVersion&&(yield i())});return function(d){return o.apply(this,arguments)}}())}setNetworkEnabled(i){var o=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Hs.enqueueAndForget((0,m.Z)(function*(){o.started&&(yield o.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Lc(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(i).next(o=>{o||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(i)).next(o=>this.isPrimary&&!o?this._i(i).next(()=>!1):!!o&&this.wi(i).next(()=>!0))).catch(i=>{if(eo(i))return Bn("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Bn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Hs.enqueueRetryable(()=>this.si(i)),this.isPrimary=i})}fi(i){return nh(i).get("owner").next(o=>an.resolve(this.mi(o)))}gi(i){return Lc(i).delete(this.clientId)}yi(){var i=this;return(0,m.Z)(function*(){if(i.isPrimary&&!i.pi(i.ni,18e5)){i.ni=Date.now();const o=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",d=>{const g=mo(d,"clientMetadata");return g.W().next(y=>{const E=i.Ii(y,18e5),L=y.filter(ee=>-1===E.indexOf(ee));return an.forEach(L,ee=>g.delete(ee.clientId)).next(()=>L)})}).catch(()=>[]);if(i.oi)for(const d of o)i.oi.removeItem(i.Ti(d.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(i){return!!i&&i.ownerId===this.clientId}di(i){return this.Ys?an.resolve(!0):nh(i).get("owner").next(o=>{if(null!==o&&this.pi(o.leaseTimestampMs,5e3)&&!this.Ei(o.ownerId)){if(this.mi(o)&&this.networkEnabled)return!0;if(!this.mi(o)){if(!o.allowTabSynchronization)throw new Nn(hn.FAILED_PRECONDITION,vf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lc(i).W().next(d=>void 0===this.Ii(d,5e3).find(g=>{if(this.clientId!==g.clientId){const E=!this.inForeground&&g.inForeground,L=this.networkEnabled===g.networkEnabled;if(!this.networkEnabled&&g.networkEnabled||E&&L)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&Bn("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var i=this;return(0,m.Z)(function*(){i.Ds=!1,i.Ai(),i.ei&&(i.ei.cancel(),i.ei=null),i.Ri(),i.bi(),yield i.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const d=new Vp(o,fo.at);return i._i(d).next(()=>i.gi(d))}),i.ri.close(),i.Pi()})()}Ii(i,o){return i.filter(d=>this.pi(d.updateTimeMs,o)&&!this.Ei(d.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",i=>Lc(i).W().next(o=>this.Ii(o,18e5).map(d=>d.clientId)))}get started(){return this.Ds}getMutationQueue(i,o){return Ha.oe(i,this.It,o,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new ld(i,this.It.re.databaseId)}getDocumentOverlayCache(i){return Wp.oe(this.It,i)}getBundleCache(){return this.Ns}runTransaction(i,o,d){Bn("IndexedDbPersistence","Starting transaction:",i);const g="readonly"===o?"readonly":"readwrite",y=15===(E=this.Xs)?lD:14===E?Yy:13===E?Xb:12===E?dv:11===E?Qb:void ui();var E;let L;return this.ri.runTransaction(i,g,y,ee=>(L=new Vp(ee,this.Ss?this.Ss.next():fo.at),"readwrite-primary"===o?this.fi(L).next(fe=>!!fe||this.di(L)).next(fe=>{if(!fe)throw ur(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Nn(hn.FAILED_PRECONDITION,nl);return d(L)}).next(fe=>this.wi(L).next(()=>fe)):this.Vi(L).next(()=>d(L)))).then(ee=>(L.raiseOnCommittedEvent(),ee))}Vi(i){return nh(i).get("owner").next(o=>{if(null!==o&&this.pi(o.leaseTimestampMs,5e3)&&!this.Ei(o.ownerId)&&!this.mi(o)&&!(this.Ys||this.allowTabSynchronization&&o.allowTabSynchronization))throw new Nn(hn.FAILED_PRECONDITION,vf)})}wi(i){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nh(i).put("owner",o)}static C(){return zr.C()}_i(i){const o=nh(i);return o.get("owner").next(d=>this.mi(d)?(Bn("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):an.resolve())}pi(i,o){const d=Date.now();return!(i<d-o||i>d&&(ur(`Detected an update time that is in the future: ${i} > ${d}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(i){var o;try{const d=null!==(null===(o=this.oi)||void 0===o?void 0:o.getItem(this.Ti(i)));return Bn("IndexedDbPersistence",`Client '${i}' ${d?"is":"is not"} zombied in LocalStorage`),d}catch(d){return ur("IndexedDbPersistence","Failed to get zombied client id.",d),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(i){ur("Failed to set zombie client id.",i)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function nh(l){return mo(l,"owner")}function Lc(l){return mo(l,"clientMetadata")}function yf(l,i){let o=l.projectId;return l.isDefaultDatabase||(o+="."+l.database),"firestore/"+i+"/"+o+"/"}class eg{constructor(i,o,d,g){this.targetId=i,this.fromCache=o,this.Si=d,this.Di=g}static Ci(i,o){let d=Ni(),g=Ni();for(const y of o.docChanges)switch(y.type){case 0:d=d.add(y.doc.key);break;case 1:g=g.add(y.doc.key)}return new eg(i,o.fromCache,d,g)}}class _m{constructor(){this.xi=!1}initialize(i,o){this.Ni=i,this.indexManager=o,this.xi=!0}getDocumentsMatchingQuery(i,o,d,g){return this.ki(i,o).next(y=>y||this.Oi(i,o,g,d)).next(y=>y||this.Mi(i,o))}ki(i,o){if(xp(o))return an.resolve(null);let d=Zo(o);return this.indexManager.getIndexType(i,d).next(g=>0===g?null:(null!==o.limit&&1===g&&(o=Xu(o,null,"F"),d=Zo(o)),this.indexManager.getDocumentsMatchingTarget(i,d).next(y=>{const E=Ni(...y);return this.Ni.getDocuments(i,E).next(L=>this.indexManager.getMinOffset(i,d).next(ee=>{const fe=this.Fi(o,L);return this.$i(o,fe,E,ee.readTime)?this.ki(i,Xu(o,null,"F")):this.Bi(i,fe,o,ee)}))})))}Oi(i,o,d,g){return xp(o)||g.isEqual(Ci.min())?this.Mi(i,o):this.Ni.getDocuments(i,d).next(y=>{const E=this.Fi(o,y);return this.$i(o,E,d,g)?this.Mi(i,o):(ps()<=Se.in.DEBUG&&Bn("QueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),Zh(o)),this.Bi(i,E,o,tu(g,-1)))})}Fi(i,o){let d=new Mi(Wd(i));return o.forEach((g,y)=>{cu(i,y)&&(d=d.add(y))}),d}$i(i,o,d,g){if(null===i.limit)return!1;if(d.size!==o.size)return!0;const y="F"===i.limitType?o.last():o.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(g)>0)}Mi(i,o){return ps()<=Se.in.DEBUG&&Bn("QueryEngine","Using full collection scan to execute query:",Zh(o)),this.Ni.getDocumentsMatchingQuery(i,o,Mo.min())}Bi(i,o,d,g){return this.Ni.getDocumentsMatchingQuery(i,d,g).next(y=>(o.forEach(E=>{y=y.insert(E.key,E)}),y))}}class vm{constructor(i,o,d,g){this.persistence=i,this.Li=o,this.It=g,this.Ui=new hr(ci),this.qi=new Yt(y=>Ko(y),Zu),this.Ki=new Map,this.Gi=i.getRemoteDocumentCache(),this.Cs=i.getTargetCache(),this.Ns=i.getBundleCache(),this.Qi(d)}Qi(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new eh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>i.collect(o,this.Ui))}}function tg(l,i,o,d){return new vm(l,i,o,d)}function ym(l,i){return ih.apply(this,arguments)}function ih(){return ih=(0,m.Z)(function*(l,i){const o=Zn(l);return yield o.persistence.runTransaction("Handle user change","readonly",d=>{let g;return o.mutationQueue.getAllMutationBatches(d).next(y=>(g=y,o.Qi(i),o.mutationQueue.getAllMutationBatches(d))).next(y=>{const E=[],L=[];let ee=Ni();for(const fe of g){E.push(fe.batchId);for(const Xe of fe.mutations)ee=ee.add(Xe.key)}for(const fe of y){L.push(fe.batchId);for(const Xe of fe.mutations)ee=ee.add(Xe.key)}return o.localDocuments.getDocuments(d,ee).next(fe=>({ji:fe,removedBatchIds:E,addedBatchIds:L}))})})}),ih.apply(this,arguments)}function bf(l,i){const o=Zn(l);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const g=i.batch.keys(),y=o.Gi.newChangeBuffer({trackRemovals:!0});return function(E,L,ee,fe){const Xe=ee.batch,xt=Xe.keys();let sn=an.resolve();return xt.forEach(wn=>{sn=sn.next(()=>fe.getEntry(L,wn)).next(Mn=>{const si=ee.docVersions.get(wn);Ei(null!==si),Mn.version.compareTo(si)<0&&(Xe.applyToRemoteDocument(Mn,ee),Mn.isValidDocument()&&(Mn.setReadTime(ee.commitVersion),fe.addEntry(Mn)))})}),sn.next(()=>E.mutationQueue.removeMutationBatch(L,Xe))}(o,d,i,y).next(()=>y.apply(d)).next(()=>o.mutationQueue.performConsistencyCheck(d)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(d,g,i.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,function(E){let L=Ni();for(let ee=0;ee<E.mutationResults.length;++ee)E.mutationResults[ee].transformResults.length>0&&(L=L.add(E.batch.mutations[ee].key));return L}(i))).next(()=>o.localDocuments.getDocuments(d,g))})}function ng(l){const i=Zn(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",o=>i.Cs.getLastRemoteSnapshotVersion(o))}function ig(l,i){const o=Zn(l),d=i.snapshotVersion;let g=o.Ui;return o.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const E=o.Gi.newChangeBuffer({trackRemovals:!0});g=o.Ui;const L=[];i.targetChanges.forEach((Xe,xt)=>{const sn=g.get(xt);if(!sn)return;L.push(o.Cs.removeMatchingKeys(y,Xe.removedDocuments,xt).next(()=>o.Cs.addMatchingKeys(y,Xe.addedDocuments,xt)));let wn=sn.withSequenceNumber(y.currentSequenceNumber);var Mn,si,di;i.targetMismatches.has(xt)?wn=wn.withResumeToken(Yn.EMPTY_BYTE_STRING,Ci.min()).withLastLimboFreeSnapshotVersion(Ci.min()):Xe.resumeToken.approximateByteSize()>0&&(wn=wn.withResumeToken(Xe.resumeToken,d)),g=g.insert(xt,wn),si=wn,di=Xe,(0===(Mn=sn).resumeToken.approximateByteSize()||si.snapshotVersion.toMicroseconds()-Mn.snapshotVersion.toMicroseconds()>=3e8||di.addedDocuments.size+di.modifiedDocuments.size+di.removedDocuments.size>0)&&L.push(o.Cs.updateTargetData(y,wn))});let ee=xs(),fe=Ni();if(i.documentUpdates.forEach(Xe=>{i.resolvedLimboDocuments.has(Xe)&&L.push(o.persistence.referenceDelegate.updateLimboDocument(y,Xe))}),L.push(bm(y,E,i.documentUpdates).next(Xe=>{ee=Xe.Wi,fe=Xe.zi})),!d.isEqual(Ci.min())){const Xe=o.Cs.getLastRemoteSnapshotVersion(y).next(xt=>o.Cs.setTargetsMetadata(y,y.currentSequenceNumber,d));L.push(Xe)}return an.waitFor(L).next(()=>E.apply(y)).next(()=>o.localDocuments.getLocalViewOfDocuments(y,ee,fe)).next(()=>ee)}).then(y=>(o.Ui=g,y))}function bm(l,i,o){let d=Ni(),g=Ni();return o.forEach(y=>d=d.add(y)),i.getEntries(l,d).next(y=>{let E=xs();return o.forEach((L,ee)=>{const fe=y.get(L);ee.isFoundDocument()!==fe.isFoundDocument()&&(g=g.add(L)),ee.isNoDocument()&&ee.version.isEqual(Ci.min())?(i.removeEntry(L,ee.readTime),E=E.insert(L,ee)):!fe.isValidDocument()||ee.version.compareTo(fe.version)>0||0===ee.version.compareTo(fe.version)&&fe.hasPendingWrites?(i.addEntry(ee),E=E.insert(L,ee)):Bn("LocalStore","Ignoring outdated watch update for ",L,". Current version:",fe.version," Watch version:",ee.version)}),{Wi:E,zi:g}})}function wm(l,i){const o=Zn(l);return o.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===i&&(i=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(d,i)))}function oc(l,i){const o=Zn(l);return o.persistence.runTransaction("Allocate target","readwrite",d=>{let g;return o.Cs.getTargetData(d,i).next(y=>y?(g=y,an.resolve(g)):o.Cs.allocateTargetId(d).next(E=>(g=new Nc(i,E,0,d.currentSequenceNumber),o.Cs.addTargetData(d,g).next(()=>g))))}).then(d=>{const g=o.Ui.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(o.Ui=o.Ui.insert(d.targetId,d),o.qi.set(i,d.targetId)),d})}function rh(l,i,o){return rg.apply(this,arguments)}function rg(){return rg=(0,m.Z)(function*(l,i,o){const d=Zn(l),g=d.Ui.get(i),y=o?"readwrite":"readwrite-primary";try{o||(yield d.persistence.runTransaction("Release target",y,E=>d.persistence.referenceDelegate.removeTarget(E,g)))}catch(E){if(!eo(E))throw E;Bn("LocalStore",`Failed to update sequence numbers for target ${i}: ${E}`)}d.Ui=d.Ui.remove(i),d.qi.delete(g.target)}),rg.apply(this,arguments)}function wf(l,i,o){const d=Zn(l);let g=Ci.min(),y=Ni();return d.persistence.runTransaction("Execute query","readonly",E=>function(L,ee,fe){const Xe=Zn(L),xt=Xe.qi.get(fe);return void 0!==xt?an.resolve(Xe.Ui.get(xt)):Xe.Cs.getTargetData(ee,fe)}(d,E,Zo(i)).next(L=>{if(L)return g=L.lastLimboFreeSnapshotVersion,d.Cs.getMatchingKeysForTargetId(E,L.targetId).next(ee=>{y=ee})}).next(()=>d.Li.getDocumentsMatchingQuery(E,i,o?g:Ci.min(),o?y:Ni())).next(L=>(sg(d,Ju(i),L),{documents:L,Hi:y})))}function Cm(l,i){const o=Zn(l),d=Zn(o.Cs),g=o.Ui.get(i);return g?Promise.resolve(g.target):o.persistence.runTransaction("Get target data","readonly",y=>d.se(y,i).next(E=>E?E.target:null))}function Dm(l,i){const o=Zn(l),d=o.Ki.get(i)||Ci.min();return o.persistence.runTransaction("Get new document changes","readonly",g=>o.Gi.getAllFromCollectionGroup(g,i,tu(d,-1),Number.MAX_SAFE_INTEGER)).then(g=>(sg(o,i,g),g))}function sg(l,i,o){let d=l.Ki.get(i)||Ci.min();o.forEach((g,y)=>{y.readTime.compareTo(d)>0&&(d=y.readTime)}),l.Ki.set(i,d)}function Bc(){return Bc=(0,m.Z)(function*(l,i,o,d){const g=Zn(l);let y=Ni(),E=xs();for(const fe of o){const Xe=i.Ji(fe.metadata.name);fe.document&&(y=y.add(Xe));const xt=i.Yi(fe);xt.setReadTime(i.Xi(fe.metadata.readTime)),E=E.insert(Xe,xt)}const L=g.Gi.newChangeBuffer({trackRemovals:!0}),ee=yield oc(g,(fe=d,Zo(nc(Hi.fromString(`__bundle__/docs/${fe}`)))));var fe;return g.persistence.runTransaction("Apply bundle documents","readwrite",fe=>bm(fe,L,E).next(Xe=>(L.apply(fe),Xe)).next(Xe=>g.Cs.removeMatchingKeysForTargetId(fe,ee.targetId).next(()=>g.Cs.addMatchingKeys(fe,y,ee.targetId)).next(()=>g.localDocuments.getLocalViewOfDocuments(fe,Xe.Wi,Xe.zi)).next(()=>Xe.Wi)))}),Bc.apply(this,arguments)}function og(l,i){return Em.apply(this,arguments)}function Em(){return Em=(0,m.Z)(function*(l,i,o=Ni()){const d=yield oc(l,Zo(jp(i.bundledQuery))),g=Zn(l);return g.persistence.runTransaction("Save named query","readwrite",y=>{const E=go(i.readTime);if(d.snapshotVersion.compareTo(E)>=0)return g.Ns.saveNamedQuery(y,i);const L=d.withResumeToken(Yn.EMPTY_BYTE_STRING,E);return g.Ui=g.Ui.insert(L.targetId,L),g.Cs.updateTargetData(y,L).next(()=>g.Cs.removeMatchingKeysForTargetId(y,d.targetId)).next(()=>g.Cs.addMatchingKeys(y,o,d.targetId)).next(()=>g.Ns.saveNamedQuery(y,i))})}),Em.apply(this,arguments)}function Tm(l,i){return`firestore_clients_${l}_${i}`}function Cf(l,i,o){let d=`firestore_mutations_${l}_${o}`;return i.isAuthenticated()&&(d+=`_${i.uid}`),d}function wu(l,i){return`firestore_targets_${l}_${i}`}class ea{constructor(i,o,d,g){this.user=i,this.batchId=o,this.state=d,this.error=g}static Zi(i,o,d){const g=JSON.parse(d);let y,E="object"==typeof g&&-1!==["pending","acknowledged","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return E&&g.error&&(E="string"==typeof g.error.message&&"string"==typeof g.error.code,E&&(y=new Nn(g.error.code,g.error.message))),E?new ea(i,o,g.state,y):(ur("SharedClientState",`Failed to parse mutation state for ID '${o}': ${d}`),null)}tr(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Df{constructor(i,o,d){this.targetId=i,this.state=o,this.error=d}static Zi(i,o){const d=JSON.parse(o);let g,y="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return y&&d.error&&(y="string"==typeof d.error.message&&"string"==typeof d.error.code,y&&(g=new Nn(d.error.code,d.error.message))),y?new Df(i,d.state,g):(ur("SharedClientState",`Failed to parse target state for ID '${i}': ${o}`),null)}tr(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Ef{constructor(i,o){this.clientId=i,this.activeTargetIds=o}static Zi(i,o){const d=JSON.parse(o);let g="object"==typeof d&&d.activeTargetIds instanceof Array,y=Zd();for(let E=0;g&&E<d.activeTargetIds.length;++E)g=mn(d.activeTargetIds[E]),y=y.add(d.activeTargetIds[E]);return g?new Ef(i,y):(ur("SharedClientState",`Failed to parse client data for instance '${i}': ${o}`),null)}}class Sm{constructor(i,o){this.clientId=i,this.onlineState=o}static Zi(i){const o=JSON.parse(i);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Sm(o.clientId,o.onlineState):(ur("SharedClientState",`Failed to parse online state: ${i}`),null)}}class xm{constructor(){this.activeTargetIds=Zd()}er(i){this.activeTargetIds=this.activeTargetIds.add(i)}nr(i){this.activeTargetIds=this.activeTargetIds.delete(i)}tr(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class Tf{constructor(i,o,d,g,y){this.window=i,this.Hs=o,this.persistenceKey=d,this.sr=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new hr(ci),this.started=!1,this.cr=[];const E=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=Tm(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new xm),this.lr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,m.Z)(function*(){const o=yield i.syncEngine.vi();for(const g of o){if(g===i.sr)continue;const y=i.getItem(Tm(i.persistenceKey,g));if(y){const E=Ef.Zi(g,y);E&&(i.ur=i.ur.insert(E.clientId,E))}}i.gr();const d=i.storage.getItem(i.wr);if(d){const g=i.yr(d);g&&i.pr(g)}for(const g of i.cr)i.rr(g);i.cr=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.hr,JSON.stringify(i))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(i){let o=!1;return this.ur.forEach((d,g)=>{g.activeTargetIds.has(i)&&(o=!0)}),o}addPendingMutation(i){this.Tr(i,"pending")}updateMutationState(i,o,d){this.Tr(i,o,d),this.Er(i)}addLocalQueryTarget(i){let o="not-current";if(this.isActiveQueryTarget(i)){const d=this.storage.getItem(wu(this.persistenceKey,i));if(d){const g=Df.Zi(i,d);g&&(o=g.state)}}return this.Ar.er(i),this.gr(),o}removeLocalQueryTarget(i){this.Ar.nr(i),this.gr()}isLocalQueryTarget(i){return this.Ar.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(wu(this.persistenceKey,i))}updateQueryState(i,o,d){this.Rr(i,o,d)}handleUserChange(i,o,d){o.forEach(g=>{this.Er(g)}),this.currentUser=i,d.forEach(g=>{this.addPendingMutation(g)})}setOnlineState(i){this.br(i)}notifyBundleLoaded(i){this.Pr(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(i){const o=this.storage.getItem(i);return Bn("SharedClientState","READ",i,o),o}setItem(i,o){Bn("SharedClientState","SET",i,o),this.storage.setItem(i,o)}removeItem(i){Bn("SharedClientState","REMOVE",i),this.storage.removeItem(i)}rr(i){var o=this;const d=i;if(d.storageArea===this.storage){if(Bn("SharedClientState","EVENT",d.key,d.newValue),d.key===this.ar)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,m.Z)(function*(){if(o.started){if(null!==d.key)if(o.lr.test(d.key)){if(null==d.newValue){const g=o.vr(d.key);return o.Vr(g,null)}{const g=o.Sr(d.key,d.newValue);if(g)return o.Vr(g.clientId,g)}}else if(o.dr.test(d.key)){if(null!==d.newValue){const g=o.Dr(d.key,d.newValue);if(g)return o.Cr(g)}}else if(o._r.test(d.key)){if(null!==d.newValue){const g=o.Nr(d.key,d.newValue);if(g)return o.kr(g)}}else if(d.key===o.wr){if(null!==d.newValue){const g=o.yr(d.newValue);if(g)return o.pr(g)}}else if(d.key===o.hr){const g=function(y){let E=fo.at;if(null!=y)try{const L=JSON.parse(y);Ei("number"==typeof L),E=L}catch(L){ur("SharedClientState","Failed to read sequence number from WebStorage",L)}return E}(d.newValue);g!==fo.at&&o.sequenceNumberHandler(g)}else if(d.key===o.mr){const g=o.Or(d.newValue);yield Promise.all(g.map(y=>o.syncEngine.Mr(y)))}}else o.cr.push(d)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(i,o,d){const g=new ea(this.currentUser,i,o,d),y=Cf(this.persistenceKey,this.currentUser,i);this.setItem(y,g.tr())}Er(i){const o=Cf(this.persistenceKey,this.currentUser,i);this.removeItem(o)}br(i){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:i}))}Rr(i,o,d){const g=wu(this.persistenceKey,i),y=new Df(i,o,d);this.setItem(g,y.tr())}Pr(i){const o=JSON.stringify(Array.from(i));this.setItem(this.mr,o)}vr(i){const o=this.lr.exec(i);return o?o[1]:null}Sr(i,o){const d=this.vr(i);return Ef.Zi(d,o)}Dr(i,o){const d=this.dr.exec(i),g=Number(d[1]);return ea.Zi(new Ir(void 0!==d[2]?d[2]:null),g,o)}Nr(i,o){const d=this._r.exec(i),g=Number(d[1]);return Df.Zi(g,o)}yr(i){return Sm.Zi(i)}Or(i){return JSON.parse(i)}Cr(i){var o=this;return(0,m.Z)(function*(){if(i.user.uid===o.currentUser.uid)return o.syncEngine.Fr(i.batchId,i.state,i.error);Bn("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}kr(i){return this.syncEngine.$r(i.targetId,i.state,i.error)}Vr(i,o){const d=o?this.ur.insert(i,o):this.ur.remove(i),g=this.Ir(this.ur),y=this.Ir(d),E=[],L=[];return y.forEach(ee=>{g.has(ee)||E.push(ee)}),g.forEach(ee=>{y.has(ee)||L.push(ee)}),this.syncEngine.Br(E,L).then(()=>{this.ur=d})}pr(i){this.ur.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}Ir(i){let o=Zd();return i.forEach((d,g)=>{o=o.unionWith(g.activeTargetIds)}),o}}class Am{constructor(){this.Lr=new xm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,o,d){}addLocalQueryTarget(i){return this.Lr.er(i),this.Ur[i]||"not-current"}updateQueryState(i,o,d){this.Ur[i]=o}removeLocalQueryTarget(i){this.Lr.nr(i)}isLocalQueryTarget(i){return this.Lr.activeTargetIds.has(i)}clearQueryState(i){delete this.Ur[i]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(i){return this.Lr.activeTargetIds.has(i)}start(){return this.Lr=new xm,Promise.resolve()}handleUserChange(i,o,d){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class Tv{qr(i){}shutdown(){}}class Im{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(i){this.Wr.push(i)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Bn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Wr)i(0)}jr(){Bn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Wr)i(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sv{constructor(i){this.Hr=i.Hr,this.Jr=i.Jr}Yr(i){this.Xr=i}Zr(i){this.eo=i}onMessage(i){this.no=i}close(){this.Jr()}send(i){this.Hr(i)}so(){this.Xr()}io(i){this.eo(i)}ro(i){this.no(i)}}class Fi extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.oo=(i.ssl?"https":"http")+"://"+i.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(i,o,d,g,y){const E=this.ho(i,o);Bn("RestConnection","Sending: ",E,d);const L={};return this.lo(L,g,y),this.fo(i,E,L,d).then(ee=>(Bn("RestConnection","Received: ",ee),ee),ee=>{throw zo("RestConnection",`${i} failed with error: `,ee,"url: ",E,"request:",d),ee})}_o(i,o,d,g,y,E){return this.ao(i,o,d,g,y)}lo(i,o,d){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ns,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((g,y)=>i[y]=g),d&&d.headers.forEach((g,y)=>i[y]=g)}ho(i,o){return`${this.oo}/v1/${o}:${Jy[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}fo(i,o,d,g){return new Promise((y,E)=>{const L=new Ao;L.setWithCredentials(!0),L.listenOnce(tr.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ji.NO_ERROR:const fe=L.getResponseJson();Bn("Connection","XHR received:",JSON.stringify(fe)),y(fe);break;case ji.TIMEOUT:Bn("Connection",'RPC "'+i+'" timed out'),E(new Nn(hn.DEADLINE_EXCEEDED,"Request time out"));break;case ji.HTTP_ERROR:const Xe=L.getStatus();if(Bn("Connection",'RPC "'+i+'" failed with status:',Xe,"response text:",L.getResponseText()),Xe>0){const xt=L.getResponseJson().error;if(xt&&xt.status&&xt.message){const sn=function(wn){const Mn=wn.toLowerCase().replace(/_/g,"-");return Object.values(hn).indexOf(Mn)>=0?Mn:hn.UNKNOWN}(xt.status);E(new Nn(sn,xt.message))}else E(new Nn(hn.UNKNOWN,"Server responded with status "+L.getStatus()))}else E(new Nn(hn.UNAVAILABLE,"Connection failed."));break;default:ui()}}finally{Bn("Connection",'RPC "'+i+'" completed.')}});const ee=JSON.stringify(g);L.send(o,"POST",ee,d,15)})}wo(i,o,d){const g=[this.oo,"/","google.firestore.v1.Firestore","/",i,"/channel"],y=li(),E=er(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Xi({})),this.lo(L.initMessageHeaders,o,d),L.encodeInitMessageHeaders=!0;const ee=g.join("");Bn("Connection","Creating WebChannel: "+ee,L);const fe=y.createWebChannel(ee,L);let Xe=!1,xt=!1;const sn=new Sv({Hr:Mn=>{xt?Bn("Connection","Not sending because WebChannel is closed:",Mn):(Xe||(Bn("Connection","Opening WebChannel transport."),fe.open(),Xe=!0),Bn("Connection","WebChannel sending:",Mn),fe.send(Mn))},Jr:()=>fe.close()}),wn=(Mn,si,di)=>{Mn.listen(si,Qi=>{try{di(Qi)}catch(Br){setTimeout(()=>{throw Br},0)}})};return wn(fe,Ar.EventType.OPEN,()=>{xt||Bn("Connection","WebChannel transport opened.")}),wn(fe,Ar.EventType.CLOSE,()=>{xt||(xt=!0,Bn("Connection","WebChannel transport closed"),sn.io())}),wn(fe,Ar.EventType.ERROR,Mn=>{xt||(xt=!0,zo("Connection","WebChannel transport errored:",Mn),sn.io(new Nn(hn.UNAVAILABLE,"The operation could not be completed")))}),wn(fe,Ar.EventType.MESSAGE,Mn=>{var si;if(!xt){const di=Mn.data[0];Ei(!!di);const Qi=di,Br=Qi.error||(null===(si=Qi[0])||void 0===si?void 0:si.error);if(Br){Bn("Connection","WebChannel received error:",Br);const pr=Br.status;let vs=function(ir){const bo=ti[ir];if(void 0!==bo)return Ro(bo)}(pr),Vr=Br.message;void 0===vs&&(vs=hn.INTERNAL,Vr="Unknown error status: "+pr+" with message "+Br.message),xt=!0,sn.io(new Nn(vs,Vr)),fe.close()}else Bn("Connection","WebChannel received:",di),sn.ro(di)}}),wn(E,Vi.STAT_EVENT,Mn=>{Mn.stat===_r.PROXY?Bn("Connection","Detected buffering proxy"):Mn.stat===_r.NOPROXY&&Bn("Connection","Detected no buffering proxy")}),setTimeout(()=>{sn.so()},0),sn}}function ag(){return typeof window<"u"?window:null}function sh(){return typeof document<"u"?document:null}function oh(l){return new J_(l,!0)}class lg{constructor(i,o,d=1e3,g=1.5,y=6e4){this.Hs=i,this.timerId=o,this.mo=d,this.yo=g,this.po=y,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(i){this.cancel();const o=Math.floor(this.Io+this.bo()),d=Math.max(0,Date.now()-this.Eo),g=Math.max(0,o-d);g>0&&Bn("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this.Io} ms, delay with jitter: ${o} ms, last attempt: ${d} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,g,()=>(this.Eo=Date.now(),i())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Mm{constructor(i,o,d,g,y,E,L,ee){this.Hs=i,this.vo=d,this.Vo=g,this.So=y,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=L,this.listener=ee,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new lg(i,o)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var i=this;return(0,m.Z)(function*(){i.ko()&&(yield i.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(i){this.Uo(),this.stream.send(i)}Bo(){var i=this;return(0,m.Z)(function*(){if(i.Oo())return i.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(i,o){var d=this;return(0,m.Z)(function*(){d.Uo(),d.qo(),d.No.cancel(),d.Do++,4!==i?d.No.reset():o&&o.code===hn.RESOURCE_EXHAUSTED?(ur(o.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),d.No.Ao()):o&&o.code===hn.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.Ko(),d.stream.close(),d.stream=null),d.state=i,yield d.listener.Zr(o)})()}Ko(){}auth(){this.state=1;const i=this.Go(this.Do),o=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,g])=>{this.Do===o&&this.Qo(d,g)},d=>{i(()=>{const g=new Nn(hn.UNKNOWN,"Fetching auth token failed: "+d.message);return this.jo(g)})})}Qo(i,o){const d=this.Go(this.Do);this.stream=this.Wo(i,o),this.stream.Yr(()=>{d(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(g=>{d(()=>this.jo(g))}),this.stream.onMessage(g=>{d(()=>this.onMessage(g))})}Mo(){var i=this;this.state=5,this.No.Ro((0,m.Z)(function*(){i.state=0,i.start()}))}jo(i){return Bn("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Go(i){return o=>{this.Hs.enqueueAndForget(()=>this.Do===i?o():(Bn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends Mm{constructor(i,o,d,g,y,E){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,d,g,E),this.It=y}Wo(i,o){return this.So.wo("Listen",i,o)}onMessage(i){this.No.reset();const o=function em(l,i){let o;if("targetChange"in i){const d="NO_CHANGE"===(ee=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:ui(),g=i.targetChange.targetIds||[],y=function(ee,fe){return ee.gt?(Ei(void 0===fe||"string"==typeof fe),Yn.fromBase64String(fe||"")):(Ei(void 0===fe||fe instanceof Uint8Array),Yn.fromUint8Array(fe||new Uint8Array))}(l,i.targetChange.resumeToken),E=i.targetChange.cause,L=E&&function(ee){const fe=void 0===ee.code?hn.UNKNOWN:Ro(ee.code);return new Nn(fe,ee.message||"")}(E);o=new X_(d,g,y,L||null)}else if("documentChange"in i){const d=i.documentChange,g=hu(l,d.document.name),y=go(d.document.updateTime),E=new zs({mapValue:{fields:d.document.fields}}),L=yr.newFoundDocument(g,y,E);o=new nf(d.targetIds||[],d.removedTargetIds||[],L.key,L)}else if("documentDelete"in i){const d=i.documentDelete,g=hu(l,d.document),y=d.readTime?go(d.readTime):Ci.min(),E=yr.newNoDocument(g,y);o=new nf([],d.removedTargetIds||[],E.key,E)}else if("documentRemove"in i){const d=i.documentRemove,g=hu(l,d.document);o=new nf([],d.removedTargetIds||[],g,null)}else{if(!("filter"in i))return ui();{const d=i.filter,y=new Jn(d.count||0);o=new Q_(d.targetId,y)}}var ee;return o}(this.It,i),d=function(g){if(!("targetChange"in g))return Ci.min();const y=g.targetChange;return y.targetIds&&y.targetIds.length?Ci.min():y.readTime?go(y.readTime):Ci.min()}(i);return this.listener.zo(o,d)}Ho(i){const o={};o.database=sf(this.It),o.addTarget=function(g,y){let E;const L=y.target;return E=su(L)?{documents:od(g,L)}:{query:nm(g,L)},E.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?E.resumeToken=ev(g,y.resumeToken):y.snapshotVersion.compareTo(Ci.min())>0&&(E.readTime=rf(g,y.snapshotVersion.toTimestamp())),E}(this.It,i);const d=function jb(l,i){const o=function(d,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ui()}}(0,i.purpose);return null==o?null:{"goog-listen-tags":o}}(0,i);d&&(o.labels=d),this.Lo(o)}Jo(i){const o={};o.database=sf(this.It),o.removeTarget=i,this.Lo(o)}}class cg extends Mm{constructor(i,o,d,g,y,E){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,d,g,E),this.It=y,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(i,o){return this.So.wo("Write",i,o)}onMessage(i){if(Ei(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Yo){this.No.reset();const o=function tm(l,i){return l&&l.length>0?(Ei(void 0!==i),l.map(o=>function(d,g){let y=go(d.updateTime?d.updateTime:g);return y.isEqual(Ci.min())&&(y=go(g)),new q_(y,d.transformResults||[])}(o,i))):[]}(i.writeResults,i.commitTime),d=go(i.commitTime);return this.listener.tu(d,o)}return Ei(!i.writeResults||0===i.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const i={};i.database=sf(this.It),this.Lo(i)}Zo(i){const o={streamToken:this.lastStreamToken,writes:i.map(d=>Fp(this.It,d))};this.Lo(o)}}class km extends class{}{constructor(i,o,d,g){super(),this.authCredentials=i,this.appCheckCredentials=o,this.So=d,this.It=g,this.su=!1}iu(){if(this.su)throw new Nn(hn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(i,o,d){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.So.ao(i,o,d,g,y)).catch(g=>{throw"FirebaseError"===g.name?(g.code===hn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Nn(hn.UNKNOWN,g.toString())})}_o(i,o,d,g){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,E])=>this.So._o(i,o,d,y,E,g)).catch(y=>{throw"FirebaseError"===y.name?(y.code===hn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Nn(hn.UNKNOWN,y.toString())})}terminate(){this.su=!0}}class wr{constructor(i,o){this.asyncQueue=i,this.onlineStateHandler=o,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(i){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.au("Offline")))}set(i){this.fu(),this.ru=0,"Online"===i&&(this.uu=!1),this.au(i)}au(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}hu(i){const o=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ur(o),this.uu=!1):Bn("OnlineStateTracker",o)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class $i{constructor(i,o,d,g,y){var E=this;this.localStore=i,this.datastore=o,this.asyncQueue=d,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=y,this.gu.qr(L=>{d.enqueueAndForget((0,m.Z)(function*(){var ee;ol(E)&&(Bn("RemoteStore","Restarting streams for network reachability change."),yield(ee=(0,m.Z)(function*(fe){const Xe=Zn(fe);Xe.wu.add(4),yield Cu(Xe),Xe.yu.set("Unknown"),Xe.wu.delete(4),yield Ga(Xe)}),function(fe){return ee.apply(this,arguments)})(E))}))}),this.yu=new wr(d,g)}}function Ga(l){return nr.apply(this,arguments)}function nr(){return nr=(0,m.Z)(function*(l){if(ol(l))for(const i of l.mu)yield i(!0)}),nr.apply(this,arguments)}function Cu(l){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,m.Z)(function*(l){for(const i of l.mu)yield i(!1)}),Sf.apply(this,arguments)}function ac(l,i){const o=Zn(l);o._u.has(i.targetId)||(o._u.set(i.targetId,i),Rm(o)?No(o):hd(o).Oo()&&Xr(o,i))}function ah(l,i){const o=Zn(l),d=hd(o);o._u.delete(i),d.Oo()&&qi(o,i),0===o._u.size&&(d.Oo()?d.$o():ol(o)&&o.yu.set("Unknown"))}function Xr(l,i){l.pu.Mt(i.targetId),hd(l).Ho(i)}function qi(l,i){l.pu.Mt(i),hd(l).Jo(i)}function No(l){l.pu=new Ub({getRemoteKeysForTarget:i=>l.remoteSyncer.getRemoteKeysForTarget(i),se:i=>l._u.get(i)||null}),hd(l).start(),l.yu.cu()}function Rm(l){return ol(l)&&!hd(l).ko()&&l._u.size>0}function ol(l){return 0===Zn(l).wu.size}function al(l){l.pu=void 0}function e0(l){return Du.apply(this,arguments)}function Du(){return Du=(0,m.Z)(function*(l){l._u.forEach((i,o)=>{Xr(l,i)})}),Du.apply(this,arguments)}function t0(l,i){return xf.apply(this,arguments)}function xf(){return xf=(0,m.Z)(function*(l,i){al(l),Rm(l)?(l.yu.lu(i),No(l)):l.yu.set("Unknown")}),xf.apply(this,arguments)}function lc(l,i,o){return Af.apply(this,arguments)}function Af(){return Af=(0,m.Z)(function*(l,i,o){if(l.yu.set("Online"),i instanceof X_&&2===i.state&&i.cause)try{yield(d=(0,m.Z)(function*(g,y){const E=y.cause;for(const L of y.targetIds)g._u.has(L)&&(yield g.remoteSyncer.rejectListen(L,E),g._u.delete(L),g.pu.removeTarget(L))}),function(g,y){return d.apply(this,arguments)})(l,i)}catch(d){Bn("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),d),yield Vc(l,d)}else if(i instanceof nf?l.pu.Gt(i):i instanceof Q_?l.pu.Yt(i):l.pu.Wt(i),!o.isEqual(Ci.min()))try{const d=yield ng(l.localStore);o.compareTo(d)>=0&&(yield function(g,y){const E=g.pu.te(y);return E.targetChanges.forEach((L,ee)=>{if(L.resumeToken.approximateByteSize()>0){const fe=g._u.get(ee);fe&&g._u.set(ee,fe.withResumeToken(L.resumeToken,y))}}),E.targetMismatches.forEach(L=>{const ee=g._u.get(L);if(!ee)return;g._u.set(L,ee.withResumeToken(Yn.EMPTY_BYTE_STRING,ee.snapshotVersion)),qi(g,L);const fe=new Nc(ee.target,L,1,ee.sequenceNumber);Xr(g,fe)}),g.remoteSyncer.applyRemoteEvent(E)}(l,o))}catch(d){Bn("RemoteStore","Failed to raise snapshot:",d),yield Vc(l,d)}var d}),Af.apply(this,arguments)}function Vc(l,i,o){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,m.Z)(function*(l,i,o){if(!eo(i))throw i;l.wu.add(1),yield Cu(l),l.yu.set("Offline"),o||(o=()=>ng(l.localStore)),l.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Bn("RemoteStore","Retrying IndexedDB access"),yield o(),l.wu.delete(1),yield Ga(l)}))}),Nm.apply(this,arguments)}function Pm(l,i){return i().catch(o=>Vc(l,o,i))}function lh(l){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,m.Z)(function*(l){const i=Zn(l),o=xl(i);let d=i.du.length>0?i.du[i.du.length-1].batchId:-1;for(;n0(i);)try{const g=yield wm(i.localStore,d);if(null===g){0===i.du.length&&o.$o();break}d=g.batchId,Lm(i,g)}catch(g){yield Vc(i,g)}Eu(i)&&Wi(i)}),Fm.apply(this,arguments)}function n0(l){return ol(l)&&l.du.length<10}function Lm(l,i){l.du.push(i);const o=xl(l);o.Oo()&&o.Xo&&o.Zo(i.mutations)}function Eu(l){return ol(l)&&!xl(l).ko()&&l.du.length>0}function Wi(l){xl(l).start()}function If(l){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,m.Z)(function*(l){xl(l).nu()}),Tu.apply(this,arguments)}function r0(l){return _a.apply(this,arguments)}function _a(){return _a=(0,m.Z)(function*(l){const i=xl(l);for(const o of l.du)i.Zo(o.mutations)}),_a.apply(this,arguments)}function ug(l,i,o){return ll.apply(this,arguments)}function ll(){return ll=(0,m.Z)(function*(l,i,o){const d=l.du.shift(),g=Hp.from(d,i,o);yield Pm(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield lh(l)}),ll.apply(this,arguments)}function ch(l,i){return vo.apply(this,arguments)}function vo(){return vo=(0,m.Z)(function*(l,i){var o;i&&xl(l).Xo&&(yield(o=(0,m.Z)(function*(d,g){if(or(y=g.code)&&y!==hn.ABORTED){const E=d.du.shift();xl(d).Fo(),yield Pm(d,()=>d.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield lh(d)}var y}),function(d,g){return o.apply(this,arguments)})(l,i)),Eu(l)&&Wi(l)}),vo.apply(this,arguments)}function Bm(l,i){return Su.apply(this,arguments)}function Su(){return Su=(0,m.Z)(function*(l,i){const o=Zn(l);o.asyncQueue.verifyOperationInProgress(),Bn("RemoteStore","RemoteStore received new credentials");const d=ol(o);o.wu.add(3),yield Cu(o),d&&o.yu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(i),o.wu.delete(3),yield Ga(o)}),Su.apply(this,arguments)}function ta(l,i){return dg.apply(this,arguments)}function dg(){return dg=(0,m.Z)(function*(l,i){const o=Zn(l);i?(o.wu.delete(2),yield Ga(o)):i||(o.wu.add(2),yield Cu(o),o.yu.set("Unknown"))}),dg.apply(this,arguments)}function hd(l){return l.Iu||(l.Iu=function(i,o,d){const g=Zn(i);return g.iu(),new Om(o,g.So,g.authCredentials,g.appCheckCredentials,g.It,d)}(l.datastore,l.asyncQueue,{Yr:e0.bind(null,l),Zr:t0.bind(null,l),zo:lc.bind(null,l)}),l.mu.push(function(){var i=(0,m.Z)(function*(o){o?(l.Iu.Fo(),Rm(l)?No(l):l.yu.set("Unknown")):(yield l.Iu.stop(),al(l))});return function(o){return i.apply(this,arguments)}}())),l.Iu}function xl(l){return l.Tu||(l.Tu=function(i,o,d){const g=Zn(i);return g.iu(),new cg(o,g.So,g.authCredentials,g.appCheckCredentials,g.It,d)}(l.datastore,l.asyncQueue,{Yr:If.bind(null,l),Zr:ch.bind(null,l),eu:r0.bind(null,l),tu:ug.bind(null,l)}),l.mu.push(function(){var i=(0,m.Z)(function*(o){o?(l.Tu.Fo(),yield lh(l)):(yield l.Tu.stop(),l.du.length>0&&(Bn("RemoteStore",`Stopping write stream with ${l.du.length} pending writes`),l.du=[]))});return function(o){return i.apply(this,arguments)}}())),l.Tu}class cl{constructor(i,o,d,g,y){this.asyncQueue=i,this.timerId=o,this.targetTimeMs=d,this.op=g,this.removalCallback=y,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(i,o,d,g,y){const E=Date.now()+d,L=new cl(i,o,E,g,y);return L.start(d),L}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nn(hn.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(l,i){if(ur("AsyncQueue",`${i}: ${l}`),eo(l))return new Nn(hn.UNAVAILABLE,`${i}: ${l}`);throw l}class xu{constructor(i){this.comparator=i?(o,d)=>i(o,d)||jn.comparator(o.key,d.key):(o,d)=>jn.comparator(o.key,d.key),this.keyedMap=du(),this.sortedSet=new hr(this.comparator)}static emptySet(i){return new xu(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const o=this.keyedMap.get(i);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((o,d)=>(i(o),!1))}add(i){const o=this.delete(i.key);return o.copy(o.keyedMap.insert(i.key,i),o.sortedSet.insert(i,null))}delete(i){const o=this.get(i);return o?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(o)):this}isEqual(i){if(!(i instanceof xu)||this.size!==i.size)return!1;const o=this.sortedSet.getIterator(),d=i.sortedSet.getIterator();for(;o.hasNext();){const g=o.getNext().key,y=d.getNext().key;if(!g.isEqual(y))return!1}return!0}toString(){const i=[];return this.forEach(o=>{i.push(o.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,o){const d=new xu;return d.comparator=this.comparator,d.keyedMap=i,d.sortedSet=o,d}}class Mf{constructor(){this.Eu=new hr(jn.comparator)}track(i){const o=i.doc.key,d=this.Eu.get(o);d?0!==i.type&&3===d.type?this.Eu=this.Eu.insert(o,i):3===i.type&&1!==d.type?this.Eu=this.Eu.insert(o,{type:d.type,doc:i.doc}):2===i.type&&2===d.type?this.Eu=this.Eu.insert(o,{type:2,doc:i.doc}):2===i.type&&0===d.type?this.Eu=this.Eu.insert(o,{type:0,doc:i.doc}):1===i.type&&0===d.type?this.Eu=this.Eu.remove(o):1===i.type&&2===d.type?this.Eu=this.Eu.insert(o,{type:1,doc:d.doc}):0===i.type&&1===d.type?this.Eu=this.Eu.insert(o,{type:2,doc:i.doc}):ui():this.Eu=this.Eu.insert(o,i)}Au(){const i=[];return this.Eu.inorderTraversal((o,d)=>{i.push(d)}),i}}class Of{constructor(i,o,d,g,y,E,L,ee,fe){this.query=i,this.docs=o,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=y,this.fromCache=E,this.syncStateChanged=L,this.excludesMetadataChanges=ee,this.hasCachedResults=fe}static fromInitialDocuments(i,o,d,g,y){const E=[];return o.forEach(L=>{E.push({type:0,doc:L})}),new Of(i,o,xu.emptySet(o),E,d,g,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&zd(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const o=this.docChanges,d=i.docChanges;if(o.length!==d.length)return!1;for(let g=0;g<o.length;g++)if(o[g].type!==d[g].type||!o[g].doc.isEqual(d[g].doc))return!1;return!0}}class Av{constructor(){this.Ru=void 0,this.listeners=[]}}class Jb{constructor(){this.queries=new Yt(i=>$d(i),zd),this.onlineState="Unknown",this.bu=new Set}}function Cr(l,i){return uh.apply(this,arguments)}function uh(){return uh=(0,m.Z)(function*(l,i){const o=Zn(l),d=i.query;let g=!1,y=o.queries.get(d);if(y||(g=!0,y=new Av),g)try{y.Ru=yield o.onListen(d)}catch(E){const L=ja(E,`Initialization of query '${Zh(i.query)}' failed`);return void i.onError(L)}o.queries.set(d,y),y.listeners.push(i),i.Pu(o.onlineState),y.Ru&&i.vu(y.Ru)&&Al(o)}),uh.apply(this,arguments)}function kf(l,i){return Au.apply(this,arguments)}function Au(){return Au=(0,m.Z)(function*(l,i){const o=Zn(l),d=i.query;let g=!1;const y=o.queries.get(d);if(y){const E=y.listeners.indexOf(i);E>=0&&(y.listeners.splice(E,1),g=0===y.listeners.length)}if(g)return o.queries.delete(d),o.onUnlisten(d)}),Au.apply(this,arguments)}function Rf(l,i){const o=Zn(l);let d=!1;for(const g of i){const E=o.queries.get(g.query);if(E){for(const L of E.listeners)L.vu(g)&&(d=!0);E.Ru=g}}d&&Al(o)}function Nf(l,i,o){const d=Zn(l),g=d.queries.get(i);if(g)for(const y of g.listeners)y.onError(o);d.queries.delete(i)}function Al(l){l.bu.forEach(i=>{i.next()})}class fd{constructor(i,o,d){this.query=i,this.Vu=o,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=d||{}}vu(i){if(!this.options.includeMetadataChanges){const d=[];for(const g of i.docChanges)3!==g.type&&d.push(g);i=new Of(i.query,i.docs,i.oldDocs,d,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let o=!1;return this.Su?this.Cu(i)&&(this.Vu.next(i),o=!0):this.xu(i,this.onlineState)&&(this.Nu(i),o=!0),this.Du=i,o}onError(i){this.Vu.error(i)}Pu(i){this.onlineState=i;let o=!1;return this.Du&&!this.Su&&this.xu(this.Du,i)&&(this.Nu(this.Du),o=!0),o}xu(i,o){return!i.fromCache||(!this.options.ku||!("Offline"!==o))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===o)}Cu(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(i){i=Of.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.Su=!0,this.Vu.next(i)}}class Ui{constructor(i,o){this.payload=i,this.byteLength=o}Ou(){return"metadata"in this.payload}}class Iv{constructor(i){this.It=i}Ji(i){return hu(this.It,i)}Yi(i){return i.metadata.exists?Vy(this.It,i.document,!1):yr.newNoDocument(this.Ji(i.metadata.name),this.Xi(i.metadata.readTime))}Xi(i){return go(i)}}class dh{constructor(i,o,d){this.Mu=i,this.localStore=o,this.It=d,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s0(i)}Fu(i){this.progress.bytesLoaded+=i.byteLength;let o=this.progress.documentsLoaded;if(i.payload.namedQuery)this.queries.push(i.payload.namedQuery);else if(i.payload.documentMetadata){this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++o;const d=Hi.fromString(i.payload.documentMetadata.name);this.collectionGroups.add(d.get(d.length-2))}else i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}$u(i){const o=new Map,d=new Iv(this.It);for(const g of i)if(g.metadata.queries){const y=d.Ji(g.metadata.name);for(const E of g.metadata.queries){const L=(o.get(E)||Ni()).add(y);o.set(E,L)}}return o}complete(){var i=this;return(0,m.Z)(function*(){const o=yield function Ev(l,i,o,d){return Bc.apply(this,arguments)}(i.localStore,new Iv(i.It),i.documents,i.Mu.id),d=i.$u(i.documents);for(const g of i.queries)yield og(i.localStore,g,d.get(g.name));return i.progress.taskState="Success",{progress:i.progress,Bu:i.collectionGroups,Lu:o}})()}}function s0(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class ss{constructor(i){this.key=i}}class Vm{constructor(i){this.key=i}}class Hm{constructor(i,o){this.query=i,this.Uu=o,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ni(),this.mutatedKeys=Ni(),this.Gu=Wd(i),this.Qu=new xu(this.Gu)}get ju(){return this.Uu}Wu(i,o){const d=o?o.zu:new Mf,g=o?o.Qu:this.Qu;let y=o?o.mutatedKeys:this.mutatedKeys,E=g,L=!1;const ee="F"===this.query.limitType&&g.size===this.query.limit?g.last():null,fe="L"===this.query.limitType&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((Xe,xt)=>{const sn=g.get(Xe),wn=cu(this.query,xt)?xt:null,Mn=!!sn&&this.mutatedKeys.has(sn.key),si=!!wn&&(wn.hasLocalMutations||this.mutatedKeys.has(wn.key)&&wn.hasCommittedMutations);let di=!1;sn&&wn?sn.data.isEqual(wn.data)?Mn!==si&&(d.track({type:3,doc:wn}),di=!0):this.Hu(sn,wn)||(d.track({type:2,doc:wn}),di=!0,(ee&&this.Gu(wn,ee)>0||fe&&this.Gu(wn,fe)<0)&&(L=!0)):!sn&&wn?(d.track({type:0,doc:wn}),di=!0):sn&&!wn&&(d.track({type:1,doc:sn}),di=!0,(ee||fe)&&(L=!0)),di&&(wn?(E=E.add(wn),y=si?y.add(Xe):y.delete(Xe)):(E=E.delete(Xe),y=y.delete(Xe)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Xe="F"===this.query.limitType?E.last():E.first();E=E.delete(Xe.key),y=y.delete(Xe.key),d.track({type:1,doc:Xe})}return{Qu:E,zu:d,$i:L,mutatedKeys:y}}Hu(i,o){return i.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(i,o,d){const g=this.Qu;this.Qu=i.Qu,this.mutatedKeys=i.mutatedKeys;const y=i.zu.Au();y.sort((fe,Xe)=>function(xt,sn){const wn=Mn=>{switch(Mn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ui()}};return wn(xt)-wn(sn)}(fe.type,Xe.type)||this.Gu(fe.doc,Xe.doc)),this.Ju(d);const E=o?this.Yu():[],L=0===this.Ku.size&&this.current?1:0,ee=L!==this.qu;return this.qu=L,0!==y.length||ee?{snapshot:new Of(this.query,i.Qu,g,y,i.mutatedKeys,0===L,ee,!1,!!d&&d.resumeToken.approximateByteSize()>0),Xu:E}:{Xu:E}}Pu(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Mf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(i){return!this.Uu.has(i)&&!!this.Qu.has(i)&&!this.Qu.get(i).hasLocalMutations}Ju(i){i&&(i.addedDocuments.forEach(o=>this.Uu=this.Uu.add(o)),i.modifiedDocuments.forEach(o=>{}),i.removedDocuments.forEach(o=>this.Uu=this.Uu.delete(o)),this.current=i.current)}Yu(){if(!this.current)return[];const i=this.Ku;this.Ku=Ni(),this.Qu.forEach(d=>{this.Zu(d.key)&&(this.Ku=this.Ku.add(d.key))});const o=[];return i.forEach(d=>{this.Ku.has(d)||o.push(new Vm(d))}),this.Ku.forEach(d=>{i.has(d)||o.push(new ss(d))}),o}tc(i){this.Uu=i.Hi,this.Ku=Ni();const o=this.Wu(i.documents);return this.applyChanges(o,!0)}ec(){return Of.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class hg{constructor(i,o,d){this.query=i,this.targetId=o,this.view=d}}class hh{constructor(i){this.key=i,this.nc=!1}}class Pf{constructor(i,o,d,g,y,E){this.localStore=i,this.remoteStore=o,this.eventManager=d,this.sharedClientState=g,this.currentUser=y,this.maxConcurrentLimboResolutions=E,this.sc={},this.ic=new Yt(L=>$d(L),zd),this.rc=new Map,this.oc=new Set,this.uc=new hr(jn.comparator),this.cc=new Map,this.ac=new qp,this.hc={},this.lc=new Map,this.fc=ga.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function o0(l,i){return Um.apply(this,arguments)}function Um(){return Um=(0,m.Z)(function*(l,i){const o=vd(l);let d,g;const y=o.ic.get(i);if(y)d=y.targetId,o.sharedClientState.addLocalQueryTarget(d),g=y.view.ec();else{const E=yield oc(o.localStore,Zo(i));o.isPrimaryClient&&ac(o.remoteStore,E);const L=o.sharedClientState.addLocalQueryTarget(E.targetId);d=E.targetId,g=yield Mv(o,i,d,"current"===L,E.resumeToken)}return g}),Um.apply(this,arguments)}function Mv(l,i,o,d,g){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,m.Z)(function*(l,i,o,d,g){l._c=(xt,sn,wn)=>{return(Mn=(0,m.Z)(function*(si,di,Qi,Br){let pr=di.view.Wu(Qi);pr.$i&&(pr=yield wf(si.localStore,di.query,!1).then(({documents:ir})=>di.view.Wu(ir,pr)));const vs=Br&&Br.targetChanges.get(di.targetId),Vr=di.view.applyChanges(pr,si.isPrimaryClient,vs);return gg(si,di.targetId,Vr.Xu),Vr.snapshot}),function(si,di,Qi,Br){return Mn.apply(this,arguments)})(l,xt,sn,wn);var Mn};const y=yield wf(l.localStore,i,!0),E=new Hm(i,y.Hi),L=E.Wu(y.documents),ee=rd.createSynthesizedTargetChangeForCurrentChange(o,d&&"Offline"!==l.onlineState,g),fe=E.applyChanges(L,l.isPrimaryClient,ee);gg(l,o,fe.Xu);const Xe=new hg(i,o,E);return l.ic.set(i,Xe),l.rc.has(o)?l.rc.get(o).push(i):l.rc.set(o,[i]),fe.snapshot}),Gm.apply(this,arguments)}function a0(l,i){return jm.apply(this,arguments)}function jm(){return jm=(0,m.Z)(function*(l,i){const o=Zn(l),d=o.ic.get(i),g=o.rc.get(d.targetId);if(g.length>1)return o.rc.set(d.targetId,g.filter(y=>!zd(y,i))),void o.ic.delete(i);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(d.targetId),o.sharedClientState.isActiveQueryTarget(d.targetId)||(yield rh(o.localStore,d.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(d.targetId),ah(o.remoteStore,d.targetId),Hc(o,d.targetId)}).catch(ua))):(Hc(o,d.targetId),yield rh(o.localStore,d.targetId,!0))}),jm.apply(this,arguments)}function fh(){return fh=(0,m.Z)(function*(l,i,o){const d=Pv(l);try{const g=yield function(y,E){const L=Zn(y),ee=dr.now(),fe=E.reduce((sn,wn)=>sn.add(wn.key),Ni());let Xe,xt;return L.persistence.runTransaction("Locally write mutations","readwrite",sn=>{let wn=xs(),Mn=Ni();return L.Gi.getEntries(sn,fe).next(si=>{wn=si,wn.forEach((di,Qi)=>{Qi.isValidDocument()||(Mn=Mn.add(di))})}).next(()=>L.localDocuments.getOverlayedDocuments(sn,wn)).next(si=>{Xe=si;const di=[];for(const Qi of E){const Br=kc(Qi,Xe.get(Qi.key).overlayedDocument);null!=Br&&di.push(new D(Qi.key,Br,ms(Br.value.mapValue),Nr.exists(!0)))}return L.mutationQueue.addMutationBatch(sn,ee,di,E)}).next(si=>{xt=si;const di=si.applyToLocalDocumentSet(Xe,Mn);return L.documentOverlayCache.saveOverlays(sn,si.batchId,di)})}).then(()=>({batchId:xt.batchId,changes:Jh(Xe)}))}(d.localStore,i);d.sharedClientState.addPendingMutation(g.batchId),function(y,E,L){let ee=y.hc[y.currentUser.toKey()];ee||(ee=new hr(ci)),ee=ee.insert(E,L),y.hc[y.currentUser.toKey()]=ee}(d,g.batchId,o),yield yo(d,g.changes),yield lh(d.remoteStore)}catch(g){const y=ja(g,"Failed to persist write");o.reject(y)}}),fh.apply(this,arguments)}function Lf(l,i){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,m.Z)(function*(l,i){const o=Zn(l);try{const d=yield ig(o.localStore,i);i.targetChanges.forEach((g,y)=>{const E=o.cc.get(y);E&&(Ei(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?E.nc=!0:g.modifiedDocuments.size>0?Ei(E.nc):g.removedDocuments.size>0&&(Ei(E.nc),E.nc=!1))}),yield yo(o,d,i)}catch(d){yield ua(d)}}),Ov.apply(this,arguments)}function Il(l,i,o){const d=Zn(l);if(d.isPrimaryClient&&0===o||!d.isPrimaryClient&&1===o){const g=[];d.ic.forEach((y,E)=>{const L=E.view.Pu(i);L.snapshot&&g.push(L.snapshot)}),function(y,E){const L=Zn(y);L.onlineState=E;let ee=!1;L.queries.forEach((fe,Xe)=>{for(const xt of Xe.listeners)xt.Pu(E)&&(ee=!0)}),ee&&Al(L)}(d.eventManager,i),g.length&&d.sc.zo(g),d.onlineState=i,d.isPrimaryClient&&d.sharedClientState.setOnlineState(i)}}function pd(l,i,o){return zm.apply(this,arguments)}function zm(){return zm=(0,m.Z)(function*(l,i,o){const d=Zn(l);d.sharedClientState.updateQueryState(i,"rejected",o);const g=d.cc.get(i),y=g&&g.key;if(y){let E=new hr(jn.comparator);E=E.insert(y,yr.newNoDocument(y,Ci.min()));const L=Ni().add(y),ee=new tf(Ci.min(),new Map,new Mi(ci),E,L);yield Lf(d,ee),d.uc=d.uc.remove(y),d.cc.delete(i),gh(d)}else yield rh(d.localStore,i,!1).then(()=>Hc(d,i,o)).catch(ua)}),zm.apply(this,arguments)}function fg(l,i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,m.Z)(function*(l,i){const o=Zn(l),d=i.batch.batchId;try{const g=yield bf(o.localStore,i);Wm(o,d,null),ph(o,d),o.sharedClientState.updateMutationState(d,"acknowledged"),yield yo(o,g)}catch(g){yield ua(g)}}),Bf.apply(this,arguments)}function kv(l,i,o){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,m.Z)(function*(l,i,o){const d=Zn(l);try{const g=yield function(y,E){const L=Zn(y);return L.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let fe;return L.mutationQueue.lookupMutationBatch(ee,E).next(Xe=>(Ei(null!==Xe),fe=Xe.keys(),L.mutationQueue.removeMutationBatch(ee,Xe))).next(()=>L.mutationQueue.performConsistencyCheck(ee)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(ee,fe,E)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,fe)).next(()=>L.localDocuments.getDocuments(ee,fe))})}(d.localStore,i);Wm(d,i,o),ph(d,i),d.sharedClientState.updateMutationState(i,"rejected",o),yield yo(d,g)}catch(g){yield ua(g)}}),Vf.apply(this,arguments)}function cc(){return cc=(0,m.Z)(function*(l,i){const o=Zn(l);ol(o.remoteStore)||Bn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const d=yield function(y){const E=Zn(y);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>E.mutationQueue.getHighestUnacknowledgedBatchId(L))}(o.localStore);if(-1===d)return void i.resolve();const g=o.lc.get(d)||[];g.push(i),o.lc.set(d,g)}catch(d){const g=ja(d,"Initialization of waitForPendingWrites() operation failed");i.reject(g)}}),cc.apply(this,arguments)}function ph(l,i){(l.lc.get(i)||[]).forEach(o=>{o.resolve()}),l.lc.delete(i)}function Wm(l,i,o){const d=Zn(l);let g=d.hc[d.currentUser.toKey()];if(g){const y=g.get(i);y&&(o?y.reject(o):y.resolve(),g=g.remove(i)),d.hc[d.currentUser.toKey()]=g}}function Hc(l,i,o=null){l.sharedClientState.removeLocalQueryTarget(i);for(const d of l.rc.get(i))l.ic.delete(d),o&&l.sc.wc(d,o);l.rc.delete(i),l.isPrimaryClient&&l.ac.ls(i).forEach(d=>{l.ac.containsKey(d)||pg(l,d)})}function pg(l,i){l.oc.delete(i.path.canonicalString());const o=l.uc.get(i);null!==o&&(ah(l.remoteStore,o),l.uc=l.uc.remove(i),l.cc.delete(o),gh(l))}function gg(l,i,o){for(const d of o)d instanceof ss?(l.ac.addReference(d.key,i),mg(l,d)):d instanceof Vm?(Bn("SyncEngine","Document no longer in limbo: "+d.key),l.ac.removeReference(d.key,i),l.ac.containsKey(d.key)||pg(l,d.key)):ui()}function mg(l,i){const o=i.key,d=o.path.canonicalString();l.uc.get(o)||l.oc.has(d)||(Bn("SyncEngine","New document in limbo: "+o),l.oc.add(d),gh(l))}function gh(l){for(;l.oc.size>0&&l.uc.size<l.maxConcurrentLimboResolutions;){const i=l.oc.values().next().value;l.oc.delete(i);const o=new jn(Hi.fromString(i)),d=l.fc.next();l.cc.set(d,new hh(o)),l.uc=l.uc.insert(o,d),ac(l.remoteStore,new Nc(Zo(nc(o.path)),d,2,fo.at))}}function yo(l,i,o){return uc.apply(this,arguments)}function uc(){return uc=(0,m.Z)(function*(l,i,o){const d=Zn(l),g=[],y=[],E=[];var L;d.ic.isEmpty()||(d.ic.forEach((L,ee)=>{E.push(d._c(ee,i,o).then(fe=>{if((fe||o)&&d.isPrimaryClient&&d.sharedClientState.updateQueryState(ee.targetId,fe?.fromCache?"not-current":"current"),fe){g.push(fe);const Xe=eg.Ci(ee.targetId,fe);y.push(Xe)}}))}),yield Promise.all(E),d.sc.zo(g),yield(L=(0,m.Z)(function*(ee,fe){const Xe=Zn(ee);try{yield Xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",xt=>an.forEach(fe,sn=>an.forEach(sn.Si,wn=>Xe.persistence.referenceDelegate.addReference(xt,sn.targetId,wn)).next(()=>an.forEach(sn.Di,wn=>Xe.persistence.referenceDelegate.removeReference(xt,sn.targetId,wn)))))}catch(xt){if(!eo(xt))throw xt;Bn("LocalStore","Failed to update sequence numbers: "+xt)}for(const xt of fe){const sn=xt.targetId;if(!xt.fromCache){const wn=Xe.Ui.get(sn),si=wn.withLastLimboFreeSnapshotVersion(wn.snapshotVersion);Xe.Ui=Xe.Ui.insert(sn,si)}}}),function(ee,fe){return L.apply(this,arguments)})(d.localStore,y))}),uc.apply(this,arguments)}function Iu(l,i){return gd.apply(this,arguments)}function gd(){return gd=(0,m.Z)(function*(l,i){const o=Zn(l);if(!o.currentUser.isEqual(i)){Bn("SyncEngine","User change. New user:",i.toKey());const d=yield ym(o.localStore,i);o.currentUser=i,(g=o).lc.forEach(E=>{E.forEach(L=>{L.reject(new Nn(hn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.lc.clear(),o.sharedClientState.handleUserChange(i,d.removedBatchIds,d.addedBatchIds),yield yo(o,d.ji)}var g}),gd.apply(this,arguments)}function _g(l,i){const o=Zn(l),d=o.cc.get(i);if(d&&d.nc)return Ni().add(d.key);{let g=Ni();const y=o.rc.get(i);if(!y)return g;for(const E of y){const L=o.ic.get(E);g=g.unionWith(L.view.ju)}return g}}function Rv(l,i){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,m.Z)(function*(l,i){const o=Zn(l),d=yield wf(o.localStore,i.query,!0),g=i.view.tc(d);return o.isPrimaryClient&&gg(o,i.targetId,g.Xu),g}),Hf.apply(this,arguments)}function Ym(l,i){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,m.Z)(function*(l,i){const o=Zn(l);return Dm(o.localStore,i).then(d=>yo(o,d))}),Uf.apply(this,arguments)}function Nv(l,i,o,d){return Po.apply(this,arguments)}function Po(){return Po=(0,m.Z)(function*(l,i,o,d){const g=Zn(l),y=yield function(E,L){const ee=Zn(E),fe=Zn(ee.mutationQueue);return ee.persistence.runTransaction("Lookup mutation documents","readonly",Xe=>fe.Tn(Xe,L).next(xt=>xt?ee.localDocuments.getDocuments(Xe,xt):an.resolve(null)))}(g.localStore,i);var L;null!==y?("pending"===o?yield lh(g.remoteStore):"acknowledged"===o||"rejected"===o?(Wm(g,i,d||null),ph(g,i),L=i,Zn(Zn(g.localStore).mutationQueue).An(L)):ui(),yield yo(g,y)):Bn("SyncEngine","Cannot apply mutation batch with id: "+i)}),Po.apply(this,arguments)}function vg(){return vg=(0,m.Z)(function*(l,i){const o=Zn(l);if(vd(o),Pv(o),!0===i&&!0!==o.dc){const d=o.sharedClientState.getAllActiveQueryTargets(),g=yield yg(o,d.toArray());o.dc=!0,yield ta(o.remoteStore,!0);for(const y of g)ac(o.remoteStore,y)}else if(!1===i&&!1!==o.dc){const d=[];let g=Promise.resolve();o.rc.forEach((y,E)=>{o.sharedClientState.isLocalQueryTarget(E)?d.push(E):g=g.then(()=>(Hc(o,E),rh(o.localStore,E,!0))),ah(o.remoteStore,E)}),yield g,yield yg(o,d),function(y){const E=Zn(y);E.cc.forEach((L,ee)=>{ah(E.remoteStore,ee)}),E.ac.fs(),E.cc=new Map,E.uc=new hr(jn.comparator)}(o),o.dc=!1,yield ta(o.remoteStore,!1)}}),vg.apply(this,arguments)}function yg(l,i,o){return md.apply(this,arguments)}function md(){return md=(0,m.Z)(function*(l,i,o){const d=Zn(l),g=[],y=[];for(const E of i){let L;const ee=d.rc.get(E);if(ee&&0!==ee.length){L=yield oc(d.localStore,Zo(ee[0]));for(const fe of ee){const Xe=d.ic.get(fe),xt=yield Rv(d,Xe);xt.snapshot&&y.push(xt.snapshot)}}else{const fe=yield Cm(d.localStore,E);L=yield oc(d.localStore,fe),yield Mv(d,mh(fe),E,!1,L.resumeToken)}g.push(L)}return d.sc.zo(y),g}),md.apply(this,arguments)}function mh(l){return Sp(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Mu(l){const i=Zn(l);return Zn(Zn(i.localStore).persistence).vi()}function _d(l,i,o,d){return dc.apply(this,arguments)}function dc(){return dc=(0,m.Z)(function*(l,i,o,d){const g=Zn(l);if(g.dc)return void Bn("SyncEngine","Ignoring unexpected query state notification.");const y=g.rc.get(i);if(y&&y.length>0)switch(o){case"current":case"not-current":{const E=yield Dm(g.localStore,Ju(y[0])),L=tf.createSynthesizedRemoteEventForCurrentChange(i,"current"===o,Yn.EMPTY_BYTE_STRING);yield yo(g,E,L);break}case"rejected":yield rh(g.localStore,i,!0),Hc(g,i,d);break;default:ui()}}),dc.apply(this,arguments)}function za(l,i,o){return bg.apply(this,arguments)}function bg(){return bg=(0,m.Z)(function*(l,i,o){const d=vd(l);if(d.dc){for(const g of i){if(d.rc.has(g)){Bn("SyncEngine","Adding an already active target "+g);continue}const y=yield Cm(d.localStore,g),E=yield oc(d.localStore,y);yield Mv(d,mh(y),E.targetId,!1,E.resumeToken),ac(d.remoteStore,E)}for(const g of o)d.rc.has(g)&&(yield rh(d.localStore,g,!1).then(()=>{ah(d.remoteStore,g),Hc(d,g)}).catch(ua))}}),bg.apply(this,arguments)}function vd(l){const i=Zn(l);return i.remoteStore.remoteSyncer.applyRemoteEvent=Lf.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=_g.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=pd.bind(null,i),i.sc.zo=Rf.bind(null,i.eventManager),i.sc.wc=Nf.bind(null,i.eventManager),i}function Pv(l){const i=Zn(l);return i.remoteStore.remoteSyncer.applySuccessfulWrite=fg.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=kv.bind(null,i),i}class yd{constructor(){this.synchronizeTabs=!1}initialize(i){var o=this;return(0,m.Z)(function*(){o.It=oh(i.databaseInfo.databaseId),o.sharedClientState=o.gc(i),o.persistence=o.yc(i),yield o.persistence.start(),o.localStore=o.Ic(i),o.gcScheduler=o.Tc(i,o.localStore),o.indexBackfillerScheduler=o.Ec(i,o.localStore)})()}Tc(i,o){return null}Ec(i,o){return null}Ic(i){return tg(this.persistence,new _m,i.initialUser,this.It)}yc(i){return new Jp(th.Bs,this.It)}gc(i){return new Am}terminate(){var i=this;return(0,m.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class bd extends yd{constructor(i,o,d){super(),this.Ac=i,this.cacheSizeBytes=o,this.forceOwnership=d,this.synchronizeTabs=!1}initialize(i){var o=()=>super.initialize,d=this;return(0,m.Z)(function*(){yield o().call(d,i),yield d.Ac.initialize(d,i),yield Pv(d.Ac.syncEngine),yield lh(d.Ac.remoteStore),yield d.persistence.li(()=>(d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(),d.indexBackfillerScheduler&&!d.indexBackfillerScheduler.started&&d.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(i){return tg(this.persistence,new _m,i.initialUser,this.It)}Tc(i,o){return new _s(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue,o)}Ec(i,o){const d=new jh(o,this.persistence);return new Ku(i.asyncQueue,d)}yc(i){const o=yf(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),d=void 0!==this.cacheSizeBytes?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new mm(this.synchronizeTabs,o,i.clientId,d,i.asyncQueue,ag(),sh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(i){return new Am}}class Fv extends bd{constructor(i,o){super(i,o,!1),this.Ac=i,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(i){var o=()=>super.initialize,d=this;return(0,m.Z)(function*(){yield o().call(d,i);const g=d.Ac.syncEngine;d.sharedClientState instanceof Tf&&(d.sharedClientState.syncEngine={Fr:Nv.bind(null,g),$r:_d.bind(null,g),Br:za.bind(null,g),vi:Mu.bind(null,g),Mr:Ym.bind(null,g)},yield d.sharedClientState.start()),yield d.persistence.li(function(){var y=(0,m.Z)(function*(E){yield function Km(l,i){return vg.apply(this,arguments)}(d.Ac.syncEngine,E),d.gcScheduler&&(E&&!d.gcScheduler.started?d.gcScheduler.start():E||d.gcScheduler.stop()),d.indexBackfillerScheduler&&(E&&!d.indexBackfillerScheduler.started?d.indexBackfillerScheduler.start():E||d.indexBackfillerScheduler.stop())});return function(E){return y.apply(this,arguments)}}())})()}gc(i){const o=ag();if(!Tf.C(o))throw new Nn(hn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const d=yf(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Tf(o,i.asyncQueue,d,i.clientId,i.initialUser)}}class _h{initialize(i,o){var d=this;return(0,m.Z)(function*(){d.localStore||(d.localStore=i.localStore,d.sharedClientState=i.sharedClientState,d.datastore=d.createDatastore(o),d.remoteStore=d.createRemoteStore(o),d.eventManager=d.createEventManager(o),d.syncEngine=d.createSyncEngine(o,!i.synchronizeTabs),d.sharedClientState.onlineStateHandler=g=>Il(d.syncEngine,g,1),d.remoteStore.remoteSyncer.handleCredentialChange=Iu.bind(null,d.syncEngine),yield ta(d.remoteStore,d.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jb}createDatastore(i){const o=oh(i.databaseInfo.databaseId),d=new Fi(i.databaseInfo);return new km(i.authCredentials,i.appCheckCredentials,d,o)}createRemoteStore(i){return o=this.localStore,d=this.datastore,g=i.asyncQueue,y=L=>Il(this.syncEngine,L,0),E=Im.C()?new Im:new Tv,new $i(o,d,g,y,E);var o,d,g,y,E}createSyncEngine(i,o){return function(d,g,y,E,L,ee,fe){const Xe=new Pf(d,g,y,E,L,ee);return fe&&(Xe.dc=!0),Xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){return(i=(0,m.Z)(function*(o){const d=Zn(o);Bn("RemoteStore","RemoteStore shutting down."),d.wu.add(5),yield Cu(d),d.gu.shutdown(),d.yu.set("Unknown")}),function(o){return i.apply(this,arguments)})(this.remoteStore);var i}}function Uc(l,i,o){if(!o)throw new Nn(hn.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${i}.`)}function Gf(l,i,o,d){if(!0===i&&!0===d)throw new Nn(hn.INVALID_ARGUMENT,`${l} and ${o} cannot be used together.`)}function Lv(l){if(!jn.isDocumentKey(l))throw new Nn(hn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Pr(l){if(jn.isDocumentKey(l))throw new Nn(hn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function va(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const i=(o=l).constructor?o.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var o;return"function"==typeof l?"a function":ui()}function Yi(l,i){if("_delegate"in l&&(l=l._delegate),!(l instanceof i)){if(i.name===l.constructor.name)throw new Nn(hn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=va(l);throw new Nn(hn.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${o}`)}}return l}function jf(l,i){if(i<=0)throw new Nn(hn.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${i}.`)}const wg=new Map;class Cg{constructor(i){var o;if(void 0===i.host){if(void 0!==i.ssl)throw new Nn(hn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(o=i.ssl)||void 0===o||o;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Nn(hn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,Gf("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Ls{constructor(i,o,d,g){this._authCredentials=i,this._appCheckCredentials=o,this._databaseId=d,this._app=g,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nn(hn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Nn(hn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(i),void 0!==i.credentials&&(this._authCredentials=function(o){if(!o)return new zu;switch(o.type){case"gapi":return new $u(o.client,o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Nn(hn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=wg.get(i);o&&(Bn("ComponentProvider","Removing Datastore"),wg.delete(i),o.terminate())}(this),Promise.resolve()}}function zf(l,i,o,d={}){var g;const y=(l=Yi(l,Ls))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==i&&zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),l._setSettings(Object.assign(Object.assign({},y),{host:`${i}:${o}`,ssl:!1})),d.mockUserToken){let E,L;if("string"==typeof d.mockUserToken)E=d.mockUserToken,L=Ir.MOCK_USER;else{E=(0,N.Sg)(d.mockUserToken,null===(g=l._app)||void 0===g?void 0:g.options.projectId);const ee=d.mockUserToken.sub||d.mockUserToken.user_id;if(!ee)throw new Nn(hn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Ir(ee)}l._authCredentials=new Oa(new Xc(E,L))}}class Mr{constructor(i,o,d){this.converter=o,this._key=d,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Mr(this.firestore,i,this._key)}}class to{constructor(i,o,d){this.converter=o,this._query=d,this.type="query",this.firestore=i}withConverter(i){return new to(this.firestore,i,this._query)}}class ya extends to{constructor(i,o,d){super(i,o,nc(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Mr(this.firestore,null,new jn(i))}withConverter(i){return new ya(this.firestore,i,this._path)}}function Zm(l,i,...o){if(l=(0,N.m9)(l),Uc("collection","path",i),l instanceof Ls){const d=Hi.fromString(i,...o);return Pr(d),new ya(l,null,d)}{if(!(l instanceof Mr||l instanceof ya))throw new Nn(hn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(Hi.fromString(i,...o));return Pr(d),new ya(l.firestore,null,d)}}function Dg(l,i){if(l=Yi(l,Ls),Uc("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Nn(hn.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(l,null,(o=i,new tc(Hi.emptyPath(),o)));var o}function Bv(l,i,...o){if(l=(0,N.m9)(l),1===arguments.length&&(i=Wu.R()),Uc("doc","path",i),l instanceof Ls){const d=Hi.fromString(i,...o);return Lv(d),new Mr(l,null,new jn(d))}{if(!(l instanceof Mr||l instanceof ya))throw new Nn(hn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(Hi.fromString(i,...o));return Lv(d),new Mr(l.firestore,l instanceof ya?l.converter:null,new jn(d))}}function c0(l,i){return l=(0,N.m9)(l),i=(0,N.m9)(i),(l instanceof Mr||l instanceof ya)&&(i instanceof Mr||i instanceof ya)&&l.firestore===i.firestore&&l.path===i.path&&l.converter===i.converter}function $f(l,i){return l=(0,N.m9)(l),i=(0,N.m9)(i),l instanceof to&&i instanceof to&&l.firestore===i.firestore&&zd(l._query,i._query)&&l.converter===i.converter}function Vv(l,i=10240){let o=0;return{read:()=>(0,m.Z)(function*(){if(o<l.byteLength){const d={value:l.slice(o,o+i),done:!1};return o+=i,d}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Eg{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Rc(this.observer.next,i)}error(i){this.observer.error?this.Rc(this.observer.error,i):ur("Uncaught Error in snapshot listener:",i)}bc(){this.muted=!0}Rc(i,o){this.muted||setTimeout(()=>{this.muted||i(o)},0)}}class Tg{constructor(i,o){this.Pc=i,this.It=o,this.metadata=new Lr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(d=>{d&&d.Ou()?this.metadata.resolve(d.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(d?.payload)}`))},d=>this.metadata.reject(d))}close(){return this.Pc.cancel()}getMetadata(){var i=this;return(0,m.Z)(function*(){return i.metadata.promise})()}mc(){var i=this;return(0,m.Z)(function*(){return yield i.getMetadata(),i.Vc()})()}Vc(){var i=this;return(0,m.Z)(function*(){const o=yield i.Sc();if(null===o)return null;const d=i.vc.decode(o),g=Number(d);isNaN(g)&&i.Dc(`length string (${d}) is not valid number`);const y=yield i.Cc(g);return new Ui(JSON.parse(y),o.length+g)})()}xc(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}Sc(){var i=this;return(0,m.Z)(function*(){for(;i.xc()<0&&!(yield i.Nc()););if(0===i.buffer.length)return null;const o=i.xc();o<0&&i.Dc("Reached the end of bundle when a length string is expected.");const d=i.buffer.slice(0,o);return i.buffer=i.buffer.slice(o),d})()}Cc(i){var o=this;return(0,m.Z)(function*(){for(;o.buffer.length<i;)(yield o.Nc())&&o.Dc("Reached the end of bundle when more is expected.");const d=o.vc.decode(o.buffer.slice(0,i));return o.buffer=o.buffer.slice(i),d})()}Dc(i){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${i}`)}Nc(){var i=this;return(0,m.Z)(function*(){const o=yield i.Pc.read();if(!o.done){const d=new Uint8Array(i.buffer.length+o.value.length);d.set(i.buffer),d.set(o.value,i.buffer.length),i.buffer=d}return o.done})()}}class qm{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var o=this;return(0,m.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new Nn(hn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const d=yield(g=(0,m.Z)(function*(y,E){const L=Zn(y),ee=sf(L.It)+"/documents",fe={documents:E.map(wn=>qd(L.It,wn))},Xe=yield L._o("BatchGetDocuments",ee,fe,E.length),xt=new Map;Xe.forEach(wn=>{const Mn=function rv(l,i){return"found"in i?function(o,d){Ei(!!d.found);const g=hu(o,d.found.name),y=go(d.found.updateTime),E=new zs({mapValue:{fields:d.found.fields}});return yr.newFoundDocument(g,y,E)}(l,i):"missing"in i?function(o,d){Ei(!!d.missing),Ei(!!d.readTime);const g=hu(o,d.missing),y=go(d.readTime);return yr.newNoDocument(g,y)}(l,i):ui()}(L.It,wn);xt.set(Mn.key.toString(),Mn)});const sn=[];return E.forEach(wn=>{const Mn=xt.get(wn.toString());Ei(!!Mn),sn.push(Mn)}),sn}),function(y,E){return g.apply(this,arguments)})(o.datastore,i);var g;return d.forEach(g=>o.recordVersion(g)),d})()}set(i,o){this.write(o.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,o){try{this.write(o.toMutation(i,this.preconditionForUpdate(i)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(i.toString())}delete(i){this.write(new Kt(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,m.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const o=i.readVersions;var d;i.mutations.forEach(d=>{o.delete(d.key.toString())}),o.forEach((d,g)=>{const y=jn.fromPath(g);i.mutations.push(new xn(y,i.precondition(y)))}),yield(d=(0,m.Z)(function*(g,y){const E=Zn(g),L=sf(E.It)+"/documents",ee={writes:y.map(fe=>Fp(E.It,fe))};yield E.ao("Commit",L,ee)}),function(g,y){return d.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let o;if(i.isFoundDocument())o=i.version;else{if(!i.isNoDocument())throw ui();o=Ci.min()}const d=this.readVersions.get(i.key.toString());if(d){if(!o.isEqual(d))throw new Nn(hn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),o)}precondition(i){const o=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&o?o.isEqual(Ci.min())?Nr.exists(!1):Nr.updateTime(o):Nr.none()}preconditionForUpdate(i){const o=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&o){if(o.isEqual(Ci.min()))throw new Nn(hn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(o)}return Nr.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class ew{constructor(i,o,d,g,y){this.asyncQueue=i,this.datastore=o,this.options=d,this.updateFunction=g,this.deferred=y,this.kc=d.maxAttempts,this.No=new lg(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var i=this;this.No.Ro((0,m.Z)(function*(){const o=new qm(i.datastore),d=i.Mc(o);d&&d.then(g=>{i.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{i.deferred.resolve(g)}).catch(y=>{i.Fc(y)}))}).catch(g=>{i.Fc(g)})}))}Mc(i){try{const o=this.updateFunction(i);return!gt(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Fc(i){this.kc>0&&this.$c(i)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(i)}$c(i){if("FirebaseError"===i.name){const o=i.code;return"aborted"===o||"failed-precondition"===o||!or(o)}return!1}}class Uv{constructor(i,o,d,g){var y=this;this.authCredentials=i,this.appCheckCredentials=o,this.asyncQueue=d,this.databaseInfo=g,this.user=Ir.UNAUTHENTICATED,this.clientId=Wu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(d,function(){var E=(0,m.Z)(function*(L){Bn("FirestoreClient","Received user=",L.uid),yield y.authCredentialListener(L),y.user=L});return function(L){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(d,E=>(Bn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var i=this;return(0,m.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nn(hn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const o=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),o.resolve()}catch(d){const g=ja(d,"Failed to shutdown persistence");o.reject(g)}})),o.promise}}function Qm(l,i){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,m.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress(),Bn("FirestoreClient","Initializing OfflineComponentProvider");const o=yield l.getConfiguration();yield i.initialize(o);let d=o.initialUser;l.setCredentialChangeListener(function(){var g=(0,m.Z)(function*(y){d.isEqual(y)||(yield ym(i.localStore,y),d=y)});return function(y){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=i}),Sg.apply(this,arguments)}function Xm(l,i){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,m.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress();const o=yield $a(l);Bn("FirestoreClient","Initializing OnlineComponentProvider");const d=yield l.getConfiguration();yield i.initialize(o,d),l.setCredentialChangeListener(g=>Bm(i.remoteStore,g)),l.setAppCheckTokenChangeListener((g,y)=>Bm(i.remoteStore,y)),l.onlineComponents=i}),Ou.apply(this,arguments)}function $a(l){return wd.apply(this,arguments)}function wd(){return wd=(0,m.Z)(function*(l){return l.offlineComponents||(Bn("FirestoreClient","Using default OfflineComponentProvider"),yield Qm(l,new yd)),l.offlineComponents}),wd.apply(this,arguments)}function hc(l){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,m.Z)(function*(l){return l.onlineComponents||(Bn("FirestoreClient","Using default OnlineComponentProvider"),yield Xm(l,new _h)),l.onlineComponents}),Cd.apply(this,arguments)}function xg(l){return $a(l).then(i=>i.persistence)}function Dd(l){return $a(l).then(i=>i.localStore)}function Yf(l){return hc(l).then(i=>i.remoteStore)}function Jm(l){return hc(l).then(i=>i.syncEngine)}function Ml(l){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,m.Z)(function*(l){const i=yield hc(l),o=i.eventManager;return o.onListen=o0.bind(null,i.syncEngine),o.onUnlisten=a0.bind(null,i.syncEngine),o}),Kf.apply(this,arguments)}function jv(l,i,o={}){const d=new Lr;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(g,y,E,L,ee){const fe=new Eg({next:xt=>{y.enqueueAndForget(()=>kf(g,Xe));const sn=xt.docs.has(E);!sn&&xt.fromCache?ee.reject(new Nn(hn.UNAVAILABLE,"Failed to get document because the client is offline.")):sn&&xt.fromCache&&L&&"server"===L.source?ee.reject(new Nn(hn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(xt)},error:xt=>ee.reject(xt)}),Xe=new fd(nc(E.path),fe,{includeMetadataChanges:!0,ku:!0});return Cr(g,Xe)}(yield Ml(l),l.asyncQueue,i,o,d)})),d.promise}function Zf(l,i,o={}){const d=new Lr;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(g,y,E,L,ee){const fe=new Eg({next:xt=>{y.enqueueAndForget(()=>kf(g,Xe)),xt.fromCache&&"server"===L.source?ee.reject(new Nn(hn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(xt)},error:xt=>ee.reject(xt)}),Xe=new fd(E,fe,{includeMetadataChanges:!0,ku:!0});return Cr(g,Xe)}(yield Ml(l),l.asyncQueue,i,o,d)})),d.promise}class Mg{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new lg(this,"async_queue_retry"),this.Wc=()=>{const o=sh();o&&Bn("AsyncQueue","Visibility state changed to "+o.visibilityState),this.No.Po()};const i=sh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.zc(),this.Hc(i)}enterRestrictedMode(i){if(!this.Uc){this.Uc=!0,this.Qc=i||!1;const o=sh();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Wc)}}enqueue(i){if(this.zc(),this.Uc)return new Promise(()=>{});const o=new Lr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Lc.push(i),this.Jc()))}Jc(){var i=this;return(0,m.Z)(function*(){if(0!==i.Lc.length){try{yield i.Lc[0](),i.Lc.shift(),i.No.reset()}catch(o){if(!eo(o))throw o;Bn("AsyncQueue","Operation failed with retryable error: "+o)}i.Lc.length>0&&i.No.Ro(()=>i.Jc())}})()}Hc(i){const o=this.Bc.then(()=>(this.Gc=!0,i().catch(d=>{throw this.Kc=d,this.Gc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(y){let E=y.message||"";return y.stack&&(E=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),E}(d)),d}).then(d=>(this.Gc=!1,d))));return this.Bc=o,o}enqueueAfterDelay(i,o,d){this.zc(),this.jc.indexOf(i)>-1&&(o=0);const g=cl.createAndSchedule(this,i,o,d,y=>this.Yc(y));return this.qc.push(g),g}zc(){this.Kc&&ui()}verifyOperationInProgress(){}Xc(){var i=this;return(0,m.Z)(function*(){let o;do{o=i.Bc,yield o}while(o!==i.Bc)})()}Zc(i){for(const o of this.qc)if(o.timerId===i)return!0;return!1}ta(i){return this.Xc().then(()=>{this.qc.sort((o,d)=>o.targetTimeMs-d.targetTimeMs);for(const o of this.qc)if(o.skipDelay(),"all"!==i&&o.timerId===i)break;return this.Xc()})}ea(i){this.jc.push(i)}Yc(i){const o=this.qc.indexOf(i);this.qc.splice(o,1)}}function qf(l){return function(i,o){if("object"!=typeof i||null===i)return!1;const d=i;for(const g of["next","error","complete"])if(g in d&&"function"==typeof d[g])return!0;return!1}(l)}class f0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,o,d){this._progressObserver={next:i,error:o,complete:d}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,o){return this._taskCompletionResolver.promise.then(i,o)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}const p0=-1;class Jr extends Ls{constructor(i,o,d,g){super(i,o,d,g),this.type="firestore",this._queue=new Mg,this._persistenceKey=g?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ku(this),this._firestoreClient.terminate()}}function g0(l,i){const o="object"==typeof l?l:(0,h.getApp)(),d="string"==typeof l?l:i||"(default)",g=(0,h._getProvider)(o,"firestore").getImmediate({identifier:d});if(!g._initialized){const y=(0,N.P0)("firestore");y&&zf(g,...y)}return g}function os(l){return l._firestoreClient||ku(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function ku(l){var i;const o=l._freezeSettings(),d=(y=(null===(i=l._app)||void 0===i?void 0:i.options.appId)||"",new Z(l._databaseId,y,l._persistenceKey,(L=o).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var y,L;l._firestoreClient=new Uv(l._authCredentials,l._appCheckCredentials,l._queue,d)}function m0(l,i){Jf(l=Yi(l,Jr));const o=os(l),d=l._freezeSettings(),g=new _h;return e_(o,g,new bd(g,d.cacheSizeBytes,i?.forceOwnership))}function Qf(l){Jf(l=Yi(l,Jr));const i=os(l),o=l._freezeSettings(),d=new _h;return e_(i,d,new Fv(d,o.cacheSizeBytes))}function e_(l,i,o){const d=new Lr;return l.asyncQueue.enqueue((0,m.Z)(function*(){try{yield Qm(l,o),yield Xm(l,i),d.resolve()}catch(g){const y=g;if(!("FirebaseError"===(E=y).name?E.code===hn.FAILED_PRECONDITION||E.code===hn.UNIMPLEMENTED:!(typeof DOMException<"u"&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw y;zo("Error enabling offline persistence. Falling back to persistence disabled: "+y),d.reject(y)}var E})).then(()=>d.promise)}function $v(l){if(l._initialized&&!l._terminated)throw new Nn(hn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Lr;return l._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(o=(0,m.Z)(function*(d){if(!zr.C())return Promise.resolve();const g=d+"main";yield zr.delete(g)}),function(d){return o.apply(this,arguments)})(yf(l._databaseId,l._persistenceKey)),i.resolve()}catch(o){i.reject(o)}var o})),i.promise}function t_(l){return function(i){const o=new Lr;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function $m(l,i){return cc.apply(this,arguments)}(yield Jm(i),o)})),o.promise}(os(l=Yi(l,Jr)))}function Wv(l){return function tw(l){return l.asyncQueue.enqueue((0,m.Z)(function*(){const i=yield xg(l),o=yield Yf(l);return i.setNetworkEnabled(!0),function(d){const g=Zn(d);return g.wu.delete(0),Ga(g)}(o)}))}(os(l=Yi(l,Jr)))}function Wa(l){return function d0(l){return l.asyncQueue.enqueue((0,m.Z)(function*(){const i=yield xg(l),o=yield Yf(l);return i.setNetworkEnabled(!1),(d=(0,m.Z)(function*(g){const y=Zn(g);y.wu.add(0),yield Cu(y),y.yu.set("Offline")}),function(g){return d.apply(this,arguments)})(o);var d}))}(os(l=Yi(l,Jr)))}function Fo(l,i){const o=os(l=Yi(l,Jr)),d=new f0;return function Ig(l,i,o,d){const g=function(y,E){let L;return L="string"==typeof y?(new TextEncoder).encode(y):y,ee=function(ee,fe){if(ee instanceof Uint8Array)return Vv(ee,void 0);if(ee instanceof ArrayBuffer)return Vv(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Tg(ee,E);var ee}(o,oh(i));l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function l0(l,i,o){const d=Zn(l);var g;(g=(0,m.Z)(function*(y,E,L){try{const ee=yield E.getMetadata();if(yield function(sn,wn){const Mn=Zn(sn),si=go(wn.createTime);return Mn.persistence.runTransaction("hasNewerBundle","readonly",di=>Mn.Ns.getBundleMetadata(di,wn.id)).then(di=>!!di&&di.createTime.compareTo(si)>=0)}(y.localStore,ee))return yield E.close(),L._completeWith({taskState:"Success",documentsLoaded:(sn=ee).totalDocuments,bytesLoaded:sn.totalBytes,totalDocuments:sn.totalDocuments,totalBytes:sn.totalBytes}),Promise.resolve(new Set);L._updateProgress(s0(ee));const fe=new dh(ee,y.localStore,E.It);let Xe=yield E.mc();for(;Xe;){const sn=yield fe.Fu(Xe);sn&&L._updateProgress(sn),Xe=yield E.mc()}const xt=yield fe.complete();return yield yo(y,xt.Lu,void 0),yield function(sn,wn){const Mn=Zn(sn);return Mn.persistence.runTransaction("Save bundle","readwrite",si=>Mn.Ns.saveBundleMetadata(si,wn))}(y.localStore,ee),L._completeWith(xt.progress),Promise.resolve(xt.Bu)}catch(ee){return zo("SyncEngine",`Loading bundle failed with ${ee}`),L._failWith(ee),Promise.resolve(new Set)}var sn}),function(y,E,L){return g.apply(this,arguments)})(d,i,o).then(g=>{d.sharedClientState.notifyBundleLoaded(g)})}(yield Jm(l),g,d)}))}(o,l._databaseId,i,d),d}function Ed(l,i){return function h0(l,i){return l.asyncQueue.enqueue((0,m.Z)(function*(){return function(o,d){const g=Zn(o);return g.persistence.runTransaction("Get named query","readonly",y=>g.Ns.getNamedQuery(y,d))}(yield Dd(l),i)}))}(os(l=Yi(l,Jr)),i).then(o=>o?new to(l,null,o.query):null)}function Jf(l){if(l._initialized||l._terminated)throw new Nn(hn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class As{constructor(i){this._byteString=i}static fromBase64String(i){try{return new As(Yn.fromBase64String(i))}catch(o){throw new Nn(hn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(i){return new As(Yn.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Ol{constructor(...i){for(let o=0;o<i.length;++o)if(0===i[o].length)throw new Nn(hn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class ul{constructor(i){this._methodName=i}}class fc{constructor(i,o){if(!isFinite(i)||i<-90||i>90)throw new Nn(hn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(o)||o<-180||o>180)throw new Nn(hn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=i,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return ci(this._lat,i._lat)||ci(this._long,i._long)}}const Ya=/^__.*__$/;class Td{constructor(i,o,d){this.data=i,this.fieldMask=o,this.fieldTransforms=d}toMutation(i,o){return null!==this.fieldMask?new D(i,this.data,this.fieldMask,o,this.fieldTransforms):new w(i,this.data,o,this.fieldTransforms)}}class Ru{constructor(i,o,d){this.data=i,this.fieldMask=o,this.fieldTransforms=d}toMutation(i,o){return new D(i,this.data,this.fieldMask,o,this.fieldTransforms)}}function ba(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ui()}}class dl{constructor(i,o,d,g,y,E){this.settings=i,this.databaseId=o,this.It=d,this.ignoreUndefinedProperties=g,void 0===y&&this.na(),this.fieldTransforms=y||[],this.fieldMask=E||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(i){return new dl(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(i){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(i),g=this.ia({path:d,oa:!1});return g.ua(i),g}ca(i){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(i),g=this.ia({path:d,oa:!1});return g.na(),g}aa(i){return this.ia({path:void 0,oa:!0})}ha(i){return Fu(i,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(i){return void 0!==this.fieldMask.find(o=>i.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>i.isPrefixOf(o.field))}na(){if(this.path)for(let i=0;i<this.path.length;i++)this.ua(this.path.get(i))}ua(i){if(0===i.length)throw this.ha("Document fields must not be empty");if(ba(this.sa)&&Ya.test(i))throw this.ha('Document fields cannot begin and end with "__"')}}class Gc{constructor(i,o,d){this.databaseId=i,this.ignoreUndefinedProperties=o,this.It=d||oh(i)}da(i,o,d,g=!1){return new dl({sa:i,methodName:o,fa:d,path:kr.emptyPath(),oa:!1,la:g},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Nu(l){const i=l._freezeSettings(),o=oh(l._databaseId);return new Gc(l._databaseId,!!i.ignoreUndefinedProperties,o)}function tp(l,i,o,d,g,y={}){const E=l.da(y.merge||y.mergeFields?2:0,i,o,g);Sd("Data must be an object, but it was:",E,d);const L=i_(d,E);let ee,fe;if(y.merge)ee=new po(E.fieldMask),fe=E.fieldTransforms;else if(y.mergeFields){const Xe=[];for(const xt of y.mergeFields){const sn=Pu(i,xt,o);if(!E.contains(sn))throw new Nn(hn.INVALID_ARGUMENT,`Field '${sn}' is specified in your field mask but missing from your input data.`);np(Xe,sn)||Xe.push(sn)}ee=new po(Xe),fe=E.fieldTransforms.filter(xt=>ee.covers(xt.field))}else ee=null,fe=E.fieldTransforms;return new Td(new zs(L),ee,fe)}class vh extends ul{_toFieldTransform(i){if(2!==i.sa)throw i.ha(1===i.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof vh}}function Og(l,i,o){return new dl({sa:3,fa:i.settings.fa,methodName:l._methodName,oa:o},i.databaseId,i.It,i.ignoreUndefinedProperties)}class yh extends ul{_toFieldTransform(i){return new rl(i.path,new Dl)}isEqual(i){return i instanceof yh}}class Yv extends ul{constructor(i,o){super(i),this._a=o}_toFieldTransform(i){const o=Og(this,i,!0),d=this._a.map(y=>kl(y,o)),g=new qo(d);return new rl(i.path,g)}isEqual(i){return this===i}}class jc extends ul{constructor(i,o){super(i),this._a=o}_toFieldTransform(i){const o=Og(this,i,!0),d=this._a.map(y=>kl(y,o)),g=new Oc(d);return new rl(i.path,g)}isEqual(i){return this===i}}class bh extends ul{constructor(i,o){super(i),this.wa=o}_toFieldTransform(i){const o=new uu(i.It,Mp(i.It,this.wa));return new rl(i.path,o)}isEqual(i){return this===i}}function kg(l,i,o,d){const g=l.da(1,i,o);Sd("Data must be an object, but it was:",g,d);const y=[],E=zs.empty();La(d,(ee,fe)=>{const Xe=hl(i,ee,o);fe=(0,N.m9)(fe);const xt=g.ca(Xe);if(fe instanceof vh)y.push(Xe);else{const sn=kl(fe,xt);null!=sn&&(y.push(Xe),E.set(Xe,sn))}});const L=new po(y);return new Ru(E,L,g.fieldTransforms)}function n_(l,i,o,d,g,y){const E=l.da(1,i,o),L=[Pu(i,d,o)],ee=[g];if(y.length%2!=0)throw new Nn(hn.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let sn=0;sn<y.length;sn+=2)L.push(Pu(i,y[sn])),ee.push(y[sn+1]);const fe=[],Xe=zs.empty();for(let sn=L.length-1;sn>=0;--sn)if(!np(fe,L[sn])){const wn=L[sn];let Mn=ee[sn];Mn=(0,N.m9)(Mn);const si=E.ca(wn);if(Mn instanceof vh)fe.push(wn);else{const di=kl(Mn,si);null!=di&&(fe.push(wn),Xe.set(wn,di))}}const xt=new po(fe);return new Ru(Xe,xt,E.fieldTransforms)}function Kv(l,i,o,d=!1){return kl(o,l.da(d?4:3,i))}function kl(l,i){if(r_(l=(0,N.m9)(l)))return Sd("Unsupported field value:",i,l),i_(l,i);if(l instanceof ul)return function(o,d){if(!ba(d.sa))throw d.ha(`${o._methodName}() can only be used with update() and set()`);if(!d.path)throw d.ha(`${o._methodName}() is not currently supported inside arrays`);const g=o._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(l,i),null;if(void 0===l&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),l instanceof Array){if(i.settings.oa&&4!==i.sa)throw i.ha("Nested arrays are not supported");return function(o,d){const g=[];let y=0;for(const E of o){let L=kl(E,d.aa(y));null==L&&(L={nullValue:"NULL_VALUE"}),g.push(L),y++}return{arrayValue:{values:g}}}(l,i)}return function(o,d){if(null===(o=(0,N.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Mp(d.It,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const g=dr.fromDate(o);return{timestampValue:rf(d.It,g)}}if(o instanceof dr){const g=new dr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:rf(d.It,g)}}if(o instanceof fc)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof As)return{bytesValue:ev(d.It,o._byteString)};if(o instanceof Mr){const g=d.databaseId,y=o.firestore._databaseId;if(!y.isEqual(g))throw d.ha(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:Pp(o.firestore._databaseId||d.databaseId,o._key.path)}}throw d.ha(`Unsupported field value: ${va(o)}`)}(l,i)}function i_(l,i){const o={};return Cp(l)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):La(l,(d,g)=>{const y=kl(g,i.ra(d));null!=y&&(o[d]=y)}),{mapValue:{fields:o}}}function r_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof dr||l instanceof fc||l instanceof As||l instanceof Mr||l instanceof ul)}function Sd(l,i,o){if(!r_(o)||"object"!=typeof(d=o)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const d=va(o);throw i.ha("an object"===d?l+" a custom object":l+" "+d)}var d}function Pu(l,i,o){if((i=(0,N.m9)(i))instanceof Ol)return i._internalPath;if("string"==typeof i)return hl(l,i);throw Fu("Field path arguments must be of type string or ",l,!1,void 0,o)}const _0=new RegExp("[~\\*/\\[\\]]");function hl(l,i,o){if(i.search(_0)>=0)throw Fu(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,o);try{return new Ol(...i.split("."))._internalPath}catch{throw Fu(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,o)}}function Fu(l,i,o,d,g){const y=d&&!d.isEmpty(),E=void 0!==g;let L=`Function ${i}() called with invalid data`;o&&(L+=" (via `toFirestore()`)"),L+=". ";let ee="";return(y||E)&&(ee+=" (found",y&&(ee+=` in field ${d}`),E&&(ee+=` in document ${g}`),ee+=")"),new Nn(hn.INVALID_ARGUMENT,L+l+ee)}function np(l,i){return l.some(o=>o.isEqual(i))}class wh{constructor(i,o,d,g,y){this._firestore=i,this._userDataWriter=o,this._key=d,this._document=g,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new Lu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const o=this._document.data.field(pc("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o)}}}class Lu extends wh{data(){return super.data()}}function pc(l,i){return"string"==typeof i?hl(l,i):i instanceof Ol?i._internalPath:i._delegate._internalPath}function Ch(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Nn(hn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bu{}function ip(l,...i){for(const o of i)l=o._apply(l);return l}class Zv extends Bu{constructor(i,o,d){super(),this.ma=i,this.ga=o,this.ya=d,this.type="where"}_apply(i){const o=Nu(i.firestore),d=function(g,y,E,L,ee,fe,Xe){let xt;if(ee.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new Nn(hn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){Eh(Xe,fe);const wn=[];for(const Mn of Xe)wn.push(sp(L,g,Mn));xt={arrayValue:{values:wn}}}else xt=sp(L,g,Xe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||Eh(Xe,fe),xt=Kv(E,"where",Xe,"in"===fe||"not-in"===fe);const sn=qr.create(ee,fe,xt);return function(wn,Mn){if(Mn.dt()){const di=jd(wn);if(null!==di&&!di.isEqual(Mn.field))throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${di.toString()}' and '${Mn.field.toString()}'`);const Qi=Cl(wn);null!==Qi&&zc(0,Mn.field,Qi)}const si=function(di,Qi){for(const Br of di.filters)if(Qi.indexOf(Br.op)>=0)return Br.op;return null}(wn,function(di){switch(di){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Mn.op));if(null!==si)throw new Nn(hn.INVALID_ARGUMENT,si===Mn.op?`Invalid query. You cannot use more than one '${Mn.op.toString()}' filter.`:`Invalid query. You cannot use '${Mn.op.toString()}' filters with '${si.toString()}' filters.`)}(g,sn),sn}(i._query,0,o,i.firestore._databaseId,this.ma,this.ga,this.ya);return new to(i.firestore,i.converter,function(g,y){const E=g.filters.concat([y]);return new tc(g.path,g.collectionGroup,g.explicitOrderBy.slice(),E,g.limit,g.limitType,g.startAt,g.endAt)}(i._query,d))}}function Dh(l,i,o){const d=i,g=pc("where",l);return new Zv(g,d,o)}class s_ extends Bu{constructor(i,o){super(),this.ma=i,this.pa=o,this.type="orderBy"}_apply(i){const o=function(d,g,y){if(null!==d.startAt)throw new Nn(hn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==d.endAt)throw new Nn(hn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new lu(g,y);return function(L,ee){if(null===Cl(L)){const fe=jd(L);null!==fe&&zc(0,fe,ee.field)}}(d,E),E}(i._query,this.ma,this.pa);return new to(i.firestore,i.converter,function(d,g){const y=d.explicitOrderBy.concat([g]);return new tc(d.path,d.collectionGroup,y,d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(i._query,o))}}function o_(l,i="asc"){const o=i,d=pc("orderBy",l);return new s_(d,o)}class qv extends Bu{constructor(i,o,d){super(),this.type=i,this.Ia=o,this.Ta=d}_apply(i){return new to(i.firestore,i.converter,Xu(i._query,this.Ia,this.Ta))}}function Rg(l){return jf("limit",l),new qv("limit",l,"F")}function Ng(l){return jf("limitToLast",l),new qv("limitToLast",l,"L")}class a_ extends Bu{constructor(i,o,d){super(),this.type=i,this.Ea=o,this.Aa=d}_apply(i){const o=xd(i,this.type,this.Ea,this.Aa);return new to(i.firestore,i.converter,(g=o,new tc((d=i._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,g,d.endAt)));var d,g}}function l_(...l){return new a_("startAt",l,!0)}function v0(...l){return new a_("startAfter",l,!1)}class c_ extends Bu{constructor(i,o,d){super(),this.type=i,this.Ea=o,this.Aa=d}_apply(i){const o=xd(i,this.type,this.Ea,this.Aa);return new to(i.firestore,i.converter,(g=o,new tc((d=i._query).path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,g)));var d,g}}function u_(...l){return new c_("endBefore",l,!1)}function rp(...l){return new c_("endAt",l,!0)}function xd(l,i,o,d){if(o[0]=(0,N.m9)(o[0]),o[0]instanceof wh)return function(g,y,E,L,ee){if(!L)throw new Nn(hn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const fe=[];for(const Xe of Ic(g))if(Xe.field.isKeyField())fe.push(js(y,L.key));else{const xt=L.data.field(Xe.field);if(R(xt))throw new Nn(hn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Xe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xt){const sn=Xe.field.canonicalString();throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${sn}' (used as the orderBy) does not exist.`)}fe.push(xt)}return new ko(fe,ee)}(l._query,l.firestore._databaseId,i,o[0]._document,d);{const g=Nu(l.firestore);return function(y,E,L,ee,fe,Xe){const xt=y.explicitOrderBy;if(fe.length>xt.length)throw new Nn(hn.INVALID_ARGUMENT,`Too many arguments provided to ${ee}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const sn=[];for(let wn=0;wn<fe.length;wn++){const Mn=fe[wn];if(xt[wn].field.isKeyField()){if("string"!=typeof Mn)throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ee}(), but got a ${typeof Mn}`);if(!Kh(y)&&-1!==Mn.indexOf("/"))throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ee}() must be a plain document ID, but '${Mn}' contains a slash.`);const si=y.path.child(Hi.fromString(Mn));if(!jn.isDocumentKey(si))throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ee}() must result in a valid document path, but '${si}' is not because it contains an odd number of segments.`);const di=new jn(si);sn.push(js(E,di))}else{const si=Kv(L,ee,Mn);sn.push(si)}}return new ko(sn,Xe)}(l._query,l.firestore._databaseId,g,i,o,d)}}function sp(l,i,o){if("string"==typeof(o=(0,N.m9)(o))){if(""===o)throw new Nn(hn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kh(i)&&-1!==o.indexOf("/"))throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const d=i.path.child(Hi.fromString(o));if(!jn.isDocumentKey(d))throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${d}' is not because it has an odd number of segments (${d.length}).`);return js(l,new jn(d))}if(o instanceof Mr)return js(l,o._key);throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${va(o)}.`)}function Eh(l,i){if(!Array.isArray(l)||0===l.length)throw new Nn(hn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(l.length>10)throw new Nn(hn.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function zc(l,i,o){if(!o.isEqual(i))throw new Nn(hn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class Th{convertValue(i,o="none"){switch(ii(i)){case 0:return null;case 1:return i.booleanValue;case 2:return vr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,o);case 5:return i.stringValue;case 6:return this.convertBytes(M(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,o);case 10:return this.convertObject(i.mapValue,o);default:throw ui()}}convertObject(i,o){const d={};return La(i.fields,(g,y)=>{d[g]=this.convertValue(y,o)}),d}convertGeoPoint(i){return new fc(vr(i.latitude),vr(i.longitude))}convertArray(i,o){return(i.values||[]).map(d=>this.convertValue(d,o))}convertServerTimestamp(i,o){switch(o){case"previous":const d=x(i);return null==d?null:this.convertValue(d,o);case"estimate":return this.convertTimestamp(j(i));default:return null}}convertTimestamp(i){const o=Yo(i);return new dr(o.seconds,o.nanos)}convertDocumentKey(i,o){const d=Hi.fromString(i);Ei(Gy(d));const g=new ke(d.get(1),d.get(3)),y=new jn(d.popFirst(5));return g.isEqual(o)||ur(`Document ${y} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),y}}function Sh(l,i,o){let d;return d=l?o&&(o.merge||o.mergeFields)?l.toFirestore(i,o):l.toFirestore(i):i,d}class Qv extends Th{constructor(i){super(),this.firestore=i}convertBytes(i){return new As(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new Mr(this.firestore,null,o)}}class Rl{constructor(i,o){this.hasPendingWrites=i,this.fromCache=o}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class $c extends wh{constructor(i,o,d,g,y,E){super(i,o,d,g,E),this._firestore=i,this._firestoreImpl=i,this.metadata=y}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const o=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,o={}){if(this._document){const d=this._document.data.field(pc("DocumentSnapshot.get",i));if(null!==d)return this._userDataWriter.convertValue(d,o.serverTimestamps)}}}class Pg extends $c{data(i={}){return super.data(i)}}class Nl{constructor(i,o,d,g){this._firestore=i,this._userDataWriter=o,this._snapshot=g,this.metadata=new Rl(g.hasPendingWrites,g.fromCache),this.query=d}get docs(){const i=[];return this.forEach(o=>i.push(o)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,o){this._snapshot.docs.forEach(d=>{i.call(o,new Pg(this._firestore,this._userDataWriter,d.key,d,new Rl(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const o=!!i.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Nn(hn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){let y=0;return d._snapshot.docChanges.map(E=>({type:"added",doc:new Pg(d._firestore,d._userDataWriter,E.doc.key,E.doc,new Rl(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:y++}))}{let y=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(E=>g||3!==E.type).map(E=>{const L=new Pg(d._firestore,d._userDataWriter,E.doc.key,E.doc,new Rl(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter);let ee=-1,fe=-1;return 0!==E.type&&(ee=y.indexOf(E.doc.key),y=y.delete(E.doc.key)),1!==E.type&&(y=y.add(E.doc),fe=y.indexOf(E.doc.key)),{type:d_(E.type),doc:L,oldIndex:ee,newIndex:fe}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function d_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ui()}}function Xv(l,i){return l instanceof $c&&i instanceof $c?l._firestore===i._firestore&&l._key.isEqual(i._key)&&(null===l._document?null===i._document:l._document.isEqual(i._document))&&l._converter===i._converter:l instanceof Nl&&i instanceof Nl&&l._firestore===i._firestore&&$f(l.query,i.query)&&l.metadata.isEqual(i.metadata)&&l._snapshot.isEqual(i._snapshot)}function y0(l){l=Yi(l,Mr);const i=Yi(l.firestore,Jr);return jv(os(i),l._key).then(o=>Bg(i,l,o))}class Wr extends Th{constructor(i){super(),this.firestore=i}convertBytes(i){return new As(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new Mr(this.firestore,null,o)}}function Fg(l){l=Yi(l,Mr);const i=Yi(l.firestore,Jr),o=os(i),d=new Wr(i);return function nw(l,i){const o=new Lr;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(d=(0,m.Z)(function*(g,y,E){try{const L=yield function(ee,fe){const Xe=Zn(ee);return Xe.persistence.runTransaction("read document","readonly",xt=>Xe.localDocuments.getDocument(xt,fe))}(g,y);L.isFoundDocument()?E.resolve(L):L.isNoDocument()?E.resolve(null):E.reject(new Nn(hn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const ee=ja(L,`Failed to get document '${y} from cache`);E.reject(ee)}}),function(g,y,E){return d.apply(this,arguments)})(yield Dd(l),i,o);var d})),o.promise}(o,l._key).then(g=>new $c(i,d,l._key,g,new Rl(null!==g&&g.hasLocalMutations,!0),l.converter))}function Lg(l){l=Yi(l,Mr);const i=Yi(l.firestore,Jr);return jv(os(i),l._key,{source:"server"}).then(o=>Bg(i,l,o))}function Jv(l){l=Yi(l,to);const i=Yi(l.firestore,Jr),o=os(i),d=new Wr(i);return Ch(l._query),Zf(o,l._query).then(g=>new Nl(i,d,l,g))}function ey(l){l=Yi(l,to);const i=Yi(l.firestore,Jr),o=os(i),d=new Wr(i);return function zv(l,i){const o=new Lr;return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(d=(0,m.Z)(function*(g,y,E){try{const L=yield wf(g,y,!0),ee=new Hm(y,L.Hi),fe=ee.Wu(L.documents),Xe=ee.applyChanges(fe,!1);E.resolve(Xe.snapshot)}catch(L){const ee=ja(L,`Failed to execute query '${y} against cache`);E.reject(ee)}}),function(g,y,E){return d.apply(this,arguments)})(yield Dd(l),i,o);var d})),o.promise}(o,l._query).then(g=>new Nl(i,d,l,g))}function op(l){l=Yi(l,to);const i=Yi(l.firestore,Jr),o=os(i),d=new Wr(i);return Zf(o,l._query,{source:"server"}).then(g=>new Nl(i,d,l,g))}function Pl(l,i,o){l=Yi(l,Mr);const d=Yi(l.firestore,Jr),g=Sh(l.converter,i,o);return Vu(d,[tp(Nu(d),"setDoc",l._key,g,null!==l.converter,o).toMutation(l._key,Nr.none())])}function xh(l,i,o,...d){l=Yi(l,Mr);const g=Yi(l.firestore,Jr),y=Nu(g);let E;return E="string"==typeof(i=(0,N.m9)(i))||i instanceof Ol?n_(y,"updateDoc",l._key,i,o,d):kg(y,"updateDoc",l._key,i),Vu(g,[E.toMutation(l._key,Nr.exists(!0))])}function Ah(l){return Vu(Yi(l.firestore,Jr),[new Kt(l._key,Nr.none())])}function ty(l,i){const o=Yi(l.firestore,Jr),d=Bv(l),g=Sh(l.converter,i);return Vu(o,[tp(Nu(l.firestore),"addDoc",d._key,g,null!==l.converter,{}).toMutation(d._key,Nr.exists(!1))]).then(()=>d)}function h_(l,...i){var o,d,g;l=(0,N.m9)(l);let y={includeMetadataChanges:!1},E=0;"object"!=typeof i[E]||qf(i[E])||(y=i[E],E++);const L={includeMetadataChanges:y.includeMetadataChanges};if(qf(i[E])){const xt=i[E];i[E]=null===(o=xt.next)||void 0===o?void 0:o.bind(xt),i[E+1]=null===(d=xt.error)||void 0===d?void 0:d.bind(xt),i[E+2]=null===(g=xt.complete)||void 0===g?void 0:g.bind(xt)}let ee,fe,Xe;if(l instanceof Mr)fe=Yi(l.firestore,Jr),Xe=nc(l._key.path),ee={next:xt=>{i[E]&&i[E](Bg(fe,l,xt))},error:i[E+1],complete:i[E+2]};else{const xt=Yi(l,to);fe=Yi(xt.firestore,Jr),Xe=xt._query;const sn=new Wr(fe);ee={next:wn=>{i[E]&&i[E](new Nl(fe,sn,xt,wn))},error:i[E+1],complete:i[E+2]},Ch(l._query)}return function(xt,sn,wn,Mn){const si=new Eg(Mn),di=new fd(sn,si,wn);return xt.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Cr(yield Ml(xt),di)})),()=>{si.bc(),xt.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return kf(yield Ml(xt),di)}))}}(os(fe),Xe,L,ee)}function Ih(l,i){return function Ag(l,i){const o=new Eg(i);return l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return d=yield Ml(l),g=o,Zn(d).bu.add(g),void g.next();var d,g})),()=>{o.bc(),l.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return d=yield Ml(l),g=o,void Zn(d).bu.delete(g);var d,g}))}}(os(l=Yi(l,Jr)),qf(i)?i:{next:i})}function Vu(l,i){return function(o,d){const g=new Lr;return o.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Ff(l,i,o){return fh.apply(this,arguments)}(yield Jm(o),d,g)})),g.promise}(os(l),i)}function Bg(l,i,o){const d=o.docs.get(i._key),g=new Wr(l);return new $c(l,g,i._key,d,new Rl(o.hasPendingWrites,o.fromCache),i.converter)}const p_={maxAttempts:5};class wa{constructor(i,o){this._firestore=i,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Nu(i)}set(i,o,d){this._verifyNotCommitted();const g=Wc(i,this._firestore),y=Sh(g.converter,o,d),E=tp(this._dataReader,"WriteBatch.set",g._key,y,null!==g.converter,d);return this._mutations.push(E.toMutation(g._key,Nr.none())),this}update(i,o,d,...g){this._verifyNotCommitted();const y=Wc(i,this._firestore);let E;return E="string"==typeof(o=(0,N.m9)(o))||o instanceof Ol?n_(this._dataReader,"WriteBatch.update",y._key,o,d,g):kg(this._dataReader,"WriteBatch.update",y._key,o),this._mutations.push(E.toMutation(y._key,Nr.exists(!0))),this}delete(i){this._verifyNotCommitted();const o=Wc(i,this._firestore);return this._mutations=this._mutations.concat(new Kt(o._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nn(hn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wc(l,i){if((l=(0,N.m9)(l)).firestore!==i)throw new Nn(hn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Ca extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=Nu(i)}get(i){const o=Wc(i,this._firestore),d=new Qv(this._firestore);return this._transaction.lookup([o._key]).then(g=>{if(!g||1!==g.length)return ui();const y=g[0];if(y.isFoundDocument())return new wh(this._firestore,d,y.key,y,o.converter);if(y.isNoDocument())return new wh(this._firestore,d,o._key,null,o.converter);throw ui()})}set(i,o,d){const g=Wc(i,this._firestore),y=Sh(g.converter,o,d),E=tp(this._dataReader,"Transaction.set",g._key,y,null!==g.converter,d);return this._transaction.set(g._key,E),this}update(i,o,d,...g){const y=Wc(i,this._firestore);let E;return E="string"==typeof(o=(0,N.m9)(o))||o instanceof Ol?n_(this._dataReader,"Transaction.update",y._key,o,d,g):kg(this._dataReader,"Transaction.update",y._key,o),this._transaction.update(y._key,E),this}delete(i){const o=Wc(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(i,o){super(i,o),this._firestore=i}get(i){const o=Wc(i,this._firestore),d=new Wr(this._firestore);return super.get(i).then(g=>new $c(this._firestore,d,o._key,g._document,new Rl(!1,!1),o.converter))}}function Fl(l,i,o){l=Yi(l,Jr);const d=Object.assign(Object.assign({},p_),o);return function(g){if(g.maxAttempts<1)throw new Nn(hn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(d),function(g,y,E){const L=new Lr;return g.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const ee=yield function Gv(l){return hc(l).then(i=>i.datastore)}(g);new ew(g.asyncQueue,ee,E,y,L).run()})),L.promise}(os(l),g=>i(new Ca(l,g)),d)}function Ll(){return new vh("deleteField")}function fl(){return new yh("serverTimestamp")}function ny(...l){return new Yv("arrayUnion",l)}function iy(...l){return new jc("arrayRemove",l)}function b0(l){return new bh("increment",l)}!function(l,i=!0){Ns=h.SDK_VERSION,(0,h._registerComponent)(new A.wA("firestore",(o,{instanceIdentifier:d,options:g})=>{const y=o.getProvider("app").getImmediate(),E=new Jr(new Uh(o.getProvider("auth-internal")),new Jc(o.getProvider("app-check-internal")),function(L,ee){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new Nn(hn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ke(L.options.projectId,ee)}(y,d),y);return g=Object.assign({useFetchStreams:i},g),E._setSettings(g),E},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(Js,"3.7.1",l),(0,h.registerVersion)(Js,"3.7.1","esm2017")}()},2090:(bn,Tt,S)=>{S.d(Tt,{$s:()=>ft,BH:()=>nn,DV:()=>Gn,G6:()=>je,GJ:()=>$n,L:()=>pe,LL:()=>rn,P0:()=>Zt,Pz:()=>fn,Sg:()=>wt,UG:()=>dt,UI:()=>vn,US:()=>et,Wl:()=>gn,Yr:()=>He,ZB:()=>ye,ZR:()=>$t,aH:()=>on,b$:()=>mt,cI:()=>Xt,dS:()=>Mt,eu:()=>Oe,g5:()=>A,gK:()=>un,gQ:()=>Wt,h$:()=>tt,hl:()=>$e,hu:()=>h,jU:()=>Pt,m9:()=>Bt,ne:()=>cn,p$:()=>X,pd:()=>Ct,q4:()=>Jt,r3:()=>Hn,ru:()=>Ue,tV:()=>ge,uI:()=>ut,ug:()=>te,vZ:()=>Be,w1:()=>kt,w9:()=>Wn,xO:()=>nt,xb:()=>Qn,z$:()=>Ge,zI:()=>rt,zd:()=>Ze});const h=function(We,qe){if(!We)throw A(qe)},A=function(We){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+We)},Se=function(We){const qe=[];let Ce=0;for(let Te=0;Te<We.length;Te++){let ne=We.charCodeAt(Te);ne<128?qe[Ce++]=ne:ne<2048?(qe[Ce++]=ne>>6|192,qe[Ce++]=63&ne|128):55296==(64512&ne)&&Te+1<We.length&&56320==(64512&We.charCodeAt(Te+1))?(ne=65536+((1023&ne)<<10)+(1023&We.charCodeAt(++Te)),qe[Ce++]=ne>>18|240,qe[Ce++]=ne>>12&63|128,qe[Ce++]=ne>>6&63|128,qe[Ce++]=63&ne|128):(qe[Ce++]=ne>>12|224,qe[Ce++]=ne>>6&63|128,qe[Ce++]=63&ne|128)}return qe},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(We,qe){if(!Array.isArray(We))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=qe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let ne=0;ne<We.length;ne+=3){const Ne=We[ne],_t=ne+1<We.length,Ke=_t?We[ne+1]:0,Ye=ne+2<We.length,Pe=Ye?We[ne+2]:0;let _e=(15&Ke)<<2|Pe>>6,Ie=63&Pe;Ye||(Ie=64,_t||(_e=64)),Te.push(Ce[Ne>>2],Ce[(3&Ne)<<4|Ke>>4],Ce[_e],Ce[Ie])}return Te.join("")},encodeString(We,qe){return this.HAS_NATIVE_SUPPORT&&!qe?btoa(We):this.encodeByteArray(Se(We),qe)},decodeString(We,qe){return this.HAS_NATIVE_SUPPORT&&!qe?atob(We):function(We){const qe=[];let Ce=0,Te=0;for(;Ce<We.length;){const ne=We[Ce++];if(ne<128)qe[Te++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ne=We[Ce++];qe[Te++]=String.fromCharCode((31&ne)<<6|63&Ne)}else if(ne>239&&ne<365){const Ye=((7&ne)<<18|(63&We[Ce++])<<12|(63&We[Ce++])<<6|63&We[Ce++])-65536;qe[Te++]=String.fromCharCode(55296+(Ye>>10)),qe[Te++]=String.fromCharCode(56320+(1023&Ye))}else{const Ne=We[Ce++],_t=We[Ce++];qe[Te++]=String.fromCharCode((15&ne)<<12|(63&Ne)<<6|63&_t)}}return qe.join("")}(this.decodeStringToByteArray(We,qe))},decodeStringToByteArray(We,qe){this.init_();const Ce=qe?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let ne=0;ne<We.length;){const Ne=Ce[We.charAt(ne++)],Ke=ne<We.length?Ce[We.charAt(ne)]:0;++ne;const Pe=ne<We.length?Ce[We.charAt(ne)]:64;++ne;const de=ne<We.length?Ce[We.charAt(ne)]:64;if(++ne,null==Ne||null==Ke||null==Pe||null==de)throw Error();Te.push(Ne<<2|Ke>>4),64!==Pe&&(Te.push(Ke<<4&240|Pe>>2),64!==de&&Te.push(Pe<<6&192|de))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let We=0;We<this.ENCODED_VALS.length;We++)this.byteToCharMap_[We]=this.ENCODED_VALS.charAt(We),this.charToByteMap_[this.byteToCharMap_[We]]=We,this.byteToCharMapWebSafe_[We]=this.ENCODED_VALS_WEBSAFE.charAt(We),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[We]]=We,We>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(We)]=We,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(We)]=We)}}},tt=function(We){const qe=Se(We);return et.encodeByteArray(qe,!0)},pe=function(We){return tt(We).replace(/\./g,"")},ge=function(We){try{return et.decodeString(We,!0)}catch(qe){console.error("base64Decode failed: ",qe)}return null};function X(We){return ye(void 0,We)}function ye(We,qe){if(!(qe instanceof Object))return qe;switch(qe.constructor){case Date:return new Date(qe.getTime());case Object:void 0===We&&(We={});break;case Array:We=[];break;default:return qe}for(const Ce in qe)!qe.hasOwnProperty(Ce)||!we(Ce)||(We[Ce]=ye(We[Ce],qe[Ce]));return We}function we(We){return"__proto__"!==We}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function dt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function Ue(){const We="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof We&&void 0!==We.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const We=Ge();return We.indexOf("MSIE ")>=0||We.indexOf("Trident/")>=0}function He(){return!1}function je(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $e(){return"object"==typeof indexedDB}function Oe(){return new Promise((We,qe)=>{try{let Ce=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Te);ne.onsuccess=()=>{ne.result.close(),Ce||self.indexedDB.deleteDatabase(Te),We(!0)},ne.onupgradeneeded=()=>{Ce=!1},ne.onerror=()=>{var Ne;qe((null===(Ne=ne.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(Ce){qe(Ce)}})}function rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const At=()=>{try{return function ot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const We=process.env.__FIREBASE_DEFAULTS__;return We?JSON.parse(We):void 0})()||(()=>{if(typeof document>"u")return;let We;try{We=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const qe=We&&ge(We[1]);return qe&&JSON.parse(qe)})()}catch(We){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${We}`)}},Jt=We=>{var qe,Ce;return null===(Ce=null===(qe=At())||void 0===qe?void 0:qe.emulatorHosts)||void 0===Ce?void 0:Ce[We]},Zt=We=>{const qe=Jt(We);if(!qe)return;const Ce=qe.lastIndexOf(":");if(Ce<=0||Ce+1===qe.length)throw new Error(`Invalid host ${qe} with no separate hostname and port!`);const Te=parseInt(qe.substring(Ce+1),10);return"["===qe[0]?[qe.substring(1,Ce-1),Te]:[qe.substring(0,Ce),Te]},on=()=>{var We;return null===(We=At())||void 0===We?void 0:We.config},fn=We=>{var qe;return null===(qe=At())||void 0===qe?void 0:qe[`_${We}`]};class nn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((qe,Ce)=>{this.resolve=qe,this.reject=Ce})}wrapCallback(qe){return(Ce,Te)=>{Ce?this.reject(Ce):this.resolve(Te),"function"==typeof qe&&(this.promise.catch(()=>{}),1===qe.length?qe(Ce):qe(Ce,Te))}}}function wt(We,qe){if(We.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=qe||"demo-project",ne=We.iat||0,Ne=We.sub||We.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:ne,exp:ne+3600,auth_time:ne,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},We);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(_t)),""].join(".")}class $t extends Error{constructor(qe,Ce,Te){super(Ce),this.code=qe,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(qe,Ce,Te){this.service=qe,this.serviceName=Ce,this.errors=Te}create(qe,...Ce){const Te=Ce[0]||{},ne=`${this.service}/${qe}`,Ne=this.errors[qe],_t=Ne?function Qt(We,qe){return We.replace(Cn,(Ce,Te)=>{const ne=qe[Te];return null!=ne?String(ne):`<${Te}?>`})}(Ne,Te):"Error";return new $t(ne,`${this.serviceName}: ${_t} (${ne}).`,Te)}}const Cn=/\{\$([^}]+)}/g;function Xt(We){return JSON.parse(We)}function gn(We){return JSON.stringify(We)}const An=function(We){let qe={},Ce={},Te={},ne="";try{const Ne=We.split(".");qe=Xt(ge(Ne[0])||""),Ce=Xt(ge(Ne[1])||""),ne=Ne[2],Te=Ce.d||{},delete Ce.d}catch{}return{header:qe,claims:Ce,data:Te,signature:ne}},Wn=function(We){const Ce=An(We).claims;return!!Ce&&"object"==typeof Ce&&Ce.hasOwnProperty("iat")},$n=function(We){const qe=An(We).claims;return"object"==typeof qe&&!0===qe.admin};function Hn(We,qe){return Object.prototype.hasOwnProperty.call(We,qe)}function Gn(We,qe){if(Object.prototype.hasOwnProperty.call(We,qe))return We[qe]}function Qn(We){for(const qe in We)if(Object.prototype.hasOwnProperty.call(We,qe))return!1;return!0}function vn(We,qe,Ce){const Te={};for(const ne in We)Object.prototype.hasOwnProperty.call(We,ne)&&(Te[ne]=qe.call(Ce,We[ne],ne,We));return Te}function Be(We,qe){if(We===qe)return!0;const Ce=Object.keys(We),Te=Object.keys(qe);for(const ne of Ce){if(!Te.includes(ne))return!1;const Ne=We[ne],_t=qe[ne];if(ae(Ne)&&ae(_t)){if(!Be(Ne,_t))return!1}else if(Ne!==_t)return!1}for(const ne of Te)if(!Ce.includes(ne))return!1;return!0}function ae(We){return null!==We&&"object"==typeof We}function nt(We){const qe=[];for(const[Ce,Te]of Object.entries(We))Array.isArray(Te)?Te.forEach(ne=>{qe.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ne))}):qe.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Te));return qe.length?"&"+qe.join("&"):""}function Ze(We){const qe={};return We.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[ne,Ne]=Te.split("=");qe[decodeURIComponent(ne)]=decodeURIComponent(Ne)}}),qe}function Ct(We){const qe=We.indexOf("?");if(!qe)return"";const Ce=We.indexOf("#",qe);return We.substring(qe,Ce>0?Ce:void 0)}class Wt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let qe=1;qe<this.blockSize;++qe)this.pad_[qe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(qe,Ce){Ce||(Ce=0);const Te=this.W_;if("string"==typeof qe)for(let de=0;de<16;de++)Te[de]=qe.charCodeAt(Ce)<<24|qe.charCodeAt(Ce+1)<<16|qe.charCodeAt(Ce+2)<<8|qe.charCodeAt(Ce+3),Ce+=4;else for(let de=0;de<16;de++)Te[de]=qe[Ce]<<24|qe[Ce+1]<<16|qe[Ce+2]<<8|qe[Ce+3],Ce+=4;for(let de=16;de<80;de++){const _e=Te[de-3]^Te[de-8]^Te[de-14]^Te[de-16];Te[de]=4294967295&(_e<<1|_e>>>31)}let Pe,re,ne=this.chain_[0],Ne=this.chain_[1],_t=this.chain_[2],Ke=this.chain_[3],Ye=this.chain_[4];for(let de=0;de<80;de++){de<40?de<20?(Pe=Ke^Ne&(_t^Ke),re=1518500249):(Pe=Ne^_t^Ke,re=1859775393):de<60?(Pe=Ne&_t|Ke&(Ne|_t),re=2400959708):(Pe=Ne^_t^Ke,re=3395469782);const _e=(ne<<5|ne>>>27)+Pe+Ye+re+Te[de]&4294967295;Ye=Ke,Ke=_t,_t=4294967295&(Ne<<30|Ne>>>2),Ne=ne,ne=_e}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+Ne&4294967295,this.chain_[2]=this.chain_[2]+_t&4294967295,this.chain_[3]=this.chain_[3]+Ke&4294967295,this.chain_[4]=this.chain_[4]+Ye&4294967295}update(qe,Ce){if(null==qe)return;void 0===Ce&&(Ce=qe.length);const Te=Ce-this.blockSize;let ne=0;const Ne=this.buf_;let _t=this.inbuf_;for(;ne<Ce;){if(0===_t)for(;ne<=Te;)this.compress_(qe,ne),ne+=this.blockSize;if("string"==typeof qe){for(;ne<Ce;)if(Ne[_t]=qe.charCodeAt(ne),++_t,++ne,_t===this.blockSize){this.compress_(Ne),_t=0;break}}else for(;ne<Ce;)if(Ne[_t]=qe[ne],++_t,++ne,_t===this.blockSize){this.compress_(Ne),_t=0;break}}this.inbuf_=_t,this.total_+=Ce}digest(){const qe=[];let Ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&Ce,Ce/=256;this.compress_(this.buf_);let Te=0;for(let ne=0;ne<5;ne++)for(let Ne=24;Ne>=0;Ne-=8)qe[Te]=this.chain_[ne]>>Ne&255,++Te;return qe}}function cn(We,qe){const Ce=new Gt(We,qe);return Ce.subscribe.bind(Ce)}class Gt{constructor(qe,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{qe(this)}).catch(Te=>{this.error(Te)})}next(qe){this.forEachObserver(Ce=>{Ce.next(qe)})}error(qe){this.forEachObserver(Ce=>{Ce.error(qe)}),this.close(qe)}complete(){this.forEachObserver(qe=>{qe.complete()}),this.close()}subscribe(qe,Ce,Te){let ne;if(void 0===qe&&void 0===Ce&&void 0===Te)throw new Error("Missing Observer.");ne=function Le(We,qe){if("object"!=typeof We||null===We)return!1;for(const Ce of qe)if(Ce in We&&"function"==typeof We[Ce])return!0;return!1}(qe,["next","error","complete"])?qe:{next:qe,error:Ce,complete:Te},void 0===ne.next&&(ne.next=vt),void 0===ne.error&&(ne.error=vt),void 0===ne.complete&&(ne.complete=vt);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ne}unsubscribeOne(qe){void 0===this.observers||void 0===this.observers[qe]||(delete this.observers[qe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(qe){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,qe)}sendOne(qe,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[qe])try{Ce(this.observers[qe])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(qe){this.finalized||(this.finalized=!0,void 0!==qe&&(this.finalError=qe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vt(){}function un(We,qe){return`${We} failed: ${qe} argument `}const Mt=function(We){const qe=[];let Ce=0;for(let Te=0;Te<We.length;Te++){let ne=We.charCodeAt(Te);if(ne>=55296&&ne<=56319){const Ne=ne-55296;Te++,h(Te<We.length,"Surrogate pair missing trail surrogate."),ne=65536+(Ne<<10)+(We.charCodeAt(Te)-56320)}ne<128?qe[Ce++]=ne:ne<2048?(qe[Ce++]=ne>>6|192,qe[Ce++]=63&ne|128):ne<65536?(qe[Ce++]=ne>>12|224,qe[Ce++]=ne>>6&63|128,qe[Ce++]=63&ne|128):(qe[Ce++]=ne>>18|240,qe[Ce++]=ne>>12&63|128,qe[Ce++]=ne>>6&63|128,qe[Ce++]=63&ne|128)}return qe},te=function(We){let qe=0;for(let Ce=0;Ce<We.length;Ce++){const Te=We.charCodeAt(Ce);Te<128?qe++:Te<2048?qe+=2:Te>=55296&&Te<=56319?(qe+=4,Ce++):qe+=3}return qe};function ft(We,qe=1e3,Ce=2){const Te=qe*Math.pow(Ce,We),ne=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+ne)}function Bt(We){return We&&We._delegate?We._delegate:We}},629:(bn,Tt,S)=>{S.d(Tt,{e:()=>et});var m=S(5861),h=S(127),Se=(S(5881),S(4650)),N=S(1205);let et=(()=>{class tt{constructor(ge){this.auth=ge,this.user=ge.authState}getCurrentUser(){const ge=localStorage.getItem("currentUser");return ge?Promise.resolve(JSON.parse(ge)):this.auth.currentUser}setCurrentUser(ge){localStorage.setItem("currentUser",JSON.stringify(ge))}login(ge,X){return this.auth.signInWithEmailAndPassword(ge,X)}signin(ge,X){return this.auth.createUserWithEmailAndPassword(ge,X)}isUserLoggedIn2(){return this.auth.user}isUserLoggedIn(){return!!this.auth.currentUser}logout(){return localStorage.removeItem("currentUser"),this.auth.signOut()}waitForAuthChange(){return(0,m.Z)(function*(){return new Promise(ge=>{const X=h.Z.auth().onAuthStateChanged(ye=>{X(),ge(ye)})})})()}}return tt.\u0275fac=function(ge){return new(ge||tt)(Se.LFG(N.zQ))},tt.\u0275prov=Se.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})()},1615:(bn,Tt,S)=>{S.d(Tt,{w:()=>et});var m=S(5861),h=S(4004),A=S(4650),Se=S(3290),N=S(629);let et=(()=>{class tt{constructor(ge,X){this.afs=ge,this.authService=X,this.todoCollection=this.afs.collection("Todos",ye=>ye.orderBy("title","asc")),this.doingCollection=this.afs.collection("Doings",ye=>ye.orderBy("title","asc")),this.doneCollection=this.afs.collection("Dones",ye=>ye.orderBy("title","asc")),this.Todos=this.todoCollection.snapshotChanges().pipe((0,h.U)(ye=>ye.map(we=>{const Ge=we.payload.doc.data();return Ge.id=we.payload.doc.id,Ge}))),this.Doings=this.doingCollection.snapshotChanges().pipe((0,h.U)(ye=>ye.map(we=>{const Ge=we.payload.doc.data();return Ge.id=we.payload.doc.id,Ge}))),this.Dones=this.doneCollection.snapshotChanges().pipe((0,h.U)(ye=>ye.map(we=>{const Ge=we.payload.doc.data();return Ge.id=we.payload.doc.id,Ge})))}getTodos(){return this.Todos}getDoings(){return this.Doings}getDones(){return this.Dones}addTodo(ge){var X=this;return(0,m.Z)(function*(){const ye=yield X.authService.getCurrentUser();yield X.todoCollection.add({title:ge,isDone:!1,userId:ye.uid})})()}addDoing(ge){var X=this;return(0,m.Z)(function*(){const ye=yield X.authService.getCurrentUser();X.doingCollection.add({title:ge,isDone:!1,userId:ye.uid})})()}addDone(ge){var X=this;return(0,m.Z)(function*(){const ye=yield X.authService.getCurrentUser();X.doneCollection.add({title:ge,isDone:!1,userId:ye.uid})})()}getTodosByUserId(ge){return this.afs.collection("Todos",X=>X.where("userId","==",ge)).valueChanges({idField:"id"})}getDoingsByUserId(ge){return this.afs.collection("Doings",X=>X.where("userId","==",ge)).valueChanges({idField:"id"})}getDonesByUserId(ge){return this.afs.collection("Dones",X=>X.where("userId","==",ge)).valueChanges({idField:"id"})}deleteTodo(ge){this.todoDoc=this.afs.doc(`Todos/${ge.id}`),this.todoDoc.delete()}deleteDoing(ge){this.doingDoc=this.afs.doc(`Doings/${ge.id}`),this.doingDoc.delete()}deleteDone(ge){this.doneDoc=this.afs.doc(`Dones/${ge.id}`),this.doneDoc.delete()}updateTodo(ge){this.todoDoc=this.afs.doc(`Todos/${ge.id}`),this.todoDoc.update(ge),this.todoDoc.update({isDone:!1})}updateDoing(ge){this.doingDoc=this.afs.doc(`Doings/${ge.id}`),this.doingDoc.update(ge),this.doingDoc.update({isDone:!1})}updateDone(ge){this.doneDoc=this.afs.doc(`Dones/${ge.id}`),this.doneDoc.update(ge),this.doneDoc.update({isDone:!1})}updateTodoStatus(ge,X){this.todoDoc=this.afs.doc(`Todos/${ge.id}`),this.todoDoc.update({isDone:X})}updateDoingStatus(ge,X){this.doingDoc=this.afs.doc(`Doings/${ge.id}`),this.doingDoc.update({isDone:X})}}return tt.\u0275fac=function(ge){return new(ge||tt)(A.LFG(Se.ST),A.LFG(N.e))},tt.\u0275prov=A.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})()},5085:(bn,Tt,S)=>{var m=S(1481),h=S(4650),A=S(7799),Se=S(629);let N=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return!!this.authService.isUserLoggedIn()||this.router.parseUrl("login")}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Se.e),h.LFG(A.F0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const et=[{path:"main",loadChildren:()=>S.e(395).then(S.bind(S,1395)).then(n=>n.MainModule)},{path:"signin",loadChildren:()=>S.e(402).then(S.bind(S,8402)).then(n=>n.SigninModule)},{path:"login",loadChildren:()=>S.e(69).then(S.bind(S,1069)).then(n=>n.LoginModule)},{path:"contact",loadChildren:()=>S.e(774).then(S.bind(S,7774)).then(n=>n.ContactModule)},{path:"todopage",loadChildren:()=>S.e(424).then(S.bind(S,4424)).then(n=>n.ToDoPageRoutingModule),canActivate:[N]},{path:"event",loadChildren:()=>S.e(938).then(S.bind(S,4938)).then(n=>n.EventRoutingModule),canActivate:[N]},{path:"notes",loadChildren:()=>S.e(359).then(S.bind(S,7359)).then(n=>n.NotesRoutingModule),canActivate:[N]},{path:"",redirectTo:"/main",pathMatch:"full"}];let tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[A.Bz.forRoot(et),A.Bz]}),n})();var pe=S(9300),ge=S(6895),X=S(8605),ye=S(3238),we=S(2693),Ge=S(445),ut=S(1281),dt=S(9521),Pt=S(3353),Ue=S(7579),mt=S(4968),jt=S(6451),kt=S(4004),at=S(9718),He=S(2722),je=S(1884),$e=S(5698),Oe=S(8675),rt=S(8372),ot=S(7340);const st=["*"],pt=["content"];function Rt(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c._onBackdropClicked())}),h.qZA()}if(2&n){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function At(n,t){1&n&&(h.TgZ(0,"mat-drawer-content"),h.Hsn(1,2),h.qZA())}const Jt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Zt=["mat-drawer","mat-drawer-content","*"];function on(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c._onBackdropClicked())}),h.qZA()}if(2&n){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function fn(n,t){1&n&&(h.TgZ(0,"mat-sidenav-content"),h.Hsn(1,2),h.qZA())}const nn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],wt=["mat-sidenav","mat-sidenav-content","*"],$t={transformDrawer:(0,ot.X$)("transform",[(0,ot.SB)("open, open-instant",(0,ot.oB)({transform:"none",visibility:"visible"})),(0,ot.SB)("void",(0,ot.oB)({"box-shadow":"none",visibility:"hidden"})),(0,ot.eR)("void => open-instant",(0,ot.jt)("0ms")),(0,ot.eR)("void <=> open, open-instant => void",(0,ot.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Qt=new h.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Xt(){return!1}}),Cn=new h.OlP("MAT_DRAWER_CONTAINER");let gn=(()=>{class n extends X.PQ{constructor(e,r,c,f,v){super(c,f,v),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>Un)),h.Y36(h.SBq),h.Y36(X.mF),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&h.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[h._Bn([{provide:X.PQ,useExisting:n}]),h.qOj],ngContentSelectors:st,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),An=(()=>{class n{constructor(e,r,c,f,v,C,I,B){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=c,this._platform=f,this._ngZone=v,this._interactivityChecker=C,this._doc=I,this._container=B,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ue.x,this._animationEnd=new Ue.x,this._animationState="void",this.openedChange=new h.vpe(!0),this._openedStream=this.openedChange.pipe((0,pe.h)(Q=>Q),(0,kt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,pe.h)(Q=>Q.fromState!==Q.toState&&0===Q.toState.indexOf("open")),(0,at.h)(void 0)),this._closedStream=this.openedChange.pipe((0,pe.h)(Q=>!Q),(0,kt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,pe.h)(Q=>Q.fromState!==Q.toState&&"void"===Q.toState),(0,at.h)(void 0)),this._destroyed=new Ue.x,this.onPositionChanged=new h.vpe,this._modeChanged=new Ue.x,this.openedChange.subscribe(Q=>{Q?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,mt.R)(this._elementRef.nativeElement,"keydown").pipe((0,pe.h)(Q=>Q.keyCode===dt.hY&&!this.disableClose&&!(0,dt.Vb)(Q)),(0,He.R)(this._destroyed)).subscribe(Q=>this._ngZone.run(()=>{this.close(),Q.stopPropagation(),Q.preventDefault()}))}),this._animationEnd.pipe((0,je.x)((Q,Ae)=>Q.fromState===Ae.fromState&&Q.toState===Ae.toState)).subscribe(Q=>{const{fromState:Ae,toState:Je}=Q;(0===Je.indexOf("open")&&"void"===Ae||"void"===Je&&0===Ae.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,ut.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,ut.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,ut.Ig)(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{e.removeEventListener("blur",c),e.removeEventListener("mousedown",c),e.removeAttribute("tabindex")};e.addEventListener("blur",c),e.addEventListener("mousedown",c)})),e.focus(r)}_focusByCssSelector(e,r){let c=this._elementRef.nativeElement.querySelector(e);c&&this._forceFocus(c,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const c=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),c}_setOpen(e,r,c){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(c)),this._updateFocusTrapState(),new Promise(f=>{this.openedChange.pipe((0,$e.q)(1)).subscribe(v=>f(v?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,c=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),c.insertBefore(this._anchor,r)),c.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(we.qV),h.Y36(we.tE),h.Y36(Pt.t4),h.Y36(h.R0b),h.Y36(we.ic),h.Y36(ge.K0,8),h.Y36(Cn,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&h.Gf(pt,5),2&e){let c;h.iGM(c=h.CRH())&&(r._content=c.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&h.WFA("@transform.start",function(f){return r._animationStarted.next(f)})("@transform.done",function(f){return r._animationEnd.next(f)}),2&e&&(h.uIk("align",null),h.d8E("@transform",r._animationState),h.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:st,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[X.PQ],encapsulation:2,data:{animation:[$t.transformDrawer]},changeDetection:0}),n})(),Un=(()=>{class n{constructor(e,r,c,f,v,C=!1,I){this._dir=e,this._element=r,this._ngZone=c,this._changeDetectorRef=f,this._animationMode=I,this._drawers=new h.n_E,this.backdropClick=new h.vpe,this._destroyed=new Ue.x,this._doCheckSubject=new Ue.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ue.x,e&&e.change.pipe((0,He.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),v.change().pipe((0,He.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=C}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,ut.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,ut.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Oe.O)(this._allDrawers),(0,He.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Oe.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,rt.b)(10),(0,He.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const c=this._left._getWidth();e+=c,r-=c}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const c=this._right._getWidth();r+=c,e-=c}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,pe.h)(r=>r.fromState!==r.toState),(0,He.R)(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,He.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,He.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,$e.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,He.R)((0,jt.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,c="mat-drawer-container-has-open";e?r.add(c):r.remove(c)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Ge.Is,8),h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(X.rL),h.Y36(Qt),h.Y36(h.QbO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,c){if(1&e&&(h.Suo(c,gn,5),h.Suo(c,An,5)),2&e){let f;h.iGM(f=h.CRH())&&(r._content=f.first),h.iGM(f=h.CRH())&&(r._allDrawers=f)}},viewQuery:function(e,r){if(1&e&&h.Gf(gn,5),2&e){let c;h.iGM(c=h.CRH())&&(r._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[h._Bn([{provide:Cn,useExisting:n}])],ngContentSelectors:Zt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(h.F$t(Jt),h.YNc(0,Rt,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,At,2,0,"mat-drawer-content",1)),2&e&&(h.Q6J("ngIf",r.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!r._content))},dependencies:[ge.O5,gn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),kn=(()=>{class n extends gn{constructor(e,r,c,f,v){super(e,r,c,f,v)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>$n)),h.Y36(h.SBq),h.Y36(X.mF),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,r){2&e&&h.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[h._Bn([{provide:X.PQ,useExisting:n}]),h.qOj],ngContentSelectors:st,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Wn=(()=>{class n extends An{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,ut.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,ut.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,ut.su)(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,r){2&e&&(h.uIk("align",null),h.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),h.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[h.qOj],ngContentSelectors:st,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[X.PQ],encapsulation:2,data:{animation:[$t.transformDrawer]},changeDetection:0}),n})(),$n=(()=>{class n extends Un{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,r,c){if(1&e&&(h.Suo(c,kn,5),h.Suo(c,Wn,5)),2&e){let f;h.iGM(f=h.CRH())&&(r._content=f.first),h.iGM(f=h.CRH())&&(r._allDrawers=f)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,r){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[h._Bn([{provide:Cn,useExisting:n}]),h.qOj],ngContentSelectors:wt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(h.F$t(nn),h.YNc(0,on,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,fn,2,0,"mat-sidenav-content",1)),2&e&&(h.Q6J("ngIf",r.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!r._content))},dependencies:[ge.O5,kn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Hn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez,ye.BQ,X.ZD,X.ZD,ye.BQ]}),n})();var Gn=S(3683),Qn=S(9101),vn=S(3336),Be=S(1576),ae=S(5829),vt=S(4006);let un=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ye.BQ,ye.BQ]}),n})();const Rn=["*"],Ot=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Mt=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],ue=(0,ye.Id)((0,ye.Kr)(class{})),J=(0,ye.Kr)(class{}),ft=new h.OlP("MatList"),it=new h.OlP("MatNavList");let It=(()=>{class n extends ue{constructor(){super(...arguments),this._stateChanges=new Ue.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[h._Bn([{provide:it,useExisting:n}]),h.qOj,h.TTD],ngContentSelectors:Rn,decls:1,vars:0,template:function(e,r){1&e&&(h.F$t(),h.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),We=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),qe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Te=(()=>{class n extends J{constructor(e,r,c,f){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ue.x,this._disabled=!1,this._isInteractiveList=!!(c||f&&"action-list"===f._getListType()),this._list=c||f;const v=this._getHostElement();"button"===v.nodeName.toLowerCase()&&!v.hasAttribute("type")&&v.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,He.R)(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=(0,ut.Ig)(e)}ngAfterContentInit(){(0,ye.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(it,8),h.Y36(ft,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,r,c){if(1&e&&(h.Suo(c,We,5),h.Suo(c,qe,5),h.Suo(c,ye.X2,5)),2&e){let f;h.iGM(f=h.CRH())&&(r._avatar=f.first),h.iGM(f=h.CRH())&&(r._icon=f.first),h.iGM(f=h.CRH())&&(r._lines=f)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,r){2&e&&h.ekj("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[h.qOj],ngContentSelectors:Mt,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,r){1&e&&(h.F$t(Ot),h.TgZ(0,"span",0),h._UZ(1,"span",1),h.Hsn(2),h.TgZ(3,"span",2),h.Hsn(4,1),h.qZA(),h.Hsn(5,2),h.qZA()),2&e&&(h.xp6(1),h.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},dependencies:[ye.wG],encapsulation:2,changeDetection:0}),n})(),re=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ye.uc,ye.si,ye.BQ,ye.us,ge.ez,ye.uc,ye.BQ,ye.us,un]}),n})();function de(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",7),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close())}),h.TgZ(1,"mat-icon"),h._uU(2,"list"),h.qZA(),h.TgZ(3,"span",6),h._uU(4,"VPM"),h.qZA()()}}function _e(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",8),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close())}),h.TgZ(1,"mat-icon"),h._uU(2,"login"),h.qZA(),h.TgZ(3,"span",9),h._uU(4,"Bejelentkez\xe9s"),h.qZA()()}}function Ie(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",10),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close())}),h.TgZ(1,"mat-icon"),h._uU(2,"how_to_reg"),h.qZA(),h.TgZ(3,"span",11),h._uU(4,"Regisztr\xe1ci\xf3"),h.qZA()()}}function ve(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"a",8),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.close(!0))}),h.TgZ(1,"mat-icon"),h._uU(2,"logout"),h.qZA(),h.TgZ(3,"span",9),h._uU(4,"Kijelentkez\xe9s"),h.qZA()()}}let Ee=(()=>{class n{constructor(){this.currentPage="",this.selectedPage=new h.vpe,this.onCloseSidenav=new h.vpe,this.onLogout=new h.vpe}ngOnInit(){}ngAfterViewInit(){}menuSwitch(){this.selectedPage.emit(this.currentPage)}close(e){this.onCloseSidenav.emit(!0),!0===e&&this.onLogout.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-menu"]],inputs:{currentPage:"currentPage",loggedInUser:"loggedInUser"},outputs:{selectedPage:"selectedPage",onCloseSidenav:"onCloseSidenav",onLogout:"onLogout"},decls:15,vars:4,consts:[["mat-list-item","","routerLink","/main",3,"click"],["value","main"],["mat-list-item","","routerLink","/todopage",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/login",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/signin",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/contact",3,"click"],["value","contact"],["mat-list-item","","routerLink","/todopage",3,"click"],["mat-list-item","","routerLink","/login",3,"click"],["value","login"],["mat-list-item","","routerLink","/signin",3,"click"],["value","signin"]],template:function(e,r){1&e&&(h.TgZ(0,"mat-nav-list")(1,"a",0),h.NdJ("click",function(){return r.close()}),h.TgZ(2,"mat-icon"),h._uU(3,"home"),h.qZA(),h.TgZ(4,"span",1),h._uU(5,"F\u0151oldal"),h.qZA()(),h.YNc(6,de,5,0,"a",2),h.YNc(7,_e,5,0,"a",3),h.YNc(8,Ie,5,0,"a",4),h.TgZ(9,"a",5),h.NdJ("click",function(){return r.close()}),h.TgZ(10,"mat-icon"),h._uU(11,"contact_support"),h.qZA(),h.TgZ(12,"span",6),h._uU(13,"Kapcsolat"),h.qZA()(),h.YNc(14,ve,5,0,"a",3),h.qZA()),2&e&&(h.xp6(6),h.Q6J("ngIf",r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser),h.xp6(6),h.Q6J("ngIf",r.loggedInUser))},dependencies:[ge.O5,A.yS,vn.Hw,It,Te],styles:["a[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#000}mat-nav-list[_ngcontent-%COMP%]{background-color:#1e90ff;padding-bottom:height;height:100%}"]}),n})();function H(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"app-menu",9),h.NdJ("selectedPage",function(c){h.CHM(e);const f=h.oxw();return h.KtG(f.changePage(c))})("onCloseSidenav",function(c){h.CHM(e);const f=h.oxw(),v=h.MAs(2);return h.KtG(f.onClose(c,v))})("onLogout",function(c){h.CHM(e);const f=h.oxw();return h.KtG(f.logout(c))}),h.qZA()}if(2&n){const e=h.oxw();h.Q6J("currentPage",e.page)("loggedInUser",e.loggedInUser)}}function ce(n,t){1&n&&(h.TgZ(0,"li")(1,"a",10),h._uU(2,"VPM"),h.qZA()())}function V(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"li")(1,"a",11),h.NdJ("click",function(){h.CHM(e);const c=h.oxw();return h.KtG(c.logout())}),h.TgZ(2,"mat-icon",12),h._uU(3,"logout"),h.qZA(),h._uU(4),h.qZA()()}if(2&n){const e=h.oxw();h.xp6(4),h.Oqu(e.loggedInUser.email)}}function le(n,t){1&n&&(h.TgZ(0,"li")(1,"a",13),h._uU(2,"Bejelentkez\xe9s"),h.qZA()())}function Ve(n,t){1&n&&(h.TgZ(0,"li")(1,"a",14),h._uU(2,"Regisztr\xe1ci\xf3"),h.qZA()())}let xe=(()=>{class n{constructor(e,r){this.router=e,this.authService=r,this.page="main",this.routes=[]}ngOnInit(){this.routes=this.router.config.map(e=>e.path),this.router.events.pipe((0,pe.h)(e=>e instanceof A.m2)).subscribe(e=>{const r=e.urlAfterRedirects.split("/")[1];this.routes.includes(r)&&(this.page=r)}),this.authService.isUserLoggedIn2().subscribe(e=>{this.loggedInUser=e},e=>{console.error(e)})}changePage(e){this.router.navigateByUrl(e)}onToggleSidenav(e){e.toggle()}onClose(e,r){!0===e&&r.close()}logout(e){this.authService.logout().then(()=>{console.log("Logged out succesfully.")}).catch(r=>{console.error(r)})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(A.F0),h.Y36(Se.e))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:5,consts:[["sidenav",""],[3,"currentPage","loggedInUser","selectedPage","onCloseSidenav","onLogout",4,"ngIf"],["color","primary"],["mat-icon-button","",3,"click"],["fxFlex","","fxLayout","","fxLayoutAlign","flex-end","fxHide.xs",""],["fxLayout","","fxLayoutGap","30px",1,"navigation-items"],["routerLink","/main"],[4,"ngIf"],["routerLink","/contact"],[3,"currentPage","loggedInUser","selectedPage","onCloseSidenav","onLogout"],["routerLink","/todopage"],["title","Kijelentkez\xe9s","routerLink","/login",1,"emailText",3,"click"],[1,"logoutIcon"],["routerLink","/login"],["routerLink","/signin"]],template:function(e,r){if(1&e){const c=h.EpF();h.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav",null,0),h.YNc(3,H,1,2,"app-menu",1),h.qZA(),h.TgZ(4,"mat-sidenav-content")(5,"mat-toolbar",2)(6,"button",3),h.NdJ("click",function(){h.CHM(c);const v=h.MAs(2);return h.KtG(r.onToggleSidenav(v))}),h.TgZ(7,"mat-icon"),h._uU(8,"menu"),h.qZA()(),h.TgZ(9,"div"),h._uU(10,"Virtual Project Manager"),h.qZA(),h.TgZ(11,"div",4)(12,"ul",5)(13,"li")(14,"a",6),h._uU(15,"F\u0151oldal"),h.qZA()(),h.YNc(16,ce,3,0,"li",7),h.TgZ(17,"li")(18,"a",8),h._uU(19,"Kapcsolat"),h.qZA()(),h.YNc(20,V,5,1,"li",7),h.YNc(21,le,3,0,"li",7),h.YNc(22,Ve,3,0,"li",7),h.qZA()()(),h._UZ(23,"router-outlet"),h.qZA()()}2&e&&(h.xp6(3),h.Q6J("ngIf",r.page),h.xp6(13),h.Q6J("ngIf",r.loggedInUser),h.xp6(4),h.Q6J("ngIf",r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser),h.xp6(1),h.Q6J("ngIf",!r.loggedInUser))},dependencies:[ge.O5,A.lC,A.yS,Wn,$n,kn,Gn.Ye,Qn.lW,vn.Hw,Be.xw,Be.SQ,Be.Wh,Be.yH,ae.b8,Ee],styles:[".main_component[_ngcontent-%COMP%], .contact_component[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#000}.navigation-items[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;list-style:none;padding:0;margin:0}div[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}mat-toolbar[_ngcontent-%COMP%]{height:auto;width:auto}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;background-color:#add8e6}.logoutIcon[_ngcontent-%COMP%]{font-size:15px;padding-top:11px;padding-left:2px}.emailText[_ngcontent-%COMP%]{text-decoration:underline;font-style:oblique;color:#020c18}.emailText[_ngcontent-%COMP%]:hover, .emailText[_ngcontent-%COMP%]:active{color:#fff}"]}),n})();function be(n){return new h.vHH(3e3,!1)}function Us(){return typeof window<"u"&&typeof window.document<"u"}function ra(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ro(n){switch(n.length){case 0:return new ot.ZN;case 1:return n[0];default:return new ot.ZE(n)}}function so(n,t,e,r,c=new Map,f=new Map){const v=[],C=[];let I=-1,B=null;if(r.forEach(Q=>{const Ae=Q.get("offset"),Je=Ae==I,ct=Je&&B||new Map;Q.forEach((Nt,Ut)=>{let tn=Ut,Tn=Nt;if("offset"!==Ut)switch(tn=t.normalizePropertyName(tn,v),Tn){case ot.k1:Tn=c.get(Ut);break;case ot.l3:Tn=f.get(Ut);break;default:Tn=t.normalizeStyleValue(Ut,tn,Tn,v)}ct.set(tn,Tn)}),Je||C.push(ct),B=ct,I=Ae}),v.length)throw function Zs(n){return new h.vHH(3502,!1)}();return C}function ws(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&sa(e,"start",n)));break;case"done":n.onDone(()=>r(e&&sa(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&sa(e,"destroy",n)))}}function sa(n,t,e){const f=Qs(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),v=n._data;return null!=v&&(f._data=v),f}function Qs(n,t,e,r,c="",f=0,v){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:c,totalTime:f,disabled:!!v}}function mr(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function Ms(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let oo=(n,t)=>!1,Er=(n,t,e)=>[],Gs=null;function zi(n){const t=n.parentNode||n.host;return t===Gs?null:t}(ra()||typeof Element<"u")&&(Us()?(Gs=(()=>document.documentElement)(),oo=(n,t)=>{for(;t;){if(t===n)return!0;t=zi(t)}return!1}):oo=(n,t)=>n.contains(t),Er=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let cs=null,Da=!1;const Wl=oo,ts=Er;let cr=(()=>{class n{validateStyleProperty(e){return function Do(n){cs||(cs=function Eo(){return typeof document<"u"?document.body:null}()||{},Da=!!cs.style&&"WebkitAppearance"in cs.style);let t=!0;return cs.style&&!function Vo(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in cs.style,!t&&Da&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cs.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Wl(e,r)}getParentElement(e){return zi(e)}query(e,r,c){return ts(e,r,c)}computeStyle(e,r,c){return c||""}animate(e,r,c,f,v,C=[],I){return new ot.ZN(c,f)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Xs=(()=>{class n{}return n.NOOP=new cr,n})();const Ea="ng-enter",Qa="ng-leave",To="ng-trigger",ns=".ng-trigger",Ta="ng-animating",ks=".ng-animating";function Hr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Bi(parseFloat(t[1]),t[2])}function Bi(n,t){return"s"===t?1e3*n:n}function Sa(n,t,e){return n.hasOwnProperty("duration")?n:function Rs(n,t,e){let c,f=0,v="";if("string"==typeof n){const C=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===C)return t.push(be()),{duration:0,delay:0,easing:""};c=Bi(parseFloat(C[1]),C[2]);const I=C[3];null!=I&&(f=Bi(parseFloat(I),C[4]));const B=C[5];B&&(v=B)}else c=n;if(!e){let C=!1,I=t.length;c<0&&(t.push(function ht(){return new h.vHH(3100,!1)}()),C=!0),f<0&&(t.push(function O(){return new h.vHH(3101,!1)}()),C=!0),C&&t.splice(I,0,be())}return{duration:c,delay:f,easing:v}}(n,t,e)}function Ur(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Cs(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function yi(n,t=new Map,e){if(e)for(let[r,c]of e)t.set(r,c);for(let[r,c]of n)t.set(r,c);return t}function So(n,t,e){return e?t+":"+e+";":""}function oa(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=So(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=So(0,Gr(e),n.style[e]));n.setAttribute("style",t)}function us(n,t,e){n.style&&(t.forEach((r,c)=>{const f=xa(c);e&&!e.has(c)&&e.set(c,n.style[f]),n.style[f]=r}),ra()&&oa(n))}function xo(n,t){n.style&&(t.forEach((e,r)=>{const c=xa(r);n.style[c]=""}),ra()&&oa(n))}function is(n){return Array.isArray(n)?1==n.length?n[0]:(0,ot.vP)(n):n}const Xa=new RegExp("{{\\s*(.+?)\\s*}}","g");function rr(n){let t=[];if("string"==typeof n){let e;for(;e=Xa.exec(n);)t.push(e[1]);Xa.lastIndex=0}return t}function Dn(n,t,e){const r=n.toString(),c=r.replace(Xa,(f,v)=>{let C=t[v];return null==C&&(e.push(function Re(n){return new h.vHH(3003,!1)}()),C=""),C.toString()});return c==r?n:c}function Ii(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Zc=/-+([a-z0-9])/g;function xa(n){return n.replace(Zc,(...t)=>t[1].toUpperCase())}function Gr(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function bt(n){return new h.vHH(3004,!1)}()}}function ze(n,t){return window.getComputedStyle(n)[t]}function Ja(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ho(n,t,e){if(":"==n[0]){const I=function qc(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Ai(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof I)return void t.push(I);n=I}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function qn(n){return new h.vHH(3015,!1)}()),t;const c=r[1],f=r[2],v=r[3];t.push(wc(c,v));"<"==f[0]&&!("*"==c&&"*"==v)&&t.push(wc(v,c))}(r,e,t)):e.push(n),e}const _l=new Set(["true","1"]),Go=new Set(["false","0"]);function wc(n,t){const e=_l.has(n)||Go.has(n),r=_l.has(t)||Go.has(t);return(c,f)=>{let v="*"==n||n==c,C="*"==t||t==f;return!v&&e&&"boolean"==typeof c&&(v=c?_l.has(n):Go.has(n)),!C&&r&&"boolean"==typeof f&&(C=f?_l.has(t):Go.has(t)),v&&C}}const Aa=new RegExp("s*:selfs*,?","g");function aa(n,t,e,r){return new jo(n).build(t,e,r)}class jo{constructor(t){this._driver=t}build(t,e,r){const c=new Ma(e);return this._resetContextStyleTimingState(c),$(this,is(t),c)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,c=e.depCount=0;const f=[],v=[];return"@"==t.name.charAt(0)&&e.errors.push(function fi(){return new h.vHH(3006,!1)}()),t.definitions.forEach(C=>{if(this._resetContextStyleTimingState(e),0==C.type){const I=C,B=I.name;B.toString().split(/\s*,\s*/).forEach(Q=>{I.name=Q,f.push(this.visitState(I,e))}),I.name=B}else if(1==C.type){const I=this.visitTransition(C,e);r+=I.queryCount,c+=I.depCount,v.push(I)}else e.errors.push(function Di(){return new h.vHH(3007,!1)}())}),{type:7,name:t.name,states:f,transitions:v,queryCount:r,depCount:c,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),c=t.options&&t.options.params||null;if(r.containsDynamicStyles){const f=new Set,v=c||{};r.styles.forEach(C=>{C instanceof Map&&C.forEach(I=>{rr(I).forEach(B=>{v.hasOwnProperty(B)||f.add(B)})})}),f.size&&(Ii(f.values()),e.errors.push(function Ks(n,t){return new h.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:c?{params:c}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=$(this,is(t.animation),e);return{type:1,matchers:Ja(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:U(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>$(this,r,e)),options:U(t.options)}}visitGroup(t,e){const r=e.currentTime;let c=0;const f=t.steps.map(v=>{e.currentTime=r;const C=$(this,v,e);return c=Math.max(c,e.currentTime),C});return e.currentTime=c,{type:3,steps:f,options:U(t.options)}}visitAnimate(t,e){const r=function yl(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return he(Sa(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=he(0,0,"");return f.dynamic=!0,f.strValue=e,f}const c=Sa(e,t);return he(c.duration,c.delay,c.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let c,f=t.styles?t.styles:(0,ot.oB)({});if(5==f.type)c=this.visitKeyframes(f,e);else{let v=t.styles,C=!1;if(!v){C=!0;const B={};r.easing&&(B.easing=r.easing),v=(0,ot.oB)(B)}e.currentTime+=r.duration+r.delay;const I=this.visitStyle(v,e);I.isEmptyStep=C,c=I}return e.currentAnimateTimings=null,{type:4,timings:r,style:c,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],c=Array.isArray(t.styles)?t.styles:[t.styles];for(let C of c)"string"==typeof C?C===ot.l3?r.push(C):e.errors.push(new h.vHH(3002,!1)):r.push(Cs(C));let f=!1,v=null;return r.forEach(C=>{if(C instanceof Map&&(C.has("easing")&&(v=C.get("easing"),C.delete("easing")),!f))for(let I of C.values())if(I.toString().indexOf("{{")>=0){f=!0;break}}),{type:6,styles:r,easing:v,offset:t.offset,containsDynamicStyles:f,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let c=e.currentTime,f=e.currentTime;r&&f>0&&(f-=r.duration+r.delay),t.styles.forEach(v=>{"string"!=typeof v&&v.forEach((C,I)=>{const B=e.collectedStyles.get(e.currentQuerySelector),Q=B.get(I);let Ae=!0;Q&&(f!=c&&f>=Q.startTime&&c<=Q.endTime&&(e.errors.push(function as(n,t,e,r,c){return new h.vHH(3010,!1)}()),Ae=!1),f=Q.startTime),Ae&&B.set(I,{startTime:f,endTime:c}),e.options&&function Ds(n,t,e){const r=t.params||{},c=rr(n);c.length&&c.forEach(f=>{r.hasOwnProperty(f)||e.push(function ie(n){return new h.vHH(3001,!1)}())})}(C,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function es(){return new h.vHH(3011,!1)}()),r;let f=0;const v=[];let C=!1,I=!1,B=0;const Q=t.steps.map(Tn=>{const On=this._makeStyleAst(Tn,e);let Fn=null!=On.offset?On.offset:function Yl(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(On.styles),Ln=0;return null!=Fn&&(f++,Ln=On.offset=Fn),I=I||Ln<0||Ln>1,C=C||Ln<B,B=Ln,v.push(Ln),On});I&&e.errors.push(function Vt(){return new h.vHH(3012,!1)}()),C&&e.errors.push(function Lt(){return new h.vHH(3200,!1)}());const Ae=t.steps.length;let Je=0;f>0&&f<Ae?e.errors.push(function zt(){return new h.vHH(3202,!1)}()):0==f&&(Je=1/(Ae-1));const ct=Ae-1,Nt=e.currentTime,Ut=e.currentAnimateTimings,tn=Ut.duration;return Q.forEach((Tn,On)=>{const Fn=Je>0?On==ct?1:Je*On:v[On],Ln=Fn*tn;e.currentTime=Nt+Ut.delay+Ln,Ut.duration=Ln,this._validateStyleAst(Tn,e),Tn.offset=Fn,r.styles.push(Tn)}),r}visitReference(t,e){return{type:8,animation:$(this,is(t.animation),e),options:U(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:U(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:U(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,c=t.options||{};e.queryCount++,e.currentQuery=t;const[f,v]=function Qc(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Aa,"")),n=n.replace(/@\*/g,ns).replace(/@\w+/g,e=>ns+"-"+e.slice(1)).replace(/:animating/g,ks),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+f:f,mr(e.collectedStyles,e.currentQuerySelector,new Map);const C=$(this,is(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:f,limit:c.limit||0,optional:!!c.optional,includeSelf:v,animation:C,originalSelector:t.selector,options:U(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function yn(){return new h.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Sa(t.timings,e.errors,!0);return{type:12,animation:$(this,is(t.animation),e),timings:r,options:null}}}class Ma{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function U(n){return n?(n=Ur(n)).params&&(n.params=function vl(n){return n?Ur(n):null}(n.params)):n={},n}function he(n,t,e){return{duration:n,delay:t,easing:e}}function W(n,t,e,r,c,f,v=null,C=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:c,delay:f,totalTime:c+f,easing:v,subTimeline:C}}class Me{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pn=new RegExp(":enter","g"),er=new RegExp(":leave","g");function ji(n,t,e,r,c,f=new Map,v=new Map,C,I,B=[]){return(new tr).buildKeyframes(n,t,e,r,c,f,v,C,I,B)}class tr{buildKeyframes(t,e,r,c,f,v,C,I,B,Q=[]){B=B||new Me;const Ae=new _r(t,e,B,c,f,Q,[]);Ae.options=I;const Je=I.delay?Hr(I.delay):0;Ae.currentTimeline.delayNextStep(Je),Ae.currentTimeline.setStyles([v],null,Ae.errors,I),$(this,r,Ae);const ct=Ae.timelines.filter(Nt=>Nt.containsAnimation());if(ct.length&&C.size){let Nt;for(let Ut=ct.length-1;Ut>=0;Ut--){const tn=ct[Ut];if(tn.element===e){Nt=tn;break}}Nt&&!Nt.allowOnlyTimelineStyles()&&Nt.setStyles([C],null,Ae.errors,I)}return ct.length?ct.map(Nt=>Nt.buildKeyframes()):[W(e,[],[],[],0,Je,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const c=e.createSubContext(t.options),f=e.currentTimeline.currentTime,v=this._visitSubInstructions(r,c,c.options);f!=v&&e.transformIntoNewTimeline(v)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const c of t){const f=c?.delay;if(f){const v="number"==typeof f?f:Hr(Dn(f,c?.params??{},e.errors));r.delayNextStep(v)}}}_visitSubInstructions(t,e,r){let f=e.currentTimeline.currentTime;const v=null!=r.duration?Hr(r.duration):null,C=null!=r.delay?Hr(r.delay):null;return 0!==v&&t.forEach(I=>{const B=e.appendInstructionToTimeline(I,v,C);f=Math.max(f,B.duration+B.delay)}),f}visitReference(t,e){e.updateOptions(t.options,!0),$(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let c=e;const f=t.options;if(f&&(f.params||f.delay)&&(c=e.createSubContext(f),c.transformIntoNewTimeline(),null!=f.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Vi);const v=Hr(f.delay);c.delayNextStep(v)}t.steps.length&&(t.steps.forEach(v=>$(this,v,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>r&&c.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let c=e.currentTimeline.currentTime;const f=t.options&&t.options.delay?Hr(t.options.delay):0;t.steps.forEach(v=>{const C=e.createSubContext(t.options);f&&C.delayNextStep(f),$(this,v,C),c=Math.max(c,C.currentTimeline.currentTime),r.push(C.currentTimeline)}),r.forEach(v=>e.currentTimeline.mergeTimelineCollectedStyles(v)),e.transformIntoNewTimeline(c),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Sa(e.params?Dn(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),c=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),c.snapshotCurrentStyles());const f=t.style;5==f.type?this.visitKeyframes(f,e):(e.incrementTime(r.duration),this.visitStyle(f,e),c.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,c=e.currentAnimateTimings;!c&&r.hasCurrentStyleProperties()&&r.forwardFrame();const f=c&&c.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(f):r.setStyles(t.styles,f,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,c=e.currentTimeline.duration,f=r.duration,C=e.createSubContext().currentTimeline;C.easing=r.easing,t.styles.forEach(I=>{C.forwardTime((I.offset||0)*f),C.setStyles(I.styles,I.easing,e.errors,e.options),C.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(C),e.transformIntoNewTimeline(c+f),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,c=t.options||{},f=c.delay?Hr(c.delay):0;f&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vi);let v=r;const C=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!c.optional,e.errors);e.currentQueryTotal=C.length;let I=null;C.forEach((B,Q)=>{e.currentQueryIndex=Q;const Ae=e.createSubContext(t.options,B);f&&Ae.delayNextStep(f),B===e.element&&(I=Ae.currentTimeline),$(this,t.animation,Ae),Ae.currentTimeline.applyStylesToKeyframe(),v=Math.max(v,Ae.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(v),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,c=e.currentTimeline,f=t.timings,v=Math.abs(f.duration),C=v*(e.currentQueryTotal-1);let I=v*e.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":I=C-I;break;case"full":I=r.currentStaggerTime}const Q=e.currentTimeline;I&&Q.delayNextStep(I);const Ae=Q.currentTime;$(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=c.currentTime-Ae+(c.startTime-r.currentTimeline.startTime)}}const Vi={};class _r{constructor(t,e,r,c,f,v,C,I){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=c,this._leaveClassName=f,this.errors=v,this.timelines=C,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new Xi(this._driver,e,0),C.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let c=this.options;null!=r.duration&&(c.duration=Hr(r.duration)),null!=r.delay&&(c.delay=Hr(r.delay));const f=r.params;if(f){let v=c.params;v||(v=this.options.params={}),Object.keys(f).forEach(C=>{(!e||!v.hasOwnProperty(C))&&(v[C]=Dn(f[C],v,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(c=>{r[c]=e[c]})}}return t}createSubContext(t=null,e,r){const c=e||this.element,f=new _r(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,r||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(t),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(t){return this.previousNode=Vi,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const c={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},f=new Ar(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,c,t.stretchStartingKeyframe);return this.timelines.push(f),c}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,c,f,v){let C=[];if(c&&C.push(this.element),t.length>0){t=(t=t.replace(pn,"."+this._enterClassName)).replace(er,"."+this._leaveClassName);let B=this._driver.query(this.element,t,1!=r);0!==r&&(B=r<0?B.slice(B.length+r,B.length):B.slice(0,r)),C.push(...B)}return!f&&0==C.length&&v.push(function In(n){return new h.vHH(3014,!1)}()),C}}class Xi{constructor(t,e,r,c){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Xi(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||ot.l3),this._currentKeyframe.set(e,ot.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,c){e&&this._previousKeyframe.set("easing",e);const f=c&&c.params||{},v=function Js(n,t){const e=new Map;let r;return n.forEach(c=>{if("*"===c){r=r||t.keys();for(let f of r)e.set(f,ot.l3)}else yi(c,e)}),e}(t,this._globalTimelineStyles);for(let[C,I]of v){const B=Dn(I,f,r);this._pendingStyles.set(C,B),this._localTimelineStyles.has(C)||this._backFill.set(C,this._globalTimelineStyles.get(C)??ot.l3),this._updateStyle(C,B)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const c=this._styleSummary.get(r);(!c||e.time>c.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((C,I)=>{const B=yi(C,new Map,this._backFill);B.forEach((Q,Ae)=>{Q===ot.k1?t.add(Ae):Q===ot.l3&&e.add(Ae)}),r||B.set("offset",I/this.duration),c.push(B)});const f=t.size?Ii(t.values()):[],v=e.size?Ii(e.values()):[];if(r){const C=c[0],I=new Map(C);C.set("offset",0),I.set("offset",1),c=[C,I]}return W(this.element,c,f,v,this.duration,this.startTime,this.easing,!1)}}class Ar extends Xi{constructor(t,e,r,c,f,v,C=!1){super(t,e,v.delay),this.keyframes=r,this.preStyleProps=c,this.postStyleProps=f,this._stretchStartingKeyframe=C,this.timings={duration:v.duration,delay:v.delay,easing:v.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:c}=this.timings;if(this._stretchStartingKeyframe&&e){const f=[],v=r+e,C=e/v,I=yi(t[0]);I.set("offset",0),f.push(I);const B=yi(t[0]);B.set("offset",Ao(C)),f.push(B);const Q=t.length-1;for(let Ae=1;Ae<=Q;Ae++){let Je=yi(t[Ae]);const ct=Je.get("offset");Je.set("offset",Ao((e+ct*r)/v)),f.push(Je)}r=v,e=0,c="",t=f}return W(this.element,t,this.preStyleProps,this.postStyleProps,r,e,c,!0)}}function Ao(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ns{}const ps=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kl extends Ns{normalizePropertyName(t,e){return xa(t)}normalizeStyleValue(t,e,r,c){let f="";const v=r.toString().trim();if(ps.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)f="px";else{const C=r.match(/^[+-]?[\d\.]+([a-z]*)$/);C&&0==C[1].length&&c.push(function Sn(n,t){return new h.vHH(3005,!1)}())}return v+f}}function Bn(n,t,e,r,c,f,v,C,I,B,Q,Ae,Je){return{type:0,element:n,triggerName:t,isRemovalTransition:c,fromState:e,fromStyles:f,toState:r,toStyles:v,timelines:C,queriedElements:I,preStyleProps:B,postStyleProps:Q,totalTime:Ae,errors:Je}}const ur={};class zo{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,c){return function ui(n,t,e,r,c){return n.some(f=>f(t,e,r,c))}(this.ast.matchers,t,e,r,c)}buildStyles(t,e,r){let c=this._stateStyles.get("*");return void 0!==t&&(c=this._stateStyles.get(t?.toString())||c),c?c.buildStyles(e,r):new Map}build(t,e,r,c,f,v,C,I,B,Q){const Ae=[],Je=this.ast.options&&this.ast.options.params||ur,Nt=this.buildStyles(r,C&&C.params||ur,Ae),Ut=I&&I.params||ur,tn=this.buildStyles(c,Ut,Ae),Tn=new Set,On=new Map,Fn=new Map,Ln="void"===c,ei={params:Ei(Ut,Je),delay:this.ast.options?.delay},hi=Q?[]:ji(t,e,this.ast.animation,f,v,Nt,tn,ei,B,Ae);let wi=0;if(hi.forEach(pi=>{wi=Math.max(pi.duration+pi.delay,wi)}),Ae.length)return Bn(e,this._triggerName,r,c,Ln,Nt,tn,[],[],On,Fn,wi,Ae);hi.forEach(pi=>{const vi=pi.element,Kn=mr(On,vi,new Set);pi.preStyleProps.forEach(Li=>Kn.add(Li));const Xn=mr(Fn,vi,new Set);pi.postStyleProps.forEach(Li=>Xn.add(Li)),vi!==e&&Tn.add(vi)});const oi=Ii(Tn.values());return Bn(e,this._triggerName,r,c,Ln,Nt,tn,hi,oi,On,Fn,wi)}}function Ei(n,t){const e=Ur(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class bp{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,c=Ur(this.defaultParams);return Object.keys(t).forEach(f=>{const v=t[f];null!==v&&(c[f]=v)}),this.styles.styles.forEach(f=>{"string"!=typeof f&&f.forEach((v,C)=>{v&&(v=Dn(v,c,e));const I=this.normalizer.normalizePropertyName(C,e);v=this.normalizer.normalizeStyleValue(C,I,v,e),r.set(I,v)})}),r}}class hn{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(c=>{this.states.set(c.name,new bp(c.style,c.options&&c.options.params||{},r))}),Lr(this.states,"true","1"),Lr(this.states,"false","0"),e.transitions.forEach(c=>{this.transitionFactories.push(new zo(t,c,this.states))}),this.fallbackTransition=function Nn(n,t,e){return new zo(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(v,C)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,c){return this.transitionFactories.find(v=>v.match(t,e,r,c))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Lr(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Xc=new Me;class zu{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],f=aa(this._driver,e,r,[]);if(r.length)throw function gl(n){return new h.vHH(3503,!1)}();this._animations.set(t,f)}_buildPlayer(t,e,r){const c=t.element,f=so(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(c,f,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const c=[],f=this._animations.get(t);let v;const C=new Map;if(f?(v=ji(this._driver,e,f,Ea,Qa,new Map,new Map,r,Xc,c),v.forEach(Q=>{const Ae=mr(C,Q.element,new Map);Q.postStyleProps.forEach(Je=>Ae.set(Je,null))})):(c.push(function Hs(){return new h.vHH(3300,!1)}()),v=[]),c.length)throw function Kr(n){return new h.vHH(3504,!1)}();C.forEach((Q,Ae)=>{Q.forEach((Je,ct)=>{Q.set(ct,this._driver.computeStyle(Ae,ct,ot.l3))})});const B=ro(v.map(Q=>{const Ae=C.get(Q.element);return this._buildPlayer(Q,new Map,Ae)}));return this._playersById.set(t,B),B.onDestroy(()=>this.destroy(t)),this.players.push(B),B}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function no(n){return new h.vHH(3301,!1)}();return e}listen(t,e,r,c){const f=Qs(e,"","","");return ws(this._getPlayer(t),r,f,c),()=>{}}command(t,e,r,c){if("register"==r)return void this.register(t,c[0]);if("create"==r)return void this.create(t,e,c[0]||{});const f=this._getPlayer(t);switch(r){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(t)}}}const Oa="ng-animate-queued",ka="ng-animate-disabled",Gh=[],Or={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ci="__ng_removed";class la{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function kr(n){return n??null}(r?t.value:t),r){const f=Ur(t);delete f.value,this.options=f}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(c=>{null==r[c]&&(r[c]=e[c])})}}}const Io="void",dr=new la(Io);class Ci{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Rr(e,this._hostClassName)}listen(t,e,r,c){if(!this._triggers.has(e))throw function ls(n,t){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function jl(n){return new h.vHH(3303,!1)}();if(!function Na(n){return"start"==n||"done"==n}(r))throw function io(n,t){return new h.vHH(3400,!1)}();const f=mr(this._elementListeners,t,[]),v={name:e,phase:r,callback:c};f.push(v);const C=mr(this._engine.statesByElement,t,new Map);return C.has(e)||(Rr(t,To),Rr(t,To+"-"+e),C.set(e,dr)),()=>{this._engine.afterFlush(()=>{const I=f.indexOf(v);I>=0&&f.splice(I,1),this._triggers.has(e)||C.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function zl(n){return new h.vHH(3401,!1)}();return e}trigger(t,e,r,c=!0){const f=this._getTrigger(e),v=new Hi(this.id,e,t);let C=this._engine.statesByElement.get(t);C||(Rr(t,To),Rr(t,To+"-"+e),this._engine.statesByElement.set(t,C=new Map));let I=C.get(e);const B=new la(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&I&&B.absorbOptions(I.options),C.set(e,B),I||(I=dr),B.value!==Io&&I.value===B.value){if(!function Mo(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let c=0;c<e.length;c++){const f=e[c];if(!t.hasOwnProperty(f)||n[f]!==t[f])return!1}return!0}(I.params,B.params)){const Ut=[],tn=f.matchStyles(I.value,I.params,Ut),Tn=f.matchStyles(B.value,B.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{xo(t,tn),us(t,Tn)})}return}const Je=mr(this._engine.playersByElement,t,[]);Je.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==e&&Ut.queued&&Ut.destroy()});let ct=f.matchTransition(I.value,B.value,t,B.params),Nt=!1;if(!ct){if(!c)return;ct=f.fallbackTransition,Nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ct,fromState:I,toState:B,player:v,isFallbackTransition:Nt}),Nt||(Rr(t,Oa),v.onStart(()=>{Pa(t,Oa)})),v.onDone(()=>{let Ut=this.players.indexOf(v);Ut>=0&&this.players.splice(Ut,1);const tn=this._engine.playersByElement.get(t);if(tn){let Tn=tn.indexOf(v);Tn>=0&&tn.splice(Tn,1)}}),this.players.push(v),Je.push(v),v}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(c=>c.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,ns,!0);r.forEach(c=>{if(c[ci])return;const f=this._engine.fetchNamespacesByElement(c);f.size?f.forEach(v=>v.triggerLeaveAnimation(c,e,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(t,e,r,c){const f=this._engine.statesByElement.get(t),v=new Map;if(f){const C=[];if(f.forEach((I,B)=>{if(v.set(B,I.value),this._triggers.has(B)){const Q=this.trigger(t,B,Io,c);Q&&C.push(Q)}}),C.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,v),r&&ro(C).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const c=new Set;e.forEach(f=>{const v=f.name;if(c.has(v))return;c.add(v);const I=this._triggers.get(v).fallbackTransition,B=r.get(v)||dr,Q=new la(Io),Ae=new Hi(this.id,v,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:v,transition:I,fromState:B,toState:Q,player:Ae,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let c=!1;if(r.totalAnimations){const f=r.players.length?r.playersByQueriedElement.get(t):[];if(f&&f.length)c=!0;else{let v=t;for(;v=v.parentNode;)if(r.statesByElement.get(v)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(t),c)r.markElementAsRemoved(this.id,t,!1,e);else{const f=t[ci];(!f||f===Or)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Rr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const c=r.player;if(c.destroyed)return;const f=r.element,v=this._elementListeners.get(f);v&&v.forEach(C=>{if(C.name==r.triggerName){const I=Qs(f,r.triggerName,r.fromState.value,r.toState.value);I._data=t,ws(r.player,C.phase,I,C.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):e.push(r)}),this._queue=[],e.sort((r,c)=>{const f=r.transition.ast.depCount,v=c.transition.ast.depCount;return 0==f||0==v?f-v:this._engine.driver.containsElement(r.element,c.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class Ra{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,f)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Ci(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,c=this.namespacesByHostElement;if(r.length-1>=0){let v=!1,C=this.driver.getParentElement(e);for(;C;){const I=c.get(C);if(I){const B=r.indexOf(I);r.splice(B+1,0,t),v=!0;break}C=this.driver.getParentElement(C)}v||r.unshift(t)}else r.push(t);return c.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let c=this._namespaceLookup[t];c&&c.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const c=this._namespaceList.indexOf(r);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let c of r.values())if(c.namespaceId){const f=this._fetchNamespace(c.namespaceId);f&&e.add(f)}return e}trigger(t,e,r,c){if(jn(e)){const f=this._fetchNamespace(t);if(f)return f.trigger(e,r,c),!0}return!1}insertNode(t,e,r,c){if(!jn(e))return;const f=e[ci];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const v=this.collectedLeaveElements.indexOf(e);v>=0&&this.collectedLeaveElements.splice(v,1)}if(t){const v=this._fetchNamespace(t);v&&v.insertNode(e,r)}c&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Rr(t,ka)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Pa(t,ka))}removeNode(t,e,r,c){if(jn(e)){const f=t?this._fetchNamespace(t):null;if(f?f.removeNode(e,c):this.markElementAsRemoved(t,e,!1,c),r){const v=this.namespacesByHostElement.get(e);v&&v.id!==t&&v.removeNode(e,c)}}else this._onRemovalComplete(e,c)}markElementAsRemoved(t,e,r,c,f){this.collectedLeaveElements.push(e),e[ci]={namespaceId:t,setForRemoval:c,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:f}}listen(t,e,r,c,f){return jn(e)?this._fetchNamespace(t).listen(e,r,c,f):()=>{}}_buildInstruction(t,e,r,c,f){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,c,t.fromState.options,t.toState.options,e,f)}destroyInnerAnimations(t){let e=this.driver.query(t,ns,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ks,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ro(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ci];if(e&&e.setForRemoval){if(t[ci]=Or,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ka)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,c)=>this._balanceNamespaceList(r,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Rr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let c=0;c<r.length;c++)r[c]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ro(e).onDone(()=>{r.forEach(c=>c())}):r.forEach(c=>c())}}reportError(t){throw function Co(n){return new h.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new Me,c=[],f=new Map,v=[],C=new Map,I=new Map,B=new Map,Q=new Set;this.disabledNodes.forEach(ai=>{Q.add(ai);const _i=this.driver.query(ai,".ng-animate-queued",!0);for(let Ti=0;Ti<_i.length;Ti++)Q.add(_i[Ti])});const Ae=this.bodyNode,Je=Array.from(this.statesByElement.keys()),ct=bl(Je,this.collectedEnterElements),Nt=new Map;let Ut=0;ct.forEach((ai,_i)=>{const Ti=Ea+Ut++;Nt.set(_i,Ti),ai.forEach(Si=>Rr(Si,Ti))});const tn=[],Tn=new Set,On=new Set;for(let ai=0;ai<this.collectedLeaveElements.length;ai++){const _i=this.collectedLeaveElements[ai],Ti=_i[ci];Ti&&Ti.setForRemoval&&(tn.push(_i),Tn.add(_i),Ti.hasAnimation?this.driver.query(_i,".ng-star-inserted",!0).forEach(Si=>Tn.add(Si)):On.add(_i))}const Fn=new Map,Ln=bl(Je,Array.from(Tn));Ln.forEach((ai,_i)=>{const Ti=Qa+Ut++;Fn.set(_i,Ti),ai.forEach(Si=>Rr(Si,Ti))}),t.push(()=>{ct.forEach((ai,_i)=>{const Ti=Nt.get(_i);ai.forEach(Si=>Pa(Si,Ti))}),Ln.forEach((ai,_i)=>{const Ti=Fn.get(_i);ai.forEach(Si=>Pa(Si,Ti))}),tn.forEach(ai=>{this.processLeaveNode(ai)})});const ei=[],hi=[];for(let ai=this._namespaceList.length-1;ai>=0;ai--)this._namespaceList[ai].drainQueuedTransitions(e).forEach(Ti=>{const Si=Ti.player,Yr=Ti.element;if(ei.push(Si),this.collectedEnterElements.length){const wo=Yr[ci];if(wo&&wo.setForMove){if(wo.previousTriggersValues&&wo.previousTriggersValues.has(Ti.triggerName)){const Gl=wo.previousTriggersValues.get(Ti.triggerName),pl=this.statesByElement.get(Ti.element);if(pl&&pl.has(Ti.triggerName)){const Py=pl.get(Ti.triggerName);Py.value=Gl,pl.set(Ti.triggerName,Py)}}return void Si.destroy()}}const ys=!Ae||!this.driver.containsElement(Ae,Yr),Ys=Fn.get(Yr),Ul=Nt.get(Yr),Sr=this._buildInstruction(Ti,r,Ul,Ys,ys);if(Sr.errors&&Sr.errors.length)return void hi.push(Sr);if(ys)return Si.onStart(()=>xo(Yr,Sr.fromStyles)),Si.onDestroy(()=>us(Yr,Sr.toStyles)),void c.push(Si);if(Ti.isFallbackTransition)return Si.onStart(()=>xo(Yr,Sr.fromStyles)),Si.onDestroy(()=>us(Yr,Sr.toStyles)),void c.push(Si);const bc=[];Sr.timelines.forEach(wo=>{wo.stretchStartingKeyframe=!0,this.disabledNodes.has(wo.element)||bc.push(wo)}),Sr.timelines=bc,r.append(Yr,Sr.timelines),v.push({instruction:Sr,player:Si,element:Yr}),Sr.queriedElements.forEach(wo=>mr(C,wo,[]).push(Si)),Sr.preStyleProps.forEach((wo,Gl)=>{if(wo.size){let pl=I.get(Gl);pl||I.set(Gl,pl=new Set),wo.forEach((Py,Y_)=>pl.add(Y_))}}),Sr.postStyleProps.forEach((wo,Gl)=>{let pl=B.get(Gl);pl||B.set(Gl,pl=new Set),wo.forEach((Py,Y_)=>pl.add(Y_))})});if(hi.length){const ai=[];hi.forEach(_i=>{ai.push(function bs(n,t){return new h.vHH(3505,!1)}())}),ei.forEach(_i=>_i.destroy()),this.reportError(ai)}const wi=new Map,oi=new Map;v.forEach(ai=>{const _i=ai.element;r.has(_i)&&(oi.set(_i,_i),this._beforeAnimationBuild(ai.player.namespaceId,ai.instruction,wi))}),c.forEach(ai=>{const _i=ai.element;this._getPreviousPlayers(_i,!1,ai.namespaceId,ai.triggerName,null).forEach(Si=>{mr(wi,_i,[]).push(Si),Si.destroy()})});const pi=tn.filter(ai=>Yu(ai,I,B)),vi=new Map;ca(vi,this.driver,On,B,ot.l3).forEach(ai=>{Yu(ai,I,B)&&pi.push(ai)});const Xn=new Map;ct.forEach((ai,_i)=>{ca(Xn,this.driver,new Set(ai),I,ot.k1)}),pi.forEach(ai=>{const _i=vi.get(ai),Ti=Xn.get(ai);vi.set(ai,new Map([...Array.from(_i?.entries()??[]),...Array.from(Ti?.entries()??[])]))});const Li=[],ar=[],yc={};v.forEach(ai=>{const{element:_i,player:Ti,instruction:Si}=ai;if(r.has(_i)){if(Q.has(_i))return Ti.onDestroy(()=>us(_i,Si.toStyles)),Ti.disabled=!0,Ti.overrideTotalTime(Si.totalTime),void c.push(Ti);let Yr=yc;if(oi.size>1){let Ys=_i;const Ul=[];for(;Ys=Ys.parentNode;){const Sr=oi.get(Ys);if(Sr){Yr=Sr;break}Ul.push(Ys)}Ul.forEach(Sr=>oi.set(Sr,Yr))}const ys=this._buildAnimation(Ti.namespaceId,Si,wi,f,Xn,vi);if(Ti.setRealPlayer(ys),Yr===yc)Li.push(Ti);else{const Ys=this.playersByElement.get(Yr);Ys&&Ys.length&&(Ti.parentPlayer=ro(Ys)),c.push(Ti)}}else xo(_i,Si.fromStyles),Ti.onDestroy(()=>us(_i,Si.toStyles)),ar.push(Ti),Q.has(_i)&&c.push(Ti)}),ar.forEach(ai=>{const _i=f.get(ai.element);if(_i&&_i.length){const Ti=ro(_i);ai.setRealPlayer(Ti)}}),c.forEach(ai=>{ai.parentPlayer?ai.syncPlayerEvents(ai.parentPlayer):ai.destroy()});for(let ai=0;ai<tn.length;ai++){const _i=tn[ai],Ti=_i[ci];if(Pa(_i,Qa),Ti&&Ti.hasAnimation)continue;let Si=[];if(C.size){let ys=C.get(_i);ys&&ys.length&&Si.push(...ys);let Ys=this.driver.query(_i,ks,!0);for(let Ul=0;Ul<Ys.length;Ul++){let Sr=C.get(Ys[Ul]);Sr&&Sr.length&&Si.push(...Sr)}}const Yr=Si.filter(ys=>!ys.destroyed);Yr.length?tl(this,_i,Yr):this.processLeaveNode(_i)}return tn.length=0,Li.forEach(ai=>{this.players.push(ai),ai.onDone(()=>{ai.destroy();const _i=this.players.indexOf(ai);this.players.splice(_i,1)}),ai.play()}),Li}elementContainsData(t,e){let r=!1;const c=e[ci];return c&&c.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,c,f){let v=[];if(e){const C=this.playersByQueriedElement.get(t);C&&(v=C)}else{const C=this.playersByElement.get(t);if(C){const I=!f||f==Io;C.forEach(B=>{B.queued||!I&&B.triggerName!=c||v.push(B)})}}return(r||c)&&(v=v.filter(C=>!(r&&r!=C.namespaceId||c&&c!=C.triggerName))),v}_beforeAnimationBuild(t,e,r){const f=e.element,v=e.isRemovalTransition?void 0:t,C=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const B=I.element,Q=B!==f,Ae=mr(r,B,[]);this._getPreviousPlayers(B,Q,v,C,e.toState).forEach(ct=>{const Nt=ct.getRealPlayer();Nt.beforeDestroy&&Nt.beforeDestroy(),ct.destroy(),Ae.push(ct)})}xo(f,e.fromStyles)}_buildAnimation(t,e,r,c,f,v){const C=e.triggerName,I=e.element,B=[],Q=new Set,Ae=new Set,Je=e.timelines.map(Nt=>{const Ut=Nt.element;Q.add(Ut);const tn=Ut[ci];if(tn&&tn.removedBeforeQueried)return new ot.ZN(Nt.duration,Nt.delay);const Tn=Ut!==I,On=function tu(n){const t=[];return Fa(n,t),t}((r.get(Ut)||Gh).map(wi=>wi.getRealPlayer())).filter(wi=>!!wi.element&&wi.element===Ut),Fn=f.get(Ut),Ln=v.get(Ut),ei=so(0,this._normalizer,0,Nt.keyframes,Fn,Ln),hi=this._buildPlayer(Nt,ei,On);if(Nt.subTimeline&&c&&Ae.add(Ut),Tn){const wi=new Hi(t,C,Ut);wi.setRealPlayer(hi),B.push(wi)}return hi});B.forEach(Nt=>{mr(this.playersByQueriedElement,Nt.element,[]).push(Nt),Nt.onDone(()=>function eu(n,t,e){let r=n.get(t);if(r){if(r.length){const c=r.indexOf(e);r.splice(c,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,Nt.element,Nt))}),Q.forEach(Nt=>Rr(Nt,Ta));const ct=ro(Je);return ct.onDestroy(()=>{Q.forEach(Nt=>Pa(Nt,Ta)),us(I,e.toStyles)}),Ae.forEach(Nt=>{mr(c,Nt,[]).push(ct)}),ct}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new ot.ZN(t.duration,t.delay)}}class Hi{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new ot.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(c=>ws(t,r,void 0,c))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){mr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jn(n){return n&&1===n.nodeType}function jr(n,t){const e=n.style.display;return n.style.display=t??"none",e}function ca(n,t,e,r,c){const f=[];e.forEach(I=>f.push(jr(I)));const v=[];r.forEach((I,B)=>{const Q=new Map;I.forEach(Ae=>{const Je=t.computeStyle(B,Ae,c);Q.set(Ae,Je),(!Je||0==Je.length)&&(B[ci]=Wu,v.push(B))}),n.set(B,Q)});let C=0;return e.forEach(I=>jr(I,f[C++])),v}function bl(n,t){const e=new Map;if(n.forEach(C=>e.set(C,[])),0==t.length)return e;const c=new Set(t),f=new Map;function v(C){if(!C)return 1;let I=f.get(C);if(I)return I;const B=C.parentNode;return I=e.has(B)?B:c.has(B)?1:v(B),f.set(C,I),I}return t.forEach(C=>{const I=v(C);1!==I&&e.get(I).push(C)}),e}function Rr(n,t){n.classList?.add(t)}function Pa(n,t){n.classList?.remove(t)}function tl(n,t,e){ro(e).onDone(()=>n.processLeaveNode(t))}function Fa(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof ot.ZE?Fa(r.players,t):t.push(r)}}function Yu(n,t,e){const r=e.get(n);if(!r)return!1;let c=t.get(n);return c?r.forEach(f=>c.add(f)):t.set(n,r),e.delete(n),!0}class nl{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(c,f)=>{},this._transitionEngine=new Ra(t,e,r),this._timelineEngine=new zu(t,e,r),this._transitionEngine.onRemovalComplete=(c,f)=>this.onRemovalComplete(c,f)}registerTrigger(t,e,r,c,f){const v=t+"-"+c;let C=this._triggerCache[v];if(!C){const I=[],Q=aa(this._driver,f,I,[]);if(I.length)throw function lr(n,t){return new h.vHH(3404,!1)}();C=function Zn(n,t,e){return new hn(n,t,e)}(c,Q,this._normalizer),this._triggerCache[v]=C}this._transitionEngine.registerTrigger(e,c,C)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,c){this._transitionEngine.insertNode(t,e,r,c)}onRemove(t,e,r,c){this._transitionEngine.removeNode(t,e,c||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,c){if("@"==r.charAt(0)){const[f,v]=Ms(r);this._timelineEngine.command(f,e,v,c)}else this._transitionEngine.trigger(t,e,r,c)}listen(t,e,r,c,f){if("@"==r.charAt(0)){const[v,C]=Ms(r);return this._timelineEngine.listen(v,e,C,f)}return this._transitionEngine.listen(t,e,r,c,f)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ua=(()=>{class n{constructor(e,r,c){this._element=e,this._startStyles=r,this._endStyles=c,this._state=0;let f=n.initialStylesByElement.get(e);f||n.initialStylesByElement.set(e,f=new Map),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&us(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(us(this._element,this._initialStyles),this._endStyles&&(us(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xo(this._element,this._endStyles),this._endStyles=null),us(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function da(n){let t=null;return n.forEach((e,r)=>{(function an(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class $o{constructor(t,e,r,c){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,c)=>{"offset"!==c&&t.set(c,this._finished?r:ze(this.element,c))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class zr{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Wl(t,e)}getParentElement(t){return zi(t)}query(t,e,r){return ts(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,c,f,v=[]){const I={duration:r,delay:c,fill:0==c?"both":"forwards"};f&&(I.easing=f);const B=new Map,Q=v.filter(ct=>ct instanceof $o);(function q(n,t){return 0===n||0===t})(r,c)&&Q.forEach(ct=>{ct.currentSnapshot.forEach((Nt,Ut)=>B.set(Ut,Nt))});let Ae=function lo(n){return n.length?n[0]instanceof Map?n:n.map(t=>Cs(t)):[]}(e).map(ct=>yi(ct));Ae=function Y(n,t,e){if(e.size&&t.length){let r=t[0],c=[];if(e.forEach((f,v)=>{r.has(v)||c.push(v),r.set(v,f)}),c.length)for(let f=1;f<t.length;f++){let v=t[f];c.forEach(C=>v.set(C,ze(n,C)))}}return t}(t,Ae,B);const Je=function nu(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=da(t[0]),t.length>1&&(r=da(t[t.length-1]))):t instanceof Map&&(e=da(t)),e||r?new ua(n,e,r):null}(t,Ae);return new $o(t,Ae,I,Je)}}let Dc=(()=>{class n extends ot._j{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(e)?(0,ot.vP)(e):e;return Ec(this._renderer,null,r,"register",[c]),new Zl(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(ge.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Zl extends ot.LC{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new eo(this._id,t,e||{},this._renderer)}}class eo{constructor(t,e,r,c){this.id=t,this.element=e,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ec(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ec(n,t,e,r,c){return n.setProperty(t,`@@${e}:${r}`,c)}const sr="@.disabled";let Bd=(()=>{class n{constructor(e,r,c){this.delegate=e,this.engine=r,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(f,v)=>{const C=v?.parentNode(f);C&&v.removeChild(C,f)}}createRenderer(e,r){const f=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let Q=this._rendererCache.get(f);return Q||(Q=new Ku("",f,this.engine),this._rendererCache.set(f,Q)),Q}const v=r.id,C=r.id+"-"+this._currentId;this._currentId++,this.engine.register(C,e);const I=Q=>{Array.isArray(Q)?Q.forEach(I):this.engine.registerTrigger(v,C,e,Q.name,Q)};return r.data.animation.forEach(I),new jh(this,C,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,c){e>=0&&e<this._microtaskId?this._zone.run(()=>r(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[v,C]=f;v(C)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(nl),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ku{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?c=>e.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,c=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,c)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,c){this.delegate.setAttribute(t,e,r,c)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,c){this.delegate.setStyle(t,e,r,c)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==sr?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class jh extends Ku{constructor(t,e,r,c){super(e,r,c),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sr?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const c=function fo(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let f=e.slice(1),v="";return"@"!=f.charAt(0)&&([f,v]=function wp(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(f)),this.engine.listen(this.namespaceId,c,f,v,C=>{this.factory.scheduleListenerCallback(C._data||-1,r,C)})}return this.delegate.listen(t,e,r)}}const iu=[{provide:ot._j,useClass:Dc},{provide:Ns,useFactory:function Cp(){return new Kl}},{provide:nl,useClass:(()=>{class n extends nl{constructor(e,r,c,f){super(e.body,r,c)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ge.K0),h.LFG(Xs),h.LFG(Ns),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:h.FYo,useFactory:function hr(n,t,e){return new Bd(n,t,e)},deps:[m.se,nl,h.R0b]}],gs=[{provide:Xs,useFactory:()=>new zr},{provide:h.QbO,useValue:"BrowserAnimations"},...iu],Mi=[{provide:Xs,useClass:cr},{provide:h.QbO,useValue:"NoopAnimations"},...iu];let ql=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Mi:gs}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:gs,imports:[m.b2]}),n})();var Yn=S(2233);let Nr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yn.IR]}),n})(),Kd=(()=>{class n{constructor(e,r){(0,ge.PM)(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Yn.WU,useValue:{...Yn.g5,...e}},{provide:Yn.Bs,useValue:r,multi:!0},{provide:Yn.wY,useValue:!0}]:[{provide:Yn.WU,useValue:{...Yn.g5,...e}},{provide:Yn.Bs,useValue:r,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Yn.wY),h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Be.ae,ae.aT,Nr,Be.ae,ae.aT,Nr]}),n})();var hs=S(3692);const nd_firebase={projectId:"virtual-project-manager-f12ca",appId:"1:902333508460:web:b123140f787f0fe784e149",storageBucket:"virtual-project-manager-f12ca.appspot.com",apiKey:"AIzaSyCe_iWqO5Z32jOJaPngPo7DwT9mxsFnsXo",authDomain:"virtual-project-manager-f12ca.firebaseapp.com",messagingSenderId:"902333508460",measurementId:"G-4QJWYRMNYE"};var gi=S(4027),kc=S(9646),k=S(3900),w=S(9751),D=S(8421),F=S(4482),De=S(5403);var Kt=S(5577),xn=S(1520),Jn=S(5867),ti=S(655),ri=S(6148),or=S(7128),Ro=S(7573),Yt=S(2090),$r=S(9681),xs=S(1877),Rc=S(4859);function du(n){return new w.y(function(t){return{unsubscribe:(0,Ro.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class fa{constructor(t){return t}}class ic{constructor(){return(0,gi.vb)("auth")}}const Ni=new h.OlP("angularfire2.auth-instances");function Zd(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new fa(r)}}const tf={provide:ic,deps:[[new h.FiY,Ni]]},rd={provide:fa,useFactory:function Qr(n,t){const e=(0,gi.JM)("auth",n,t);return e&&new fa(e)},deps:[[new h.FiY,Ni],hs.Ot]};let nf=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[rd,tf]}),n})();function Q_(n,...t){return{ngModule:nf,providers:[{provide:Ni,useFactory:Zd(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,[new h.FiY,or.nm],...t]}]}}const X_=(0,gi.u3)(du,!0),Pp=(0,gi.u3)(Ro.n,!0);class df{constructor(t){return t}}const rm="analytics",cv=gi.nk.async,Wy=(0,gi.u3)(ri.IH,!0),qb=(0,gi.u3)(ri.Kz,!0),Yy=(0,gi.u3)(ri.Iv,!0);let Vp=(()=>{class n{constructor(e,r,c){let f;this.disposables=[],(0,Jn.KN)("angularfire",gi.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(v=>{f=v})),cv().then(()=>{const v=c.get(df);v?this.disposables=[X_(e).subscribe(C=>{Yy(v,C?.uid),f()})]:f()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(fa),h.LFG(h.R0b),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Up="firebase_screen_id",Qd="outlet",Xo="screen_class",pu="screen_name";let om=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const zp={},pv=n=>{const t=[n[Xo],n[Qd]].join("#");if(zp.hasOwnProperty(t))return zp[t];{const e=om++;return zp[t]=e,e}};let pf=(()=>{class n{constructor(e,r,c,f,v,C){(0,Jn.KN)("angularfire",gi.q4.full,"screen-tracking"),cv().then(()=>{const I=C.get(df);!e||!I||f.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe((0,pe.h)(c=>c instanceof A.jw)).pipe((0,k.w)(c=>{var f;const C=(null===(f=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,ct=>ct.replace("://",":///"))).root.children[c.snapshot.outlet])||void 0===f?void 0:f.toString())||"",I=n.routerState.root.children.map(ct=>ct).find(ct=>ct.outlet===c.snapshot.outlet);if(!I)return(0,kc.of)(null);let B=I;for(;B.firstChild;)B=B.firstChild;const Q=B.pathFromRoot.map(ct=>{var Nt;return null===(Nt=ct.routeConfig)||void 0===Nt?void 0:Nt.path}).filter(ct=>ct).join("/")||"/",Ae={[pu]:Q,page_path:`/${C}`,firebase_event_origin:"auto",firebase_screen:Q,[Qd]:c.snapshot.outlet};t&&(Ae.page_title=t.getTitle());let Je=I.component;if(Je){if(Je===A.fw){let ct=c.snapshot;for(;ct.firstChild;)ct=ct.firstChild;Je=ct.component}}else Je=c.snapshot.component;if("string"==typeof Je)return(0,kc.of)(Object.assign(Object.assign({},Ae),{[Xo]:Je}));if(Je){const ct=e.resolveComponentFactory(Je);return(0,kc.of)(Object.assign(Object.assign({},Ae),{[Xo]:ct.selector}))}return(0,kc.of)(null)}),(0,pe.h)(c=>!!c),(0,kt.U)(c=>Object.assign({firebase_screen_class:c[Xo],[Up]:pv(c)},c)),function Qe(n,t,e,r){return(0,F.e)((c,f)=>{let v;t&&"function"!=typeof t?({duration:e,element:v,connector:r}=t):v=t;const C=new Map,I=Nt=>{C.forEach(Nt),Nt(f)},B=Nt=>I(Ut=>Ut.error(Nt));let Q=0,Ae=!1;const Je=new De.Q(f,Nt=>{try{const Ut=n(Nt);let tn=C.get(Ut);if(!tn){C.set(Ut,tn=r?r():new Ue.x);const Tn=function ct(Nt,Ut){const tn=new w.y(Tn=>{Q++;const On=Ut.subscribe(Tn);return()=>{On.unsubscribe(),0==--Q&&Ae&&Je.unsubscribe()}});return tn.key=Nt,tn}(Ut,tn);if(f.next(Tn),e){const On=(0,De.x)(tn,()=>{tn.complete(),On?.unsubscribe()},void 0,void 0,()=>C.delete(Ut));Je.add((0,D.Xf)(e(Tn)).subscribe(On))}}tn.next(v?v(Nt):Nt)}catch(Ut){B(Ut)}},()=>I(Nt=>Nt.complete()),B,()=>C.clear(),()=>(Ae=!0,0===Q));c.subscribe(Je)})}(c=>c[Qd]),(0,Kt.z)(c=>c.pipe((0,je.x)((f,v)=>JSON.stringify(f)===JSON.stringify(v)),(0,Oe.O)(void 0),(0,xn.G)(),(0,kt.U)(([f,v])=>f?Object.assign({firebase_previous_class:f[Xo],firebase_previous_screen:f[pu],firebase_previous_id:f[Up]},v):v)))))(e,r,c).pipe((0,k.w)(B=>(0,ti.mG)(this,void 0,void 0,function*(){return v&&(yield v.initialized),qb(I,"screen_view",B)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(A.F0,8),h.LFG(m.Dx,8),h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(Vp,8),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const $p=new h.OlP("angularfire2.analytics-instances");function gf(n){return(t,e)=>{if(!gi.nk.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new df(r)}}const gu={provide:class av{constructor(){return(0,gi.vb)(rm)}},deps:[[new h.FiY,$p]]},Zy={provide:df,useFactory:function Wp(n,t){if(!gi.nk.sync())return null;const e=(0,gi.JM)(rm,n,t);return e&&new df(e)},deps:[[new h.FiY,$p],hs.Ot]};let gv=(()=>{class n{constructor(e,r){(0,Jn.KN)("angularfire",gi.q4.full,"analytics")}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(pf,8),h.LFG(Vp,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Zy,gu,{provide:h.ip1,useValue:gi.nk.async,multi:!0}]}),n})();function Jo(n,...t){return{ngModule:gv,providers:[{provide:$p,useFactory:gf(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,...t]}]}}var rc=S(5861);const am="@firebase/database";let rs="";class lm{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Yt.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Yt.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class qy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Yt.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const mv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lm(t)}}catch{}return new qy},sc=mv("localStorage"),Xd=mv("sessionStorage"),ld=new xs.Yd("@firebase/database"),cm=function(){let n=1;return function(){return n++}}(),cd=function(n){const t=(0,Yt.dS)(n),e=new Yt.gQ;e.update(t);const r=e.digest();return Yt.US.encodeByteArray(r)},_u=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=_u.apply(null,r):t+="object"==typeof r?(0,Yt.Wl)(r):r,t+=" "}return t};let Tl=null,um=!0;const br=function(...n){if(!0===um&&(um=!1,null===Tl&&!0===Xd.get("logging_enabled")&&function(n,t){(0,Yt.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ld.logLevel=xs.in.VERBOSE,Tl=ld.log.bind(ld),t&&Xd.set("logging_enabled",!0)):"function"==typeof n?Tl=n:(Tl=null,Xd.remove("logging_enabled"))}(!0)),Tl){const t=_u.apply(null,n);Tl(t)}},Sl=function(n){return function(...t){br(n,...t)}},pa=function(...n){const t="FIREBASE INTERNAL ERROR: "+_u(...n);ld.error(t)},Ha=function(...n){const t=`FIREBASE FATAL ERROR: ${_u(...n)}`;throw ld.error(t),new Error(t)},_o=function(...n){const t="FIREBASE WARNING: "+_u(...n);ld.warn(t)},vu=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ga="[MIN_NAME]",$s="[MAX_NAME]",ma=function(n,t){if(n===t)return 0;if(n===ga||t===$s)return-1;if(t===ga||n===$s)return 1;{const e=dd(n),r=dd(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Yp=function(n,t){return n===t?0:n<t?-1:1},sl=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Yt.Wl)(t))},mf=function(n){if("object"!=typeof n||null===n)return(0,Yt.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,Yt.Wl)(t[r]),e+=":",e+=mf(n[t[r]]);return e+="}",e},_v=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let c=0;c<e;c+=t)r.push(n.substring(c,c+t>e?e:c+t));return r};function _s(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const vv=function(n){(0,Yt.hu)(!vu(n),"Invalid JSON number");const r=1023;let c,f,v,C,I;0===n?(f=0,v=0,c=1/n==-1/0?1:0):(c=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),r),f=C+r,v=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(f=0,v=Math.round(n/Math.pow(2,-1074))));const B=[];for(I=52;I;I-=1)B.push(v%2?1:0),v=Math.floor(v/2);for(I=11;I;I-=1)B.push(f%2?1:0),f=Math.floor(f/2);B.push(c?1:0),B.reverse();const Q=B.join("");let Ae="";for(I=0;I<64;I+=8){let Je=parseInt(Q.substr(I,8),2).toString(16);1===Je.length&&(Je="0"+Je),Ae+=Je}return Ae.toLowerCase()},yv=new RegExp("^-?(0*)\\d{1,10}$"),dd=function(n){if(yv.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ua=function(n){try{n()}catch(t){setTimeout(()=>{throw _o("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},bu=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class wv{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){_o(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xy{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_o(t)}}let eh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const fm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pm="websocket",th="long_polling";class Fc{constructor(t,e,r,c,f=!1,v="",C=!1){this.secure=e,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=v,this.includeNamespaceInQueryParams=C,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sc.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&sc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vf(n,t,e){let r;if((0,Yt.hu)("string"==typeof t,"typeof type must == string"),(0,Yt.hu)("object"==typeof e,"typeof params must == object"),t===pm)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==th)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function gm(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const c=[];return _s(e,(f,v)=>{c.push(f+"="+v)}),r+c.join("&")}class mm{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Yt.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Yt.p$)(this.counters_)}}const nh={},Lc={};function yf(n){const t=n.toString();return nh[t]||(nh[t]=new mm),nh[t]}class _m{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&Ua(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Bc{constructor(t,e,r,c,f,v,C){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.transportSessionId=v,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sl(t),this.stats_=yf(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),vf(e,th,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new _m(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Yt.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new og((...f)=>{const[v,C,I,B,Q]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===v)this.id=C,this.password=I;else{if("close"!==v)throw new Error("Unrecognized command received: "+v);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[v,C]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(v,C)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&fm.test(location.hostname)&&(r.r="f");const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bc.forceAllow_=!0}static forceDisallow(){Bc.forceDisallow_=!0}static isAvailable(){return!((0,Yt.Yr)()||!Bc.forceAllow_&&(Bc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Yt.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,Yt.h$)(e),c=_v(r,1840);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Yt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Yt.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class og{constructor(t,e,r,c){if(this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Yt.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=cm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=og.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const v="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(v),this.myIFrame.doc.close()}catch(C){br("frame writing exception"),C.stack&&br(C.stack),br(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||br("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const v=this.pendingSegs.shift();r=r+"&seg"+c+"="+v.seg+"&ts"+c+"="+v.ts+"&d"+c+"="+v.d,c++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},c=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(c),r()})}addTag(t,e){(0,Yt.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||"loaded"===c||"complete"===c)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{br("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Cf=null;typeof MozWebSocket<"u"?Cf=MozWebSocket:typeof WebSocket<"u"&&(Cf=WebSocket);let wu=(()=>{class n{constructor(e,r,c,f,v,C,I){this.connId=e,this.applicationId=c,this.appCheckToken=f,this.authToken=v,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sl(this.connId),this.stats_=yf(r),this.connURL=n.connectionURL_(r,C,I,f,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,c,f,v){const C={v:"5"};return!(0,Yt.Yr)()&&typeof location<"u"&&location.hostname&&fm.test(location.hostname)&&(C.r="f"),r&&(C.s=r),c&&(C.ls=c),f&&(C.ac=f),v&&(C.p=v),vf(e,pm,C)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sc.set("previous_websocket_failure",!0);try{let c;if((0,Yt.Yr)()){c={headers:{"User-Agent":`Firebase/5/${rs}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const v=process.env,C=0===this.connURL.indexOf("wss://")?v.HTTPS_PROXY||v.https_proxy:v.HTTP_PROXY||v.http_proxy;C&&(c.proxy={origin:C})}this.mySock=new Cf(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const f=c.message||c.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const f=c.message||c.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const c=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);c&&c.length>1&&parseFloat(c[1])<4.4&&(e=!0)}return!e&&null!==Cf&&!n.forceDisallow_}static previouslyFailed(){return sc.isInMemoryStorage||!0===sc.get("previous_websocket_failure")}markConnectionHealthy(){sc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const c=(0,Yt.cI)(r);this.onMessage(c)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Yt.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const c=this.extractFrameCount_(r);null!==c&&this.appendFrame_(c)}}send(e){this.resetKeepAlive();const r=(0,Yt.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const c=_v(r,16384);c.length>1&&this.sendString_(String(c.length));for(let f=0;f<c.length;f++)this.sendString_(c[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),ea=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bc,wu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=wu&&wu.isAvailable();let c=r&&!wu.previouslyFailed();if(e.webSocketOnly&&(r||_o("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[wu];else{const f=this.transports_=[];for(const v of n.ALL_TRANSPORTS)v&&v.isAvailable()&&f.push(v);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class lg{constructor(t,e,r,c,f,v,C,I,B,Q){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=v,this.onReady_=C,this.onDisconnect_=I,this.onKill_=B,this.lastSessionId=Q,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sl("c:"+this.id+":"),this.transportManager_=new ea(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const c=t.healthyTimeout||0;c>0&&(this.healthyTimeout_=bu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=sl("t",t),r=sl("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=sl("t",t),r=sl("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=sl("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?pa("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pa("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,c=t.h;this.sessionId=t.s,this.repoInfo_.host=c,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&_o("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),bu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mm{put(t,e,r,c){}merge(t,e,r,c){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Om{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Yt.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const c=this.getInitialEvent(t);c&&e.apply(r,c)}off(t,e,r){this.validateEventType_(t);const c=this.listeners_[t]||[];for(let f=0;f<c.length;f++)if(c[f].callback===e&&(!r||r===c[f].context))return void c.splice(f,1)}validateEventType_(t){(0,Yt.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class cg extends Om{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Yt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cg}getInitialEvent(t){return(0,Yt.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class fr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function wr(){return new fr("")}function $i(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ga(n){return n.pieces_.length-n.pieceNum_}function nr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new fr(n.pieces_,t)}function Cu(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ac(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function ah(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new fr(t,0)}function Xr(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof fr)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&e.push(r[c])}return new fr(e,0)}function qi(n){return n.pieceNum_>=n.pieces_.length}function No(n,t){const e=$i(n),r=$i(t);if(null===e)return t;if(e===r)return No(nr(n),nr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ol(n,t){if(Ga(n)!==Ga(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function al(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Ga(n)>Ga(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class e0{constructor(t,e){this.errorPrefix_=e,this.parts_=ac(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Yt.ug)(this.parts_[r]);xf(this)}}function xf(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lc(n))}function lc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Af extends Om{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Af}getInitialEvent(t){return(0,Yt.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Vc=1e3;let Tu,Eu=(()=>{class n extends Mm{constructor(e,r,c,f,v,C,I,B){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=c,this.onConnectStatus_=f,this.onServerInfoUpdate_=v,this.authTokenProvider_=C,this.appCheckTokenProvider_=I,this.authOverride_=B,this.id=n.nextPersistentConnectionId_++,this.log_=Sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,B&&!(0,Yt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Af.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&cg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,c){const f=++this.requestNumber_,v={r:f,a:e,b:r};this.log_((0,Yt.Wl)(v)),(0,Yt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(v),c&&(this.requestCBHash_[f]=c)}get(e){this.initConnection_();const r=new Yt.BH,c={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:c,onComplete:C=>{const I=C.d;"ok"===C.s?r.resolve(I):r.reject(I)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,c,f){this.initConnection_();const v=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+v),this.listens.has(C)||this.listens.set(C,new Map),(0,Yt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Yt.hu)(!this.listens.get(C).has(v),"listen() called twice for same path/queryId.");const I={onComplete:f,hashFn:r,query:e,tag:c};this.listens.get(C).set(v,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,c=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(c)})}sendListen_(e){const r=e.query,c=r._path.toString(),f=r._queryIdentifier;this.log_("Listen on "+c+" for "+f);const v={p:c};e.tag&&(v.q=r._queryObject,v.t=e.tag),v.h=e.hashFn(),this.sendRequest("q",v,I=>{const B=I.d,Q=I.s;n.warnOnListenWarnings_(B,r),(this.listens.get(c)&&this.listens.get(c).get(f))===e&&(this.log_("listen response",I),"ok"!==Q&&this.removeListen_(c,f),e.onComplete&&e.onComplete(Q,B))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,Yt.r3)(e,"w")){const c=(0,Yt.DV)(e,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const f='".indexOn": "'+r._queryParams.getIndex().toString()+'"',v=r._path.toString();_o(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${v} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Yt.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,Yt.w9)(e)?"auth":"gauth",c={cred:e};null===this.authOverride_?c.noauth=!0:"object"==typeof this.authOverride_&&(c.authvar=this.authOverride_),this.sendRequest(r,c,f=>{const v=f.s,C=f.d||"error";this.authToken_===e&&("ok"===v?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(v,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,c=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,c)})}unlisten(e,r){const c=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+c+" "+f),(0,Yt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,f)&&this.connected_&&this.sendUnlisten_(c,f,e._queryObject,r)}sendUnlisten_(e,r,c,f){this.log_("Unlisten on "+e+" for "+r);const v={p:e};f&&(v.q=c,v.t=f),this.sendRequest("n",v)}onDisconnectPut(e,r,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:c})}onDisconnectMerge(e,r,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:c})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,c,f){const v={p:r,d:c};this.log_("onDisconnect "+e,v),this.sendRequest(e,v,C=>{f&&setTimeout(()=>{f(C.s,C.d)},Math.floor(0))})}put(e,r,c,f){this.putInternal("p",e,r,c,f)}merge(e,r,c,f){this.putInternal("m",e,r,c,f)}putInternal(e,r,c,f,v){this.initConnection_();const C={p:r,d:c};void 0!==v&&(C.h=v),this.outstandingPuts_.push({action:e,request:C,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,c=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,c,v=>{this.log_(r+" response",v),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(v.s,v.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,c=>{"ok"!==c.s&&this.log_("reportStats","Error sending stats: "+c.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Yt.Wl)(e));const r=e.r,c=this.requestCBHash_[r];c&&(delete this.requestCBHash_[r],c(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):pa("Unrecognized action received from server: "+(0,Yt.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Yt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,rc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),c=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),v=e.id+":"+n.nextConnectionId_++,C=e.lastSessionId;let I=!1,B=null;const Q=function(){B?B.close():(I=!0,f())};e.realtime_={close:Q,sendRequest:function(ct){(0,Yt.hu)(B,"sendRequest call when we're not connected not allowed."),B.sendRequest(ct)}};const Je=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ct,Nt]=yield Promise.all([e.authTokenProvider_.getToken(Je),e.appCheckTokenProvider_.getToken(Je)]);I?br("getToken() completed but was canceled"):(br("getToken() completed. Creating connection."),e.authToken_=ct&&ct.accessToken,e.appCheckToken_=Nt&&Nt.token,B=new lg(v,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,c,f,Ut=>{_o(Ut+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(ct){e.log_("Failed to get token: "+ct),I||(e.repoInfo_.nodeAdmin&&_o(ct),Q())}}})()}interrupt(e){br("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){br("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Yt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let c;c=r?r.map(v=>mf(v)).join("$"):"default";const f=this.removeListen_(e,c);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,r){const c=new fr(e).toString();let f;if(this.listens.has(c)){const v=this.listens.get(c);f=v.get(r),v.delete(r),0===v.size&&this.listens.delete(c)}else f=void 0;return f}onAuthRevoked_(e,r){br("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){br("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,Yt.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+rs.replace(/\./g,"-")]=1,(0,Yt.uI)()?e["framework.cordova"]=1:(0,Yt.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cg.getInstance().currentlyOnline();return(0,Yt.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Wi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Wi(t,e)}}class If{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Wi(ga,t),c=new Wi(ga,e);return 0!==this.compare(r,c)}minPost(){return Wi.MIN}}class r0 extends If{static get __EMPTY_NODE(){return Tu}static set __EMPTY_NODE(t){Tu=t}compare(t,e){return ma(t.name,e.name)}isDefinedOn(t){throw(0,Yt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Wi.MIN}maxPost(){return new Wi($s,Tu)}makePost(t,e){return(0,Yt.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Wi(t,Tu)}toString(){return".key"}}const _a=new r0;class ug{constructor(t,e,r,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let v=1;for(;!t.isEmpty();)if(v=e?r(t.key,e):1,c&&(v*=-1),v<0)t=this.isReverse_?t.left:t.right;else{if(0===v){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ta,ll=(()=>{class n{constructor(e,r,c,f,v){this.key=e,this.value=r,this.color=c??n.RED,this.left=f??vo.EMPTY_NODE,this.right=v??vo.EMPTY_NODE}copy(e,r,c,f,v){return new n(e??this.key,r??this.value,c??this.color,f??this.left,v??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,c){let f=this;const v=c(e,f.key);return f=v<0?f.copy(null,null,null,f.left.insert(e,r,c),null):0===v?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(e,r,c)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return vo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let c,f;if(c=this,r(e,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),0===r(e,c.key)){if(c.right.isEmpty())return vo.EMPTY_NODE;f=c.right.min_(),c=c.copy(f.key,f.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class vo{constructor(t,e=vo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new vo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ll.BLACK,null,null))}remove(t){return new vo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ll.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,c=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(c=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ug(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ug(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ug(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ug(this.root_,null,this.comparator_,!0,t)}}function Bm(n,t){return ma(n.name,t.name)}function Su(n,t){return ma(n,t)}vo.EMPTY_NODE=new class ch{copy(t,e,r,c,f){return this}insert(t,e,r){return new ll(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hd=function(n){return"number"==typeof n?"number:"+vv(n):"string:"+n},xl=function(n){if(n.isLeafNode()){const t=n.val();(0,Yt.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Yt.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Yt.hu)(n===ta||n.isEmpty(),"priority of unexpected type.");(0,Yt.hu)(n===ta||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cl,xu,Mf,ja=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,Yt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xl(this.priorityNode_)}static set __childrenNodeConstructor(e){cl=e}static get __childrenNodeConstructor(){return cl}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return qi(e)?this:".priority"===$i(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const c=$i(e);return null===c?r:r.isEmpty()&&".priority"!==c?this:((0,Yt.hu)(".priority"!==c||1===Ga(e),".priority must be the last token in a path"),this.updateImmediateChild(c,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(nr(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hd(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?vv(this.value_):this.value_,this.lazyHash_=cd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Yt.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,c=typeof this.value_,f=n.VALUE_TYPE_ORDER.indexOf(r),v=n.VALUE_TYPE_ORDER.indexOf(c);return(0,Yt.hu)(f>=0,"Unknown leaf type: "+r),(0,Yt.hu)(v>=0,"Unknown leaf type: "+c),f===v?"object"===c?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:v-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Cr=new class Jb extends If{compare(t,e){const r=t.node.getPriority(),c=e.node.getPriority(),f=r.compareTo(c);return 0===f?ma(t.name,e.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Wi.MIN}maxPost(){return new Wi($s,new ja("[PRIORITY-POST]",Mf))}makePost(t,e){const r=xu(t);return new Wi(e,new ja("[PRIORITY-POST]",r))}toString(){return".priority"}},uh=Math.log(2);class kf{constructor(t){this.count=parseInt(Math.log(t+1)/uh,10),this.current_=this.count-1;const c=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&c}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Au=function(n,t,e,r){n.sort(t);const c=function(I,B){const Q=B-I;let Ae,Je;if(0===Q)return null;if(1===Q)return Ae=n[I],Je=e?e(Ae):Ae,new ll(Je,Ae.node,ll.BLACK,null,null);{const ct=parseInt(Q/2,10)+I,Nt=c(I,ct),Ut=c(ct+1,B);return Ae=n[ct],Je=e?e(Ae):Ae,new ll(Je,Ae.node,ll.BLACK,Nt,Ut)}},C=function(I){let B=null,Q=null,Ae=n.length;const Je=function(Nt,Ut){const tn=Ae-Nt,Tn=Ae;Ae-=Nt;const On=c(tn+1,Tn),Fn=n[tn],Ln=e?e(Fn):Fn;ct(new ll(Ln,Fn.node,Ut,null,On))},ct=function(Nt){B?(B.left=Nt,B=Nt):(Q=Nt,B=Nt)};for(let Nt=0;Nt<I.count;++Nt){const Ut=I.nextBitIsOne(),tn=Math.pow(2,I.count-(Nt+1));Ut?Je(tn,ll.BLACK):(Je(tn,ll.BLACK),Je(tn,ll.RED))}return Q}(new kf(n.length));return new vo(r||t,C)};let Rf;const Nf={};class Al{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Yt.hu)(Nf&&Cr,"ChildrenNode.ts has not been loaded"),Rf=Rf||new Al({".priority":Nf},{".priority":Cr}),Rf}get(t){const e=(0,Yt.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof vo?e:null}hasIndex(t){return(0,Yt.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Yt.hu)(t!==_a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const f=e.getIterator(Wi.Wrap);let C,v=f.getNext();for(;v;)c=c||t.isDefinedOn(v.node),r.push(v),v=f.getNext();C=c?Au(r,t.getCompare()):Nf;const I=t.toString(),B=Object.assign({},this.indexSet_);B[I]=t;const Q=Object.assign({},this.indexes_);return Q[I]=C,new Al(Q,B)}addToIndexes(t,e){const r=(0,Yt.UI)(this.indexes_,(c,f)=>{const v=(0,Yt.DV)(this.indexSet_,f);if((0,Yt.hu)(v,"Missing index implementation for "+f),c===Nf){if(v.isDefinedOn(t.node)){const C=[],I=e.getIterator(Wi.Wrap);let B=I.getNext();for(;B;)B.name!==t.name&&C.push(B),B=I.getNext();return C.push(t),Au(C,v.getCompare())}return Nf}{const C=e.get(t.name);let I=c;return C&&(I=I.remove(new Wi(t.name,C))),I.insert(t,t.node)}});return new Al(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,Yt.UI)(this.indexes_,c=>{if(c===Nf)return c;{const f=e.get(t.name);return f?c.remove(new Wi(t.name,f)):c}});return new Al(r,this.indexSet_)}}let fd,Ui=(()=>{class n{constructor(e,r,c){this.children_=e,this.priorityNode_=r,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&xl(this.priorityNode_),this.children_.isEmpty()&&(0,Yt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fd||(fd=new n(new vo(Su),null,Al.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?fd:r}}getChild(e){const r=$i(e);return null===r?this:this.getImmediateChild(r).getChild(nr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,Yt.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const c=new Wi(e,r);let f,v;r.isEmpty()?(f=this.children_.remove(e),v=this.indexMap_.removeFromIndexes(c,this.children_)):(f=this.children_.insert(e,r),v=this.indexMap_.addToIndexes(c,this.children_));const C=f.isEmpty()?fd:this.priorityNode_;return new n(f,C,v)}}updateChild(e,r){const c=$i(e);if(null===c)return r;{(0,Yt.hu)(".priority"!==$i(e)||1===Ga(e),".priority must be the last token in a path");const f=this.getImmediateChild(c).updateChild(nr(e),r);return this.updateImmediateChild(c,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let c=0,f=0,v=!0;if(this.forEachChild(Cr,(C,I)=>{r[C]=I.val(e),c++,v&&n.INTEGER_REGEXP_.test(C)?f=Math.max(f,Number(C)):v=!1}),!e&&v&&f<2*c){const C=[];for(const I in r)C[I]=r[I];return C}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+hd(this.getPriority().val())+":"),this.forEachChild(Cr,(r,c)=>{const f=c.hash();""!==f&&(e+=":"+r+":"+f)}),this.lazyHash_=""===e?"":cd(e)}return this.lazyHash_}getPredecessorChildName(e,r,c){const f=this.resolveIndex_(c);if(f){const v=f.getPredecessorKey(new Wi(e,r));return v?v.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const c=r.minKey();return c&&c.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Wi(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const c=r.maxKey();return c&&c.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Wi(r,this.children_.get(r)):null}forEachChild(e,r){const c=this.resolveIndex_(e);return c?c.inorderTraversal(f=>r(f.name,f.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const c=this.resolveIndex_(r);if(c)return c.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,Wi.Wrap);let v=f.peek();for(;null!=v&&r.compare(v,e)<0;)f.getNext(),v=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const c=this.resolveIndex_(r);if(c)return c.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,Wi.Wrap);let v=f.peek();for(;null!=v&&r.compare(v,e)>0;)f.getNext(),v=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dh?-1:0}withIndex(e){if(e===_a||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===_a||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const c=this.getIterator(Cr),f=r.getIterator(Cr);let v=c.getNext(),C=f.getNext();for(;v&&C;){if(v.name!==C.name||!v.node.equals(C.node))return!1;v=c.getNext(),C=f.getNext()}return null===v&&null===C}return!1}return!1}}resolveIndex_(e){return e===_a?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const dh=new class Iv extends Ui{constructor(){super(new vo(Su),Ui.EMPTY_NODE,Al.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ui.EMPTY_NODE}isEmpty(){return!1}};function ss(n,t=null){if(null===n)return Ui.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Yt.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ja(n,ss(t));if(n instanceof Array){let e=Ui.EMPTY_NODE;return _s(n,(r,c)=>{if((0,Yt.r3)(n,r)&&"."!==r.substring(0,1)){const f=ss(c);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(r,f))}}),e.updatePriority(ss(t))}{const e=[];let r=!1;if(_s(n,(v,C)=>{if("."!==v.substring(0,1)){const I=ss(C);I.isEmpty()||(r=r||!I.getPriority().isEmpty(),e.push(new Wi(v,I)))}}),0===e.length)return Ui.EMPTY_NODE;const f=Au(e,Bm,v=>v.name,Su);if(r){const v=Au(e,Cr.getCompare());return new Ui(f,ss(t),new Al({".priority":v},{".priority":Cr}))}return new Ui(f,ss(t),Al.Default)}}Object.defineProperties(Wi,{MIN:{value:new Wi(ga,Ui.EMPTY_NODE)},MAX:{value:new Wi($s,dh)}}),r0.__EMPTY_NODE=Ui.EMPTY_NODE,ja.__childrenNodeConstructor=Ui,function dg(n){ta=n}(dh),function Av(n){Mf=n}(dh),function Of(n){xu=n}(ss);class Vm extends If{constructor(t){super(),this.indexPath_=t,(0,Yt.hu)(!qi(t)&&".priority"!==$i(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),c=this.extractChild(e.node),f=r.compareTo(c);return 0===f?ma(t.name,e.name):f}makePost(t,e){const r=ss(t),c=Ui.EMPTY_NODE.updateChild(this.indexPath_,r);return new Wi(e,c)}maxPost(){const t=Ui.EMPTY_NODE.updateChild(this.indexPath_,dh);return new Wi($s,t)}toString(){return ac(this.indexPath_,0).join("/")}}const hg=new class Hm extends If{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?ma(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Wi.MIN}maxPost(){return Wi.MAX}makePost(t,e){const r=ss(t);return new Wi(e,r)}toString(){return".value"}};function Lf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class fg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Yt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Yt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ga}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Yt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Yt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Yt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cr}copy(){const t=new fg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pg(n){const t={};if(n.isDefault())return t;let e;return n.index_===Cr?e="$priority":n.index_===hg?e="$value":n.index_===_a?e="$key":((0,Yt.hu)(n.index_ instanceof Vm,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Yt.Wl)(e),n.startSet_&&(t.startAt=(0,Yt.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,Yt.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,Yt.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,Yt.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function gg(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Cr&&(t.i=n.index_.toString()),t}class mg extends Mm{constructor(t,e,r,c){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=Sl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Yt.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,c){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const v=mg.getListenId_(t,r),C={};this.listens_[v]=C;const I=pg(t._queryParams);this.restRequest_(f+".json",I,(B,Q)=>{let Ae=Q;if(404===B&&(Ae=null,B=null),null===B&&this.onDataUpdate_(f,Ae,!1,r),(0,Yt.DV)(this.listens_,v)===C){let Je;Je=B?401===B?"permission_denied":"rest_error:"+B:"ok",c(Je,null)}})}unlisten(t,e){const r=mg.getListenId_(t,e);delete this.listens_[r]}get(t){const e=pg(t._queryParams),r=t._path.toString(),c=new Yt.BH;return this.restRequest_(r+".json",e,(f,v)=>{let C=v;404===f&&(C=null,f=null),null===f?(this.onDataUpdate_(r,C,!1,null),c.resolve(C)):c.reject(new Error(C))}),c.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(e.auth=c.accessToken),f&&f.token&&(e.ac=f.token);const v=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Yt.xO)(e);this.log_("Sending REST request for "+v);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(r&&4===C.readyState){this.log_("REST Response for "+v+" received. status:",C.status,"response:",C.responseText);let I=null;if(C.status>=200&&C.status<300){try{I=(0,Yt.cI)(C.responseText)}catch{_o("Failed to parse JSON response for "+v+": "+C.responseText)}r(null,I)}else 401!==C.status&&404!==C.status&&_o("Got unsuccessful REST response for "+v+" Status: "+C.status),r(C.status);r=null}},C.open("GET",v,!0),C.send()})}}class gh{constructor(){this.rootNode_=Ui.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function yo(){return{value:null,children:new Map}}function uc(n,t,e){if(qi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=$i(t);n.children.has(r)||n.children.set(r,yo()),uc(n.children.get(r),t=nr(t),e)}}function gd(n,t,e){null!==n.value?e(t,n.value):function _g(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,c)=>{gd(c,new fr(t.toString()+"/"+r),e)})}class Rv{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&_s(this.last_,(r,c)=>{e[r]=e[r]-c}),this.last_=t,e}}class Nv{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Rv(t);const r=1e4+2e4*Math.random();bu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;_s(t,(c,f)=>{f>0&&(0,Yt.r3)(this.statsToReport_,c)&&(e[c]=f,r=!0)}),r&&this.server_.reportStats(e),bu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Po=(()=>{return(n=Po||(Po={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Po;var n})();function yg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class md{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Po.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(qi(this.path)){if(null!=this.affectedTree.value)return(0,Yt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new fr(t));return new md(wr(),e,this.revert)}}return(0,Yt.hu)($i(this.path)===t,"operationForChild called for unrelated child."),new md(nr(this.path),this.affectedTree,this.revert)}}class Mu{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Po.OVERWRITE}operationForChild(t){return qi(this.path)?new Mu(this.source,wr(),this.snap.getImmediateChild(t)):new Mu(this.source,nr(this.path),this.snap)}}class _d{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Po.MERGE}operationForChild(t){if(qi(this.path)){const e=this.children.subtree(new fr(t));return e.isEmpty()?null:e.value?new Mu(this.source,wr(),e.value):new _d(this.source,wr(),e)}return(0,Yt.hu)($i(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new _d(this.source,nr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class dc{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(qi(t))return this.isFullyInitialized()&&!this.filtered_;const e=$i(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function vd(n,t,e,r,c,f){const v=r.filter(C=>C.type===e);v.sort((C,I)=>function l0(n,t,e){if(null==t.childName||null==e.childName)throw(0,Yt.g5)("Should only compare child_ events.");const r=new Wi(t.childName,t.snapshotNode),c=new Wi(e.childName,e.snapshotNode);return n.index_.compare(r,c)}(n,C,I)),v.forEach(C=>{const I=function Pv(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,C,f);c.forEach(B=>{B.respondsTo(C.type)&&t.push(B.createEvent(I,n.query_))})})}function yd(n,t){return{eventCache:n,serverCache:t}}function bd(n,t,e,r){return yd(new dc(t,e,r),n.serverCache)}function Fv(n,t,e,r){return yd(n.eventCache,new dc(t,e,r))}function _h(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Uc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Gf;class Pr{constructor(t,e=(()=>(Gf||(Gf=new vo(Yp)),Gf))()){this.value=t,this.children=e}static fromObject(t){let e=new Pr(null);return _s(t,(r,c)=>{e=e.set(new fr(r),c)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:wr(),value:this.value};if(qi(t))return null;{const r=$i(t),c=this.children.get(r);if(null!==c){const f=c.findRootMostMatchingPathAndValue(nr(t),e);return null!=f?{path:Xr(new fr(r),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(qi(t))return this;{const e=$i(t),r=this.children.get(e);return null!==r?r.subtree(nr(t)):new Pr(null)}}set(t,e){if(qi(t))return new Pr(e,this.children);{const r=$i(t),f=(this.children.get(r)||new Pr(null)).set(nr(t),e),v=this.children.insert(r,f);return new Pr(this.value,v)}}remove(t){if(qi(t))return this.children.isEmpty()?new Pr(null):new Pr(null,this.children);{const e=$i(t),r=this.children.get(e);if(r){const c=r.remove(nr(t));let f;return f=c.isEmpty()?this.children.remove(e):this.children.insert(e,c),null===this.value&&f.isEmpty()?new Pr(null):new Pr(this.value,f)}return this}}get(t){if(qi(t))return this.value;{const e=$i(t),r=this.children.get(e);return r?r.get(nr(t)):null}}setTree(t,e){if(qi(t))return e;{const r=$i(t),f=(this.children.get(r)||new Pr(null)).setTree(nr(t),e);let v;return v=f.isEmpty()?this.children.remove(r):this.children.insert(r,f),new Pr(this.value,v)}}fold(t){return this.fold_(wr(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((c,f)=>{r[c]=f.fold_(Xr(t,c),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,wr(),e)}findOnPath_(t,e,r){const c=!!this.value&&r(e,this.value);if(c)return c;if(qi(t))return null;{const f=$i(t),v=this.children.get(f);return v?v.findOnPath_(nr(t),Xr(e,f),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,wr(),e)}foreachOnPath_(t,e,r){if(qi(t))return this;{this.value&&r(e,this.value);const c=$i(t),f=this.children.get(c);return f?f.foreachOnPath_(nr(t),Xr(e,c),r):new Pr(null)}}foreach(t){this.foreach_(wr(),t)}foreach_(t,e){this.children.inorderTraversal((r,c)=>{c.foreach_(Xr(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class va{constructor(t){this.writeTree_=t}static empty(){return new va(new Pr(null))}}function Yi(n,t,e){if(qi(t))return new va(new Pr(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const c=r.path;let f=r.value;const v=No(c,t);return f=f.updateChild(v,e),new va(n.writeTree_.set(c,f))}{const c=new Pr(e),f=n.writeTree_.setTree(t,c);return new va(f)}}}function jf(n,t,e){let r=n;return _s(e,(c,f)=>{r=Yi(r,Xr(t,c),f)}),r}function wg(n,t){if(qi(t))return va.empty();{const e=n.writeTree_.setTree(t,new Pr(null));return new va(e)}}function Cg(n,t){return null!=Ls(n,t)}function Ls(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(No(e.path,t)):null}function zf(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Cr,(r,c)=>{t.push(new Wi(r,c))}):n.writeTree_.children.inorderTraversal((r,c)=>{null!=c.value&&t.push(new Wi(r,c.value))}),t}function Mr(n,t){if(qi(t))return n;{const e=Ls(n,t);return new va(null!=e?new Pr(e):n.writeTree_.subtree(t))}}function to(n){return n.writeTree_.isEmpty()}function ya(n,t){return Zm(wr(),n.writeTree_,t)}function Zm(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((c,f)=>{".priority"===c?((0,Yt.hu)(null!==f.value,"Priority writes must always be leaf nodes"),r=f.value):e=Zm(Xr(n,c),f,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Xr(n,".priority"),r)),e}}function Dg(n,t){return Yf(t,n)}function Eg(n,t){if(n.snap)return al(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&al(Xr(n.path,e),t))return!0;return!1}function Hv(n){return n.visible}function Wf(n,t,e){let r=va.empty();for(let c=0;c<n.length;++c){const f=n[c];if(t(f)){const v=f.path;let C;if(f.snap)al(e,v)?(C=No(e,v),r=Yi(r,C,f.snap)):al(v,e)&&(C=No(v,e),r=Yi(r,wr(),f.snap.getChild(C)));else{if(!f.children)throw(0,Yt.g5)("WriteRecord should have .snap or .children");if(al(e,v))C=No(e,v),r=jf(r,C,f.children);else if(al(v,e))if(C=No(v,e),qi(C))r=jf(r,wr(),f.children);else{const I=(0,Yt.DV)(f.children,$i(C));if(I){const B=I.getChild(nr(C));r=Yi(r,wr(),B)}}}}}return r}function u0(n,t,e,r,c){if(r||c){const f=Mr(n.visibleWrites,t);return!c&&to(f)?e:c||null!=e||Cg(f,wr())?ya(Wf(n.allWrites,function(B){return(B.visible||c)&&(!r||!~r.indexOf(B.writeId))&&(al(B.path,t)||al(t,B.path))},t),e||Ui.EMPTY_NODE):null}{const f=Ls(n.visibleWrites,t);if(null!=f)return f;{const v=Mr(n.visibleWrites,t);return to(v)?e:null!=e||Cg(v,wr())?ya(v,e||Ui.EMPTY_NODE):null}}}function Ou(n,t,e,r){return u0(n.writeTree,n.treePath,t,e,r)}function $a(n,t){return function qm(n,t,e){let r=Ui.EMPTY_NODE;const c=Ls(n.visibleWrites,t);if(c)return c.isLeafNode()||c.forEachChild(Cr,(f,v)=>{r=r.updateImmediateChild(f,v)}),r;if(e){const f=Mr(n.visibleWrites,t);return e.forEachChild(Cr,(v,C)=>{const I=ya(Mr(f,new fr(v)),C);r=r.updateImmediateChild(v,I)}),zf(f).forEach(v=>{r=r.updateImmediateChild(v.name,v.node)}),r}return zf(Mr(n.visibleWrites,t)).forEach(v=>{r=r.updateImmediateChild(v.name,v.node)}),r}(n.writeTree,n.treePath,t)}function wd(n,t,e,r){return function ew(n,t,e,r,c){(0,Yt.hu)(r||c,"Either existingEventSnap or existingServerSnap must exist");const f=Xr(t,e);if(Cg(n.visibleWrites,f))return null;{const v=Mr(n.visibleWrites,f);return to(v)?c.getChild(e):ya(v,c.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function hc(n,t){return function Qm(n,t){return Ls(n.visibleWrites,t)}(n.writeTree,Xr(n.treePath,t))}function xg(n,t,e){return function Uv(n,t,e,r){const c=Xr(t,e),f=Ls(n.visibleWrites,c);return null!=f?f:r.isCompleteForChild(e)?ya(Mr(n.visibleWrites,c),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Dd(n,t){return Yf(Xr(n.treePath,t),n.writeTree)}function Yf(n,t){return{treePath:n,writeTree:t}}class Jm{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,Yt.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Yt.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const f=c.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(r,Lf(r,t.snapshotNode,c.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(r,function fh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(r,c.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(r,function Ff(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,Yt.g5)("Illegal combination of changes: "+t+" occurred after "+c);this.changeMap.set(r,Lf(r,t.snapshotNode,c.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const Ml=new class Gv{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Kf{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new dc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xg(this.writes_,t,r)}}getChildAfterChild(t,e,r){const c=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uc(this.viewCache_),f=function Cd(n,t,e,r,c,f){return function Sg(n,t,e,r,c,f,v){let C;const I=Mr(n.visibleWrites,t),B=Ls(I,wr());if(null!=B)C=B;else{if(null==e)return[];C=ya(I,e)}if(C=C.withIndex(v),C.isEmpty()||C.isLeafNode())return[];{const Q=[],Ae=v.getCompare(),Je=f?C.getReverseIteratorFrom(r,v):C.getIteratorFrom(r,v);let ct=Je.getNext();for(;ct&&Q.length<c;)0!==Ae(ct,r)&&Q.push(ct),ct=Je.getNext();return Q}}(n.writeTree,n.treePath,t,e,r,c,f)}(this.writes_,c,e,1,r,t);return 0===f.length?null:f[0]}}function zv(n,t,e,r,c,f){const v=t.eventCache;if(null!=hc(r,e))return t;{let C,I;if(qi(e))if((0,Yt.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const B=Uc(t),Ae=$a(r,B instanceof Ui?B:Ui.EMPTY_NODE);C=n.filter.updateFullNode(t.eventCache.getNode(),Ae,f)}else{const B=Ou(r,Uc(t));C=n.filter.updateFullNode(t.eventCache.getNode(),B,f)}else{const B=$i(e);if(".priority"===B){(0,Yt.hu)(1===Ga(e),"Can't have a priority with additional path components");const Q=v.getNode();I=t.serverCache.getNode();const Ae=wd(r,e,Q,I);C=null!=Ae?n.filter.updatePriority(Q,Ae):v.getNode()}else{const Q=nr(e);let Ae;if(v.isCompleteForChild(B)){I=t.serverCache.getNode();const Je=wd(r,e,v.getNode(),I);Ae=null!=Je?v.getNode().getImmediateChild(B).updateChild(Q,Je):v.getNode().getImmediateChild(B)}else Ae=xg(r,B,t.serverCache);C=null!=Ae?n.filter.updateChild(v.getNode(),B,Ae,Q,c,f):v.getNode()}}return bd(t,C,v.isFullyInitialized()||qi(e),n.filter.filtersNodes())}}function Zf(n,t,e,r,c,f,v,C){const I=t.serverCache;let B;const Q=v?n.filter:n.filter.getIndexedFilter();if(qi(e))B=Q.updateFullNode(I.getNode(),r,null);else if(Q.filtersNodes()&&!I.isFiltered()){const ct=I.getNode().updateChild(e,r);B=Q.updateFullNode(I.getNode(),ct,null)}else{const ct=$i(e);if(!I.isCompleteForPath(e)&&Ga(e)>1)return t;const Nt=nr(e),tn=I.getNode().getImmediateChild(ct).updateChild(Nt,r);B=".priority"===ct?Q.updatePriority(I.getNode(),tn):Q.updateChild(I.getNode(),ct,tn,Nt,Ml,null)}const Ae=Fv(t,B,I.isFullyInitialized()||qi(e),Q.filtersNodes());return zv(n,Ae,e,c,new Kf(c,Ae,f),C)}function Ag(n,t,e,r,c,f,v){const C=t.eventCache;let I,B;const Q=new Kf(c,t,f);if(qi(e))B=n.filter.updateFullNode(t.eventCache.getNode(),r,v),I=bd(t,B,!0,n.filter.filtersNodes());else{const Ae=$i(e);if(".priority"===Ae)B=n.filter.updatePriority(t.eventCache.getNode(),r),I=bd(t,B,C.isFullyInitialized(),C.isFiltered());else{const Je=nr(e),ct=C.getNode().getImmediateChild(Ae);let Nt;if(qi(Je))Nt=r;else{const Ut=Q.getCompleteChild(Ae);Nt=null!=Ut?".priority"===Cu(Je)&&Ut.getChild(ah(Je)).isEmpty()?Ut:Ut.updateChild(Je,r):Ui.EMPTY_NODE}I=ct.equals(Nt)?t:bd(t,n.filter.updateChild(C.getNode(),Ae,Nt,Je,Q,v),C.isFullyInitialized(),n.filter.filtersNodes())}}return I}function Ig(n,t){return n.eventCache.isCompleteForChild(t)}function Mg(n,t,e){return e.foreach((r,c)=>{t=t.updateChild(r,c)}),t}function qf(n,t,e,r,c,f,v,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let B,I=t;B=qi(e)?r:new Pr(null).setTree(e,r);const Q=t.serverCache.getNode();return B.children.inorderTraversal((Ae,Je)=>{if(Q.hasChild(Ae)){const Nt=Mg(0,t.serverCache.getNode().getImmediateChild(Ae),Je);I=Zf(n,I,new fr(Ae),Nt,c,f,v,C)}}),B.children.inorderTraversal((Ae,Je)=>{const ct=!t.serverCache.isCompleteForChild(Ae)&&null===Je.value;if(!Q.hasChild(Ae)&&!ct){const Ut=Mg(0,t.serverCache.getNode().getImmediateChild(Ae),Je);I=Zf(n,I,new fr(Ae),Ut,c,f,v,C)}}),I}function ku(n,t){const e=Uc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!qi(t)&&!e.getImmediateChild($i(t)).isEmpty())?e.getChild(t):null}function $v(n,t,e,r){t.type===Po.MERGE&&null!==t.source.queryId&&((0,Yt.hu)(Uc(n.viewCache_),"We should always have a full cache before handling merges"),(0,Yt.hu)(_h(n.viewCache_),"Missing event cache, even though we have a server cache"));const c=n.viewCache_,f=function nw(n,t,e,r,c){const f=new Jm;let v,C;if(e.type===Po.OVERWRITE){const B=e;B.source.fromUser?v=Ag(n,t,B.path,B.snap,r,c,f):((0,Yt.hu)(B.source.fromServer,"Unknown source."),C=B.source.tagged||t.serverCache.isFiltered()&&!qi(B.path),v=Zf(n,t,B.path,B.snap,r,c,C,f))}else if(e.type===Po.MERGE){const B=e;B.source.fromUser?v=function h0(n,t,e,r,c,f,v){let C=t;return r.foreach((I,B)=>{const Q=Xr(e,I);Ig(t,$i(Q))&&(C=Ag(n,C,Q,B,c,f,v))}),r.foreach((I,B)=>{const Q=Xr(e,I);Ig(t,$i(Q))||(C=Ag(n,C,Q,B,c,f,v))}),C}(n,t,B.path,B.children,r,c,f):((0,Yt.hu)(B.source.fromServer,"Unknown source."),C=B.source.tagged||t.serverCache.isFiltered(),v=qf(n,t,B.path,B.children,r,c,C,f))}else if(e.type===Po.ACK_USER_WRITE){const B=e;v=B.revert?function Jr(n,t,e,r,c,f){let v;if(null!=hc(r,e))return t;{const C=new Kf(r,t,c),I=t.eventCache.getNode();let B;if(qi(e)||".priority"===$i(e)){let Q;if(t.serverCache.isFullyInitialized())Q=Ou(r,Uc(t));else{const Ae=t.serverCache.getNode();(0,Yt.hu)(Ae instanceof Ui,"serverChildren would be complete if leaf node"),Q=$a(r,Ae)}B=n.filter.updateFullNode(I,Q,f)}else{const Q=$i(e);let Ae=xg(r,Q,t.serverCache);null==Ae&&t.serverCache.isCompleteForChild(Q)&&(Ae=I.getImmediateChild(Q)),B=null!=Ae?n.filter.updateChild(I,Q,Ae,nr(e),C,f):t.eventCache.getNode().hasChild(Q)?n.filter.updateChild(I,Q,Ui.EMPTY_NODE,nr(e),C,f):I,B.isEmpty()&&t.serverCache.isFullyInitialized()&&(v=Ou(r,Uc(t)),v.isLeafNode()&&(B=n.filter.updateFullNode(B,v,f)))}return v=t.serverCache.isFullyInitialized()||null!=hc(r,wr()),bd(t,B,v,n.filter.filtersNodes())}}(n,t,B.path,r,c,f):function f0(n,t,e,r,c,f,v){if(null!=hc(c,e))return t;const C=t.serverCache.isFiltered(),I=t.serverCache;if(null!=r.value){if(qi(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Zf(n,t,e,I.getNode().getChild(e),c,f,C,v);if(qi(e)){let B=new Pr(null);return I.getNode().forEachChild(_a,(Q,Ae)=>{B=B.set(new fr(Q),Ae)}),qf(n,t,e,B,c,f,C,v)}return t}{let B=new Pr(null);return r.foreach((Q,Ae)=>{const Je=Xr(e,Q);I.isCompleteForPath(Je)&&(B=B.set(Q,I.getNode().getChild(Je)))}),qf(n,t,e,B,c,f,C,v)}}(n,t,B.path,B.affectedTree,r,c,f)}else{if(e.type!==Po.LISTEN_COMPLETE)throw(0,Yt.g5)("Unknown operation type: "+e.type);v=function p0(n,t,e,r,c){const f=t.serverCache;return zv(n,Fv(t,f.getNode(),f.isFullyInitialized()||qi(e),f.isFiltered()),e,r,Ml,c)}(n,t,e.path,r,f)}const I=f.getChanges();return function jv(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=_h(n);(e.length>0||!n.eventCache.isFullyInitialized()||c&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&e.push(function jm(n){return{type:"value",snapshotNode:n}}(_h(t)))}}(t,v,I),{viewCache:v,changes:I}}(n.processor_,c,t,e,r);return function d0(n,t){(0,Yt.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Yt.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,f.viewCache),(0,Yt.hu)(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=f.viewCache,function Wv(n,t,e,r){return function bg(n,t,e,r){const c=[],f=[];return t.forEach(v=>{"child_changed"===v.type&&n.index_.indexedValueChanged(v.oldSnap,v.snapshotNode)&&f.push(function Ov(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(v.childName,v.snapshotNode))}),vd(n,c,"child_removed",t,r,e),vd(n,c,"child_added",t,r,e),vd(n,c,"child_moved",f,r,e),vd(n,c,"child_changed",t,r,e),vd(n,c,"value",t,r,e),c}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}(n,f.changes,f.viewCache.eventCache.getNode(),null)}let Wa,Gc;function As(n,t,e,r){const c=t.source.queryId;if(null!==c){const f=n.views.get(c);return(0,Yt.hu)(null!=f,"SyncTree gave us an op for an invalid query."),$v(f,t,e,r)}{let f=[];for(const v of n.views.values())f=f.concat($v(v,t,e,r));return f}}function Ya(n,t){let e=null;for(const r of n.views.values())e=e||ku(r,t);return e}class Og{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pr(null),this.pendingWriteTree_=function Xm(){return{visibleWrites:va.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yh(n,t,e,r,c){return function Bv(n,t,e,r,c){(0,Yt.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===c&&(c=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:c}),c&&(n.visibleWrites=Yi(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,c),c?hl(n,new Mu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function jc(n,t,e=!1){const r=function $f(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function Vv(n,t){const e=n.allWrites.findIndex(C=>C.writeId===t);(0,Yt.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let c=r.visible,f=!1,v=n.allWrites.length-1;for(;c&&v>=0;){const C=n.allWrites[v];C.visible&&(v>=e&&Eg(C,r.path)?c=!1:al(r.path,C.path)&&(f=!0)),v--}return!!c&&(f?(function Tg(n){n.visibleWrites=Wf(n.allWrites,Hv,wr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=wg(n.visibleWrites,r.path):_s(r.children,I=>{n.visibleWrites=wg(n.visibleWrites,Xr(r.path,I))}),!0))}(n.pendingWriteTree_,t)){let f=new Pr(null);return null!=r.snap?f=f.set(wr(),!0):_s(r.children,v=>{f=f.set(new fr(v),!0)}),hl(n,new md(r.path,f,e))}return[]}function bh(n,t,e){return hl(n,new Mu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Pu(n,t,e){const c=n.pendingWriteTree_,f=n.syncPointTree_.findOnPath(t,(v,C)=>{const B=Ya(C,No(v,t));if(B)return B});return u0(c,t,f,e,!0)}function hl(n,t){return Fu(t,n.syncPointTree_,null,Dg(n.pendingWriteTree_,wr()))}function Fu(n,t,e,r){if(qi(n.path))return np(n,t,e,r);{const c=t.get(wr());null==e&&null!=c&&(e=Ya(c,wr()));let f=[];const v=$i(n.path),C=n.operationForChild(v),I=t.children.get(v);if(I&&C){const B=e?e.getImmediateChild(v):null,Q=Dd(r,v);f=f.concat(Fu(C,I,B,Q))}return c&&(f=f.concat(As(c,n,r,e))),f}}function np(n,t,e,r){const c=t.get(wr());null==e&&null!=c&&(e=Ya(c,wr()));let f=[];return t.children.inorderTraversal((v,C)=>{const I=e?e.getImmediateChild(v):null,B=Dd(r,v),Q=n.operationForChild(v);Q&&(f=f.concat(np(Q,C,I,B)))}),c&&(f=f.concat(As(c,n,r,e))),f}function Ch(n,t){return n.tagToQueryMap.get(t)}function Bu(n){const t=n.indexOf("$");return(0,Yt.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new fr(n.substr(0,t))}}function ip(n,t,e){const r=n.syncPointTree_.get(t);return(0,Yt.hu)(r,"Missing sync point for query tag that we're tracking"),As(r,e,Dg(n.pendingWriteTree_,t),null)}class Rg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Rg(e)}node(){return this.node_}}class Ng{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Xr(this.path_,t);return new Ng(this.syncTree_,e)}node(){return Pu(this.syncTree_,this.path_)}}const l_=function(n,t,e){return n&&"object"==typeof n?((0,Yt.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?v0(n[".sv"],t,e):"object"==typeof n[".sv"]?c_(n[".sv"],t):void(0,Yt.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},v0=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Yt.hu)(!1,"Unexpected server value: "+n)},c_=function(n,t,e){n.hasOwnProperty("increment")||(0,Yt.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,Yt.hu)(!1,"Unexpected increment value: "+r);const c=t.node();if((0,Yt.hu)(null!==c&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const v=c.getValue();return"number"!=typeof v?r:v+r},rp=function(n,t,e){return xd(n,new Rg(t),e)};function xd(n,t,e){const r=n.getPriority().val(),c=l_(r,t.getImmediateChild(".priority"),e);let f;if(n.isLeafNode()){const v=n,C=l_(v.getValue(),t,e);return C!==v.getValue()||c!==v.getPriority().val()?new ja(C,ss(c)):n}{const v=n;return f=v,c!==v.getPriority().val()&&(f=f.updatePriority(new ja(c))),v.forEachChild(Cr,(C,I)=>{const B=xd(I,t.getImmediateChild(C),e);B!==I&&(f=f.updateImmediateChild(C,B))}),f}}class sp{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Eh(n,t){let e=t instanceof fr?t:new fr(t),r=n,c=$i(e);for(;null!==c;){const f=(0,Yt.DV)(r.node.children,c)||{children:{},childCount:0};r=new sp(c,r,f),e=nr(e),c=$i(e)}return r}function zc(n){return n.node.value}function Th(n,t){n.node.value=t,d_(n)}function Sh(n){return n.node.childCount>0}function Rl(n,t){_s(n.node.children,(e,r)=>{t(new sp(e,n,r))})}function $c(n,t,e,r){e&&!r&&t(n),Rl(n,c=>{$c(c,t,!0,r)}),e&&r&&t(n)}function Nl(n){return new fr(null===n.parent?n.name:Nl(n.parent)+"/"+n.name)}function d_(n){null!==n.parent&&function Xv(n,t,e){const r=function Qv(n){return void 0===zc(n)&&!Sh(n)}(e),c=(0,Yt.r3)(n.node.children,t);r&&c?(delete n.node.children[t],n.node.childCount--,d_(n)):!r&&!c&&(n.node.children[t]=e.node,n.node.childCount++,d_(n))}(n.parent,n.name,n)}const y0=/[\[\].#$\/\u0000-\u001F\u007F]/,Wr=/[\[\].#$\u0000-\u001F\u007F]/,Fg=10485760,Lg=function(n){return"string"==typeof n&&0!==n.length&&!y0.test(n)},xh=function(n,t,e){const r=e instanceof fr?new e0(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+lc(r));if("function"==typeof t)throw new Error(n+"contains a function "+lc(r)+" with contents = "+t.toString());if(vu(t))throw new Error(n+"contains "+t.toString()+" "+lc(r));if("string"==typeof t&&t.length>Fg/3&&(0,Yt.ug)(t)>Fg)throw new Error(n+"contains a string greater than "+Fg+" utf8 bytes "+lc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let c=!1,f=!1;if(_s(t,(v,C)=>{if(".value"===v)c=!0;else if(".priority"!==v&&".sv"!==v&&(f=!0,!Lg(v)))throw new Error(n+" contains an invalid key ("+v+") "+lc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Du(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Yt.ug)(t),xf(n)})(r,v),xh(n,C,r),function t0(n){const t=n.parts_.pop();n.byteLength_-=(0,Yt.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),c&&f)throw new Error(n+' contains ".value" child '+lc(r)+" in addition to actual children.")}},f_=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Wr.test(n)}(n)}(e))throw new Error((0,Yt.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class p_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ca(n,t,e){(function wa(n,t){let e=null;for(let r=0;r<t.length;r++){const c=t[r],f=c.getPath();null!==e&&!ol(f,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(c)}e&&n.eventLists_.push(e)})(n,e),function Fl(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const c=n.eventLists_[r];c&&(t(c.path)?(Ll(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>al(r,t)||al(t,r))}function Ll(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Tl&&br("event: "+e.toString()),Ua(r)}}}class iy{constructor(t,e,r,c){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yo(),this.transactionQueueTree_=new sp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function w0(n){const e=n.infoData_.getNode(new fr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Vg(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:w0(n)})}function g_(n,t,e,r,c){n.dataUpdateCount++;const f=new fr(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let v=[];if(c)if(r){const I=(0,Yt.UI)(e,B=>ss(B));v=function r_(n,t,e,r){const c=Ch(n,r);if(c){const f=Bu(c),v=f.path,C=f.queryId,I=No(v,t),B=Pr.fromObject(e);return ip(n,v,new _d(yg(C),I,B))}return[]}(n.serverSyncTree_,f,I,c)}else{const I=ss(e);v=function i_(n,t,e,r){const c=Ch(n,r);if(null!=c){const f=Bu(c),v=f.path,C=f.queryId,I=No(v,t);return ip(n,v,new Mu(yg(C),I,e))}return[]}(n.serverSyncTree_,f,I,c)}else if(r){const I=(0,Yt.UI)(e,B=>ss(B));v=function kg(n,t,e){const r=Pr.fromObject(e);return hl(n,new _d({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,f,I)}else{const I=ss(e);v=bh(n.serverSyncTree_,f,I)}let C=f;v.length>0&&(C=ir(n,f)),Ca(n.eventQueue_,C,v)}function l(n,t){o(n,"connected",t),!1===t&&function L(n){di(n,"onDisconnectEvents");const t=Vg(n),e=yo();gd(n.onDisconnect_,wr(),(c,f)=>{const v=function(n,t,e,r){return xd(t,new Ng(e,n),r)}(c,f,n.serverSyncTree_,t);uc(e,c,v)});let r=[];gd(e,wr(),(c,f)=>{r=r.concat(bh(n.serverSyncTree_,c,f));const v=function C0(n,t){const e=Nl(Mh(n,t)),r=Eh(n.transactionQueueTree_,t);return function Pg(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,c=>{D0(n,c)}),D0(n,r),$c(r,c=>{D0(n,c)}),e}(n,c);ir(n,v)}),n.onDisconnect_=yo(),Ca(n.eventQueue_,wr(),r)}(n)}function o(n,t,e){const r=new fr("/.info/"+t),c=ss(e);n.infoData_.updateSnapshot(r,c);const f=bh(n.infoSyncTree_,r,c);Ca(n.eventQueue_,r,f)}function d(n){return n.nextWriteId_++}function di(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),br(e,...t)}function pr(n,t,e){return Pu(n.serverSyncTree_,t,e)||Ui.EMPTY_NODE}function vs(n,t=n.transactionQueueTree_){if(t||ry(n,t),zc(t)){const e=rw(n,t);(0,Yt.hu)(e.length>0,"Sending zero length transaction queue"),e.every(c=>0===c.status)&&function Vr(n,t,e){const r=e.map(B=>B.currentWriteId),c=pr(n,t,r);let f=c;const v=c.hash();for(let B=0;B<e.length;B++){const Q=e[B];(0,Yt.hu)(0===Q.status,"tryToSendTransactionQueue_: items in queue should all be run."),Q.status=1,Q.retryCount++;const Ae=No(t,Q.path);f=f.updateChild(Ae,Q.currentOutputSnapshotRaw)}const C=f.val(!0),I=t;n.server_.put(I.toString(),C,B=>{di(n,"transaction put response",{path:I.toString(),status:B});let Q=[];if("ok"===B){const Ae=[];for(let Je=0;Je<e.length;Je++)e[Je].status=2,Q=Q.concat(jc(n.serverSyncTree_,e[Je].currentWriteId)),e[Je].onComplete&&Ae.push(()=>e[Je].onComplete(null,!0,e[Je].currentOutputSnapshotResolved)),e[Je].unwatcher();ry(n,Eh(n.transactionQueueTree_,t)),vs(n,n.transactionQueueTree_),Ca(n.eventQueue_,t,Q);for(let Je=0;Je<Ae.length;Je++)Ua(Ae[Je])}else{if("datastale"===B)for(let Ae=0;Ae<e.length;Ae++)e[Ae].status=3===e[Ae].status?4:0;else{_o("transaction at "+I.toString()+" failed: "+B);for(let Ae=0;Ae<e.length;Ae++)e[Ae].status=4,e[Ae].abortReason=B}ir(n,t)}},v)}(n,Nl(t),e)}else Sh(t)&&Rl(t,e=>{vs(n,e)})}function ir(n,t){const e=Mh(n,t),r=Nl(e);return function bo(n,t,e){if(0===t.length)return;const r=[];let c=[];const v=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const I=t[C],B=No(e,I.path);let Ae,Q=!1;if((0,Yt.hu)(null!==B,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)Q=!0,Ae=I.abortReason,c=c.concat(jc(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)Q=!0,Ae="maxretry",c=c.concat(jc(n.serverSyncTree_,I.currentWriteId,!0));else{const Je=pr(n,I.path,v);I.currentInputSnapshot=Je;const ct=t[C].update(Je.val());if(void 0!==ct){xh("transaction failed: Data returned ",ct,I.path);let Nt=ss(ct);"object"==typeof ct&&null!=ct&&(0,Yt.r3)(ct,".priority")||(Nt=Nt.updatePriority(Je.getPriority()));const tn=I.currentWriteId,Tn=Vg(n),On=rp(Nt,Je,Tn);I.currentOutputSnapshotRaw=Nt,I.currentOutputSnapshotResolved=On,I.currentWriteId=d(n),v.splice(v.indexOf(tn),1),c=c.concat(yh(n.serverSyncTree_,I.path,On,I.currentWriteId,I.applyLocally)),c=c.concat(jc(n.serverSyncTree_,tn,!0))}else Q=!0,Ae="nodata",c=c.concat(jc(n.serverSyncTree_,I.currentWriteId,!0))}Ca(n.eventQueue_,e,c),c=[],Q&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&r.push("nodata"===Ae?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(Ae),!1,null)))}ry(n,n.transactionQueueTree_);for(let C=0;C<r.length;C++)Ua(r[C]);vs(n,n.transactionQueueTree_)}(n,rw(n,e),r),r}function Mh(n,t){let e,r=n.transactionQueueTree_;for(e=$i(t);null!==e&&void 0===zc(r);)r=Eh(r,e),e=$i(t=nr(t));return r}function rw(n,t){const e=[];return sw(n,t,e),e.sort((r,c)=>r.order-c.order),e}function sw(n,t,e){const r=zc(t);if(r)for(let c=0;c<r.length;c++)e.push(r[c]);Rl(t,c=>{sw(n,c,e)})}function ry(n,t){const e=zc(t);if(e){let r=0;for(let c=0;c<e.length;c++)2!==e[c].status&&(e[r]=e[c],r++);e.length=r,Th(t,e.length>0?e:void 0)}Rl(t,r=>{ry(n,r)})}function D0(n,t){const e=zc(t);if(e){const r=[];let c=[],f=-1;for(let v=0;v<e.length;v++)3===e[v].status||(1===e[v].status?((0,Yt.hu)(f===v-1,"All SENT items should be at beginning of queue."),f=v,e[v].status=3,e[v].abortReason="set"):((0,Yt.hu)(0===e[v].status,"Unexpected transaction status in abort"),e[v].unwatcher(),c=c.concat(jc(n.serverSyncTree_,e[v].currentWriteId,!0)),e[v].onComplete&&r.push(e[v].onComplete.bind(null,new Error("set"),!1,null))));-1===f?Th(t,void 0):e.length=f+1,Ca(n.eventQueue_,Nl(t),c);for(let v=0;v<r.length;v++)Ua(r[v])}}const E0=function(n,t){const e=dD(n),r=e.namespace;return"firebase.com"===e.domain&&Ha(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_o("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fc(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new fr(e.pathString)}},dD=function(n){let t="",e="",r="",c="",f="",v=!0,C="https",I=443;if("string"==typeof n){let B=n.indexOf("//");B>=0&&(C=n.substring(0,B-1),n=n.substring(B+2));let Q=n.indexOf("/");-1===Q&&(Q=n.length);let Ae=n.indexOf("?");-1===Ae&&(Ae=n.length),t=n.substring(0,Math.min(Q,Ae)),Q<Ae&&(c=function cD(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let c=e[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}t+="/"+c}return t}(n.substring(Q,Ae)));const Je=function uD(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_o(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,Ae)));B=t.indexOf(":"),B>=0?(v="https"===C||"wss"===C,I=parseInt(t.substring(B+1),10)):B=t.length;const ct=t.slice(0,B);if("localhost"===ct.toLowerCase())e="localhost";else if(ct.split(".").length<=2)e=ct;else{const Nt=t.indexOf(".");r=t.substring(0,Nt).toLowerCase(),e=t.substring(Nt+1),f=r}"ns"in Je&&(f=Je.ns)}return{host:t,port:I,domain:e,subdomain:r,secure:v,scheme:C,pathString:c,namespace:f}};class Bl{constructor(t,e,r,c){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=c}get key(){return qi(this._path)?null:Cu(this._path)}get ref(){return new gc(this._repo,this._path)}get _queryIdentifier(){const t=gg(this._queryParams),e=mf(t);return"{}"===e?"default":e}get _queryObject(){return gg(this._queryParams)}isEqual(t){if(!((t=(0,Yt.m9)(t))instanceof Bl))return!1;const e=this._repo===t._repo,r=ol(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Sf(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class gc extends Bl{constructor(t,e){super(t,e,new fg,!1)}get parent(){const t=ah(this._path);return null===t?null:new gc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function Fo(n){(0,Yt.hu)(!Wa,"__referenceConstructor has already been defined"),Wa=n})(gc),function Nu(n){(0,Yt.hu)(!Gc,"__referenceConstructor has already been defined"),Gc=n}(gc);const cp={};class yw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function b0(n,t,e){if(n.stats_=yf(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new mg(n.repoInfo_,(r,c,f,v)=>{g_(n,r,c,f,v)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>l(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Yt.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Eu(n.repoInfo_,t,(r,c,f,v)=>{g_(n,r,c,f,v)},r=>{l(n,r)},r=>{!function i(n,t){_s(t,(e,r)=>{o(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function eg(n,t){const e=n.toString();return Lc[e]||(Lc[e]=t()),Lc[e]}(n.repoInfo_,()=>new Nv(n.stats_,n.server_)),n.infoData_=new gh,n.infoSyncTree_=new Og({startListening:(r,c,f,v)=>{let C=[];const I=n.infoData_.getNode(r._path);return I.isEmpty()||(C=bh(n.infoSyncTree_,r._path,I),setTimeout(()=>{v("ok")},0)),C},stopListening:()=>{}}),o(n,"connected",!1),n.serverSyncTree_=new Og({startListening:(r,c,f,v)=>(n.server_.listen(r,f,c,(C,I)=>{const B=v(C,I);Ca(n.eventQueue_,r._path,B)}),[]),stopListening:(r,c)=>{n.server_.unlisten(r,c)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gc(this._repo,wr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function AD(n,t){const e=cp[t];(!e||e[n.key]!==n)&&Ha(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Mn(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ha("Cannot call "+t+" on a deleted database.")}}function MD(n=(0,$r.getApp)(),t){const e=(0,$r._getProvider)(n,"database").getImmediate({identifier:t}),r=(0,Yt.P0)("database");return r&&function SS(n,t,e,r={}){(n=(0,Yt.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ha("Cannot call useEmulator() after instance has already been initialized.");const c=n._repoInternal;let f;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&Ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new eh(eh.OWNER);else if(r.mockUserToken){const v="string"==typeof r.mockUserToken?r.mockUserToken:(0,Yt.Sg)(r.mockUserToken,n.app.options.projectId);f=new eh(v)}!function SD(n,t,e,r){n.repoInfo_=new Fc(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(c,t,e,f)}(e,...r),e}Eu.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Eu.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function ww(n){(function El(n){rs=n})($r.SDK_VERSION),(0,$r._registerComponent)(new Rc.wA("database",(t,{instanceIdentifier:e})=>function xD(n,t,e,r,c){let f=r||n.options.databaseURL;void 0===f&&(n.options.projectId||Ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),br("Using default host for project ",n.options.projectId),f=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,B,v=E0(f,c),C=v.repoInfo;typeof process<"u"&&process.env&&(B=process.env.FIREBASE_DATABASE_EMULATOR_HOST),B?(I=!0,f=`http://${B}?ns=${C.namespace}`,v=E0(f,c),C=v.repoInfo):I=!v.repoInfo.secure;const Q=c&&I?new eh(eh.OWNER):new Xy(n.name,n.options,t);f_("Invalid Firebase Database URL",v),qi(v.path)||Ha("Database URL must point to the root of a Firebase Database (not including a child path).");const Ae=function _w(n,t,e,r){let c=cp[t.name];c||(c={},cp[t.name]=c);let f=c[n.toURLString()];return f&&Ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new iy(n,!1,e,r),c[n.toURLString()]=f,f}(C,n,Q,new wv(n.name,e));return new yw(Ae,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,$r.registerVersion)(am,"0.13.9",n),(0,$r.registerVersion)(am,"0.13.9","esm2017")}();class I0{constructor(t){return t}}const Dw="database",M0=new h.OlP("angularfire2.database-instances");function b_(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new I0(r)}}const ND={provide:class OD{constructor(){return(0,gi.vb)(Dw)}},deps:[[new h.FiY,M0]]},Ew={provide:I0,useFactory:function RD(n,t){const e=(0,gi.JM)(Dw,n,t);return e&&new I0(e)},deps:[[new h.FiY,M0],hs.Ot]};let PD=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ew,ND]}),n})();function Tw(n,...t){return{ngModule:PD,providers:[{provide:M0,useFactory:b_(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,[new h.FiY,ic],[new h.FiY,or.nm],...t]}]}}const HD=(0,gi.u3)(MD,!0);var Pw=S(5525);class C_{constructor(t){return t}}const O0="firestore",cy=new h.OlP("angularfire2.firestore-instances");function QD(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new C_(r)}}const XD={provide:class Fw{constructor(){return(0,gi.vb)(O0)}},deps:[[new h.FiY,cy]]},JD={provide:C_,useFactory:function qD(n,t){const e=(0,gi.JM)(O0,n,t);return e&&new C_(e)},deps:[[new h.FiY,cy],hs.Ot]};let Lw=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[JD,XD]}),n})();function ex(n,...t){return{ngModule:Lw,providers:[{provide:cy,useFactory:QD(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,[new h.FiY,ic],[new h.FiY,or.nm],...t]}]}}const dE=(0,gi.u3)(Pw.ad,!0),E_="functions";class vE{constructor(t,e,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(c=>this.auth=c,()=>{}),this.messaging||e.get().then(c=>this.messaging=c,()=>{}),this.appCheck||r.get().then(c=>this.appCheck=c,()=>{})}getAuthToken(){var t=this;return(0,rc.Z)(function*(){if(t.auth)try{return(yield t.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var t=this;return(0,rc.Z)(function*(){if(t.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield t.messaging.getToken()}catch{return}})()}getAppCheckToken(){var t=this;return(0,rc.Z)(function*(){if(t.appCheck){const e=yield t.appCheck.getToken();return e.error?null:e.token}return null})()}getContext(){var t=this;return(0,rc.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken()}})()}}const fy="us-central1";class yE{constructor(t,e,r,c,f=fy,v){this.app=t,this.fetchImpl=v,this.emulatorOrigin=null,this.contextProvider=new vE(e,r,c),this.cancelAllRequests=new Promise(C=>{this.deleteService=()=>Promise.resolve(C())});try{const C=new URL(f);this.customDomain=C.origin,this.region=fy}catch{this.customDomain=null,this.region=f}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}}const B0="@firebase/functions";function Qw(n=(0,$r.getApp)(),t=fy){const r=(0,$r._getProvider)((0,Yt.m9)(n),E_).getImmediate({identifier:t}),c=(0,Yt.P0)("functions");return c&&function EE(n,t,e){!function Kw(n,t,e){n.emulatorOrigin=`http://${t}:${e}`}((0,Yt.m9)(n),t,e)}(r,...c),r}!function DE(n,t){(0,$r._registerComponent)(new Rc.wA(E_,(r,{instanceIdentifier:c})=>{const f=r.getProvider("app").getImmediate(),v=r.getProvider("auth-internal"),C=r.getProvider("messaging-internal"),I=r.getProvider("app-check-internal");return new yE(f,v,C,I,c,n)},"PUBLIC").setMultipleInstances(!0)),(0,$r.registerVersion)(B0,"0.8.7",t),(0,$r.registerVersion)(B0,"0.8.7","esm2017")}(fetch.bind(self));class S_{constructor(t){return t}}const U0="functions",x_=new h.OlP("angularfire2.functions-instances");function Jw(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new S_(r)}}const TE={provide:class Xw{constructor(){return(0,gi.vb)(U0)}},deps:[[new h.FiY,x_]]},eC={provide:S_,useFactory:function xx(n,t){const e=(0,gi.JM)(U0,n,t);return e&&new S_(e)},deps:[[new h.FiY,x_],hs.Ot]};let jg=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"fn")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[eC,TE]}),n})();function SE(n,...t){return{ngModule:jg,providers:[{provide:x_,useFactory:Jw(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,[new h.FiY,ic],[new h.FiY,or.nm],...t]}]}}const Ax=(0,gi.u3)(Qw,!0);var AE=S(2375);class j0{constructor(t){return t}}const nC="messaging",z0=new h.OlP("angularfire2.messaging-instances");function sC(n){return(t,e)=>{if(!gi.n1.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new j0(r)}}const ME={provide:class iC{constructor(){return(0,gi.vb)(nC)}},deps:[[new h.FiY,z0]]},OE={provide:j0,useFactory:function rC(n,t){if(!gi.n1.sync())return null;const e=(0,gi.JM)(nC,n,t);return e&&new j0(e)},deps:[[new h.FiY,z0],hs.Ot]};let oC=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"fcm")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[OE,ME,{provide:h.ip1,useValue:gi.n1.async,multi:!0}]}),n})();function kE(n,...t){return{ngModule:oC,providers:[{provide:z0,useFactory:sC(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,...t]}]}}const aC=(0,gi.u3)(AE.KL,!0);S(2833);const FE="@firebase/performance",py="0.5.15",lC="FB-PERF-TRACE-MEASURE",A_="@firebase/performance/config",GE="@firebase/performance/configexpire",I_="Performance",Lo=new Yt.LL("performance",I_,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Md=new xs.Yd(I_);let M_,$0,jE,Y0;Md.logLevel=xs.in.INFO;class Bo{constructor(t){if(this.window=t,!t)throw Lo.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,r){!this.performance||!this.performance.measure||this.performance.measure(t,e,r)}getEntriesByType(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]}getEntriesByName(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,Yt.zI)()?!!(0,Yt.hl)()||(Md.info("IndexedDB is not supported by current browswer"),!1):(Md.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(t,e){this.PerformanceObserver&&new this.PerformanceObserver(c=>{for(const f of c.getEntries())e(f)}).observe({entryTypes:[t]})}static getInstance(){return void 0===M_&&(M_=new Bo($0)),M_}}function W0(){return jE}function O_(n,t){const e=n.length-t.length;if(e<0||e>1)throw Lo.create("invalid String merger input");const r=[];for(let c=0;c<n.length;c++)r.push(n.charAt(c)),t.length>c&&r.push(t.charAt(c));return r.join("")}class mc{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=O_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=O_("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===Y0&&(Y0=new mc),Y0}}var zg=(()=>{return(n=zg||(zg={}))[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN",zg;var n})();const Nx=["firebase_","google_","ga_"],WE=new RegExp("^[a-zA-Z]\\w*$");function Px(){const n=Bo.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function hC(){switch(Bo.getInstance().document.visibilityState){case"visible":return zg.VISIBLE;case"hidden":return zg.HIDDEN;default:return zg.UNKNOWN}}function fC(){const t=Bo.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function _c(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.appId;if(!e)throw Lo.create("no app id");return e}const Bs={loggingEnabled:!0};const q0="Could not fetch config, will use default configs";function Q0(n){if(!n)return n;const t=mc.getInstance(),e=n.entries||{};return t.loggingEnabled=void 0!==e.fpr_enabled?"true"===String(e.fpr_enabled):Bs.loggingEnabled,e.fpr_log_source?t.logSource=Number(e.fpr_log_source):Bs.logSource&&(t.logSource=Bs.logSource),e.fpr_log_endpoint_url?t.logEndPointUrl=e.fpr_log_endpoint_url:Bs.logEndPointUrl&&(t.logEndPointUrl=Bs.logEndPointUrl),e.fpr_log_transport_key?t.transportKey=e.fpr_log_transport_key:Bs.transportKey&&(t.transportKey=Bs.transportKey),void 0!==e.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate):void 0!==Bs.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=Bs.networkRequestsSamplingRate),void 0!==e.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate):void 0!==Bs.tracesSamplingRate&&(t.tracesSamplingRate=Bs.tracesSamplingRate),t.logTraceAfterSampling=X0(t.tracesSamplingRate),t.logNetworkAfterSampling=X0(t.networkRequestsSamplingRate),n}function X0(n){return Math.random()<=n}let J0,gy=1;function eb(n){return gy=2,J0=J0||function tb(n){return function Rh(){const n=Bo.getInstance().document;return new Promise(t=>{if(n&&"complete"!==n.readyState){const e=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}().then(()=>function zE(n){const t=n.getId();return t.then(e=>{jE=e}),t}(n.installations)).then(t=>function Z0(n,t){const e=function XE(){const n=Bo.getInstance().localStorage;if(!n)return;const t=n.getItem(GE);if(!t||!function eT(n){return Number(n)>Date.now()}(t))return;const e=n.getItem(A_);if(e)try{return JSON.parse(e)}catch{return}}();return e?(Q0(e),Promise.resolve()):function gC(n,t){return function $E(n){const t=n.getToken();return t.then(e=>{}),t}(n.installations).then(e=>{const r=function ZE(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.projectId;if(!e)throw Lo.create("no project id");return e}(n.app),c=function K0(n){var t;const e=null===(t=n.options)||void 0===t?void 0:t.apiKey;if(!e)throw Lo.create("no api key");return e}(n.app),v=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${c}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:_c(n.app),app_version:"0.5.15",sdk_version:"0.0.1"})});return fetch(v).then(C=>{if(C.ok)return C.json();throw Lo.create("RC response not ok")})}).catch(()=>{Md.info(q0)})}(n,t).then(Q0).then(r=>function JE(n){const t=Bo.getInstance().localStorage;!n||!t||(t.setItem(A_,JSON.stringify(n)),t.setItem(GE,String(Date.now()+60*mc.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,t)).then(()=>nb(),()=>nb())}(n),J0}function nb(){gy=3}let N_,my=3,Nh=[],_C=!1;function R_(n){setTimeout(()=>{if(0!==my){if(!Nh.length)return R_(1e4);!function Bx(){const n=Nh.splice(0,1e3),t=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function vC(n,t){return function iT(n){const t=mc.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(n)})}(n).then(e=>(e.ok||Md.info("Call to Firebase backend failed."),e.json())).then(e=>{const r=Number(e.nextRequestWaitMillis);let c=1e4;isNaN(r)||(c=Math.max(r,c));const f=e.logResponseDetails;Array.isArray(f)&&f.length>0&&"RETRY_REQUEST_LATER"===f[0].responseAction&&(Nh=[...t,...Nh],Md.info("Retry transport request later.")),my=3,R_(c)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:mc.getInstance().logSource,log_event:t},n).catch(()=>{Nh=[...n,...Nh],my--,Md.info(`Tries left: ${my}.`),R_(1e4)})}()}},n)}function ib(n,t){N_||(N_=function Vx(n){return(...t)=>{!function yC(n){if(!n.eventTime||!n.message)throw Lo.create("invalid cc log");Nh=[...Nh,n]}({message:n(...t),eventTime:Date.now()})}}(wC)),N_(n,t)}function P_(n){const t=mc.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||!Bo.getInstance().requiredApisAvailable()||n.isAuto&&hC()!==zg.VISIBLE||(function tT(){return 3===gy}()?_y(n):eb(n.performanceController).then(()=>_y(n),()=>_y(n)))}function _y(n){if(!W0())return;const t=mc.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(()=>ib(n,1),0)}function wC(n,t){return 0===t?function vy(n){const t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:rb(n.performanceController.app),network_request_metric:t};return JSON.stringify(e)}(n):function yy(n){const t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(t.counters=n.counters);const e=n.getAttributes();0!==Object.keys(e).length&&(t.custom_attributes=e);const r={application_info:rb(n.performanceController.app),trace_metric:t};return JSON.stringify(r)}(n)}function rb(n){return{google_app_id:_c(n),app_instance_id:W0(),web_app_info:{sdk_version:"0.5.15",page_url:Bo.getInstance().getUrl(),service_worker_status:Px(),visibility_state:hC(),effective_connection_type:fC()},application_process_state:0}}const DC=["_fp","_fcp","_fid"];class dp{constructor(t,e,r=!1,c){this.performanceController=t,this.name=e,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Bo.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=c||`${lC}-${this.randomId}-${this.name}`,c&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Lo.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Lo.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),P_(this)}record(t,e,r){if(t<=0)throw Lo.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Lo.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const c of Object.keys(r.metrics))isNaN(Number(r.metrics[c]))||(this.counters[c]=Math.floor(Number(r.metrics[c])));P_(this)}incrementMetric(t,e=1){this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)}putMetric(t,e){if(!function sT(n,t){return!(0===n.length||n.length>100)&&(t&&t.startsWith("_wt_")&&DC.indexOf(n)>-1||!n.startsWith("_"))}(t,this.name))throw Lo.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function oT(n){const t=Math.floor(n);return t<n&&Md.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(e??0)}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const r=function pC(n){return!(0===n.length||n.length>40||Nx.some(e=>n.startsWith(e))||!n.match(WE))}(t),c=function Fx(n){return 0!==n.length&&n.length<=100}(e);if(r&&c)this.customAttributes[t]=e;else{if(!r)throw Lo.create("invalid attribute name",{attributeName:t});if(!c)throw Lo.create("invalid attribute value",{attributeValue:e})}}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}static createOobTrace(t,e,r,c){const f=Bo.getInstance().getUrl();if(!f)return;const v=new dp(t,"_wt_"+f,!0),C=Math.floor(1e3*Bo.getInstance().getTimeOrigin());if(v.setStartTime(C),e&&e[0]&&(v.setDuration(Math.floor(1e3*e[0].duration)),v.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),v.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),v.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),r){const Q=r.find(Je=>"first-paint"===Je.name);Q&&Q.startTime&&v.putMetric("_fp",Math.floor(1e3*Q.startTime));const Ae=r.find(Je=>"first-contentful-paint"===Je.name);Ae&&Ae.startTime&&v.putMetric("_fcp",Math.floor(1e3*Ae.startTime)),c&&v.putMetric("_fid",Math.floor(1e3*c))}P_(v)}static createUserTimingTrace(t,e){P_(new dp(t,e,!1,e))}}function aT(n,t){const e=t;if(!e||void 0===e.responseStart)return;const r=Bo.getInstance().getTimeOrigin(),c=Math.floor(1e3*(e.startTime+r)),f=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,v=Math.floor(1e3*(e.responseEnd-e.startTime));!function bC(n){const t=mc.getInstance();if(!t.instrumentationEnabled)return;const e=n.url,r=t.logEndPointUrl.split("?")[0],c=t.flTransportEndpointUrl.split("?")[0];e===r||e===c||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(()=>ib(n,0),0)}({performanceController:n,url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:c,timeToResponseInitiatedUs:f,timeToResponseCompletedUs:v})}function TC(n){!W0()||(setTimeout(()=>function cT(n){const t=Bo.getInstance(),e=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){let c=setTimeout(()=>{dp.createOobTrace(n,e,r),c=void 0},5e3);t.onFirstInputDelay(f=>{c&&(clearTimeout(c),dp.createOobTrace(n,e,r,f))})}else dp.createOobTrace(n,e,r)}(n),0),setTimeout(()=>function lT(n){const t=Bo.getInstance(),e=t.getEntriesByType("resource");for(const r of e)aT(n,r);t.setupObserver("resource",r=>aT(n,r))}(n),0),setTimeout(()=>function Hx(n){const t=Bo.getInstance(),e=t.getEntriesByType("measure");for(const r of e)uT(n,r);t.setupObserver("measure",r=>uT(n,r))}(n),0))}function uT(n,t){const e=t.name;e.substring(0,lC.length)!==lC&&dp.createUserTimingTrace(n,e)}class Ux{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||(void 0!==t?.dataCollectionEnabled&&(this.dataCollectionEnabled=t.dataCollectionEnabled),void 0!==t?.instrumentationEnabled&&(this.instrumentationEnabled=t.instrumentationEnabled),Bo.getInstance().requiredApisAvailable()?(0,Yt.eu)().then(e=>{e&&(function nT(){_C||(R_(5500),_C=!0)}(),eb(this).then(()=>TC(this),()=>TC(this)),this.initialized=!0)}).catch(e=>{Md.info(`Environment doesn't support IndexedDB: ${e}`)}):Md.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){mc.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return mc.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){mc.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return mc.getInstance().dataCollectionEnabled}}function jx(n=(0,$r.getApp)()){return n=(0,Yt.m9)(n),(0,$r._getProvider)(n,"performance").getImmediate()}const dT=(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==e.name)throw Lo.create("FB not default");if(typeof window>"u")throw Lo.create("no window");!function dC(n){$0=n}(window);const c=new Ux(e,r);return c._init(t),c};!function hT(){(0,$r._registerComponent)(new Rc.wA("performance",dT,"PUBLIC")),(0,$r.registerVersion)(FE,py),(0,$r.registerVersion)(FE,py,"esm2017")}();class by{constructor(t){return t}}const Ph="performance",F_=new h.OlP("angularfire2.performance-instances");function ob(n){return(t,e,r)=>{if(!(0,ge.NF)(e))return null;const c=t.runOutsideAngular(()=>n(r));return new by(c)}}const ab={provide:class SC{constructor(){return(0,gi.vb)(Ph)}},deps:[[new h.FiY,F_]]},wy={provide:by,useFactory:function fT(n,t,e){if(!(0,ge.NF)(e))return null;const r=(0,gi.JM)(Ph,n,t);return r&&new by(r)},deps:[[new h.FiY,F_],hs.Ot,h.Lbi]};let $x=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"perf")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[wy,ab]}),n})();function Wx(n,...t){return{ngModule:$x,providers:[{provide:F_,useFactory:ob(n),multi:!0,deps:[h.R0b,h.Lbi,h.zs3,gi.HU,hs.z6,...t]}]}}const gT=(0,gi.u3)(jx,!0);var AC=S(3226);class Cy{constructor(t){return t}}const lb="remote-config",Dy=new h.OlP("angularfire2.remote-config-instances");function Qx(n){return(t,e)=>{if(!gi._J.sync())return null;const r=t.runOutsideAngular(()=>n(e));return new Cy(r)}}const IC={provide:class mT{constructor(){return(0,gi.vb)(lb)}},deps:[[new h.FiY,Dy]]},ub={provide:Cy,useFactory:function cb(n,t){if(!gi._J.sync())return null;const e=(0,gi.JM)(lb,n,t);return e&&new Cy(e)},deps:[[new h.FiY,Dy],hs.Ot]};let _T=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"rc")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ub,IC,{provide:h.ip1,useValue:gi._J.async,multi:!0}]}),n})();function vT(n,...t){return{ngModule:_T,providers:[{provide:Dy,useFactory:Qx(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,...t]}]}}const nA=(0,gi.u3)(AC.sN,!0),s="firebasestorage.googleapis.com";class b extends Yt.ZR{constructor(t,e,r=0){super(T(t),`Firebase Storage: ${e} (${T(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,b.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return T(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function T(n){return"storage/"+n}function Dr(n){return new b("invalid-argument",n)}function fs(){return new b("app-deleted","The Firebase app was deleted.")}class na{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=na.makeFromUrl(t,e)}catch{return new na(t,"")}if(""===r.path)return r;throw function ni(n){return new b("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const c="([A-Za-z0-9.\\-_]+)",C=new RegExp("^gs://"+c+"(/(.*))?$","i");function B(Ln){Ln.path_=decodeURIComponent(Ln.path)}const Ae=e.replace(/[.]/g,"\\."),Fn=[{regex:C,indices:{bucket:1,path:3},postModify:function f(Ln){"/"===Ln.path.charAt(Ln.path.length-1)&&(Ln.path_=Ln.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ae}/v[A-Za-z0-9_]+/b/${c}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:B},{regex:new RegExp(`^https?://${e===s?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${c}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:B}];for(let Ln=0;Ln<Fn.length;Ln++){const ei=Fn[Ln],hi=ei.regex.exec(t);if(hi){let oi=hi[ei.indices.path];oi||(oi=""),r=new na(hi[ei.indices.bucket],oi),ei.postModify(r);break}}if(null==r)throw function zn(n){return new b("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class db{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function bT(n,t,e,r){if(r<t)throw Dr(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Dr(`Invalid value for '${n}'. Expected ${e} or less.`)}var $g=(()=>{return(n=$g||($g={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",$g;var n})();class b1{constructor(t,e,r,c,f,v,C,I,B,Q,Ae,Je=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=c,this.successCodes_=f,this.additionalRetryCodes_=v,this.callback_=C,this.errorCallback_=I,this.timeout_=B,this.progressCallback_=Q,this.connectionFactory_=Ae,this.retry=Je,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ct,Nt)=>{this.resolve_=ct,this.reject_=Nt,this.start_()})}start_(){const e=(r,c)=>{const f=this.resolve_,v=this.reject_,C=c.connection;if(c.wasSuccessCode)try{const I=this.callback_(C,C.getResponse());!function pb(n){return void 0!==n}(I)?f():f(I)}catch(I){v(I)}else if(null!==C){const I=function P(){return new b("unknown","An unknown error occurred, please check the error payload for server response.")}();I.serverResponse=C.getErrorText(),v(this.errorCallback_?this.errorCallback_(C,I):I)}else v(c.canceled?this.appDelete_?fs():function En(){return new b("canceled","User canceled the upload/download.")}():function en(){return new b("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new OC(!1,null,!0)):this.backoffId_=function hb(n,t,e){let r=1,c=null,f=null,v=!1,C=0;function I(){return 2===C}let B=!1;function Q(...tn){B||(B=!0,t.apply(null,tn))}function Ae(tn){c=setTimeout(()=>{c=null,n(ct,I())},tn)}function Je(){f&&clearTimeout(f)}function ct(tn,...Tn){if(B)return void Je();if(tn)return Je(),void Q.call(null,tn,...Tn);if(I()||v)return Je(),void Q.call(null,tn,...Tn);let Fn;r<64&&(r*=2),1===C?(C=2,Fn=0):Fn=1e3*(r+Math.random()),Ae(Fn)}let Nt=!1;function Ut(tn){Nt||(Nt=!0,Je(),!B&&(null!==c?(tn||(C=2),clearTimeout(c),Ae(0)):tn||(C=1)))}return Ae(0),f=setTimeout(()=>{v=!0,Ut(!0)},e),Ut}((r,c)=>{if(c)return void r(!1,new OC(!1,null,!0));const f=this.connectionFactory_();this.pendingConnection_=f;const v=C=>{null!==this.progressCallback_&&this.progressCallback_(C.loaded,C.lengthComputable?C.total:-1)};null!==this.progressCallback_&&f.addUploadProgressListener(v),f.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&f.removeUploadProgressListener(v),this.pendingConnection_=null;const C=f.getErrorCode()===$g.NO_ERROR,I=f.getStatus();if((!C||function oA(n,t){const e=n>=500&&n<600,c=-1!==[408,429].indexOf(n),f=-1!==t.indexOf(n);return e||c||f}(I,this.additionalRetryCodes_))&&this.retry){const Q=f.getErrorCode()===$g.ABORT;return void r(!1,new OC(!1,null,Q))}const B=-1!==this.successCodes_.indexOf(I);r(!0,new OC(B,f))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function fb(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class OC{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}class L_{constructor(t,e){this._service=t,this._location=e instanceof na?e:na.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new L_(t,e)}get root(){const t=new na(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function dA(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const t=function N1(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new na(this._location.bucket,t);return new L_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function hp(n){return new b("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function SA(n,t){const e=t?.storageBucket;return null==e?null:na.makeFromBucketSpec(e,n)}class xT{constructor(t,e,r,c,f){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=c,this._firebaseVersion=f,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?na.makeFromBucketSpec(c,this._host):SA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?na.makeFromBucketSpec(this._url,t):SA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,rc.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,rc.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new L_(this,t)}_makeRequest(t,e,r,c,f=!0){if(this._deleted)return new db(fs());{const v=function T1(n,t,e,r,c,f,v=!0){const C=function sA(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}(n.urlParams),I=n.url+C,B=Object.assign({},n.headers);return function D1(n,t){t&&(n["X-Firebase-GMPID"]=t)}(B,t),function w1(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(B,e),function C1(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(B,f),function E1(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(B,r),new b1(I,n.method,B,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,c,v)}(t,this._appId,r,c,e,this._firebaseVersion,f);return this._requests.add(v),v.getPromise().then(()=>this._requests.delete(v),()=>this._requests.delete(v)),v}}makeRequestWithTokens(t,e){var r=this;return(0,rc.Z)(function*(){const[c,f]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,c,f).getPromise()})()}}const xA="@firebase/storage",IA="storage";function yO(n=(0,$r.getApp)(),t){n=(0,Yt.m9)(n);const r=(0,$r._getProvider)(n,IA).getImmediate({identifier:t}),c=(0,Yt.P0)("storage");return c&&function bO(n,t,e,r={}){!function vO(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:c}=r;c&&(n._overrideAuthToken="string"==typeof c?c:(0,Yt.Sg)(c,n.app.options.projectId))}(n,t,e,r)}(r,...c),r}function wO(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),c=n.getProvider("app-check-internal");return new xT(e,r,c,t,$r.SDK_VERSION)}!function CO(){(0,$r._registerComponent)(new Rc.wA(IA,wO,"PUBLIC").setMultipleInstances(!0)),(0,$r.registerVersion)(xA,"0.9.12",""),(0,$r.registerVersion)(xA,"0.9.12","esm2017")}();class AT{constructor(t){return t}}const MA="storage",IT=new h.OlP("angularfire2.storage-instances");function TO(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new AT(r)}}const SO={provide:class DO{constructor(){return(0,gi.vb)(MA)}},deps:[[new h.FiY,IT]]},xO={provide:AT,useFactory:function EO(n,t){const e=(0,gi.JM)(MA,n,t);return e&&new AT(e)},deps:[[new h.FiY,IT],hs.Ot]};let AO=(()=>{class n{constructor(){(0,Jn.KN)("angularfire",gi.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[xO,SO]}),n})();function IO(n,...t){return{ngModule:AO,providers:[{provide:IT,useFactory:TO(n),multi:!0,deps:[h.R0b,h.zs3,gi.HU,hs.z6,[new h.FiY,ic],[new h.FiY,or.nm],...t]}]}}const MO=(0,gi.u3)(yO,!0);var OO=S(2011),kO=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var r,c={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r={top:(r=t.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var f=this.offsetParent(t);r=this.offset(t,!1),f!==document.documentElement&&(c=this.offset(f,!1)),c.top+=f.clientTop,c.left+=f.clientLeft}return r.top-=c.top,r.bottom-=c.top,r.left-=c.left,r.right-=c.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var r=t.getBoundingClientRect(),c_top=window.pageYOffset-document.documentElement.clientTop,c_left=window.pageXOffset-document.documentElement.clientLeft,f={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+c_top,bottom:r.bottom+c_top,left:r.left+c_left,right:r.right+c_left};return e&&(f.height=Math.round(f.height),f.width=Math.round(f.width),f.top=Math.round(f.top),f.bottom=Math.round(f.bottom),f.left=Math.round(f.left),f.right=Math.round(f.right)),f},n.prototype.positionElements=function(t,e,r,c){var f=r.split("-"),v=f[0],C=void 0===v?"top":v,I=f[1],B=void 0===I?"center":I,Q=c?this.offset(t,!1):this.position(t,!1),Ae=this.getAllStyles(e),Je=parseFloat(Ae.marginTop),ct=parseFloat(Ae.marginBottom),Nt=parseFloat(Ae.marginLeft),Ut=parseFloat(Ae.marginRight),tn=0,Tn=0;switch(C){case"top":tn=Q.top-(e.offsetHeight+Je+ct);break;case"bottom":tn=Q.top+Q.height;break;case"left":Tn=Q.left-(e.offsetWidth+Nt+Ut);break;case"right":Tn=Q.left+Q.width}switch(B){case"top":tn=Q.top;break;case"bottom":tn=Q.top+Q.height-e.offsetHeight;break;case"left":Tn=Q.left;break;case"right":Tn=Q.left+Q.width-e.offsetWidth;break;case"center":"top"===C||"bottom"===C?Tn=Q.left+Q.width/2-e.offsetWidth/2:tn=Q.top+Q.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(Tn)+"px, "+Math.round(tn)+"px)";var On=e.getBoundingClientRect(),Fn=document.documentElement,Ln=window.innerHeight||Fn.clientHeight,ei=window.innerWidth||Fn.clientWidth;return On.left>=0&&On.top>=0&&On.right<=ei&&On.bottom<=Ln},n}();new kO;var Nd=function(){return Nd=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var c in t=arguments[e])Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c]);return n},Nd.apply(this,arguments)},MT=function(n,t,e){if(e||2===arguments.length)for(var f,r=0,c=t.length;r<c;r++)(f||!(r in t))&&(f||(f=Array.prototype.slice.call(t,0,r)),f[r]=t[r]);return n.concat(f||Array.prototype.slice.call(t))},yb=(()=>{return(n=yb||(yb={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",yb;var n})(),NO=[yb.SUNDAY,yb.SATURDAY],Wg=86400;function kA(n,t){var e=t.startDate,c=t.excluded,f=t.precision;if(c.length<1)return 0;for(var C=n.getDay,I=n.addDays,B=(0,n.addSeconds)(e,t.seconds-1),Q=C(e),Ae=C(B),Je=0,ct=e,Nt=function(){var Ut=C(ct);c.some(function(tn){return tn===Ut})&&(Je+=function PO(n,t){var r=t.day,f=t.dayEnd,v=t.startDate,C=t.endDate,I=n.differenceInSeconds,Q=n.startOfDay;if("minutes"===t.precision){if(r===t.dayStart)return I((0,n.endOfDay)(v),v)+1;if(r===f)return I(C,Q(C))+1}return Wg}(n,{dayStart:Q,dayEnd:Ae,day:Ut,precision:f,startDate:e,endDate:B})),ct=I(ct,1)};ct<B;)Nt();return Je}function bb(n,t){var r=t.periodStart,c=t.periodEnd;return t.events.filter(function(f){return function BO(n,t){var e=t.event,r=t.periodStart,c=t.periodEnd,f=n.isSameSecond,v=e.start,C=e.end||e.start;return!!(v>r&&v<c||C>r&&C<c||v<r&&C>c||f(v,r)||f(v,c)||f(C,r)||f(C,c))}(n,{event:f,periodStart:r,periodEnd:c})})}function RA(n,t){var e=t.date,r=t.weekendDays,c=void 0===r?NO:r,v=n.isSameDay,C=n.getDay,I=(0,n.startOfDay)(new Date),B=C(e);return{date:e,day:B,isPast:e<I,isToday:v(e,I),isFuture:e>I,isWeekend:c.indexOf(B)>-1}}function RT(n,t){for(var c=t.excluded,f=void 0===c?[]:c,v=t.weekendDays,C=t.viewStart,I=void 0===C?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):C,B=t.viewEnd,Q=void 0===B?n.addDays(I,7):B,Ae=n.addDays,Je=n.getDay,ct=[],Nt=I;Nt<Q;)f.some(function(Ut){return Je(Nt)===Ut})||ct.push(RA(n,{date:Nt,weekendDays:v})),Nt=Ae(Nt,1);return ct}function HO(n,t){var e=t.events,r=void 0===e?[]:e,c=t.excluded,f=void 0===c?[]:c,v=t.precision,C=void 0===v?"days":v,I=t.absolutePositionedEvents,B=void 0!==I&&I,Q=t.viewStart,Ae=t.viewEnd;Q=n.startOfDay(Q),Ae=n.endOfDay(Ae);var Je=n.differenceInSeconds,ct=n.differenceInDays,Nt=function VO(n,t){for(var r=t.date2,c=t.excluded,f=t.date1,v=0;f<r;)-1===c.indexOf(n.getDay(f))&&v++,f=n.addDays(f,1);return v}(n,{date1:Q,date2:Ae,excluded:f}),Ut=ct(Ae,Q)+1,tn=r.filter(function(Fn){return Fn.allDay}).map(function(Fn){var Ln=function LO(n,t){var e=t.event,r=t.startOfWeek,c=t.excluded,f=t.precision,v=n.differenceInDays,C=n.startOfDay,I=n.differenceInSeconds;if(e.start<r)return 0;var B=0;switch(f){case"days":B=v(C(e.start),r)*Wg;break;case"minutes":B=I(e.start,r)}return B-=kA(n,{startDate:r,seconds:B,excluded:c,precision:f}),Math.abs(B/Wg)}(n,{event:Fn,startOfWeek:Q,excluded:f,precision:C}),ei=function FO(n,t){var e=t.event,r=t.offset,f=t.excluded,v=t.precision,C=t.totalDaysInView,B=n.differenceInSeconds,Q=n.addDays,Ae=n.endOfDay,Je=n.differenceInDays,ct=Wg,Nt=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(ct="minutes"===v?B(e.end,Nt):Je(Q(Ae(e.end),1),Nt)*Wg);var Ut=r*Wg,Tn=C*Wg;return Ut+ct>Tn&&(ct=Tn-Ut),(ct-=kA(n,{startDate:Nt,seconds:ct,excluded:f,precision:v}))/Wg}(n,{event:Fn,offset:Ln,startOfWeekDate:Q,excluded:f,precision:C,totalDaysInView:Ut});return{event:Fn,offset:Ln,span:ei}}).filter(function(Fn){return Fn.offset<Nt}).filter(function(Fn){return Fn.span>0}).map(function(Fn){return{event:Fn.event,offset:Fn.offset,span:Fn.span,startsBeforeWeek:Fn.event.start<Q,endsAfterWeek:(Fn.event.end||Fn.event.start)>Ae}}).sort(function(Fn,Ln){var ei=Je(Fn.event.start,Ln.event.start);return 0===ei?Je(Ln.event.end||Ln.event.start,Fn.event.end||Fn.event.start):ei}),Tn=[],On=[];return tn.forEach(function(Fn,Ln){if(-1===On.indexOf(Fn)){On.push(Fn);var ei=Fn.span+Fn.offset,hi=tn.slice(Ln+1).filter(function(pi){if(pi.offset>=ei&&ei+pi.span<=Ut&&-1===On.indexOf(pi)){var vi=pi.offset-ei;return B||(pi.offset=vi),ei+=pi.span+vi,On.push(pi),!0}}),wi=MT([Fn],hi,!0),oi=wi.filter(function(pi){return pi.event.id}).map(function(pi){return pi.event.id}).join("-");Tn.push(Nd({row:wi},oi?{id:oi}:{}))}}),Tn}function UO(n,t){var e=t.events,r=t.viewDate,c=t.hourSegments,f=t.hourDuration,v=t.dayStart,C=t.dayEnd,I=t.weekStartsOn,B=t.excluded,Q=t.weekendDays,Ae=t.segmentHeight,Je=t.viewStart,ct=t.viewEnd,Nt=t.minimumEventHeight,Ut=function $O(n,t){var e=t.viewDate,r=t.hourSegments,c=t.hourDuration,f=t.dayStart,v=t.dayEnd,C=n.setMinutes,I=n.setHours,B=n.startOfDay,Q=n.startOfMinute,Ae=n.endOfDay,Je=n.addMinutes,ct=n.addDays,Nt=[],Ut=C(I(B(e),LC(f.hour)),BC(f.minute)),tn=C(I(Q(Ae(e)),LC(v.hour)),BC(v.minute)),Tn=(c||60)/r,On=B(e),Fn=Ae(e),Ln=function(vi){return vi};n.getTimezoneOffset(On)!==n.getTimezoneOffset(Fn)&&(On=ct(On,1),Ut=ct(Ut,1),tn=ct(tn,1),Ln=function(vi){return ct(vi,-1)});for(var ei=c?1440/c:60,hi=0;hi<ei;hi++){for(var wi=[],oi=0;oi<r;oi++){var pi=Je(Je(Ut,hi*(c||60)),oi*Tn);pi>=Ut&&pi<tn&&wi.push({date:Ln(pi),displayDate:pi,isStart:0===oi})}wi.length>0&&Nt.push({segments:wi})}return Nt}(n,{viewDate:r,hourSegments:c,hourDuration:f,dayStart:v,dayEnd:C}),tn=RT(n,{viewDate:r,weekStartsOn:I,excluded:B,weekendDays:Q,viewStart:Je,viewEnd:ct}),Tn=n.setHours,On=n.setMinutes,Fn=n.getHours,Ln=n.getMinutes;return tn.map(function(ei){var hi=function zO(n,t){var e=t.events,r=t.viewDate,c=t.hourSegments,f=t.dayStart,v=t.dayEnd,C=t.eventWidth,I=t.segmentHeight,B=t.hourDuration,Q=t.minimumEventHeight,Ae=n.setMinutes,Je=n.setHours,ct=n.startOfDay,Nt=n.startOfMinute,Ut=n.endOfDay,tn=n.differenceInMinutes,Tn=Ae(Je(ct(r),LC(f.hour)),BC(f.minute)),On=Ae(Je(Nt(Ut(r)),LC(v.hour)),BC(v.minute));On.setSeconds(59,999);var Fn=[],Ln=bb(n,{events:e.filter(function(oi){return!oi.allDay}),periodStart:Tn,periodEnd:On}),ei=Ln.sort(function(oi,pi){return oi.start.valueOf()-pi.start.valueOf()}).map(function(oi){var pi=oi.start,vi=oi.end||pi,Kn=pi<Tn,Xn=vi>On,Li=c*I/(B||60),ar=0;if(pi>Tn){var yc=n.getTimezoneOffset(pi),_i=n.getTimezoneOffset(Tn)-yc;ar+=tn(pi,Tn)+_i}ar*=Li,ar=Math.floor(ar);var Ti=Kn?Tn:pi,Si=Xn?On:vi,Yr=n.getTimezoneOffset(Ti)-n.getTimezoneOffset(Si),ys=tn(Si,Ti)+Yr;oi.end?ys*=Li:ys=I,Q&&ys<Q&&(ys=Q),ys=Math.floor(ys);for(var Ul=FC(Fn,ar,ar+ys),Sr=0;Ul.some(function(yp){return yp.left===Sr});)Sr+=C;var bc={event:oi,height:ys,width:C,top:ar,left:Sr,startsBeforeDay:Kn,endsAfterDay:Xn};return Fn.push(bc),bc}),hi=Math.max.apply(Math,ei.map(function(oi){return oi.left+oi.width})),wi=bb(n,{events:e.filter(function(oi){return oi.allDay}),periodStart:ct(Tn),periodEnd:Ut(On)});return{events:ei,width:hi,allDayEvents:wi,period:{events:Ln,start:Tn,end:On}}}(n,{events:e,viewDate:ei.date,hourSegments:c,dayStart:v,dayEnd:C,segmentHeight:Ae,eventWidth:1,hourDuration:f,minimumEventHeight:Nt}),wi=Ut.map(function(vi){var Kn=vi.segments.map(function(Xn){var Li=On(Tn(ei.date,Fn(Xn.date)),Ln(Xn.date));return Nd(Nd({},Xn),{date:Li})});return Nd(Nd({},vi),{segments:Kn})});function oi(vi,Kn){var Xn=Math.max.apply(Math,Kn.map(function(ar){return ar.left+1})),Li=vi.filter(function(ar){return ar.left>=Xn}).filter(function(ar){return FC(Kn,ar.top,ar.top+ar.height).length>0});return Li.length>0?oi(vi,Li):Xn}var pi=hi.events.map(function(vi){var Xn=100/oi(hi.events,FC(hi.events,vi.top,vi.top+vi.height));return Nd(Nd({},vi),{left:vi.left*Xn,width:Xn})});return{hours:wi,date:ei.date,events:pi.map(function(vi){var Kn=FC(pi.filter(function(Xn){return Xn.left>vi.left}),vi.top,vi.top+vi.height);return Kn.length>0?Nd(Nd({},vi),{width:Math.min.apply(Math,Kn.map(function(Xn){return Xn.left}))-vi.left}):vi})}})}function FC(n,t,e){return n.filter(function(r){var c=r.top,f=r.top+r.height;return t<f&&f<e||t<c&&c<e||c<=t&&e<=f})}function LC(n){return Math.max(Math.min(23,n),0)}function BC(n){return Math.max(Math.min(59,n),0)}"function"==typeof Symbol&&Symbol;var Cb=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var n=0,t=Cb.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[Cb[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(r){var c=(new Date).getTime(),f=Math.max(0,16-c-e),v=window.setTimeout(function(){return r(c+f)},f);return e=c+f,v}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var n=0,t=Cb.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[Cb[n]+"CancelAnimationFrame"]||window[Cb[n]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let VC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let GA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),WA=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:r}){return e.badgeTotal>0?`\n        ${(0,ge.p6)(e.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,ge.p6)(e.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:e,locale:r}){return`\n      Beginning of expanded view for ${(0,ge.p6)(e,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:e,locale:r}){return`${(0,ge.p6)(e,"EEEE MMMM dd",r)} expanded`}eventDescription({event:e,locale:r}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:r});const c=`\n      ${(0,ge.p6)(e.start,"EEEE MMMM dd",r)},\n      ${e.title}, from ${(0,ge.p6)(e.start,"hh:mm a",r)}\n    `;return e.end?c+` to ${(0,ge.p6)(e.end,"hh:mm a",r)}`:c}allDayEventDescription({event:e,locale:r}){const c=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,ge.p6)(e.start,"MMMM dd hh:mm a",r)}\n    `;return e.end?c+`, stop time ${(0,ge.p6)(e.end,"MMMM d hh:mm a",r)}`:c+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ge.Gx))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class YA{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}class UC{}let Zk=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:r}){return(0,ge.p6)(e,"EEEE",r)}monthViewDayNumber({date:e,locale:r}){return(0,ge.p6)(e,"d",r)}monthViewTitle({date:e,locale:r}){return(0,ge.p6)(e,"LLLL y",r)}weekViewColumnHeader({date:e,locale:r}){return(0,ge.p6)(e,"EEEE",r)}weekViewColumnSubHeader({date:e,locale:r}){return(0,ge.p6)(e,"MMM d",r)}weekViewTitle({date:e,locale:r,weekStartsOn:c,excludeDays:f,daysInWeek:v}){const{viewStart:C,viewEnd:I}=function Yk(n,t,e,r=[],c){let f=c?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const v=n.endOfWeek(t,{weekStartsOn:e});for(;r.indexOf(n.getDay(f))>-1&&f<v;)f=n.addDays(f,1);if(c){const C=n.endOfDay(function Wk(n,t,e,r){let c=0,f=0;const v=e<0?n.subDays:n.addDays;let C=t;for(;f<=Math.abs(e);){C=v(t,c);const I=n.getDay(C);-1===r.indexOf(I)&&f++,c++}return C}(n,f,c-1,r));return{viewStart:f,viewEnd:C}}{let C=v;for(;r.indexOf(n.getDay(C))>-1&&C>f;)C=n.subDays(C,1);return{viewStart:f,viewEnd:C}}}(this.dateAdapter,e,c,f,v),B=(Q,Ae)=>(0,ge.p6)(Q,"MMM d"+(Ae?", yyyy":""),r);return`${B(C,C.getUTCFullYear()!==I.getUTCFullYear())} - ${B(I,!0)}`}weekViewHour({date:e,locale:r}){return(0,ge.p6)(e,"h a",r)}dayViewHour({date:e,locale:r}){return(0,ge.p6)(e,"h a",r)}dayViewTitle({date:e,locale:r}){return(0,ge.p6)(e,"EEEE, MMMM d, y",r)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(UC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ZA=(()=>{class n extends Zk{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qA=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function jO(n,t){var e=t.events,r=void 0===e?[]:e,c=t.viewDate,f=t.weekStartsOn,v=t.excluded,C=void 0===v?[]:v,I=t.viewStart,B=void 0===I?n.startOfMonth(c):I,Q=t.viewEnd,Ae=void 0===Q?n.endOfMonth(c):Q,Je=t.weekendDays;r||(r=[]);for(var pi,Nt=n.endOfWeek,Ut=n.differenceInDays,tn=n.startOfDay,Tn=n.addHours,On=n.endOfDay,Fn=n.isSameMonth,Ln=n.getDay,ei=(0,n.startOfWeek)(B,{weekStartsOn:f}),hi=Nt(Ae,{weekStartsOn:f}),wi=bb(n,{events:r,periodStart:ei,periodEnd:hi}),oi=[],vi=function(Ti){var Si;if(pi?(Si=tn(Tn(pi,24)),pi.getTime()===Si.getTime()&&(Si=tn(Tn(pi,25))),pi=Si):Si=pi=ei,!C.some(function(Ys){return Ln(Si)===Ys})){var Yr=RA(n,{date:Si,weekendDays:Je}),ys=bb(n,{events:wi,periodStart:tn(Si),periodEnd:On(Si)});Yr.inMonth=Fn(Si,c),Yr.events=ys,Yr.badgeTotal=ys.length,oi.push(Yr)}},Kn=0;Kn<Ut(hi,ei)+1;Kn++)vi();var Xn=[],Li=7-C.length;if(Li<7)for(Kn=0;Kn<oi.length;Kn+=Li){var ar=oi.slice(Kn,Kn+Li);ar.some(function(Si){return B<=Si.date&&Si.date<Ae})&&(Xn=MT(MT([],Xn,!0),ar,!0))}else Xn=oi;var ai=Math.floor(Xn.length/Li),_i=[];for(Kn=0;Kn<ai;Kn++)_i.push(Kn*Li);return{rowOffsets:_i,totalDaysVisibleInWeek:Li,days:Xn,period:{start:Xn[0].date,end:On(Xn[Xn.length-1].date),events:wi}}}(this.dateAdapter,e)}getWeekViewHeader(e){return RT(this.dateAdapter,e)}getWeekView(e){return function GO(n,t){var e=t.events,r=void 0===e?[]:e,c=t.viewDate,f=t.weekStartsOn,v=t.excluded,C=void 0===v?[]:v,I=t.precision,B=void 0===I?"days":I,Q=t.absolutePositionedEvents,Ae=void 0!==Q&&Q,Je=t.hourSegments,ct=t.hourDuration,Nt=t.dayStart,Ut=t.dayEnd,tn=t.weekendDays,Tn=t.segmentHeight,On=t.minimumEventHeight,Fn=t.viewStart,Ln=void 0===Fn?n.startOfWeek(c,{weekStartsOn:f}):Fn,ei=t.viewEnd,hi=void 0===ei?n.endOfWeek(c,{weekStartsOn:f}):ei;r||(r=[]);var oi=n.endOfDay,pi=bb(n,{events:r,periodStart:Ln=(0,n.startOfDay)(Ln),periodEnd:hi=oi(hi)}),vi=RT(n,{viewDate:c,weekStartsOn:f,excluded:C,weekendDays:tn,viewStart:Ln,viewEnd:hi});return{allDayEventRows:HO(n,{events:pi,excluded:C,precision:B,absolutePositionedEvents:Ae,viewStart:Ln,viewEnd:hi}),period:{events:pi,start:vi[0].date,end:oi(vi[vi.length-1].date)},hourColumns:UO(n,{events:r,viewDate:c,hourSegments:Je,hourDuration:ct,dayStart:Nt,dayEnd:Ut,weekStartsOn:f,excluded:C,weekendDays:tn,segmentHeight:Tn,viewStart:Ln,viewEnd:hi,minimumEventHeight:On})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(UC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();new h.OlP("Moment");let Sb=(()=>{class n{static forRoot(e,r={}){return{ngModule:n,providers:[e,r.eventTitleFormatter||YA,r.dateFormatter||ZA,r.utils||qA,r.a11y||WA]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ge.Gx],imports:[ge.ez]}),n})();(0,ot.X$)("collapse",[(0,ot.SB)("void",(0,ot.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,ot.SB)("*",(0,ot.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,ot.eR)("* => void",(0,ot.jt)("150ms ease-out")),(0,ot.eR)("void => *",(0,ot.jt)("150ms ease-in"))]);let QA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez,VC,Sb,VC]}),n})(),UT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez,GA,VC,Sb,GA,VC]}),n})(),XA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez,Sb,UT]}),n})(),GT=(()=>{class n{static forRoot(e,r={}){return{ngModule:n,providers:[e,r.eventTitleFormatter||YA,r.dateFormatter||ZA,r.utils||qA,r.a11y||WA]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Sb,QA,UT,XA,Sb,QA,UT,XA]}),n})();function Za(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ki(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function GC(n){return(GC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Fr(n){Ki(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===GC(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function jT(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t);return isNaN(r)?new Date(NaN):(r&&e.setDate(e.getDate()+r),e)}function zT(n,t){Ki(2,arguments);var e=Fr(n).getTime(),r=Za(t);return new Date(e+r)}function Qk(n,t){Ki(2,arguments);var e=Za(t);return zT(n,36e5*e)}function Jk(n,t){Ki(2,arguments);var e=Za(t);return zT(n,6e4*e)}function eR(n,t){Ki(2,arguments);var e=Za(t);return zT(n,1e3*e)}function JA(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function xb(n){Ki(1,arguments);var t=Fr(n);return t.setHours(0,0,0,0),t}function nR(n,t){Ki(2,arguments);var e=xb(n),r=xb(t),c=e.getTime()-JA(e),f=r.getTime()-JA(r);return Math.round((c-f)/864e5)}function eI(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function iR(n,t){Ki(2,arguments);var e=Fr(n),r=Fr(t),c=eI(e,r),f=Math.abs(nR(e,r));e.setDate(e.getDate()-c*f);var v=Number(eI(e,r)===-c),C=c*(f-v);return 0===C?0:C}function nI(n,t){return Ki(2,arguments),Fr(n).getTime()-Fr(t).getTime()}Math.pow(10,8);var iI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}};function rI(n){return n?iI[n]:iI.trunc}function dR(n,t,e){Ki(2,arguments);var r=nI(n,t)/6e4;return rI(e?.roundingMethod)(r)}function hR(n,t,e){Ki(2,arguments);var r=nI(n,t)/1e3;return rI(e?.roundingMethod)(r)}function fR(n){Ki(1,arguments);var t=Fr(n);return t.setHours(23,59,59,999),t}function pR(n){Ki(1,arguments);var t=Fr(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var sI={};function oI(){return sI}function gR(n,t){var e,r,c,f,v,C,I,B;Ki(1,arguments);var Q=oI(),Ae=Za(null!==(e=null!==(r=null!==(c=null!==(f=t?.weekStartsOn)&&void 0!==f?f:null==t||null===(v=t.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==c?c:Q.weekStartsOn)&&void 0!==r?r:null===(I=Q.locale)||void 0===I||null===(B=I.options)||void 0===B?void 0:B.weekStartsOn)&&void 0!==e?e:0);if(!(Ae>=0&&Ae<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Je=Fr(n),ct=Je.getDay(),Nt=6+(ct<Ae?-7:0)-(ct-Ae);return Je.setDate(Je.getDate()+Nt),Je.setHours(23,59,59,999),Je}function mR(n){Ki(1,arguments);var t=Fr(n),e=t.getDay();return e}function _R(n){Ki(1,arguments);var t=Fr(n),e=t.getMonth();return e}function vR(n,t){Ki(2,arguments);var e=xb(n),r=xb(t);return e.getTime()===r.getTime()}function yR(n,t){Ki(2,arguments);var e=Fr(n),r=Fr(t);return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()}function aI(n){Ki(1,arguments);var t=Fr(n);return t.setMilliseconds(0),t}function bR(n,t){Ki(2,arguments);var e=aI(n),r=aI(t);return e.getTime()===r.getTime()}function jC(n){return(jC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function wR(n){var t,e;if(Ki(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==jC(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(r){var c=Fr(r);(void 0===e||e<c||isNaN(Number(c)))&&(e=c)}),e||new Date(NaN)}function CR(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t);return e.setHours(r),e}function DR(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t);return e.setMinutes(r),e}function ER(n){Ki(1,arguments);var t=Fr(n);return t.setSeconds(0,0),t}function TR(n){Ki(1,arguments);var t=Fr(n);return t.setDate(1),t.setHours(0,0,0,0),t}function lI(n,t){var e,r,c,f,v,C,I,B;Ki(1,arguments);var Q=oI(),Ae=Za(null!==(e=null!==(r=null!==(c=null!==(f=t?.weekStartsOn)&&void 0!==f?f:null==t||null===(v=t.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==c?c:Q.weekStartsOn)&&void 0!==r?r:null===(I=Q.locale)||void 0===I||null===(B=I.options)||void 0===B?void 0:B.weekStartsOn)&&void 0!==e?e:0);if(!(Ae>=0&&Ae<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Je=Fr(n),ct=Je.getDay(),Nt=(ct<Ae?7:0)+ct-Ae;return Je.setDate(Je.getDate()-Nt),Je.setHours(0,0,0,0),Je}function SR(n){Ki(1,arguments);var t=Fr(n),e=t.getHours();return e}function xR(n){Ki(1,arguments);var t=Fr(n),e=t.getMinutes();return e}function AR(n){return new Date(n).getTimezoneOffset()}function cI(n,t){Ki(2,arguments);var e=Za(t),r=7*e;return jT(n,r)}function uI(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t);if(isNaN(r))return new Date(NaN);if(!r)return e;var c=e.getDate(),f=new Date(e.getTime());f.setMonth(e.getMonth()+r+1,0);var v=f.getDate();return c>=v?f:(e.setFullYear(f.getFullYear(),f.getMonth(),c),e)}function MR(n,t){Ki(2,arguments);var e=Za(t);return jT(n,-e)}function OR(n,t){Ki(2,arguments);var e=Za(t);return cI(n,-e)}function kR(n,t){Ki(2,arguments);var e=Za(t);return uI(n,-e)}function zC(n){return Ki(1,arguments),lI(n,{weekStartsOn:1})}function RR(n){Ki(1,arguments);var t=Fr(n),e=t.getFullYear(),r=new Date(0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);var c=zC(r),f=new Date(0);f.setFullYear(e,0,4),f.setHours(0,0,0,0);var v=zC(f);return t.getTime()>=c.getTime()?e+1:t.getTime()>=v.getTime()?e:e-1}function NR(n){Ki(1,arguments);var t=RR(n),e=new Date(0);e.setFullYear(t,0,4),e.setHours(0,0,0,0);var r=zC(e);return r}var PR=6048e5;function FR(n){Ki(1,arguments);var t=Fr(n),e=zC(t).getTime()-NR(t).getTime();return Math.round(e/PR)+1}function LR(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t);return e.setDate(r),e}function BR(n){Ki(1,arguments);var t=Fr(n),e=t.getFullYear(),r=t.getMonth(),c=new Date(0);return c.setFullYear(e,r+1,0),c.setHours(0,0,0,0),c.getDate()}function VR(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t),c=e.getFullYear(),f=e.getDate(),v=new Date(0);v.setFullYear(c,r,15),v.setHours(0,0,0,0);var C=BR(v);return e.setMonth(r,Math.min(f,C)),e}function HR(n,t){Ki(2,arguments);var e=Fr(n),r=Za(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(r),e)}function UR(n){Ki(1,arguments);var t=Fr(n),e=t.getDate();return e}function GR(n){return Ki(1,arguments),Fr(n).getFullYear()}function dI(){return(0,ti.pi)((0,ti.pi)({},function IR(){return{addDays:jT,addHours:Qk,addMinutes:Jk,addSeconds:eR,differenceInDays:iR,differenceInMinutes:dR,differenceInSeconds:hR,endOfDay:fR,endOfMonth:pR,endOfWeek:gR,getDay:mR,getMonth:_R,isSameDay:vR,isSameMonth:yR,isSameSecond:bR,max:wR,setHours:CR,setMinutes:DR,startOfDay:xb,startOfMinute:ER,startOfMonth:TR,startOfWeek:lI,getHours:SR,getMinutes:xR,getTimezoneOffset:AR}}()),{addWeeks:cI,addMonths:uI,subDays:MR,subWeeks:OR,subMonths:kR,getISOWeek:FR,setDate:LR,setMonth:VR,setYear:HR,getDate:UR,getYear:GR})}var hI=S(515),$T=S(5963);const{isArray:jR}=Array;function fI(n){return 1===n.length&&jR(n[0])?n[0]:n}S(1135),S(9841);var WT=S(5032);new w.y(WT.Z);var _I=S(3269);function $C(...n){const t=(0,_I.jO)(n),e=fI(n);return e.length?new w.y(r=>{let c=e.map(()=>[]),f=e.map(()=>!1);r.add(()=>{c=f=null});for(let v=0;!r.closed&&v<e.length;v++)(0,D.Xf)(e[v]).subscribe((0,De.x)(r,C=>{if(c[v].push(C),c.every(I=>I.length)){const I=c.map(B=>B.shift());r.next(t?t(...I):I),c.some((B,Q)=>!B.length&&f[Q])&&r.complete()}},()=>{f[v]=!0,!c[v].length&&r.complete()}));return()=>{c=f=null}}):hI.E}var vI=S(7272),yI=S(8505),WR=S(4671);function YT(...n){const t=(0,_I.jO)(n);return(0,F.e)((e,r)=>{const c=n.length,f=new Array(c);let v=n.map(()=>!1),C=!1;for(let I=0;I<c;I++)(0,D.Xf)(n[I]).subscribe((0,De.x)(r,B=>{f[I]=B,!C&&!v[I]&&(v[I]=!0,(C=v.every(WR.y))&&(v=null))},WT.Z));e.subscribe((0,De.x)(r,I=>{if(C){const B=[I,...f];r.next(t?t(...B):B)}}))})}S(4986),S(5684),Math,Math,Math;const aP=["*"],TP=["dialog"];function sS(n){return"string"==typeof n}function G_(n){return null!=n}function Ry(n){return(n||document.body).getBoundingClientRect()}const BI={animation:!0,transitionTimerDelayMs:5},yF=()=>{},{transitionTimerDelayMs:bF}=BI,Nb=new Map,Hl=(n,t,e,r)=>{let c=r.context||{};const f=Nb.get(t);if(f)switch(r.runningTransition){case"continue":return hI.E;case"stop":n.run(()=>f.transition$.complete()),c=Object.assign(f.context,c),Nb.delete(t)}const v=e(t,r.animation,c)||yF;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>v()),(0,kc.of)(void 0).pipe(function _F(n){return t=>new w.y(e=>t.subscribe({next:v=>n.run(()=>e.next(v)),error:v=>n.run(()=>e.error(v)),complete:()=>n.run(()=>e.complete())}))}(n));const C=new Ue.x,I=new Ue.x,B=C.pipe(function $R(...n){return t=>(0,vI.z)(t,(0,kc.of)(...n))}(!0));Nb.set(t,{transition$:C,complete:()=>{I.next(),I.complete()},context:c});const Q=function vF(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const Ae=(0,mt.R)(t,"transitionend").pipe((0,He.R)(B),(0,pe.h)(({target:ct})=>ct===t));(function pI(...n){return 1===(n=fI(n)).length?(0,D.Xf)(n[0]):new w.y(function zR(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push((0,D.Xf)(n[r]).subscribe((0,De.x)(t,c=>{if(e){for(let f=0;f<e.length;f++)f!==r&&e[f].unsubscribe();e=null}t.next(c)})))}}(n))})((0,$T.H)(Q+bF).pipe((0,He.R)(B)),Ae,I).pipe((0,He.R)(B)).subscribe(()=>{Nb.delete(t),n.run(()=>{v(),C.next(),C.complete()})})}),C.asObservable()};let QC=(()=>{class n{constructor(){this.animation=BI.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),$I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),KI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),ZI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var ia=(()=>{return(n=ia||(ia={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",ia;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const QI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function XI(n){const t=Array.from(n.querySelectorAll(QI)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let oM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez,vt.u5]}),n})(),uM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();class W_{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let cL=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,$e.q)(1)).subscribe(()=>{Hl(this._zone,this._el.nativeElement,(e,r)=>{r&&Ry(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Hl(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(h.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),h.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class dM{close(t){}dismiss(t){}}class uL{constructor(t,e,r,c){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=c,this._closed=new Ue.x,this._dismissed=new Ue.x,this._hidden=new Ue.x,t.instance.dismissEvent.subscribe(f=>{this.dismiss(f)}),this.result=new Promise((f,v)=>{this._resolve=f,this._reject=v}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,He.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,He.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function LI(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,kc.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),$C(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Bb=(()=>{return(n=Bb||(Bb={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Bb;var n})();let dL=(()=>{class n{constructor(e,r,c){this._document=e,this._elRef=r,this._zone=c,this._closed$=new Ue.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new h.vpe,this.shown=new Ue.x,this.hidden=new Ue.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":sS(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,$e.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},v=$C(Hl(this._zone,e,()=>e.classList.remove("show"),r),Hl(this._zone,this._dialogEl.nativeElement,()=>{},r));return v.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),v}_show(){const e={animation:this.animation,runningTransition:"continue"};$C(Hl(this._zone,this._elRef.nativeElement,(f,v)=>{v&&Ry(f),f.classList.add("show")},e),Hl(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,mt.R)(e,"keydown").pipe((0,He.R)(this._closed$),(0,pe.h)(c=>c.which===ia.Escape)).subscribe(c=>{this.keyboard?requestAnimationFrame(()=>{c.defaultPrevented||this._zone.run(()=>this.dismiss(Bb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;(0,mt.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,He.R)(this._closed$),(0,yI.b)(()=>r=!1),(0,k.w)(()=>(0,mt.R)(e,"mouseup").pipe((0,He.R)(this._closed$),(0,$e.q)(1))),(0,pe.h)(({target:c})=>e===c)).subscribe(()=>{r=!0}),(0,mt.R)(e,"click").pipe((0,He.R)(this._closed$)).subscribe(({target:c})=>{e===c&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Bb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),c=XI(e)[0];(r||c||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let c;c=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>c.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Hl(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(ge.K0),h.Y36(h.SBq),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&h.Gf(TP,7),2&e){let c;h.iGM(c=h.CRH())&&(r._dialogEl=c.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(h.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),h.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),h.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:aP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(h.F$t(),h.TgZ(0,"div",0,1)(2,"div",2),h.Hsn(3),h.qZA()()),2&e&&h.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),hL=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,c=r.style,{overflow:f,paddingRight:v}=c;if(e>0){const C=parseFloat(window.getComputedStyle(r).paddingRight);c.paddingRight=`${C+e}px`}return c.overflow="hidden",()=>{e>0&&(c.paddingRight=v),c.overflow=f}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ge.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fL=(()=>{class n{constructor(e,r,c,f,v,C){this._applicationRef=e,this._injector=r,this._document=c,this._scrollBar=f,this._rendererFactory=v,this._ngZone=C,this._activeWindowCmptHasChanged=new Ue.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new h.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const I=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const c=(0,mt.R)(t,"focusin").pipe((0,He.R)(e),(0,kt.U)(f=>f.target));(0,mt.R)(t,"keydown").pipe((0,He.R)(e),(0,pe.h)(f=>f.which===ia.Tab),YT(c)).subscribe(([f,v])=>{const[C,I]=XI(t);(v===C||v===t)&&f.shiftKey&&(I.focus(),f.preventDefault()),v===I&&!f.shiftKey&&(C.focus(),f.preventDefault())}),r&&(0,mt.R)(t,"click").pipe((0,He.R)(e),YT(c),(0,kt.U)(f=>f[1])).subscribe(f=>f.focus())})})(0,I.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(I.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,c){const f=c.container instanceof HTMLElement?c.container:G_(c.container)?this._document.querySelector(c.container):this._document.body,v=this._rendererFactory.createRenderer(null,null);if(!f)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const C=new dM,I=this._getContentRef(c.injector||e,r,C,c);let B=!1!==c.backdrop?this._attachBackdrop(f):void 0,Q=this._attachWindowComponent(f,I.nodes),Ae=new uL(Q,I,B,c.beforeDismiss);return this._registerModalRef(Ae),this._registerWindowCmpt(Q),Ae.hidden.pipe((0,$e.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(v.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),C.close=Je=>{Ae.close(Je)},C.dismiss=Je=>{Ae.dismiss(Je)},this._applyWindowOptions(Q.instance,c),1===this._modalRefs.length&&v.addClass(this._document.body,"modal-open"),B&&B.instance&&(this._applyBackdropOptions(B.instance,c),B.changeDetectorRef.detectChanges()),Q.changeDetectorRef.detectChanges(),Ae}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let r=(0,h.LMc)(cL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let c=(0,h.LMc)(dL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(c.hostView),e.appendChild(c.location.nativeElement),c}_applyWindowOptions(e,r){this._windowAttributes.forEach(c=>{G_(r[c])&&(e[c]=r[c])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(c=>{G_(r[c])&&(e[c]=r[c])})}_getContentRef(e,r,c,f){return r?r instanceof h.Rgc?this._createFromTemplateRef(r,c):sS(r)?this._createFromString(r):this._createFromComponent(e,r,c,f):new W_([])}_createFromTemplateRef(e,r){const f=e.createEmbeddedView({$implicit:r,close(v){r.close(v)},dismiss(v){r.dismiss(v)}});return this._applicationRef.attachView(f),new W_([f.rootNodes],f)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new W_([[r]])}_createFromComponent(e,r,c,f){const v=h.zs3.create({providers:[{provide:dM,useValue:c}],parent:e}),C=(0,h.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:v}),I=C.location.nativeElement;return f.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(C.hostView),new W_([[I]],C.hostView,C)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(c=>{c!==e&&"SCRIPT"!==c.nodeName&&(this._ariaHiddenValues.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const c=this._modalRefs.indexOf(e);c>-1&&(this._modalRefs.splice(c,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.z2F),h.LFG(h.zs3),h.LFG(ge.K0),h.LFG(hL),h.LFG(h.FYo),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pL=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(QC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gL=(()=>{class n{constructor(e,r,c){this._injector=e,this._modalStack=r,this._config=c}open(e,r={}){const c={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,e,c)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.zs3),h.LFG(fL),h.LFG(pL))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[gL]}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),EM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),OM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();new h.OlP("live announcer delay",{providedIn:"root",factory:function AL(){return 100}});let kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ge.ez]}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const IL=[zI,$I,KI,ZI,oM,uM,hM,mM,RM,EM,SM,xM,AM,IM,MM,OM,kM];let ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[IL,zI,$I,KI,ZI,oM,uM,hM,mM,RM,EM,SM,xM,AM,IM,MM,OM,kM]}),n})();var NM=S(9643);let PM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[PM,ye.si,ye.BQ,NM.Q8,PM,ye.BQ]}),n})();var zL=S(9602),FM=S(9549),LM=S(4144),BM=S(3290),$L=S(1205),WL=S(8345),YL=S(1615),KL={about:"k\xf6r\xfclbel\xfcl",over:"t\xf6bb mint",almost:"majdnem",lessthan:"kevesebb mint"},ZL={xseconds:" m\xe1sodperc",halfaminute:"f\xe9l perc",xminutes:" perc",xhours:" \xf3ra",xdays:" nap",xweeks:" h\xe9t",xmonths:" h\xf3nap",xyears:" \xe9v"},qL={xseconds:{"-1":" m\xe1sodperccel ezel\u0151tt",1:" m\xe1sodperc m\xfalva",0:" m\xe1sodperce"},halfaminute:{"-1":"f\xe9l perccel ezel\u0151tt",1:"f\xe9l perc m\xfalva",0:"f\xe9l perce"},xminutes:{"-1":" perccel ezel\u0151tt",1:" perc m\xfalva",0:" perce"},xhours:{"-1":" \xf3r\xe1val ezel\u0151tt",1:" \xf3ra m\xfalva",0:" \xf3r\xe1ja"},xdays:{"-1":" nappal ezel\u0151tt",1:" nap m\xfalva",0:" napja"},xweeks:{"-1":" h\xe9ttel ezel\u0151tt",1:" h\xe9t m\xfalva",0:" hete"},xmonths:{"-1":" h\xf3nappal ezel\u0151tt",1:" h\xf3nap m\xfalva",0:" h\xf3napja"},xyears:{"-1":" \xe9vvel ezel\u0151tt",1:" \xe9v m\xfalva",0:" \xe9ve"}};function gS(n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}const iB={date:gS({formats:{full:"y. MMMM d., EEEE",long:"y. MMMM d.",medium:"y. MMM d.",short:"y. MM. dd."},defaultWidth:"full"}),time:gS({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:gS({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var rB=["vas\xe1rnap","h\xe9tf\u0151n","kedden","szerd\xe1n","cs\xfct\xf6rt\xf6k\xf6n","p\xe9nteken","szombaton"];function VM(n){return function(t){var e=rB[t.getUTCDay()];return"".concat(n?"":"'m\xfalt' ","'").concat(e,"' p'-kor'")}}var sB={lastWeek:VM(!1),yesterday:"'tegnap' p'-kor'",today:"'ma' p'-kor'",tomorrow:"'holnap' p'-kor'",nextWeek:VM(!0),other:"P"};function Vb(n){return function(t,e){var c;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&n.formattingValues){var f=n.defaultFormattingWidth||n.defaultWidth,v=null!=e&&e.width?String(e.width):f;c=n.formattingValues[v]||n.formattingValues[f]}else{var C=n.defaultWidth,I=null!=e&&e.width?String(e.width):n.defaultWidth;c=n.values[I]||n.values[C]}return c[n.argumentCallback?n.argumentCallback(t):t]}}var gB={ordinalNumber:function(t,e){return Number(t)+"."},era:Vb({values:{narrow:["ie.","isz."],abbreviated:["i. e.","i. sz."],wide:["Krisztus el\u0151tt","id\u0151sz\xe1m\xedt\xe1sunk szerint"]},defaultWidth:"wide"}),quarter:Vb({values:{narrow:["1.","2.","3.","4."],abbreviated:["1. n.\xe9v","2. n.\xe9v","3. n.\xe9v","4. n.\xe9v"],wide:["1. negyed\xe9v","2. negyed\xe9v","3. negyed\xe9v","4. negyed\xe9v"]},defaultWidth:"wide",argumentCallback:function(t){return t-1},formattingValues:{narrow:["I.","II.","III.","IV."],abbreviated:["I. n.\xe9v","II. n.\xe9v","III. n.\xe9v","IV. n.\xe9v"],wide:["I. negyed\xe9v","II. negyed\xe9v","III. negyed\xe9v","IV. negyed\xe9v"]},defaultFormattingWidth:"wide"}),month:Vb({values:{narrow:["J","F","M","\xc1","M","J","J","A","Sz","O","N","D"],abbreviated:["jan.","febr.","m\xe1rc.","\xe1pr.","m\xe1j.","j\xfan.","j\xfal.","aug.","szept.","okt.","nov.","dec."],wide:["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"]},defaultWidth:"wide"}),day:Vb({values:{narrow:["V","H","K","Sz","Cs","P","Sz"],short:["V","H","K","Sze","Cs","P","Szo"],abbreviated:["V","H","K","Sze","Cs","P","Szo"],wide:["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"]},defaultWidth:"wide"}),dayPeriod:Vb({values:{narrow:{am:"de.",pm:"du.",midnight:"\xe9jf\xe9l",noon:"d\xe9l",morning:"reggel",afternoon:"du.",evening:"este",night:"\xe9jjel"},abbreviated:{am:"de.",pm:"du.",midnight:"\xe9jf\xe9l",noon:"d\xe9l",morning:"reggel",afternoon:"du.",evening:"este",night:"\xe9jjel"},wide:{am:"de.",pm:"du.",midnight:"\xe9jf\xe9l",noon:"d\xe9l",morning:"reggel",afternoon:"d\xe9lut\xe1n",evening:"este",night:"\xe9jjel"}},defaultWidth:"wide"})};const mB=gB;function Hb(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.width,c=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],f=t.match(c);if(!f)return null;var B,v=f[0],C=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],I=Array.isArray(C)?vB(C,function(Ae){return Ae.test(v)}):_B(C,function(Ae){return Ae.test(v)});B=n.valueCallback?n.valueCallback(I):I,B=e.valueCallback?e.valueCallback(B):B;var Q=t.slice(v.length);return{value:B,rest:Q}}}function _B(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function vB(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}var kB={ordinalNumber:function yB(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var c=r[0],f=t.match(n.parsePattern);if(!f)return null;var v=n.valueCallback?n.valueCallback(f[0]):f[0];v=e.valueCallback?e.valueCallback(v):v;var C=t.slice(c.length);return{value:v,rest:C}}}({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Hb({matchPatterns:{narrow:/^(ie\.|isz\.)/i,abbreviated:/^(i\.\s?e\.?|b?\s?c\s?e|i\.\s?sz\.?)/i,wide:/^(Krisztus el\u0151tt|id\u0151sz\xe1m\xedt\xe1sunk el\u0151tt|id\u0151sz\xe1m\xedt\xe1sunk szerint|i\. sz\.)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/ie/i,/isz/i],abbreviated:[/^(i\.?\s?e\.?|b\s?ce)/i,/^(i\.?\s?sz\.?|c\s?e)/i],any:[/el\u0151tt/i,/(szerint|i. sz.)/i]},defaultParseWidth:"any"}),quarter:Hb({matchPatterns:{narrow:/^[1234]\.?/i,abbreviated:/^[1234]?\.?\s?n\.\xe9v/i,wide:/^([1234]|I|II|III|IV)?\.?\s?negyed\xe9v/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1|I$/i,/2|II$/i,/3|III/i,/4|IV/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Hb({matchPatterns:{narrow:/^[jfma\xe1sond]|sz/i,abbreviated:/^(jan\.?|febr\.?|m\xe1rc\.?|\xe1pr\.?|m\xe1j\.?|j\xfan\.?|j\xfal\.?|aug\.?|szept\.?|okt\.?|nov\.?|dec\.?)/i,wide:/^(janu\xe1r|febru\xe1r|m\xe1rcius|\xe1prilis|m\xe1jus|j\xfanius|j\xfalius|augusztus|szeptember|okt\xf3ber|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a|\xe1/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s|sz/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^m\xe1r/i,/^\xe1p/i,/^m\xe1j/i,/^j\xfan/i,/^j\xfal/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Hb({matchPatterns:{narrow:/^([vhkpc]|sz|cs|sz)/i,short:/^([vhkp]|sze|cs|szo)/i,abbreviated:/^([vhkp]|sze|cs|szo)/i,wide:/^(vas\xe1rnap|h\xe9tf\u0151|kedd|szerda|cs\xfct\xf6rt\xf6k|p\xe9ntek|szombat)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^v/i,/^h/i,/^k/i,/^sz/i,/^c/i,/^p/i,/^sz/i],any:[/^v/i,/^h/i,/^k/i,/^sze/i,/^c/i,/^p/i,/^szo/i]},defaultParseWidth:"any"}),dayPeriod:Hb({matchPatterns:{any:/^((de|du)\.?|\xe9jf\xe9l|d\xe9lut\xe1n|d\xe9l|reggel|este|\xe9jjel)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^de\.?/i,pm:/^du\.?/i,midnight:/^\xe9jf/i,noon:/^d\xe9/i,morning:/reg/i,afternoon:/^d\xe9lu\.?/i,evening:/es/i,night:/\xe9jj/i}},defaultParseWidth:"any"})};const NB={code:"hu",formatDistance:function(t,e,r){var c=t.match(/about|over|almost|lessthan/i),f=c?t.replace(c[0],""):t,v=!0===r?.addSuffix,C=f.toLowerCase(),B=v?qL[C][r?.comparison||0]:ZL[C],Q="halfaminute"===C?B:e+B;if(c){var Ae=c[0].toLowerCase();Q=KL[Ae]+" "+Q}return Q},formatLong:iB,formatRelative:function(t,e){var r=sB[t];return"function"==typeof r?r(e):r},localize:mB,match:kB,options:{weekStartsOn:1,firstWeekContainsDate:4}};var PB=S(3546);let FB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[xe]}),n.\u0275inj=h.cJS({providers:[{provide:h.soG,useValue:NB},{provide:ye.Ad,useValue:"hu-HU"},pf,Vp,YL.w],imports:[m.b2,PB.QW,GT,WL.U,tt,vt.u5,vt.UX,ql,Hn,Gn.g0,Qn.ot,vn.Ps,Kd,re,zL.FA,jL,FM.lN,LM.c,ye.si,ye.XK,BM.yb,$L.ww,BM.yb,ML,Nr,OO.hO.initializeApp(nd_firebase),(0,hs.hX)(()=>(0,hs.ZF)(nd_firebase)),Jo(()=>Wy()),Q_(()=>Pp()),Tw(()=>HD()),ex(()=>dE()),SE(()=>Ax()),kE(()=>aC()),Wx(()=>gT()),vT(()=>nA()),IO(()=>MO()),GT.forRoot({provide:UC,useFactory:dI}),GT.forRoot({provide:UC,useFactory:dI}),Qn.ot,FM.lN,LM.c,ye.si]}),n})();(0,h.G48)(),m.q6().bootstrapModule(FB).catch(n=>console.error(n))},6148:(bn,Tt,S)=>{S.d(Tt,{IH:()=>Ot,Gb:()=>te,Kz:()=>it,Iv:()=>z});var m=S(5861),h=S(9681),A=S(1877),Se=S(2090),N=S(4859);S(2833);const tt="analytics",pe="firebase_id",ye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",we="https://www.googletagmanager.com/gtag/js",Ge=new A.Yd("@firebase/analytics");function ut(Ce){return Promise.all(Ce.map(Te=>Te.catch(ne=>ne)))}function dt(Ce,Te){const ne=document.createElement("script");ne.src=`${we}?l=${Ce}&id=${Te}`,ne.async=!0,document.head.appendChild(ne)}function Ue(Ce,Te,ne,Ne,_t,Ke){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(Ce,Te,ne,Ne,_t,Ke){const Ye=Ne[_t];try{if(Ye)yield Te[Ye];else{const re=(yield ut(ne)).find(de=>de.measurementId===_t);re&&(yield Te[re.appId])}}catch(Pe){Ge.error(Pe)}Ce("config",_t,Ke)})).apply(this,arguments)}function jt(Ce,Te,ne,Ne,_t){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(Ce,Te,ne,Ne,_t){try{let Ke=[];if(_t&&_t.send_to){let Ye=_t.send_to;Array.isArray(Ye)||(Ye=[Ye]);const Pe=yield ut(ne);for(const re of Ye){const de=Pe.find(Ie=>Ie.measurementId===re),_e=de&&Te[de.appId];if(!_e){Ke=[];break}Ke.push(_e)}}0===Ke.length&&(Ke=Object.values(Te)),yield Promise.all(Ke),Ce("event",Ne,_t||{})}catch(Ke){Ge.error(Ke)}})).apply(this,arguments)}function je(Ce){const Te=window.document.getElementsByTagName("script");for(const ne of Object.values(Te))if(ne.src&&ne.src.includes(we)&&ne.src.includes(Ce))return ne;return null}const Oe=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pt=new class st{constructor(Te={},ne=1e3){this.throttleMetadata=Te,this.intervalMillis=ne}getThrottleMetadata(Te){return this.throttleMetadata[Te]}setThrottleMetadata(Te,ne){this.throttleMetadata[Te]=ne}deleteThrottleMetadata(Te){delete this.throttleMetadata[Te]}};function Rt(Ce){return new Headers({Accept:"application/json","x-goog-api-key":Ce})}function At(Ce){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,m.Z)(function*(Ce){var Te;const{appId:ne,apiKey:Ne}=Ce,_t={method:"GET",headers:Rt(Ne)},Ke=ye.replace("{app-id}",ne),Ye=yield fetch(Ke,_t);if(200!==Ye.status&&304!==Ye.status){let Pe="";try{const re=yield Ye.json();null!==(Te=re.error)&&void 0!==Te&&Te.message&&(Pe=re.error.message)}catch{}throw Oe.create("config-fetch-failed",{httpStatus:Ye.status,responseMessage:Pe})}return Ye.json()})).apply(this,arguments)}function Zt(Ce){return on.apply(this,arguments)}function on(){return(on=(0,m.Z)(function*(Ce,Te=pt,ne){const{appId:Ne,apiKey:_t,measurementId:Ke}=Ce.options;if(!Ne)throw Oe.create("no-app-id");if(!_t){if(Ke)return{measurementId:Ke,appId:Ne};throw Oe.create("no-api-key")}const Ye=Te.getThrottleMetadata(Ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new $t;return setTimeout((0,m.Z)(function*(){Pe.abort()}),void 0!==ne?ne:6e4),fn({appId:Ne,apiKey:_t,measurementId:Ke},Ye,Pe,Te)})).apply(this,arguments)}function fn(Ce,Te,ne){return nn.apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(Ce,{throttleEndTimeMillis:Te,backoffCount:ne},Ne,_t=pt){var Ke,Ye;const{appId:Pe,measurementId:re}=Ce;try{yield wt(Ne,Te)}catch(de){if(re)return Ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${re} provided in the "measurementId" field in the local Firebase config. [${null===(Ke=de)||void 0===Ke?void 0:Ke.message}]`),{appId:Pe,measurementId:re};throw de}try{const de=yield At(Ce);return _t.deleteThrottleMetadata(Pe),de}catch(de){const _e=de;if(!qt(_e)){if(_t.deleteThrottleMetadata(Pe),re)return Ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${re} provided in the "measurementId" field in the local Firebase config. [${_e?.message}]`),{appId:Pe,measurementId:re};throw de}const Ie=503===Number(null===(Ye=_e?.customData)||void 0===Ye?void 0:Ye.httpStatus)?(0,Se.$s)(ne,_t.intervalMillis,30):(0,Se.$s)(ne,_t.intervalMillis),ve={throttleEndTimeMillis:Date.now()+Ie,backoffCount:ne+1};return _t.setThrottleMetadata(Pe,ve),Ge.debug(`Calling attemptFetch again in ${Ie} millis`),fn(Ce,ve,Ne,_t)}})).apply(this,arguments)}function wt(Ce,Te){return new Promise((ne,Ne)=>{const _t=Math.max(Te-Date.now(),0),Ke=setTimeout(ne,_t);Ce.addEventListener(()=>{clearTimeout(Ke),Ne(Oe.create("fetch-throttle",{throttleEndTimeMillis:Te}))})})}function qt(Ce){if(!(Ce instanceof Se.ZR&&Ce.customData))return!1;const Te=Number(Ce.customData.httpStatus);return 429===Te||500===Te||503===Te||504===Te}class $t{constructor(){this.listeners=[]}addEventListener(Te){this.listeners.push(Te)}abort(){this.listeners.forEach(Te=>Te())}}let rn,Gn;function Cn(){return(Cn=(0,m.Z)(function*(Ce,Te,ne,Ne,_t){if(_t&&_t.global)Ce("event",ne,Ne);else{const Ke=yield Te;Ce("event",ne,Object.assign(Object.assign({},Ne),{send_to:Ke}))}})).apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(Ce,Te,ne,Ne){if(Ne&&Ne.global)return Ce("set",{user_id:ne}),Promise.resolve();Ce("config",yield Te,{update:!0,user_id:ne})})).apply(this,arguments)}function Qn(Ce){Gn=Ce}function vn(Ce){rn=Ce}function Be(){return ae.apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(){var Ce;if(!(0,Se.hl)())return Ge.warn(Oe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(Te){return Ge.warn(Oe.create("indexeddb-unavailable",{errorInfo:null===(Ce=Te)||void 0===Ce?void 0:Ce.toString()}).message),!1}return!0})).apply(this,arguments)}function nt(){return(nt=(0,m.Z)(function*(Ce,Te,ne,Ne,_t,Ke,Ye){var Pe;const re=Zt(Ce);re.then(Ee=>{ne[Ee.measurementId]=Ee.appId,Ce.options.measurementId&&Ee.measurementId!==Ce.options.measurementId&&Ge.warn(`The measurement ID in the local Firebase config (${Ce.options.measurementId}) does not match the measurement ID fetched from the server (${Ee.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ee=>Ge.error(Ee)),Te.push(re);const de=Be().then(Ee=>{if(Ee)return Ne.getId()}),[_e,Ie]=yield Promise.all([re,de]);je(Ke)||dt(Ke,_e.measurementId),Gn&&(_t("consent","default",Gn),Qn(void 0)),_t("js",new Date);const ve=null!==(Pe=Ye?.config)&&void 0!==Pe?Pe:{};return ve.origin="firebase",ve.update=!0,null!=Ie&&(ve[pe]=Ie),_t("config",_e.measurementId,ve),rn&&(_t("set",rn),vn(void 0)),_e.measurementId})).apply(this,arguments)}class Ze{constructor(Te){this.app=Te}_delete(){return delete Ct[this.app.options.appId],Promise.resolve()}}let Ct={},Wt=[];const cn={};let Le,vt,Gt="dataLayer",Ht=!1;function _n(Ce,Te,ne){!function Rn(){const Ce=[];if((0,Se.ru)()&&Ce.push("This is a browser extension environment."),(0,Se.zI)()||Ce.push("Cookies are not available."),Ce.length>0){const Te=Ce.map((Ne,_t)=>`(${_t+1}) ${Ne}`).join(" "),ne=Oe.create("invalid-analytics-context",{errorInfo:Te});Ge.warn(ne.message)}}();const Ne=Ce.options.appId;if(!Ne)throw Oe.create("no-app-id");if(!Ce.options.apiKey){if(!Ce.options.measurementId)throw Oe.create("no-api-key");Ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ce.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ct[Ne])throw Oe.create("already-exists",{id:Ne});if(!Ht){!function Pt(Ce){let Te=[];Array.isArray(window[Ce])?Te=window[Ce]:window[Ce]=Te}(Gt);const{wrappedGtag:Ke,gtagCore:Ye}=function He(Ce,Te,ne,Ne,_t){let Ke=function(...Ye){window[Ne].push(arguments)};return window[_t]&&"function"==typeof window[_t]&&(Ke=window[_t]),window[_t]=function at(Ce,Te,ne,Ne){function Ke(){return(Ke=(0,m.Z)(function*(Ye,Pe,re){try{"event"===Ye?yield jt(Ce,Te,ne,Pe,re):"config"===Ye?yield Ue(Ce,Te,ne,Ne,Pe,re):"consent"===Ye?Ce("consent","update",re):Ce("set",Pe)}catch(de){Ge.error(de)}})).apply(this,arguments)}return function _t(Ye,Pe,re){return Ke.apply(this,arguments)}}(Ke,Ce,Te,ne),{gtagCore:Ke,wrappedGtag:window[_t]}}(Ct,Wt,cn,Gt,"gtag");vt=Ke,Le=Ye,Ht=!0}return Ct[Ne]=function me(Ce,Te,ne,Ne,_t,Ke,Ye){return nt.apply(this,arguments)}(Ce,Wt,cn,Te,Le,Gt,ne),new Ze(Ce)}function Ot(Ce=(0,h.getApp)()){Ce=(0,Se.m9)(Ce);const Te=(0,h._getProvider)(Ce,tt);return Te.isInitialized()?Te.getImmediate():function Mt(Ce,Te={}){const ne=(0,h._getProvider)(Ce,tt);if(ne.isInitialized()){const _t=ne.getImmediate();if((0,Se.vZ)(Te,ne.getOptions()))return _t;throw Oe.create("already-initialized")}return ne.initialize({options:Te})}(Ce)}function te(){return oe.apply(this,arguments)}function oe(){return(oe=(0,m.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}function z(Ce,Te,ne){Ce=(0,Se.m9)(Ce),function An(Ce,Te,ne,Ne){return Un.apply(this,arguments)}(vt,Ct[Ce.app.options.appId],Te,ne).catch(Ne=>Ge.error(Ne))}function it(Ce,Te,ne,Ne){Ce=(0,Se.m9)(Ce),function Qt(Ce,Te,ne,Ne,_t){return Cn.apply(this,arguments)}(vt,Ct[Ce.app.options.appId],Te,ne,Ne).catch(_t=>Ge.error(_t))}const Bt="@firebase/analytics";!function qe(){(0,h._registerComponent)(new N.wA(tt,(Te,{options:ne})=>_n(Te.getProvider("app").getImmediate(),Te.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,h._registerComponent)(new N.wA("analytics-internal",function Ce(Te){try{const ne=Te.getProvider(tt).getImmediate();return{logEvent:(Ne,_t,Ke)=>it(ne,Ne,_t,Ke)}}catch(ne){throw Oe.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,h.registerVersion)(Bt,"0.8.3"),(0,h.registerVersion)(Bt,"0.8.3","esm2017")}()},5867:(bn,Tt,S)=>{S.d(Tt,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=S(9681);(0,m.registerVersion)("firebase","9.12.1","app")},127:(bn,Tt,S)=>{S.d(Tt,{Z:()=>m.Z});var m=S(3942);m.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(bn,Tt,S)=>{S.r(Tt);var m=S(5861),h=S(3942),A=S(7573),Se=S(2090),tt=(S(9681),S(1877),S(4859));function pe(){return window}function ye(){return(ye=(0,m.Z)(function*(Te,ne,Ne){var _t;const{BuildInfo:Ke}=pe();(0,A.aq)(ne.sessionId,"AuthEvent did not contain a session ID");const Ye=yield mt(ne.sessionId),Pe={};return(0,A.ar)()?Pe.ibi=Ke.packageName:(0,A.as)()?Pe.apn=Ke.packageName:(0,A.at)(Te,"operation-not-supported-in-this-environment"),Ke.displayName&&(Pe.appDisplayName=Ke.displayName),Pe.sessionId=Ye,(0,A.au)(Te,Ne,ne.type,void 0,null!==(_t=ne.eventId)&&void 0!==_t?_t:void 0,Pe)})).apply(this,arguments)}function Ge(){return(Ge=(0,m.Z)(function*(Te){const{BuildInfo:ne}=pe(),Ne={};(0,A.ar)()?Ne.iosBundleId=ne.packageName:(0,A.as)()?Ne.androidPackageName=ne.packageName:(0,A.at)(Te,"operation-not-supported-in-this-environment"),yield(0,A.av)(Te,Ne)})).apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(Te,ne,Ne){const{cordova:_t}=pe();let Ke=()=>{};try{yield new Promise((Ye,Pe)=>{let re=null;function de(){var ve;Ye();const Ee=null===(ve=_t.plugins.browsertab)||void 0===ve?void 0:ve.close;"function"==typeof Ee&&Ee(),"function"==typeof Ne?.close&&Ne.close()}function _e(){re||(re=window.setTimeout(()=>{Pe((0,A.aw)(Te,"redirect-cancelled-by-user"))},2e3))}function Ie(){"visible"===document?.visibilityState&&_e()}ne.addPassiveListener(de),document.addEventListener("resume",_e,!1),(0,A.as)()&&document.addEventListener("visibilitychange",Ie,!1),Ke=()=>{ne.removePassiveListener(de),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Ie,!1),re&&window.clearTimeout(re)}})}finally{Ke()}})).apply(this,arguments)}function mt(Te){return jt.apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(Te){const ne=kt(Te),Ne=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(Ne)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function kt(Te){if((0,A.aq)(/[0-9a-zA-Z]+/.test(Te),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Te);const ne=new ArrayBuffer(Te.length),Ne=new Uint8Array(ne);for(let _t=0;_t<Te.length;_t++)Ne[_t]=Te.charCodeAt(_t);return Ne}class He extends A.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(Ne=>Ne(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,m.Z)(function*(){yield ne.initPromise})()}}function Oe(Te){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(Te){const ne=yield pt()._get(Rt(Te));return ne&&(yield pt()._remove(Rt(Te))),ne})).apply(this,arguments)}function st(){const Te=[],ne="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ne=0;Ne<20;Ne++){const _t=Math.floor(Math.random()*ne.length);Te.push(ne.charAt(_t))}return Te.join("")}function pt(){return(0,A.ay)(A.b)}function Rt(Te){return(0,A.az)("authEvent",Te.config.apiKey,Te.name)}function Zt(Te){if(!Te?.includes("?"))return{};const[ne,...Ne]=Te.split("?");return(0,Se.zd)(Ne.join("?"))}function wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.aw)("no-auth-event")}}function Cn(){var Te;return(null===(Te=self?.location)||void 0===Te?void 0:Te.protocol)||null}function gn(Te=(0,Se.z$)()){return!("file:"!==Cn()&&"ionic:"!==Cn()&&"capacitor:"!==Cn()||!Te.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){try{const Te=self.localStorage,ne=A.aI();if(Te)return Te.setItem(ne,"1"),Te.removeItem(ne),!function Wn(Te=(0,Se.z$)()){return function Un(){return(0,Se.w1)()&&11===document?.documentMode}()||function kn(Te=(0,Se.z$)()){return/Edge\/\d+/.test(Te)}(Te)}()||(0,Se.hl)()}catch{return Hn()&&(0,Se.hl)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function Xt(){return"http:"===Cn()||"https:"===Cn()}()||(0,Se.ru)()||gn())&&!function An(){return(0,Se.b$)()||(0,Se.UG)()}()&&$n()&&!Hn()}function Qn(){return gn()&&typeof document<"u"}function Be(){return(Be=(0,m.Z)(function*(){return!!Qn()&&new Promise(Te=>{const ne=setTimeout(()=>{Te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ne),Te(!0)})})})).apply(this,arguments)}const me={LOCAL:"local",NONE:"none",SESSION:"session"},nt=A.ax,Ze="persistence";function Wt(Te){return cn.apply(this,arguments)}function cn(){return(cn=(0,m.Z)(function*(Te){yield Te._initializationPromise;const ne=yt(),Ne=A.az(Ze,Te.config.apiKey,Te.name);ne&&ne.setItem(Ne,Te._getPersistence())})).apply(this,arguments)}function yt(){var Te;try{return(null===(Te=function ae(){return typeof window<"u"?window:null}())||void 0===Te?void 0:Te.sessionStorage)||null}catch{return null}}const Le=A.ax;class vt{constructor(){this.browserResolver=A.ay(A.k),this.cordovaResolver=A.ay(class fn{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(ne){var Ne=this;return(0,m.Z)(function*(){const _t=ne._key();let Ke=Ne.eventManagers.get(_t);return Ke||(Ke=new He(ne),Ne.eventManagers.set(_t,Ke),Ne.attachCallbackListeners(ne,Ke)),Ke})()}_openPopup(ne){(0,A.at)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,Ne,_t,Ke){var Ye=this;return(0,m.Z)(function*(){!function Ue(Te){var ne,Ne,_t,Ke,Ye,Pe,re,de,_e,Ie;const ve=pe();(0,A.ax)("function"==typeof(null===(ne=ve?.universalLinks)||void 0===ne?void 0:ne.subscribe),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.ax)(typeof(null===(Ne=ve?.BuildInfo)||void 0===Ne?void 0:Ne.packageName)<"u",Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.ax)("function"==typeof(null===(Ye=null===(Ke=null===(_t=ve?.cordova)||void 0===_t?void 0:_t.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===Ye?void 0:Ye.openUrl),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(de=null===(re=null===(Pe=ve?.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===re?void 0:re.browsertab)||void 0===de?void 0:de.isAvailable),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(Ie=null===(_e=ve?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Ie?void 0:Ie.open),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const Pe=yield Ye._initialize(ne);yield Pe.initialized(),Pe.resetRedirect(),(0,A.aD)(),yield Ye._originValidation(ne);const re=function je(Te,ne,Ne=null){return{type:ne,eventId:Ne,urlResponse:null,sessionId:st(),postBody:null,tenantId:Te.tenantId,error:(0,A.aw)(Te,"no-auth-event")}}(ne,_t,Ke);yield function $e(Te,ne){return pt()._set(Rt(Te),ne)}(ne,re);const de=yield function X(Te,ne,Ne){return ye.apply(this,arguments)}(ne,re,Ne),_e=yield function ut(Te){const{cordova:ne}=pe();return new Promise(Ne=>{ne.plugins.browsertab.isAvailable(_t=>{let Ke=null;_t?ne.plugins.browsertab.openUrl(Te):Ke=ne.InAppBrowser.open(Te,(0,A.ap)()?"_blank":"_system","location=yes"),Ne(Ke)})})}(de);return function dt(Te,ne,Ne){return Pt.apply(this,arguments)}(ne,Pe,_e)})()}_isIframeWebStorageSupported(ne,Ne){throw new Error("Method not implemented.")}_originValidation(ne){const Ne=ne._key();return this.originValidationPromises[Ne]||(this.originValidationPromises[Ne]=function we(Te){return Ge.apply(this,arguments)}(ne)),this.originValidationPromises[Ne]}attachCallbackListeners(ne,Ne){const{universalLinks:_t,handleOpenURL:Ke,BuildInfo:Ye}=pe(),Pe=setTimeout((0,m.Z)(function*(){yield Oe(ne),Ne.onEvent(wt())}),500),re=function(){var Ie=(0,m.Z)(function*(ve){clearTimeout(Pe);const Ee=yield Oe(ne);let H=null;Ee&&ve?.url&&(H=function ot(Te,ne){var Ne,_t;const Ke=function Jt(Te){const ne=Zt(Te),Ne=ne.link?decodeURIComponent(ne.link):void 0,_t=Zt(Ne).link,Ke=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return Zt(Ke).link||Ke||_t||Ne||Te}(ne);if(Ke.includes("/__/auth/callback")){const Ye=Zt(Ke),Pe=Ye.firebaseError?function At(Te){try{return JSON.parse(Te)}catch{return null}}(decodeURIComponent(Ye.firebaseError)):null,re=null===(_t=null===(Ne=Pe?.code)||void 0===Ne?void 0:Ne.split("auth/"))||void 0===_t?void 0:_t[1],de=re?(0,A.aw)(re):null;return de?{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,error:de,urlResponse:null,sessionId:null,postBody:null}:{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,sessionId:Te.sessionId,urlResponse:Ke,postBody:null}}return null}(Ee,ve.url)),Ne.onEvent(H||wt())});return function(Ee){return Ie.apply(this,arguments)}}();typeof _t<"u"&&"function"==typeof _t.subscribe&&_t.subscribe(null,re);const de=Ke,_e=`${Ye.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Ie=(0,m.Z)(function*(ve){if(ve.toLowerCase().startsWith(_e)&&re({url:ve}),"function"==typeof de)try{de(ve)}catch(Ee){console.error(Ee)}});return function(ve){return Ie.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(ne){var Ne=this;return(0,m.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,Ne,_t,Ke){var Ye=this;return(0,m.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(ne,Ne,_t,Ke)})()}_openRedirect(ne,Ne,_t,Ke){var Ye=this;return(0,m.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(ne,Ne,_t,Ke)})()}_isIframeWebStorageSupported(ne,Ne){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,Ne)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return Qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Le(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,m.Z)(function*(){if(ne.underlyingResolver)return;const Ne=yield function vn(){return Be.apply(this,arguments)}();ne.underlyingResolver=Ne?ne.cordovaResolver:ne.browserResolver})()}}function Ht(Te){return Te.unwrap()}function Rn(Te){return Ot(Te)}function Ot(Te){const{_tokenResponse:ne}=Te instanceof Se.ZR?Te.customData:Te;if(!ne)return null;if(!(Te instanceof Se.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return A.P.credentialFromResult(Te);const Ne=ne.providerId;if(!Ne||Ne===A.o.PASSWORD)return null;let _t;switch(Ne){case A.o.GOOGLE:_t=A.Q;break;case A.o.FACEBOOK:_t=A.N;break;case A.o.GITHUB:_t=A.T;break;case A.o.TWITTER:_t=A.W;break;default:const{oauthIdToken:Ke,oauthAccessToken:Ye,oauthTokenSecret:Pe,pendingToken:re,nonce:de}=ne;return Ye||Pe||Ke||re?re?Ne.startsWith("saml.")?A.aL._create(Ne,re):A.J._fromParams({providerId:Ne,signInMethod:Ne,pendingToken:re,idToken:Ke,accessToken:Ye}):new A.U(Ne).credential({idToken:Ke,accessToken:Ye,rawNonce:de}):null}return Te instanceof Se.ZR?_t.credentialFromError(Te):_t.credentialFromResult(Te)}function Mt(Te,ne){return ne.catch(Ne=>{throw Ne instanceof Se.ZR&&function _n(Te,ne){var Ne,_t;const Ke=null===(Ne=ne.customData)||void 0===Ne?void 0:Ne._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_t=ne)||void 0===_t?void 0:_t.code))ne.resolver=new K(Te,A.an(Te,ne));else if(Ke){const Ye=Ot(ne),Pe=ne;Ye&&(Pe.credential=Ye,Pe.tenantId=Ke.tenantId||void 0,Pe.email=Ke.email||void 0,Pe.phoneNumber=Ke.phoneNumber||void 0)}}(Te,Ne),Ne}).then(Ne=>{const Ke=Ne.user;return{operationType:Ne.operationType,credential:Rn(Ne),additionalUserInfo:A.al(Ne),user:z.getOrCreate(Ke)}})}function te(Te,ne){return oe.apply(this,arguments)}function oe(){return(oe=(0,m.Z)(function*(Te,ne){const Ne=yield ne;return{verificationId:Ne.verificationId,confirm:_t=>Mt(Te,Ne.confirm(_t))}})).apply(this,arguments)}class K{constructor(ne,Ne){this.resolver=Ne,this.auth=function un(Te){return Te.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return Mt(Ht(this.auth),this.resolver.resolveSignIn(ne))}}class z{constructor(ne){this._delegate=ne,this.multiFactor=A.ao(ne)}static getOrCreate(ne){return z.USER_MAP.has(ne)||z.USER_MAP.set(ne,new z(ne)),z.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var Ne=this;return(0,m.Z)(function*(){return Mt(Ne.auth,A.Z(Ne._delegate,ne))})()}linkWithPhoneNumber(ne,Ne){var _t=this;return(0,m.Z)(function*(){return te(_t.auth,A.l(_t._delegate,ne,Ne))})()}linkWithPopup(ne){var Ne=this;return(0,m.Z)(function*(){return Mt(Ne.auth,A.d(Ne._delegate,ne,vt))})()}linkWithRedirect(ne){var Ne=this;return(0,m.Z)(function*(){return yield Wt(A.aE(Ne.auth)),A.g(Ne._delegate,ne,vt)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var Ne=this;return(0,m.Z)(function*(){return Mt(Ne.auth,A._(Ne._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,Ne){return te(this.auth,A.r(this._delegate,ne,Ne))}reauthenticateWithPopup(ne){return Mt(this.auth,A.e(this._delegate,ne,vt))}reauthenticateWithRedirect(ne){var Ne=this;return(0,m.Z)(function*(){return yield Wt(A.aE(Ne.auth)),A.h(Ne._delegate,ne,vt)})()}sendEmailVerification(ne){return A.ab(this._delegate,ne)}unlink(ne){var Ne=this;return(0,m.Z)(function*(){return yield A.ak(Ne._delegate,ne),Ne})()}updateEmail(ne){return A.ag(this._delegate,ne)}updatePassword(ne){return A.ah(this._delegate,ne)}updatePhoneNumber(ne){return A.u(this._delegate,ne)}updateProfile(ne){return A.af(this._delegate,ne)}verifyBeforeUpdateEmail(ne,Ne){return A.ac(this._delegate,ne,Ne)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}z.USER_MAP=new WeakMap;const ue=A.ax;let J=(()=>{class Te{constructor(Ne,_t){if(this.app=Ne,_t.isInitialized())return this._delegate=_t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ke}=Ne.options;ue(Ke,"invalid-api-key",{appName:Ne.name}),ue(Ke,"invalid-api-key",{appName:Ne.name});const Ye=typeof window<"u"?vt:void 0;this._delegate=_t.initialize({options:{persistence:it(Ke,Ne.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(A.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ne){this._delegate.languageCode=Ne}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ne){this._delegate.tenantId=Ne}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ne,_t){A.G(this._delegate,Ne,_t)}applyActionCode(Ne){return A.a2(this._delegate,Ne)}checkActionCode(Ne){return A.a3(this._delegate,Ne)}confirmPasswordReset(Ne,_t){return A.a1(this._delegate,Ne,_t)}createUserWithEmailAndPassword(Ne,_t){var Ke=this;return(0,m.Z)(function*(){return Mt(Ke._delegate,A.a5(Ke._delegate,Ne,_t))})()}fetchProvidersForEmail(Ne){return this.fetchSignInMethodsForEmail(Ne)}fetchSignInMethodsForEmail(Ne){return A.aa(this._delegate,Ne)}isSignInWithEmailLink(Ne){return A.a8(this._delegate,Ne)}getRedirectResult(){var Ne=this;return(0,m.Z)(function*(){ue(Gn(),Ne._delegate,"operation-not-supported-in-this-environment");const _t=yield A.j(Ne._delegate,vt);return _t?Mt(Ne._delegate,Promise.resolve(_t)):{credential:null,user:null}})()}addFrameworkForLogging(Ne){!function qt(Te,ne){(0,A.aE)(Te)._logFramework(ne)}(this._delegate,Ne)}onAuthStateChanged(Ne,_t,Ke){const{next:Ye,error:Pe,complete:re}=ft(Ne,_t,Ke);return this._delegate.onAuthStateChanged(Ye,Pe,re)}onIdTokenChanged(Ne,_t,Ke){const{next:Ye,error:Pe,complete:re}=ft(Ne,_t,Ke);return this._delegate.onIdTokenChanged(Ye,Pe,re)}sendSignInLinkToEmail(Ne,_t){return A.a7(this._delegate,Ne,_t)}sendPasswordResetEmail(Ne,_t){return A.a0(this._delegate,Ne,_t||void 0)}setPersistence(Ne){var _t=this;return(0,m.Z)(function*(){let Ke;switch(function Ct(Te,ne){nt(Object.values(me).includes(ne),Te,"invalid-persistence-type"),(0,Se.b$)()?nt(ne!==me.SESSION,Te,"unsupported-persistence-type"):(0,Se.UG)()?nt(ne===me.NONE,Te,"unsupported-persistence-type"):Hn()?nt(ne===me.NONE||ne===me.LOCAL&&(0,Se.hl)(),Te,"unsupported-persistence-type"):nt(ne===me.NONE||$n(),Te,"unsupported-persistence-type")}(_t._delegate,Ne),Ne){case me.SESSION:Ke=A.a;break;case me.LOCAL:Ke=(yield A.ay(A.i)._isAvailable())?A.i:A.b;break;case me.NONE:Ke=A.L;break;default:return A.at("argument-error",{appName:_t._delegate.name})}return _t._delegate.setPersistence(Ke)})()}signInAndRetrieveDataWithCredential(Ne){return this.signInWithCredential(Ne)}signInAnonymously(){return Mt(this._delegate,A.X(this._delegate))}signInWithCredential(Ne){return Mt(this._delegate,A.Y(this._delegate,Ne))}signInWithCustomToken(Ne){return Mt(this._delegate,A.$(this._delegate,Ne))}signInWithEmailAndPassword(Ne,_t){return Mt(this._delegate,A.a6(this._delegate,Ne,_t))}signInWithEmailLink(Ne,_t){return Mt(this._delegate,A.a9(this._delegate,Ne,_t))}signInWithPhoneNumber(Ne,_t){return te(this._delegate,A.s(this._delegate,Ne,_t))}signInWithPopup(Ne){var _t=this;return(0,m.Z)(function*(){return ue(Gn(),_t._delegate,"operation-not-supported-in-this-environment"),Mt(_t._delegate,A.c(_t._delegate,Ne,vt))})()}signInWithRedirect(Ne){var _t=this;return(0,m.Z)(function*(){return ue(Gn(),_t._delegate,"operation-not-supported-in-this-environment"),yield Wt(_t._delegate),A.f(_t._delegate,Ne,vt)})()}updateCurrentUser(Ne){return this._delegate.updateCurrentUser(Ne)}verifyPasswordResetCode(Ne){return A.a4(this._delegate,Ne)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Te.Persistence=me,Te})();function ft(Te,ne,Ne){let _t=Te;"function"!=typeof Te&&({next:_t,error:ne,complete:Ne}=Te);const Ke=_t;return{next:Pe=>Ke(Pe&&z.getOrCreate(Pe)),error:ne,complete:Ne}}function it(Te,ne){const Ne=function Gt(Te,ne){const Ne=yt();if(!Ne)return[];const _t=A.az(Ze,Te,ne);switch(Ne.getItem(_t)){case me.NONE:return[A.L];case me.LOCAL:return[A.i,A.a];case me.SESSION:return[A.a];default:return[]}}(Te,ne);if(typeof self<"u"&&!Ne.includes(A.i)&&Ne.push(A.i),typeof window<"u")for(const _t of[A.b,A.a])Ne.includes(_t)||Ne.push(_t);return Ne.includes(A.L)||Ne.push(A.L),Ne}class It{constructor(){this.providerId="phone",this._delegate=new A.P(Ht(h.Z.auth()))}static credential(ne,Ne){return A.P.credential(ne,Ne)}verifyPhoneNumber(ne,Ne){return this._delegate.verifyPhoneNumber(ne,Ne)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=A.P.PROVIDER_ID;const Bt=A.ax;class We{constructor(ne,Ne,_t=h.Z.app()){var Ke;Bt(null===(Ke=_t.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:_t.name}),this._delegate=new A.R(ne,Ne,_t.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ce(Te){Te.INTERNAL.registerComponent(new tt.wA("auth-compat",ne=>{const Ne=ne.getProvider("app-compat").getImmediate(),_t=ne.getProvider("auth");return new J(Ne,_t)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.M,FacebookAuthProvider:A.N,GithubAuthProvider:A.T,GoogleAuthProvider:A.Q,OAuthProvider:A.U,SAMLAuthProvider:A.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:We,TwitterAuthProvider:A.W,Auth:J,AuthCredential:A.H,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Te.registerVersion("@firebase/auth-compat","0.2.23")}(h.Z)},2375:(bn,Tt,S)=>{S.d(Tt,{KL:()=>de,Gb:()=>_t});var m=S(5861),A=(S(2833),S(4859)),Se=S(8766),N=S(2090),et=S(9681);const tt="/firebase-messaging-sw.js",pe="/firebase-cloud-messaging-push-scope",ge="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ye="google.c.a.c_id",we="google.c.a.c_l",Ge="google.c.a.ts",ut="google.c.a.e";var Pt=(()=>{return(H=Pt||(Pt={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",Pt;var H})();function Ue(H){const ce=new Uint8Array(H);return btoa(String.fromCharCode(...ce)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mt(H){const V=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(V),Ve=new Uint8Array(le.length);for(let xe=0;xe<le.length;++xe)Ve[xe]=le.charCodeAt(xe);return Ve}const jt="fcm_token_details_db",at="fcm_token_object_Store";function He(H){return je.apply(this,arguments)}function je(){return je=(0,m.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(jt))return null;let ce=null;return(yield(0,Se.X3)(jt,5,{upgrade:(le=(0,m.Z)(function*(Ve,xe,St,be){var ht;if(xe<2||!Ve.objectStoreNames.contains(at))return;const O=be.objectStore(at),ie=yield O.index("fcmSenderId").get(H);if(yield O.clear(),ie)if(2===xe){const Re=ie;if(!Re.auth||!Re.p256dh||!Re.endpoint)return;ce={token:Re.fcmToken,createTime:null!==(ht=Re.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:Re.auth,p256dh:Re.p256dh,endpoint:Re.endpoint,swScope:Re.swScope,vapidKey:"string"==typeof Re.vapidKey?Re.vapidKey:Ue(Re.vapidKey)}}}else if(3===xe){const Re=ie;ce={token:Re.fcmToken,createTime:Re.createTime,subscriptionOptions:{auth:Ue(Re.auth),p256dh:Ue(Re.p256dh),endpoint:Re.endpoint,swScope:Re.swScope,vapidKey:Ue(Re.vapidKey)}}}else if(4===xe){const Re=ie;ce={token:Re.fcmToken,createTime:Re.createTime,subscriptionOptions:{auth:Ue(Re.auth),p256dh:Ue(Re.p256dh),endpoint:Re.endpoint,swScope:Re.swScope,vapidKey:Ue(Re.vapidKey)}}}}),function(xe,St,be,ht){return le.apply(this,arguments)})})).close(),yield(0,Se.Lj)(jt),yield(0,Se.Lj)("fcm_vapid_details_db"),yield(0,Se.Lj)("undefined"),$e(ce)?ce:null;var le}),je.apply(this,arguments)}function $e(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:ce}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof ce.auth&&ce.auth.length>0&&"string"==typeof ce.p256dh&&ce.p256dh.length>0&&"string"==typeof ce.endpoint&&ce.endpoint.length>0&&"string"==typeof ce.swScope&&ce.swScope.length>0&&"string"==typeof ce.vapidKey&&ce.vapidKey.length>0}const ot="firebase-messaging-store";let st=null;function pt(){return st||(st=(0,Se.X3)("firebase-messaging-database",1,{upgrade:(H,ce)=>{0===ce&&H.createObjectStore(ot)}})),st}function Rt(H){return At.apply(this,arguments)}function At(){return(At=(0,m.Z)(function*(H){const ce=nn(H),le=yield(yield pt()).transaction(ot).objectStore(ot).get(ce);if(le)return le;{const Ve=yield He(H.appConfig.senderId);if(Ve)return yield Jt(H,Ve),Ve}})).apply(this,arguments)}function Jt(H,ce){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,m.Z)(function*(H,ce){const V=nn(H),Ve=(yield pt()).transaction(ot,"readwrite");return yield Ve.objectStore(ot).put(ce,V),yield Ve.done,ce})).apply(this,arguments)}function on(H){return fn.apply(this,arguments)}function fn(){return(fn=(0,m.Z)(function*(H){const ce=nn(H),le=(yield pt()).transaction(ot,"readwrite");yield le.objectStore(ot).delete(ce),yield le.done})).apply(this,arguments)}function nn({appConfig:H}){return H.appId}const qt=new N.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $t(H,ce){return rn.apply(this,arguments)}function rn(){return(rn=(0,m.Z)(function*(H,ce){var V;const le=yield Un(H),Ve=Wn(ce),xe={method:"POST",headers:le,body:JSON.stringify(Ve)};let St;try{St=yield(yield fetch(An(H.appConfig),xe)).json()}catch(be){throw qt.create("token-subscribe-failed",{errorInfo:null===(V=be)||void 0===V?void 0:V.toString()})}if(St.error)throw qt.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw qt.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function Qt(H,ce){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(H,ce){var V;const le=yield Un(H),Ve=Wn(ce.subscriptionOptions),xe={method:"PATCH",headers:le,body:JSON.stringify(Ve)};let St;try{St=yield(yield fetch(`${An(H.appConfig)}/${ce.token}`,xe)).json()}catch(be){throw qt.create("token-update-failed",{errorInfo:null===(V=be)||void 0===V?void 0:V.toString()})}if(St.error)throw qt.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw qt.create("token-update-no-token");return St.token})).apply(this,arguments)}function Xt(H,ce){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(H,ce){var V;const Ve={method:"DELETE",headers:yield Un(H)};try{const St=yield(yield fetch(`${An(H.appConfig)}/${ce}`,Ve)).json();if(St.error)throw qt.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(xe){throw qt.create("token-unsubscribe-failed",{errorInfo:null===(V=xe)||void 0===V?void 0:V.toString()})}})).apply(this,arguments)}function An({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function Un(H){return kn.apply(this,arguments)}function kn(){return(kn=(0,m.Z)(function*({appConfig:H,installations:ce}){const V=yield ce.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Wn({p256dh:H,auth:ce,endpoint:V,vapidKey:le}){const Ve={web:{endpoint:V,auth:ce,p256dh:H}};return le!==ge&&(Ve.web.applicationPubKey=le),Ve}const $n=6048e5;function Hn(H){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(H){const ce=yield Ze(H.swRegistration,H.vapidKey),V={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:ce.endpoint,auth:Ue(ce.getKey("auth")),p256dh:Ue(ce.getKey("p256dh"))},le=yield Rt(H.firebaseDependencies);if(le){if(Wt(le.subscriptionOptions,V))return Date.now()>=le.createTime+$n?Be(H,{token:le.token,createTime:Date.now(),subscriptionOptions:V}):le.token;try{yield Xt(H.firebaseDependencies,le.token)}catch(Ve){console.warn(Ve)}return me(H.firebaseDependencies,V)}return me(H.firebaseDependencies,V)})).apply(this,arguments)}function Qn(H){return vn.apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(H){const ce=yield Rt(H.firebaseDependencies);ce&&(yield Xt(H.firebaseDependencies,ce.token),yield on(H.firebaseDependencies));const V=yield H.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Be(H,ce){return ae.apply(this,arguments)}function ae(){return(ae=(0,m.Z)(function*(H,ce){try{const V=yield Qt(H.firebaseDependencies,ce),le=Object.assign(Object.assign({},ce),{token:V,createTime:Date.now()});return yield Jt(H.firebaseDependencies,le),V}catch(V){throw yield Qn(H),V}})).apply(this,arguments)}function me(H,ce){return nt.apply(this,arguments)}function nt(){return(nt=(0,m.Z)(function*(H,ce){const le={token:yield $t(H,ce),createTime:Date.now(),subscriptionOptions:ce};return yield Jt(H,le),le.token})).apply(this,arguments)}function Ze(H,ce){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(H,ce){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mt(ce)})})).apply(this,arguments)}function Wt(H,ce){return ce.vapidKey===H.vapidKey&&ce.endpoint===H.endpoint&&ce.auth===H.auth&&ce.p256dh===H.p256dh}function cn(H){const ce={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function Gt(H,ce){if(!ce.notification)return;H.notification={};const V=ce.notification.title;V&&(H.notification.title=V);const le=ce.notification.body;le&&(H.notification.body=le);const Ve=ce.notification.image;Ve&&(H.notification.image=Ve)}(ce,H),function yt(H,ce){!ce.data||(H.data=ce.data)}(ce,H),function Le(H,ce){var V,le,Ve,xe,St;if(!(ce.fcmOptions||null!==(V=ce.notification)&&void 0!==V&&V.click_action))return;H.fcmOptions={};const be=null!==(Ve=null===(le=ce.fcmOptions)||void 0===le?void 0:le.link)&&void 0!==Ve?Ve:null===(xe=ce.notification)||void 0===xe?void 0:xe.click_action;be&&(H.fcmOptions.link=be);const ht=null===(St=ce.fcmOptions)||void 0===St?void 0:St.analytics_label;ht&&(H.fcmOptions.analyticsLabel=ht)}(ce,H),ce}function vt(H){return"object"==typeof H&&!!H&&ye in H}function Ht(H,ce){const V=[];for(let le=0;le<H.length;le++)V.push(H.charAt(le)),le<ce.length&&V.push(ce.charAt(le));return V.join("")}function Rn(H){return qt.create("missing-app-config-values",{valueName:H})}Ht("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ht("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _n{constructor(ce,V,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function un(H){if(!H||!H.options)throw Rn("App Configuration Object");if(!H.name)throw Rn("App Name");const ce=["projectId","apiKey","appId","messagingSenderId"],{options:V}=H;for(const le of ce)if(!V[le])throw Rn(le);return{appName:H.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(ce);this.firebaseDependencies={app:ce,appConfig:Ve,installations:V,analyticsProvider:le}}_delete(){return Promise.resolve()}}function Ot(H){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(H){var ce;try{H.swRegistration=yield navigator.serviceWorker.register(tt,{scope:pe}),H.swRegistration.update().catch(()=>{})}catch(V){throw qt.create("failed-service-worker-registration",{browserErrorMessage:null===(ce=V)||void 0===ce?void 0:ce.message})}})).apply(this,arguments)}function te(H,ce){return oe.apply(this,arguments)}function oe(){return(oe=(0,m.Z)(function*(H,ce){if(!ce&&!H.swRegistration&&(yield Ot(H)),ce||!H.swRegistration){if(!(ce instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");H.swRegistration=ce}})).apply(this,arguments)}function K(H,ce){return z.apply(this,arguments)}function z(){return(z=(0,m.Z)(function*(H,ce){ce?H.vapidKey=ce:H.vapidKey||(H.vapidKey=ge)})).apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(H,ce){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield K(H,ce?.vapidKey),yield te(H,ce?.serviceWorkerRegistration),Hn(H)})).apply(this,arguments)}function ft(H,ce,V){return it.apply(this,arguments)}function it(){return(it=(0,m.Z)(function*(H,ce,V){const le=It(ce);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:V[ye],message_name:V[we],message_time:V[Ge],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function It(H){switch(H){case Pt.NOTIFICATION_CLICKED:return"notification_open";case Pt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function We(){return(We=(0,m.Z)(function*(H,ce){const V=ce.data;if(!V.isFirebaseMessaging)return;H.onMessageHandler&&V.messageType===Pt.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(cn(V)):H.onMessageHandler.next(cn(V)));const le=V.data;vt(le)&&"1"===le[ut]&&(yield ft(H,V.messageType,le))})).apply(this,arguments)}const qe="@firebase/messaging",Te=H=>{const ce=new _n(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Bt(H,ce){return We.apply(this,arguments)}(ce,V)),ce},ne=H=>{const ce=H.getProvider("messaging").getImmediate();return{getToken:le=>function ue(H,ce){return J.apply(this,arguments)}(ce,le)}};function _t(){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(){try{yield(0,N.eu)()}catch{return!1}return typeof window<"u"&&(0,N.hl)()&&(0,N.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function de(H=(0,et.getApp)()){return _t().then(ce=>{if(!ce)throw qt.create("unsupported-browser")},ce=>{throw qt.create("indexed-db-unsupported")}),(0,et._getProvider)((0,N.m9)(H),"messaging").getImmediate()}!function Ne(){(0,et._registerComponent)(new A.wA("messaging",Te,"PUBLIC")),(0,et._registerComponent)(new A.wA("messaging-internal",ne,"PRIVATE")),(0,et.registerVersion)(qe,"0.9.19"),(0,et.registerVersion)(qe,"0.9.19","esm2017")}()},3226:(bn,Tt,S)=>{S.d(Tt,{sN:()=>jt,Gb:()=>Gn});var m=S(5861),h=S(9681),A=S(2090),Se=S(4859),N=S(1877);S(2833);const tt="@firebase/remote-config",X="remote-config",we=new A.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function jt(vn=(0,h.getApp)()){return vn=(0,A.m9)(vn),(0,h._getProvider)(vn,X).getImmediate()}class Jt{constructor(Be,ae,me,nt){this.client=Be,this.storage=ae,this.storageCache=me,this.logger=nt}isCachedDataFresh(Be,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-ae,nt=me<=Be;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${Be}. Is cache hit: ${nt}.`),nt}fetch(Be){var ae=this;return(0,m.Z)(function*(){const[me,nt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(nt&&ae.isCachedDataFresh(Be.cacheMaxAgeMillis,me))return nt;Be.eTag=nt&&nt.eTag;const Ze=yield ae.client.fetch(Be),Ct=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&Ct.push(ae.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(Ct),Ze})()}}function Zt(vn=navigator){return vn.languages&&vn.languages[0]||vn.language}class on{constructor(Be,ae,me,nt,Ze,Ct){this.firebaseInstallations=Be,this.sdkVersion=ae,this.namespace=me,this.projectId=nt,this.apiKey=Ze,this.appId=Ct}fetch(Be){var ae=this;return(0,m.Z)(function*(){var me,nt,Ze;const[Ct,Wt]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),Gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Be.eTag||"*"},Le={sdk_version:ae.sdkVersion,app_instance_id:Ct,app_instance_id_token:Wt,app_id:ae.appId,language_code:Zt()},vt={method:"POST",headers:yt,body:JSON.stringify(Le)},Ht=fetch(Gt,vt),un=new Promise((oe,K)=>{Be.signal.addEventListener(()=>{const z=new Error("The operation was aborted.");z.name="AbortError",K(z)})});let Rn;try{yield Promise.race([Ht,un]),Rn=yield Ht}catch(oe){let K="fetch-client-network";throw"AbortError"===(null===(me=oe)||void 0===me?void 0:me.name)&&(K="fetch-timeout"),we.create(K,{originalErrorMessage:null===(nt=oe)||void 0===nt?void 0:nt.message})}let _n=Rn.status;const Ot=Rn.headers.get("ETag")||void 0;let Mt,te;if(200===Rn.status){let oe;try{oe=yield Rn.json()}catch(K){throw we.create("fetch-client-parse",{originalErrorMessage:null===(Ze=K)||void 0===Ze?void 0:Ze.message})}Mt=oe.entries,te=oe.state}if("INSTANCE_STATE_UNSPECIFIED"===te?_n=500:"NO_CHANGE"===te?_n=304:("NO_TEMPLATE"===te||"EMPTY_CONFIG"===te)&&(Mt={}),304!==_n&&200!==_n)throw we.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:Ot,config:Mt}})()}}class wt{constructor(Be,ae){this.client=Be,this.storage=ae}fetch(Be){var ae=this;return(0,m.Z)(function*(){const me=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(Be,me)})()}attemptFetch(Be,{throttleEndTimeMillis:ae,backoffCount:me}){var nt=this;return(0,m.Z)(function*(){yield function fn(vn,Be){return new Promise((ae,me)=>{const nt=Math.max(Be-Date.now(),0),Ze=setTimeout(ae,nt);vn.addEventListener(()=>{clearTimeout(Ze),me(we.create("fetch-throttle",{throttleEndTimeMillis:Be}))})})}(Be.signal,ae);try{const Ze=yield nt.client.fetch(Be);return yield nt.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function nn(vn){if(!(vn instanceof A.ZR&&vn.customData))return!1;const Be=Number(vn.customData.httpStatus);return 429===Be||500===Be||503===Be||504===Be}(Ze))throw Ze;const Ct={throttleEndTimeMillis:Date.now()+(0,A.$s)(me),backoffCount:me+1};return yield nt.storage.setThrottleMetadata(Ct),nt.attemptFetch(Be,Ct)}})()}}class rn{constructor(Be,ae,me,nt,Ze){this.app=Be,this._client=ae,this._storageCache=me,this._storage=nt,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qt(vn,Be){var ae;const me=vn.target.error||void 0;return we.create(Be,{originalErrorMessage:me&&(null===(ae=me)||void 0===ae?void 0:ae.message)})}const Cn="app_namespace_store";class Un{constructor(Be,ae,me,nt=function An(){return new Promise((vn,Be)=>{var ae;try{const me=indexedDB.open("firebase_remote_config",1);me.onerror=nt=>{Be(Qt(nt,"storage-open"))},me.onsuccess=nt=>{vn(nt.target.result)},me.onupgradeneeded=nt=>{0===nt.oldVersion&&nt.target.result.createObjectStore(Cn,{keyPath:"compositeKey"})}}catch(me){Be(we.create("storage-open",{originalErrorMessage:null===(ae=me)||void 0===ae?void 0:ae.message}))}})}()){this.appId=Be,this.appName=ae,this.namespace=me,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Be){return this.set("last_fetch_status",Be)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Be){return this.set("last_successful_fetch_timestamp_millis",Be)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Be){return this.set("last_successful_fetch_response",Be)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Be){return this.set("active_config",Be)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Be){return this.set("active_config_etag",Be)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Be){return this.set("throttle_metadata",Be)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Be){var ae=this;return(0,m.Z)(function*(){const me=yield ae.openDbPromise;return new Promise((nt,Ze)=>{var Ct;const cn=me.transaction([Cn],"readonly").objectStore(Cn),Gt=ae.createCompositeKey(Be);try{const yt=cn.get(Gt);yt.onerror=Le=>{Ze(Qt(Le,"storage-get"))},yt.onsuccess=Le=>{const vt=Le.target.result;nt(vt?vt.value:void 0)}}catch(yt){Ze(we.create("storage-get",{originalErrorMessage:null===(Ct=yt)||void 0===Ct?void 0:Ct.message}))}})})()}set(Be,ae){var me=this;return(0,m.Z)(function*(){const nt=yield me.openDbPromise;return new Promise((Ze,Ct)=>{var Wt;const Gt=nt.transaction([Cn],"readwrite").objectStore(Cn),yt=me.createCompositeKey(Be);try{const Le=Gt.put({compositeKey:yt,value:ae});Le.onerror=vt=>{Ct(Qt(vt,"storage-set"))},Le.onsuccess=()=>{Ze()}}catch(Le){Ct(we.create("storage-set",{originalErrorMessage:null===(Wt=Le)||void 0===Wt?void 0:Wt.message}))}})})()}delete(Be){var ae=this;return(0,m.Z)(function*(){const me=yield ae.openDbPromise;return new Promise((nt,Ze)=>{var Ct;const cn=me.transaction([Cn],"readwrite").objectStore(Cn),Gt=ae.createCompositeKey(Be);try{const yt=cn.delete(Gt);yt.onerror=Le=>{Ze(Qt(Le,"storage-delete"))},yt.onsuccess=()=>{nt()}}catch(yt){Ze(we.create("storage-delete",{originalErrorMessage:null===(Ct=yt)||void 0===Ct?void 0:Ct.message}))}})})()}createCompositeKey(Be){return[this.appId,this.appName,this.namespace,Be].join()}}class kn{constructor(Be){this.storage=Be}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Be=this;return(0,m.Z)(function*(){const ae=Be.storage.getLastFetchStatus(),me=Be.storage.getLastSuccessfulFetchTimestampMillis(),nt=Be.storage.getActiveConfig(),Ze=yield ae;Ze&&(Be.lastFetchStatus=Ze);const Ct=yield me;Ct&&(Be.lastSuccessfulFetchTimestampMillis=Ct);const Wt=yield nt;Wt&&(Be.activeConfig=Wt)})()}setLastFetchStatus(Be){return this.lastFetchStatus=Be,this.storage.setLastFetchStatus(Be)}setLastSuccessfulFetchTimestampMillis(Be){return this.lastSuccessfulFetchTimestampMillis=Be,this.storage.setLastSuccessfulFetchTimestampMillis(Be)}setActiveConfig(Be){return this.activeConfig=Be,this.storage.setActiveConfig(Be)}}function Gn(){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,m.Z)(function*(){if(!(0,A.hl)())return!1;try{return yield(0,A.eu)()}catch{return!1}})).apply(this,arguments)}!function Wn(){(0,h._registerComponent)(new Se.wA(X,function vn(Be,{instanceIdentifier:ae}){const me=Be.getProvider("app").getImmediate(),nt=Be.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw we.create("registration-window");if(!(0,A.hl)())throw we.create("indexed-db-unavailable");const{projectId:Ze,apiKey:Ct,appId:Wt}=me.options;if(!Ze)throw we.create("registration-project-id");if(!Ct)throw we.create("registration-api-key");if(!Wt)throw we.create("registration-app-id");const cn=new Un(Wt,me.name,ae=ae||"firebase"),Gt=new kn(cn),yt=new N.Yd(tt);yt.logLevel=N.in.ERROR;const Le=new on(nt,h.SDK_VERSION,ae,Ze,Ct,Wt),vt=new wt(Le,cn),Ht=new Jt(vt,cn,Gt,yt),un=new rn(me,Ht,Gt,cn,yt);return function He(vn){const Be=(0,A.m9)(vn);Be._initializePromise||(Be._initializePromise=Be._storageCache.loadFromStorage().then(()=>{Be._isInitializationComplete=!0}))}(un),un},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(tt,"0.3.14"),(0,h.registerVersion)(tt,"0.3.14","esm2017")}()},1135:(bn,Tt,S)=>{S.d(Tt,{X:()=>h});var m=S(7579);class h extends m.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const N=super._subscribe(Se);return!N.closed&&Se.next(this._value),N}getValue(){const{hasError:Se,thrownError:N,_value:et}=this;if(Se)throw N;return this._throwIfClosed(),et}next(Se){super.next(this._value=Se)}}},9751:(bn,Tt,S)=>{S.d(Tt,{y:()=>pe});var m=S(930),h=S(727),A=S(8822),Se=S(9635),N=S(2416),et=S(576),tt=S(2806);let pe=(()=>{class we{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const dt=new we;return dt.source=this,dt.operator=ut,dt}subscribe(ut,dt,Pt){const Ue=function ye(we){return we&&we instanceof m.Lv||function X(we){return we&&(0,et.m)(we.next)&&(0,et.m)(we.error)&&(0,et.m)(we.complete)}(we)&&(0,h.Nn)(we)}(ut)?ut:new m.Hp(ut,dt,Pt);return(0,tt.x)(()=>{const{operator:mt,source:jt}=this;Ue.add(mt?mt.call(Ue,jt):jt?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(ut){try{return this._subscribe(ut)}catch(dt){ut.error(dt)}}forEach(ut,dt){return new(dt=ge(dt))((Pt,Ue)=>{const mt=new m.Hp({next:jt=>{try{ut(jt)}catch(kt){Ue(kt),mt.unsubscribe()}},error:Ue,complete:Pt});this.subscribe(mt)})}_subscribe(ut){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(ut)}[A.L](){return this}pipe(...ut){return(0,Se.U)(ut)(this)}toPromise(ut){return new(ut=ge(ut))((dt,Pt)=>{let Ue;this.subscribe(mt=>Ue=mt,mt=>Pt(mt),()=>dt(Ue))})}}return we.create=Ge=>new we(Ge),we})();function ge(we){var Ge;return null!==(Ge=we??N.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(bn,Tt,S)=>{S.d(Tt,{x:()=>tt});var m=S(9751),h=S(727);const Se=(0,S(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var N=S(8737),et=S(2806);let tt=(()=>{class ge extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const we=new pe(this,this);return we.operator=ye,we}_throwIfClosed(){if(this.closed)throw new Se}next(ye){(0,et.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(ye)}})}error(ye){(0,et.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:we}=this;for(;we.length;)we.shift().error(ye)}})}complete(){(0,et.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:we,isStopped:Ge,observers:ut}=this;return we||Ge?h.Lc:(this.currentObservers=null,ut.push(ye),new h.w0(()=>{this.currentObservers=null,(0,N.P)(ut,ye)}))}_checkFinalizedStatuses(ye){const{hasError:we,thrownError:Ge,isStopped:ut}=this;we?ye.error(Ge):ut&&ye.complete()}asObservable(){const ye=new m.y;return ye.source=this,ye}}return ge.create=(X,ye)=>new pe(X,ye),ge})();class pe extends tt{constructor(X,ye){super(),this.destination=X,this.source=ye}next(X){var ye,we;null===(we=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===we||we.call(ye,X)}error(X){var ye,we;null===(we=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===we||we.call(ye,X)}complete(){var X,ye;null===(ye=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ye||ye.call(X)}_subscribe(X){var ye,we;return null!==(we=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(X))&&void 0!==we?we:h.Lc}}},930:(bn,Tt,S)=>{S.d(Tt,{Hp:()=>Pt,Lv:()=>we});var m=S(576),h=S(727),A=S(2416),Se=S(7849),N=S(5032);const et=ge("C",void 0,void 0);function ge(at,He,je){return{kind:at,value:He,error:je}}var X=S(3410),ye=S(2806);class we extends h.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,h.Nn)(He)&&He.add(this)):this.destination=kt}static create(He,je,$e){return new Pt(He,je,$e)}next(He){this.isStopped?jt(function pe(at){return ge("N",at,void 0)}(He),this):this._next(He)}error(He){this.isStopped?jt(function tt(at){return ge("E",void 0,at)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?jt(et,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ut(at,He){return Ge.call(at,He)}class dt{constructor(He){this.partialObserver=He}next(He){const{partialObserver:je}=this;if(je.next)try{je.next(He)}catch($e){Ue($e)}}error(He){const{partialObserver:je}=this;if(je.error)try{je.error(He)}catch($e){Ue($e)}else Ue(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(je){Ue(je)}}}class Pt extends we{constructor(He,je,$e){let Oe;if(super(),(0,m.m)(He)||!He)Oe={next:He??void 0,error:je??void 0,complete:$e??void 0};else{let rt;this&&A.v.useDeprecatedNextContext?(rt=Object.create(He),rt.unsubscribe=()=>this.unsubscribe(),Oe={next:He.next&&ut(He.next,rt),error:He.error&&ut(He.error,rt),complete:He.complete&&ut(He.complete,rt)}):Oe=He}this.destination=new dt(Oe)}}function Ue(at){A.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(at):(0,Se.h)(at)}function jt(at,He){const{onStoppedNotification:je}=A.v;je&&X.z.setTimeout(()=>je(at,He))}const kt={closed:!0,next:N.Z,error:function mt(at){throw at},complete:N.Z}},727:(bn,Tt,S)=>{S.d(Tt,{Lc:()=>et,w0:()=>N,Nn:()=>tt});var m=S(576);const A=(0,S(3888).d)(ge=>function(ye){ge(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((we,Ge)=>`${Ge+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var Se=S(8737);class N{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const ut of ye)ut.remove(this);else ye.remove(this);const{initialTeardown:we}=this;if((0,m.m)(we))try{we()}catch(ut){X=ut instanceof A?ut.errors:[ut]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const ut of Ge)try{pe(ut)}catch(dt){X=X??[],dt instanceof A?X=[...X,...dt.errors]:X.push(dt)}}if(X)throw new A(X)}}add(X){var ye;if(X&&X!==this)if(this.closed)pe(X);else{if(X instanceof N){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(X)}}_hasParent(X){const{_parentage:ye}=this;return ye===X||Array.isArray(ye)&&ye.includes(X)}_addParent(X){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(X),ye):ye?[ye,X]:X}_removeParent(X){const{_parentage:ye}=this;ye===X?this._parentage=null:Array.isArray(ye)&&(0,Se.P)(ye,X)}remove(X){const{_finalizers:ye}=this;ye&&(0,Se.P)(ye,X),X instanceof N&&X._removeParent(this)}}N.EMPTY=(()=>{const ge=new N;return ge.closed=!0,ge})();const et=N.EMPTY;function tt(ge){return ge instanceof N||ge&&"closed"in ge&&(0,m.m)(ge.remove)&&(0,m.m)(ge.add)&&(0,m.m)(ge.unsubscribe)}function pe(ge){(0,m.m)(ge)?ge():ge.unsubscribe()}},2416:(bn,Tt,S)=>{S.d(Tt,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(bn,Tt,S)=>{S.d(Tt,{a:()=>X});var m=S(9751),h=S(4742),A=S(8996),Se=S(4671),N=S(3268),et=S(3269),tt=S(1810),pe=S(5403),ge=S(9672);function X(...Ge){const ut=(0,et.yG)(Ge),dt=(0,et.jO)(Ge),{args:Pt,keys:Ue}=(0,h.D)(Ge);if(0===Pt.length)return(0,A.D)([],ut);const mt=new m.y(function ye(Ge,ut,dt=Se.y){return Pt=>{we(ut,()=>{const{length:Ue}=Ge,mt=new Array(Ue);let jt=Ue,kt=Ue;for(let at=0;at<Ue;at++)we(ut,()=>{const He=(0,A.D)(Ge[at],ut);let je=!1;He.subscribe((0,pe.x)(Pt,$e=>{mt[at]=$e,je||(je=!0,kt--),kt||Pt.next(dt(mt.slice()))},()=>{--jt||Pt.complete()}))},Pt)},Pt)}}(Pt,ut,Ue?jt=>(0,tt.n)(Ue,jt):Se.y));return dt?mt.pipe((0,N.Z)(dt)):mt}function we(Ge,ut,dt){Ge?(0,ge.f)(dt,Ge,ut):ut()}},7272:(bn,Tt,S)=>{S.d(Tt,{z:()=>N});var m=S(8189),A=S(3269),Se=S(8996);function N(...et){return function h(){return(0,m.J)(1)}()((0,Se.D)(et,(0,A.yG)(et)))}},9770:(bn,Tt,S)=>{S.d(Tt,{P:()=>A});var m=S(9751),h=S(8421);function A(Se){return new m.y(N=>{(0,h.Xf)(Se()).subscribe(N)})}},515:(bn,Tt,S)=>{S.d(Tt,{E:()=>h});const h=new(S(9751).y)(N=>N.complete())},4128:(bn,Tt,S)=>{S.d(Tt,{D:()=>pe});var m=S(9751),h=S(4742),A=S(8421),Se=S(3269),N=S(5403),et=S(3268),tt=S(1810);function pe(...ge){const X=(0,Se.jO)(ge),{args:ye,keys:we}=(0,h.D)(ge),Ge=new m.y(ut=>{const{length:dt}=ye;if(!dt)return void ut.complete();const Pt=new Array(dt);let Ue=dt,mt=dt;for(let jt=0;jt<dt;jt++){let kt=!1;(0,A.Xf)(ye[jt]).subscribe((0,N.x)(ut,at=>{kt||(kt=!0,mt--),Pt[jt]=at},()=>Ue--,void 0,()=>{(!Ue||!kt)&&(mt||ut.next(we?(0,tt.n)(we,Pt):Pt),ut.complete())}))}});return X?Ge.pipe((0,et.Z)(X)):Ge}},8996:(bn,Tt,S)=>{S.d(Tt,{D:()=>He});var m=S(8421),h=S(5363),A=S(9468),et=S(9751),pe=S(2202),ge=S(576),X=S(9672);function we(je,$e){if(!je)throw new Error("Iterable cannot be null");return new et.y(Oe=>{(0,X.f)(Oe,$e,()=>{const rt=je[Symbol.asyncIterator]();(0,X.f)(Oe,$e,()=>{rt.next().then(ot=>{ot.done?Oe.complete():Oe.next(ot.value)})},0,!0)})})}var Ge=S(3670),ut=S(8239),dt=S(1144),Pt=S(6495),Ue=S(2206),mt=S(4532),jt=S(3260);function He(je,$e){return $e?function at(je,$e){if(null!=je){if((0,Ge.c)(je))return function Se(je,$e){return(0,m.Xf)(je).pipe((0,A.R)($e),(0,h.Q)($e))}(je,$e);if((0,dt.z)(je))return function tt(je,$e){return new et.y(Oe=>{let rt=0;return $e.schedule(function(){rt===je.length?Oe.complete():(Oe.next(je[rt++]),Oe.closed||this.schedule())})})}(je,$e);if((0,ut.t)(je))return function N(je,$e){return(0,m.Xf)(je).pipe((0,A.R)($e),(0,h.Q)($e))}(je,$e);if((0,Ue.D)(je))return we(je,$e);if((0,Pt.T)(je))return function ye(je,$e){return new et.y(Oe=>{let rt;return(0,X.f)(Oe,$e,()=>{rt=je[pe.h](),(0,X.f)(Oe,$e,()=>{let ot,st;try{({value:ot,done:st}=rt.next())}catch(pt){return void Oe.error(pt)}st?Oe.complete():Oe.next(ot)},0,!0)}),()=>(0,ge.m)(rt?.return)&&rt.return()})}(je,$e);if((0,jt.L)(je))return function kt(je,$e){return we((0,jt.Q)(je),$e)}(je,$e)}throw(0,mt.z)(je)}(je,$e):(0,m.Xf)(je)}},4968:(bn,Tt,S)=>{S.d(Tt,{R:()=>X});var m=S(8421),h=S(9751),A=S(5577),Se=S(1144),N=S(576),et=S(3268);const tt=["addListener","removeListener"],pe=["addEventListener","removeEventListener"],ge=["on","off"];function X(dt,Pt,Ue,mt){if((0,N.m)(Ue)&&(mt=Ue,Ue=void 0),mt)return X(dt,Pt,Ue).pipe((0,et.Z)(mt));const[jt,kt]=function ut(dt){return(0,N.m)(dt.addEventListener)&&(0,N.m)(dt.removeEventListener)}(dt)?pe.map(at=>He=>dt[at](Pt,He,Ue)):function we(dt){return(0,N.m)(dt.addListener)&&(0,N.m)(dt.removeListener)}(dt)?tt.map(ye(dt,Pt)):function Ge(dt){return(0,N.m)(dt.on)&&(0,N.m)(dt.off)}(dt)?ge.map(ye(dt,Pt)):[];if(!jt&&(0,Se.z)(dt))return(0,A.z)(at=>X(at,Pt,Ue))((0,m.Xf)(dt));if(!jt)throw new TypeError("Invalid event target");return new h.y(at=>{const He=(...je)=>at.next(1<je.length?je:je[0]);return jt(He),()=>kt(He)})}function ye(dt,Pt){return Ue=>mt=>dt[Ue](Pt,mt)}},8421:(bn,Tt,S)=>{S.d(Tt,{Xf:()=>Ge});var m=S(655),h=S(1144),A=S(8239),Se=S(9751),N=S(3670),et=S(2206),tt=S(4532),pe=S(6495),ge=S(3260),X=S(576),ye=S(7849),we=S(8822);function Ge(at){if(at instanceof Se.y)return at;if(null!=at){if((0,N.c)(at))return function ut(at){return new Se.y(He=>{const je=at[we.L]();if((0,X.m)(je.subscribe))return je.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,h.z)(at))return function dt(at){return new Se.y(He=>{for(let je=0;je<at.length&&!He.closed;je++)He.next(at[je]);He.complete()})}(at);if((0,A.t)(at))return function Pt(at){return new Se.y(He=>{at.then(je=>{He.closed||(He.next(je),He.complete())},je=>He.error(je)).then(null,ye.h)})}(at);if((0,et.D)(at))return mt(at);if((0,pe.T)(at))return function Ue(at){return new Se.y(He=>{for(const je of at)if(He.next(je),He.closed)return;He.complete()})}(at);if((0,ge.L)(at))return function jt(at){return mt((0,ge.Q)(at))}(at)}throw(0,tt.z)(at)}function mt(at){return new Se.y(He=>{(function kt(at,He){var je,$e,Oe,rt;return(0,m.mG)(this,void 0,void 0,function*(){try{for(je=(0,m.KL)(at);!($e=yield je.next()).done;)if(He.next($e.value),He.closed)return}catch(ot){Oe={error:ot}}finally{try{$e&&!$e.done&&(rt=je.return)&&(yield rt.call(je))}finally{if(Oe)throw Oe.error}}He.complete()})})(at,He).catch(je=>He.error(je))})}},6451:(bn,Tt,S)=>{S.d(Tt,{T:()=>et});var m=S(8189),h=S(8421),A=S(515),Se=S(3269),N=S(8996);function et(...tt){const pe=(0,Se.yG)(tt),ge=(0,Se._6)(tt,1/0),X=tt;return X.length?1===X.length?(0,h.Xf)(X[0]):(0,m.J)(ge)((0,N.D)(X,pe)):A.E}},9646:(bn,Tt,S)=>{S.d(Tt,{of:()=>A});var m=S(3269),h=S(8996);function A(...Se){const N=(0,m.yG)(Se);return(0,h.D)(Se,N)}},2843:(bn,Tt,S)=>{S.d(Tt,{_:()=>A});var m=S(9751),h=S(576);function A(Se,N){const et=(0,h.m)(Se)?Se:()=>Se,tt=pe=>pe.error(et());return new m.y(N?pe=>N.schedule(tt,0,pe):tt)}},5963:(bn,Tt,S)=>{S.d(Tt,{H:()=>N});var m=S(9751),h=S(4986),A=S(3532);function N(et=0,tt,pe=h.P){let ge=-1;return null!=tt&&((0,A.K)(tt)?pe=tt:ge=tt),new m.y(X=>{let ye=function Se(et){return et instanceof Date&&!isNaN(et)}(et)?+et-pe.now():et;ye<0&&(ye=0);let we=0;return pe.schedule(function(){X.closed||(X.next(we++),0<=ge?this.schedule(void 0,ge):X.complete())},ye)})}},5403:(bn,Tt,S)=>{S.d(Tt,{Q:()=>A,x:()=>h});var m=S(930);function h(Se,N,et,tt,pe){return new A(Se,N,et,tt,pe)}class A extends m.Lv{constructor(N,et,tt,pe,ge,X){super(N),this.onFinalize=ge,this.shouldUnsubscribe=X,this._next=et?function(ye){try{et(ye)}catch(we){N.error(we)}}:super._next,this._error=pe?function(ye){try{pe(ye)}catch(we){N.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=tt?function(){try{tt()}catch(ye){N.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var N;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:et}=this;super.unsubscribe(),!et&&(null===(N=this.onFinalize)||void 0===N||N.call(this))}}}},262:(bn,Tt,S)=>{S.d(Tt,{K:()=>Se});var m=S(8421),h=S(5403),A=S(4482);function Se(N){return(0,A.e)((et,tt)=>{let X,pe=null,ge=!1;pe=et.subscribe((0,h.x)(tt,void 0,void 0,ye=>{X=(0,m.Xf)(N(ye,Se(N)(et))),pe?(pe.unsubscribe(),pe=null,X.subscribe(tt)):ge=!0})),ge&&(pe.unsubscribe(),pe=null,X.subscribe(tt))})}},4351:(bn,Tt,S)=>{S.d(Tt,{b:()=>A});var m=S(5577),h=S(576);function A(Se,N){return(0,h.m)(N)?(0,m.z)(Se,N,1):(0,m.z)(Se,1)}},8372:(bn,Tt,S)=>{S.d(Tt,{b:()=>Se});var m=S(4986),h=S(4482),A=S(5403);function Se(N,et=m.z){return(0,h.e)((tt,pe)=>{let ge=null,X=null,ye=null;const we=()=>{if(ge){ge.unsubscribe(),ge=null;const ut=X;X=null,pe.next(ut)}};function Ge(){const ut=ye+N,dt=et.now();if(dt<ut)return ge=this.schedule(void 0,ut-dt),void pe.add(ge);we()}tt.subscribe((0,A.x)(pe,ut=>{X=ut,ye=et.now(),ge||(ge=et.schedule(Ge,N),pe.add(ge))},()=>{we(),pe.complete()},void 0,()=>{X=ge=null}))})}},6590:(bn,Tt,S)=>{S.d(Tt,{d:()=>A});var m=S(4482),h=S(5403);function A(Se){return(0,m.e)((N,et)=>{let tt=!1;N.subscribe((0,h.x)(et,pe=>{tt=!0,et.next(pe)},()=>{tt||et.next(Se),et.complete()}))})}},1884:(bn,Tt,S)=>{S.d(Tt,{x:()=>Se});var m=S(4671),h=S(4482),A=S(5403);function Se(et,tt=m.y){return et=et??N,(0,h.e)((pe,ge)=>{let X,ye=!0;pe.subscribe((0,A.x)(ge,we=>{const Ge=tt(we);(ye||!et(X,Ge))&&(ye=!1,X=Ge,ge.next(we))}))})}function N(et,tt){return et===tt}},9300:(bn,Tt,S)=>{S.d(Tt,{h:()=>A});var m=S(4482),h=S(5403);function A(Se,N){return(0,m.e)((et,tt)=>{let pe=0;et.subscribe((0,h.x)(tt,ge=>Se.call(N,ge,pe++)&&tt.next(ge)))})}},8746:(bn,Tt,S)=>{S.d(Tt,{x:()=>h});var m=S(4482);function h(A){return(0,m.e)((Se,N)=>{try{Se.subscribe(N)}finally{N.add(A)}})}},590:(bn,Tt,S)=>{S.d(Tt,{P:()=>tt});var m=S(6805),h=S(9300),A=S(5698),Se=S(6590),N=S(8068),et=S(4671);function tt(pe,ge){const X=arguments.length>=2;return ye=>ye.pipe(pe?(0,h.h)((we,Ge)=>pe(we,Ge,ye)):et.y,(0,A.q)(1),X?(0,Se.d)(ge):(0,N.T)(()=>new m.K))}},4004:(bn,Tt,S)=>{S.d(Tt,{U:()=>A});var m=S(4482),h=S(5403);function A(Se,N){return(0,m.e)((et,tt)=>{let pe=0;et.subscribe((0,h.x)(tt,ge=>{tt.next(Se.call(N,ge,pe++))}))})}},9718:(bn,Tt,S)=>{S.d(Tt,{h:()=>h});var m=S(4004);function h(A){return(0,m.U)(()=>A)}},8189:(bn,Tt,S)=>{S.d(Tt,{J:()=>A});var m=S(5577),h=S(4671);function A(Se=1/0){return(0,m.z)(h.y,Se)}},5577:(bn,Tt,S)=>{S.d(Tt,{z:()=>pe});var m=S(4004),h=S(8421),A=S(4482),Se=S(9672),N=S(5403),tt=S(576);function pe(ge,X,ye=1/0){return(0,tt.m)(X)?pe((we,Ge)=>(0,m.U)((ut,dt)=>X(we,ut,Ge,dt))((0,h.Xf)(ge(we,Ge))),ye):("number"==typeof X&&(ye=X),(0,A.e)((we,Ge)=>function et(ge,X,ye,we,Ge,ut,dt,Pt){const Ue=[];let mt=0,jt=0,kt=!1;const at=()=>{kt&&!Ue.length&&!mt&&X.complete()},He=$e=>mt<we?je($e):Ue.push($e),je=$e=>{ut&&X.next($e),mt++;let Oe=!1;(0,h.Xf)(ye($e,jt++)).subscribe((0,N.x)(X,rt=>{Ge?.(rt),ut?He(rt):X.next(rt)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(mt--;Ue.length&&mt<we;){const rt=Ue.shift();dt?(0,Se.f)(X,dt,()=>je(rt)):je(rt)}at()}catch(rt){X.error(rt)}}))};return ge.subscribe((0,N.x)(X,He,()=>{kt=!0,at()})),()=>{Pt?.()}}(we,Ge,ge,ye)))}},5363:(bn,Tt,S)=>{S.d(Tt,{Q:()=>Se});var m=S(9672),h=S(4482),A=S(5403);function Se(N,et=0){return(0,h.e)((tt,pe)=>{tt.subscribe((0,A.x)(pe,ge=>(0,m.f)(pe,N,()=>pe.next(ge),et),()=>(0,m.f)(pe,N,()=>pe.complete(),et),ge=>(0,m.f)(pe,N,()=>pe.error(ge),et)))})}},1520:(bn,Tt,S)=>{S.d(Tt,{G:()=>A});var m=S(4482),h=S(5403);function A(){return(0,m.e)((Se,N)=>{let et,tt=!1;Se.subscribe((0,h.x)(N,pe=>{const ge=et;et=pe,tt&&N.next([ge,pe]),tt=!0}))})}},5026:(bn,Tt,S)=>{S.d(Tt,{R:()=>Se});var m=S(4482),h=S(5403);function A(N,et,tt,pe,ge){return(X,ye)=>{let we=tt,Ge=et,ut=0;X.subscribe((0,h.x)(ye,dt=>{const Pt=ut++;Ge=we?N(Ge,dt,Pt):(we=!0,dt),pe&&ye.next(Ge)},ge&&(()=>{we&&ye.next(Ge),ye.complete()})))}}function Se(N,et){return(0,m.e)(A(N,et,arguments.length>=2,!0))}},3099:(bn,Tt,S)=>{S.d(Tt,{B:()=>et});var m=S(8996),h=S(5698),A=S(7579),Se=S(930),N=S(4482);function et(pe={}){const{connector:ge=(()=>new A.x),resetOnError:X=!0,resetOnComplete:ye=!0,resetOnRefCountZero:we=!0}=pe;return Ge=>{let ut=null,dt=null,Pt=null,Ue=0,mt=!1,jt=!1;const kt=()=>{dt?.unsubscribe(),dt=null},at=()=>{kt(),ut=Pt=null,mt=jt=!1},He=()=>{const je=ut;at(),je?.unsubscribe()};return(0,N.e)((je,$e)=>{Ue++,!jt&&!mt&&kt();const Oe=Pt=Pt??ge();$e.add(()=>{Ue--,0===Ue&&!jt&&!mt&&(dt=tt(He,we))}),Oe.subscribe($e),ut||(ut=new Se.Hp({next:rt=>Oe.next(rt),error:rt=>{jt=!0,kt(),dt=tt(at,X,rt),Oe.error(rt)},complete:()=>{mt=!0,kt(),dt=tt(at,ye),Oe.complete()}}),(0,m.D)(je).subscribe(ut))})(Ge)}}function tt(pe,ge,...X){return!0===ge?(pe(),null):!1===ge?null:ge(...X).pipe((0,h.q)(1)).subscribe(()=>pe())}},5684:(bn,Tt,S)=>{S.d(Tt,{T:()=>h});var m=S(9300);function h(A){return(0,m.h)((Se,N)=>A<=N)}},8675:(bn,Tt,S)=>{S.d(Tt,{O:()=>Se});var m=S(7272),h=S(3269),A=S(4482);function Se(...N){const et=(0,h.yG)(N);return(0,A.e)((tt,pe)=>{(et?(0,m.z)(N,tt,et):(0,m.z)(N,tt)).subscribe(pe)})}},9468:(bn,Tt,S)=>{S.d(Tt,{R:()=>h});var m=S(4482);function h(A,Se=0){return(0,m.e)((N,et)=>{et.add(A.schedule(()=>N.subscribe(et),Se))})}},3900:(bn,Tt,S)=>{S.d(Tt,{w:()=>Se});var m=S(8421),h=S(4482),A=S(5403);function Se(N,et){return(0,h.e)((tt,pe)=>{let ge=null,X=0,ye=!1;const we=()=>ye&&!ge&&pe.complete();tt.subscribe((0,A.x)(pe,Ge=>{ge?.unsubscribe();let ut=0;const dt=X++;(0,m.Xf)(N(Ge,dt)).subscribe(ge=(0,A.x)(pe,Pt=>pe.next(et?et(Ge,Pt,dt,ut++):Pt),()=>{ge=null,we()}))},()=>{ye=!0,we()}))})}},5698:(bn,Tt,S)=>{S.d(Tt,{q:()=>Se});var m=S(515),h=S(4482),A=S(5403);function Se(N){return N<=0?()=>m.E:(0,h.e)((et,tt)=>{let pe=0;et.subscribe((0,A.x)(tt,ge=>{++pe<=N&&(tt.next(ge),N<=pe&&tt.complete())}))})}},2722:(bn,Tt,S)=>{S.d(Tt,{R:()=>N});var m=S(4482),h=S(5403),A=S(8421),Se=S(5032);function N(et){return(0,m.e)((tt,pe)=>{(0,A.Xf)(et).subscribe((0,h.x)(pe,()=>pe.complete(),Se.Z)),!pe.closed&&tt.subscribe(pe)})}},8505:(bn,Tt,S)=>{S.d(Tt,{b:()=>N});var m=S(576),h=S(4482),A=S(5403),Se=S(4671);function N(et,tt,pe){const ge=(0,m.m)(et)||tt||pe?{next:et,error:tt,complete:pe}:et;return ge?(0,h.e)((X,ye)=>{var we;null===(we=ge.subscribe)||void 0===we||we.call(ge);let Ge=!0;X.subscribe((0,A.x)(ye,ut=>{var dt;null===(dt=ge.next)||void 0===dt||dt.call(ge,ut),ye.next(ut)},()=>{var ut;Ge=!1,null===(ut=ge.complete)||void 0===ut||ut.call(ge),ye.complete()},ut=>{var dt;Ge=!1,null===(dt=ge.error)||void 0===dt||dt.call(ge,ut),ye.error(ut)},()=>{var ut,dt;Ge&&(null===(ut=ge.unsubscribe)||void 0===ut||ut.call(ge)),null===(dt=ge.finalize)||void 0===dt||dt.call(ge)}))}):Se.y}},8068:(bn,Tt,S)=>{S.d(Tt,{T:()=>Se});var m=S(6805),h=S(4482),A=S(5403);function Se(et=N){return(0,h.e)((tt,pe)=>{let ge=!1;tt.subscribe((0,A.x)(pe,X=>{ge=!0,pe.next(X)},()=>ge?pe.complete():pe.error(et())))})}function N(){return new m.K}},4408:(bn,Tt,S)=>{S.d(Tt,{o:()=>N});var m=S(727);class h extends m.w0{constructor(tt,pe){super()}schedule(tt,pe=0){return this}}const A={setInterval(et,tt,...pe){const{delegate:ge}=A;return ge?.setInterval?ge.setInterval(et,tt,...pe):setInterval(et,tt,...pe)},clearInterval(et){const{delegate:tt}=A;return(tt?.clearInterval||clearInterval)(et)},delegate:void 0};var Se=S(8737);class N extends h{constructor(tt,pe){super(tt,pe),this.scheduler=tt,this.work=pe,this.pending=!1}schedule(tt,pe=0){if(this.closed)return this;this.state=tt;const ge=this.id,X=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(X,ge,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(X,this.id,pe),this}requestAsyncId(tt,pe,ge=0){return A.setInterval(tt.flush.bind(tt,this),ge)}recycleAsyncId(tt,pe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return pe;A.clearInterval(pe)}execute(tt,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(tt,pe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(tt,pe){let X,ge=!1;try{this.work(tt)}catch(ye){ge=!0,X=ye||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:tt,scheduler:pe}=this,{actions:ge}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(ge,this),null!=tt&&(this.id=this.recycleAsyncId(pe,tt,null)),this.delay=null,super.unsubscribe()}}}},7565:(bn,Tt,S)=>{S.d(Tt,{v:()=>A});var m=S(6063);class h{constructor(N,et=h.now){this.schedulerActionCtor=N,this.now=et}schedule(N,et=0,tt){return new this.schedulerActionCtor(this,N).schedule(tt,et)}}h.now=m.l.now;class A extends h{constructor(N,et=h.now){super(N,et),this.actions=[],this._active=!1,this._scheduled=void 0}flush(N){const{actions:et}=this;if(this._active)return void et.push(N);let tt;this._active=!0;do{if(tt=N.execute(N.state,N.delay))break}while(N=et.shift());if(this._active=!1,tt){for(;N=et.shift();)N.unsubscribe();throw tt}}}},4986:(bn,Tt,S)=>{S.d(Tt,{P:()=>Se,z:()=>A});var m=S(4408);const A=new(S(7565).v)(m.o),Se=A},6063:(bn,Tt,S)=>{S.d(Tt,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(bn,Tt,S)=>{S.d(Tt,{z:()=>m});const m={setTimeout(h,A,...Se){const{delegate:N}=m;return N?.setTimeout?N.setTimeout(h,A,...Se):setTimeout(h,A,...Se)},clearTimeout(h){const{delegate:A}=m;return(A?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(bn,Tt,S)=>{S.d(Tt,{h:()=>h});const h=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bn,Tt,S)=>{S.d(Tt,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(bn,Tt,S)=>{S.d(Tt,{K:()=>h});const h=(0,S(3888).d)(A=>function(){A(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(bn,Tt,S)=>{S.d(Tt,{_6:()=>et,jO:()=>Se,yG:()=>N});var m=S(576),h=S(3532);function A(tt){return tt[tt.length-1]}function Se(tt){return(0,m.m)(A(tt))?tt.pop():void 0}function N(tt){return(0,h.K)(A(tt))?tt.pop():void 0}function et(tt,pe){return"number"==typeof A(tt)?tt.pop():pe}},4742:(bn,Tt,S)=>{S.d(Tt,{D:()=>N});const{isArray:m}=Array,{getPrototypeOf:h,prototype:A,keys:Se}=Object;function N(tt){if(1===tt.length){const pe=tt[0];if(m(pe))return{args:pe,keys:null};if(function et(tt){return tt&&"object"==typeof tt&&h(tt)===A}(pe)){const ge=Se(pe);return{args:ge.map(X=>pe[X]),keys:ge}}}return{args:tt,keys:null}}},8737:(bn,Tt,S)=>{function m(h,A){if(h){const Se=h.indexOf(A);0<=Se&&h.splice(Se,1)}}S.d(Tt,{P:()=>m})},3888:(bn,Tt,S)=>{function m(h){const Se=h(N=>{Error.call(N),N.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}S.d(Tt,{d:()=>m})},1810:(bn,Tt,S)=>{function m(h,A){return h.reduce((Se,N,et)=>(Se[N]=A[et],Se),{})}S.d(Tt,{n:()=>m})},2806:(bn,Tt,S)=>{S.d(Tt,{O:()=>Se,x:()=>A});var m=S(2416);let h=null;function A(N){if(m.v.useDeprecatedSynchronousErrorHandling){const et=!h;if(et&&(h={errorThrown:!1,error:null}),N(),et){const{errorThrown:tt,error:pe}=h;if(h=null,tt)throw pe}}else N()}function Se(N){m.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=N)}},9672:(bn,Tt,S)=>{function m(h,A,Se,N=0,et=!1){const tt=A.schedule(function(){Se(),et?h.add(this.schedule(null,N)):this.unsubscribe()},N);if(h.add(tt),!et)return tt}S.d(Tt,{f:()=>m})},4671:(bn,Tt,S)=>{function m(h){return h}S.d(Tt,{y:()=>m})},1144:(bn,Tt,S)=>{S.d(Tt,{z:()=>m});const m=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(bn,Tt,S)=>{S.d(Tt,{D:()=>h});var m=S(576);function h(A){return Symbol.asyncIterator&&(0,m.m)(A?.[Symbol.asyncIterator])}},576:(bn,Tt,S)=>{function m(h){return"function"==typeof h}S.d(Tt,{m:()=>m})},3670:(bn,Tt,S)=>{S.d(Tt,{c:()=>A});var m=S(8822),h=S(576);function A(Se){return(0,h.m)(Se[m.L])}},6495:(bn,Tt,S)=>{S.d(Tt,{T:()=>A});var m=S(2202),h=S(576);function A(Se){return(0,h.m)(Se?.[m.h])}},8239:(bn,Tt,S)=>{S.d(Tt,{t:()=>h});var m=S(576);function h(A){return(0,m.m)(A?.then)}},3260:(bn,Tt,S)=>{S.d(Tt,{L:()=>Se,Q:()=>A});var m=S(655),h=S(576);function A(N){return(0,m.FC)(this,arguments,function*(){const tt=N.getReader();try{for(;;){const{value:pe,done:ge}=yield(0,m.qq)(tt.read());if(ge)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(pe)}}finally{tt.releaseLock()}})}function Se(N){return(0,h.m)(N?.getReader)}},3532:(bn,Tt,S)=>{S.d(Tt,{K:()=>h});var m=S(576);function h(A){return A&&(0,m.m)(A.schedule)}},4482:(bn,Tt,S)=>{S.d(Tt,{A:()=>h,e:()=>A});var m=S(576);function h(Se){return(0,m.m)(Se?.lift)}function A(Se){return N=>{if(h(N))return N.lift(function(et){try{return Se(et,this)}catch(tt){this.error(tt)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bn,Tt,S)=>{S.d(Tt,{Z:()=>Se});var m=S(4004);const{isArray:h}=Array;function Se(N){return(0,m.U)(et=>function A(N,et){return h(et)?N(...et):N(et)}(N,et))}},5032:(bn,Tt,S)=>{function m(){}S.d(Tt,{Z:()=>m})},9635:(bn,Tt,S)=>{S.d(Tt,{U:()=>A,z:()=>h});var m=S(4671);function h(...Se){return A(Se)}function A(Se){return 0===Se.length?m.y:1===Se.length?Se[0]:function(et){return Se.reduce((tt,pe)=>pe(tt),et)}}},7849:(bn,Tt,S)=>{S.d(Tt,{h:()=>A});var m=S(2416),h=S(3410);function A(Se){h.z.setTimeout(()=>{const{onUnhandledError:N}=m.v;if(!N)throw Se;N(Se)})}},4532:(bn,Tt,S)=>{function m(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(Tt,{z:()=>m})},655:(bn,Tt,S)=>{S.d(Tt,{FC:()=>mt,KL:()=>kt,_T:()=>Se,mG:()=>pe,pi:()=>A,qq:()=>Ue});var A=function(){return A=Object.assign||function(pt){for(var Rt,At=1,Jt=arguments.length;At<Jt;At++)for(var Zt in Rt=arguments[At])Object.prototype.hasOwnProperty.call(Rt,Zt)&&(pt[Zt]=Rt[Zt]);return pt},A.apply(this,arguments)};function Se(st,pt){var Rt={};for(var At in st)Object.prototype.hasOwnProperty.call(st,At)&&pt.indexOf(At)<0&&(Rt[At]=st[At]);if(null!=st&&"function"==typeof Object.getOwnPropertySymbols){var Jt=0;for(At=Object.getOwnPropertySymbols(st);Jt<At.length;Jt++)pt.indexOf(At[Jt])<0&&Object.prototype.propertyIsEnumerable.call(st,At[Jt])&&(Rt[At[Jt]]=st[At[Jt]])}return Rt}function pe(st,pt,Rt,At){return new(Rt||(Rt=Promise))(function(Zt,on){function fn(qt){try{wt(At.next(qt))}catch($t){on($t)}}function nn(qt){try{wt(At.throw(qt))}catch($t){on($t)}}function wt(qt){qt.done?Zt(qt.value):function Jt(Zt){return Zt instanceof Rt?Zt:new Rt(function(on){on(Zt)})}(qt.value).then(fn,nn)}wt((At=At.apply(st,pt||[])).next())})}function Ue(st){return this instanceof Ue?(this.v=st,this):new Ue(st)}function mt(st,pt,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Jt,At=Rt.apply(st,pt||[]),Zt=[];return Jt={},on("next"),on("throw"),on("return"),Jt[Symbol.asyncIterator]=function(){return this},Jt;function on(rn){At[rn]&&(Jt[rn]=function(Qt){return new Promise(function(Cn,Xt){Zt.push([rn,Qt,Cn,Xt])>1||fn(rn,Qt)})})}function fn(rn,Qt){try{!function nn(rn){rn.value instanceof Ue?Promise.resolve(rn.value.v).then(wt,qt):$t(Zt[0][2],rn)}(At[rn](Qt))}catch(Cn){$t(Zt[0][3],Cn)}}function wt(rn){fn("next",rn)}function qt(rn){fn("throw",rn)}function $t(rn,Qt){rn(Qt),Zt.shift(),Zt.length&&fn(Zt[0][0],Zt[0][1])}}function kt(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,pt=st[Symbol.asyncIterator];return pt?pt.call(st):(st=function we(st){var pt="function"==typeof Symbol&&Symbol.iterator,Rt=pt&&st[pt],At=0;if(Rt)return Rt.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&At>=st.length&&(st=void 0),{value:st&&st[At++],done:!st}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),Rt={},At("next"),At("throw"),At("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function At(Zt){Rt[Zt]=st[Zt]&&function(on){return new Promise(function(fn,nn){!function Jt(Zt,on,fn,nn){Promise.resolve(nn).then(function(wt){Zt({value:wt,done:fn})},on)}(fn,nn,(on=st[Zt](on)).done,on.value)})}}}},7340:(bn,Tt,S)=>{S.d(Tt,{F4:()=>X,IO:()=>dt,LC:()=>h,SB:()=>ge,X$:()=>Se,ZE:()=>jt,ZN:()=>mt,_j:()=>m,eR:()=>ye,jt:()=>N,k1:()=>kt,l3:()=>A,oB:()=>pe,pV:()=>Ge,ru:()=>et,vP:()=>tt});class m{}class h{}const A="*";function Se(at,He){return{type:7,name:at,definitions:He,options:{}}}function N(at,He=null){return{type:4,styles:He,timings:at}}function et(at,He=null){return{type:3,steps:at,options:He}}function tt(at,He=null){return{type:2,steps:at,options:He}}function pe(at){return{type:6,styles:at,offset:null}}function ge(at,He,je){return{type:0,name:at,styles:He,options:je}}function X(at){return{type:5,steps:at}}function ye(at,He,je=null){return{type:1,expr:at,animation:He,options:je}}function Ge(at=null){return{type:9,options:at}}function dt(at,He,je=null){return{type:11,selector:at,animation:He,options:je}}function Ue(at){Promise.resolve().then(at)}class mt{constructor(He=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=He+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}onStart(He){this._originalOnStartFns.push(He),this._onStartFns.push(He)}onDone(He){this._originalOnDoneFns.push(He),this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ue(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(He=>He()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(He){this._position=this.totalTime?He*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(He){const je="start"==He?this._onStartFns:this._onDoneFns;je.forEach($e=>$e()),je.length=0}}class jt{constructor(He){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=He;let je=0,$e=0,Oe=0;const rt=this.players.length;0==rt?Ue(()=>this._onFinish()):this.players.forEach(ot=>{ot.onDone(()=>{++je==rt&&this._onFinish()}),ot.onDestroy(()=>{++$e==rt&&this._onDestroy()}),ot.onStart(()=>{++Oe==rt&&this._onStart()})}),this.totalTime=this.players.reduce((ot,st)=>Math.max(ot,st.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}init(){this.players.forEach(He=>He.init())}onStart(He){this._onStartFns.push(He)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(He=>He()),this._onStartFns=[])}onDone(He){this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(He=>He.play())}pause(){this.players.forEach(He=>He.pause())}restart(){this.players.forEach(He=>He.restart())}finish(){this._onFinish(),this.players.forEach(He=>He.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(He=>He.destroy()),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this.players.forEach(He=>He.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(He){const je=He*this.totalTime;this.players.forEach($e=>{const Oe=$e.totalTime?Math.min(1,je/$e.totalTime):1;$e.setPosition(Oe)})}getPosition(){const He=this.players.reduce((je,$e)=>null===je||$e.totalTime>je.totalTime?$e:je,null);return null!=He?He.getPosition():0}beforeDestroy(){this.players.forEach(He=>{He.beforeDestroy&&He.beforeDestroy()})}triggerCallback(He){const je="start"==He?this._onStartFns:this._onDoneFns;je.forEach($e=>$e()),je.length=0}}const kt="!"},2693:(bn,Tt,S)=>{S.d(Tt,{rt:()=>_t,kH:()=>qe,mK:()=>Gt,Em:()=>An,tE:()=>We,qV:()=>cn,qm:()=>Ne,ic:()=>kn,X6:()=>Rn,yG:()=>_n});var m=S(6895),h=S(4650),A=S(3353),Se=S(7579),N=S(727),et=S(1135),tt=S(9646),pe=S(9521),ge=S(8505),X=S(8372),ye=S(9300),we=S(4004),Ge=S(5698),ut=S(5684),dt=S(1884),Pt=S(2722),Ue=S(1281),mt=S(9643),jt=S(9841),kt=S(7272),at=S(9751),He=S(8675);const $e=new Set;let Oe,rt=(()=>{class Ke{constructor(Pe){this._platform=Pe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):st}matchMedia(Pe){return(this._platform.WEBKIT||this._platform.BLINK)&&function ot(Ke){if(!$e.has(Ke))try{Oe||(Oe=document.createElement("style"),Oe.setAttribute("type","text/css"),document.head.appendChild(Oe)),Oe.sheet&&(Oe.sheet.insertRule(`@media ${Ke} {body{ }}`,0),$e.add(Ke))}catch(Ye){console.error(Ye)}}(Pe),this._matchMedia(Pe)}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(A.t4))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();function st(Ke){return{matches:"all"===Ke||""===Ke,media:Ke,addListener:()=>{},removeListener:()=>{}}}let pt=(()=>{class Ke{constructor(Pe,re){this._mediaMatcher=Pe,this._zone=re,this._queries=new Map,this._destroySubject=new Se.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Pe){return Rt((0,Ue.Eq)(Pe)).some(de=>this._registerQuery(de).mql.matches)}observe(Pe){const de=Rt((0,Ue.Eq)(Pe)).map(Ie=>this._registerQuery(Ie).observable);let _e=(0,jt.a)(de);return _e=(0,kt.z)(_e.pipe((0,Ge.q)(1)),_e.pipe((0,ut.T)(1),(0,X.b)(0))),_e.pipe((0,we.U)(Ie=>{const ve={matches:!1,breakpoints:{}};return Ie.forEach(({matches:Ee,query:H})=>{ve.matches=ve.matches||Ee,ve.breakpoints[H]=Ee}),ve}))}_registerQuery(Pe){if(this._queries.has(Pe))return this._queries.get(Pe);const re=this._mediaMatcher.matchMedia(Pe),_e={observable:new at.y(Ie=>{const ve=Ee=>this._zone.run(()=>Ie.next(Ee));return re.addListener(ve),()=>{re.removeListener(ve)}}).pipe((0,He.O)(re),(0,we.U)(({matches:Ie})=>({query:Pe,matches:Ie})),(0,Pt.R)(this._destroySubject)),mql:re};return this._queries.set(Pe,_e),_e}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(rt),h.LFG(h.R0b))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();function Rt(Ke){return Ke.map(Ye=>Ye.split(",")).reduce((Ye,Pe)=>Ye.concat(Pe)).map(Ye=>Ye.trim())}class An extends class Xt{constructor(Ye){this._items=Ye,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Se.x,this._typeaheadSubscription=N.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Pe=>Pe.disabled,this._pressedLetters=[],this.tabOut=new Se.x,this.change=new Se.x,Ye instanceof h.n_E&&Ye.changes.subscribe(Pe=>{if(this._activeItem){const de=Pe.toArray().indexOf(this._activeItem);de>-1&&de!==this._activeItemIndex&&(this._activeItemIndex=de)}})}skipPredicate(Ye){return this._skipPredicateFn=Ye,this}withWrap(Ye=!0){return this._wrap=Ye,this}withVerticalOrientation(Ye=!0){return this._vertical=Ye,this}withHorizontalOrientation(Ye){return this._horizontal=Ye,this}withAllowedModifierKeys(Ye){return this._allowedModifierKeys=Ye,this}withTypeAhead(Ye=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ge.b)(Pe=>this._pressedLetters.push(Pe)),(0,X.b)(Ye),(0,ye.h)(()=>this._pressedLetters.length>0),(0,we.U)(()=>this._pressedLetters.join(""))).subscribe(Pe=>{const re=this._getItemsArray();for(let de=1;de<re.length+1;de++){const _e=(this._activeItemIndex+de)%re.length,Ie=re[_e];if(!this._skipPredicateFn(Ie)&&0===Ie.getLabel().toUpperCase().trim().indexOf(Pe)){this.setActiveItem(_e);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Ye=!0){return this._homeAndEnd=Ye,this}setActiveItem(Ye){const Pe=this._activeItem;this.updateActiveItem(Ye),this._activeItem!==Pe&&this.change.next(this._activeItemIndex)}onKeydown(Ye){const Pe=Ye.keyCode,de=["altKey","ctrlKey","metaKey","shiftKey"].every(_e=>!Ye[_e]||this._allowedModifierKeys.indexOf(_e)>-1);switch(Pe){case pe.Mf:return void this.tabOut.next();case pe.JH:if(this._vertical&&de){this.setNextItemActive();break}return;case pe.LH:if(this._vertical&&de){this.setPreviousItemActive();break}return;case pe.SV:if(this._horizontal&&de){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case pe.oh:if(this._horizontal&&de){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case pe.Sd:if(this._homeAndEnd&&de){this.setFirstItemActive();break}return;case pe.uR:if(this._homeAndEnd&&de){this.setLastItemActive();break}return;default:return void((de||(0,pe.Vb)(Ye,"shiftKey"))&&(Ye.key&&1===Ye.key.length?this._letterKeyStream.next(Ye.key.toLocaleUpperCase()):(Pe>=pe.A&&Pe<=pe.Z||Pe>=pe.xE&&Pe<=pe.aO)&&this._letterKeyStream.next(String.fromCharCode(Pe))))}this._pressedLetters=[],Ye.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ye){const Pe=this._getItemsArray(),re="number"==typeof Ye?Ye:Pe.indexOf(Ye);this._activeItem=Pe[re]??null,this._activeItemIndex=re}_setActiveItemByDelta(Ye){this._wrap?this._setActiveInWrapMode(Ye):this._setActiveInDefaultMode(Ye)}_setActiveInWrapMode(Ye){const Pe=this._getItemsArray();for(let re=1;re<=Pe.length;re++){const de=(this._activeItemIndex+Ye*re+Pe.length)%Pe.length;if(!this._skipPredicateFn(Pe[de]))return void this.setActiveItem(de)}}_setActiveInDefaultMode(Ye){this._setActiveItemByIndex(this._activeItemIndex+Ye,Ye)}_setActiveItemByIndex(Ye,Pe){const re=this._getItemsArray();if(re[Ye]){for(;this._skipPredicateFn(re[Ye]);)if(!re[Ye+=Pe])return;this.setActiveItem(Ye)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ye){return this._origin=Ye,this}setActiveItem(Ye){super.setActiveItem(Ye),this.activeItem&&this.activeItem.focus(this._origin)}}let kn=(()=>{class Ke{constructor(Pe){this._platform=Pe}isDisabled(Pe){return Pe.hasAttribute("disabled")}isVisible(Pe){return function $n(Ke){return!!(Ke.offsetWidth||Ke.offsetHeight||"function"==typeof Ke.getClientRects&&Ke.getClientRects().length)}(Pe)&&"visible"===getComputedStyle(Pe).visibility}isTabbable(Pe){if(!this._platform.isBrowser)return!1;const re=function Wn(Ke){try{return Ke.frameElement}catch{return null}}(function Ct(Ke){return Ke.ownerDocument&&Ke.ownerDocument.defaultView||window}(Pe));if(re&&(-1===me(re)||!this.isVisible(re)))return!1;let de=Pe.nodeName.toLowerCase(),_e=me(Pe);return Pe.hasAttribute("contenteditable")?-1!==_e:!("iframe"===de||"object"===de||this._platform.WEBKIT&&this._platform.IOS&&!function nt(Ke){let Ye=Ke.nodeName.toLowerCase(),Pe="input"===Ye&&Ke.type;return"text"===Pe||"password"===Pe||"select"===Ye||"textarea"===Ye}(Pe))&&("audio"===de?!!Pe.hasAttribute("controls")&&-1!==_e:"video"===de?-1!==_e&&(null!==_e||this._platform.FIREFOX||Pe.hasAttribute("controls")):Pe.tabIndex>=0)}isFocusable(Pe,re){return function Ze(Ke){return!function Gn(Ke){return function vn(Ke){return"input"==Ke.nodeName.toLowerCase()}(Ke)&&"hidden"==Ke.type}(Ke)&&(function Hn(Ke){let Ye=Ke.nodeName.toLowerCase();return"input"===Ye||"select"===Ye||"button"===Ye||"textarea"===Ye}(Ke)||function Qn(Ke){return function Be(Ke){return"a"==Ke.nodeName.toLowerCase()}(Ke)&&Ke.hasAttribute("href")}(Ke)||Ke.hasAttribute("contenteditable")||ae(Ke))}(Pe)&&!this.isDisabled(Pe)&&(re?.ignoreVisibility||this.isVisible(Pe))}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(A.t4))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();function ae(Ke){if(!Ke.hasAttribute("tabindex")||void 0===Ke.tabIndex)return!1;let Ye=Ke.getAttribute("tabindex");return!(!Ye||isNaN(parseInt(Ye,10)))}function me(Ke){if(!ae(Ke))return null;const Ye=parseInt(Ke.getAttribute("tabindex")||"",10);return isNaN(Ye)?-1:Ye}class Wt{constructor(Ye,Pe,re,de,_e=!1){this._element=Ye,this._checker=Pe,this._ngZone=re,this._document=de,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,_e||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Ye){this._enabled=Ye,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ye,this._startAnchor),this._toggleAnchorTabIndex(Ye,this._endAnchor))}destroy(){const Ye=this._startAnchor,Pe=this._endAnchor;Ye&&(Ye.removeEventListener("focus",this.startAnchorListener),Ye.remove()),Pe&&(Pe.removeEventListener("focus",this.endAnchorListener),Pe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ye){return new Promise(Pe=>{this._executeOnStable(()=>Pe(this.focusInitialElement(Ye)))})}focusFirstTabbableElementWhenReady(Ye){return new Promise(Pe=>{this._executeOnStable(()=>Pe(this.focusFirstTabbableElement(Ye)))})}focusLastTabbableElementWhenReady(Ye){return new Promise(Pe=>{this._executeOnStable(()=>Pe(this.focusLastTabbableElement(Ye)))})}_getRegionBoundary(Ye){const Pe=this._element.querySelectorAll(`[cdk-focus-region-${Ye}], [cdkFocusRegion${Ye}], [cdk-focus-${Ye}]`);return"start"==Ye?Pe.length?Pe[0]:this._getFirstTabbableElement(this._element):Pe.length?Pe[Pe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ye){const Pe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Pe){if(!this._checker.isFocusable(Pe)){const re=this._getFirstTabbableElement(Pe);return re?.focus(Ye),!!re}return Pe.focus(Ye),!0}return this.focusFirstTabbableElement(Ye)}focusFirstTabbableElement(Ye){const Pe=this._getRegionBoundary("start");return Pe&&Pe.focus(Ye),!!Pe}focusLastTabbableElement(Ye){const Pe=this._getRegionBoundary("end");return Pe&&Pe.focus(Ye),!!Pe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ye){if(this._checker.isFocusable(Ye)&&this._checker.isTabbable(Ye))return Ye;const Pe=Ye.children;for(let re=0;re<Pe.length;re++){const de=Pe[re].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Pe[re]):null;if(de)return de}return null}_getLastTabbableElement(Ye){if(this._checker.isFocusable(Ye)&&this._checker.isTabbable(Ye))return Ye;const Pe=Ye.children;for(let re=Pe.length-1;re>=0;re--){const de=Pe[re].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Pe[re]):null;if(de)return de}return null}_createAnchor(){const Ye=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ye),Ye.classList.add("cdk-visually-hidden"),Ye.classList.add("cdk-focus-trap-anchor"),Ye.setAttribute("aria-hidden","true"),Ye}_toggleAnchorTabIndex(Ye,Pe){Ye?Pe.setAttribute("tabindex","0"):Pe.removeAttribute("tabindex")}toggleAnchors(Ye){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ye,this._startAnchor),this._toggleAnchorTabIndex(Ye,this._endAnchor))}_executeOnStable(Ye){this._ngZone.isStable?Ye():this._ngZone.onStable.pipe((0,Ge.q)(1)).subscribe(Ye)}}let cn=(()=>{class Ke{constructor(Pe,re,de){this._checker=Pe,this._ngZone=re,this._document=de}create(Pe,re=!1){return new Wt(Pe,this._checker,this._ngZone,this._document,re)}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(kn),h.LFG(h.R0b),h.LFG(m.K0))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),Gt=(()=>{class Ke{constructor(Pe,re,de){this._elementRef=Pe,this._focusTrapFactory=re,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Pe){this.focusTrap.enabled=(0,Ue.Ig)(Pe)}get autoCapture(){return this._autoCapture}set autoCapture(Pe){this._autoCapture=(0,Ue.Ig)(Pe)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Pe){const re=Pe.autoCapture;re&&!re.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,A.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.Y36(h.SBq),h.Y36(cn),h.Y36(m.K0))},Ke.\u0275dir=h.lG2({type:Ke,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[h.TTD]}),Ke})();function Rn(Ke){return 0===Ke.buttons||0===Ke.offsetX&&0===Ke.offsetY}function _n(Ke){const Ye=Ke.touches&&Ke.touches[0]||Ke.changedTouches&&Ke.changedTouches[0];return!(!Ye||-1!==Ye.identifier||null!=Ye.radiusX&&1!==Ye.radiusX||null!=Ye.radiusY&&1!==Ye.radiusY)}const Ot=new h.OlP("cdk-input-modality-detector-options"),Mt={ignoreKeys:[pe.zL,pe.jx,pe.b2,pe.MW,pe.JU]},oe=(0,A.i$)({passive:!0,capture:!0});let K=(()=>{class Ke{constructor(Pe,re,de,_e){this._platform=Pe,this._mostRecentTarget=null,this._modality=new et.X(null),this._lastTouchMs=0,this._onKeydown=Ie=>{this._options?.ignoreKeys?.some(ve=>ve===Ie.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,A.sA)(Ie))},this._onMousedown=Ie=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Rn(Ie)?"keyboard":"mouse"),this._mostRecentTarget=(0,A.sA)(Ie))},this._onTouchstart=Ie=>{_n(Ie)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,A.sA)(Ie))},this._options={...Mt,..._e},this.modalityDetected=this._modality.pipe((0,ut.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,dt.x)()),Pe.isBrowser&&re.runOutsideAngular(()=>{de.addEventListener("keydown",this._onKeydown,oe),de.addEventListener("mousedown",this._onMousedown,oe),de.addEventListener("touchstart",this._onTouchstart,oe)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oe),document.removeEventListener("mousedown",this._onMousedown,oe),document.removeEventListener("touchstart",this._onTouchstart,oe))}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(A.t4),h.LFG(h.R0b),h.LFG(m.K0),h.LFG(Ot,8))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();const It=new h.OlP("cdk-focus-monitor-default-options"),Bt=(0,A.i$)({passive:!0,capture:!0});let We=(()=>{class Ke{constructor(Pe,re,de,_e,Ie){this._ngZone=Pe,this._platform=re,this._inputModalityDetector=de,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Se.x,this._rootNodeFocusAndBlurListener=ve=>{for(let H=(0,A.sA)(ve);H;H=H.parentElement)"focus"===ve.type?this._onFocus(ve,H):this._onBlur(ve,H)},this._document=_e,this._detectionMode=Ie?.detectionMode||0}monitor(Pe,re=!1){const de=(0,Ue.fI)(Pe);if(!this._platform.isBrowser||1!==de.nodeType)return(0,tt.of)(null);const _e=(0,A.kV)(de)||this._getDocument(),Ie=this._elementInfo.get(de);if(Ie)return re&&(Ie.checkChildren=!0),Ie.subject;const ve={checkChildren:re,subject:new Se.x,rootNode:_e};return this._elementInfo.set(de,ve),this._registerGlobalListeners(ve),ve.subject}stopMonitoring(Pe){const re=(0,Ue.fI)(Pe),de=this._elementInfo.get(re);de&&(de.subject.complete(),this._setClasses(re),this._elementInfo.delete(re),this._removeGlobalListeners(de))}focusVia(Pe,re,de){const _e=(0,Ue.fI)(Pe);_e===this._getDocument().activeElement?this._getClosestElementsInfo(_e).forEach(([ve,Ee])=>this._originChanged(ve,re,Ee)):(this._setOrigin(re),"function"==typeof _e.focus&&_e.focus(de))}ngOnDestroy(){this._elementInfo.forEach((Pe,re)=>this.stopMonitoring(re))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Pe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Pe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Pe&&this._isLastInteractionFromInputLabel(Pe)?"mouse":"program"}_shouldBeAttributedToTouch(Pe){return 1===this._detectionMode||!!Pe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Pe,re){Pe.classList.toggle("cdk-focused",!!re),Pe.classList.toggle("cdk-touch-focused","touch"===re),Pe.classList.toggle("cdk-keyboard-focused","keyboard"===re),Pe.classList.toggle("cdk-mouse-focused","mouse"===re),Pe.classList.toggle("cdk-program-focused","program"===re)}_setOrigin(Pe,re=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Pe,this._originFromTouchInteraction="touch"===Pe&&re,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Pe,re){const de=this._elementInfo.get(re),_e=(0,A.sA)(Pe);!de||!de.checkChildren&&re!==_e||this._originChanged(re,this._getFocusOrigin(_e),de)}_onBlur(Pe,re){const de=this._elementInfo.get(re);!de||de.checkChildren&&Pe.relatedTarget instanceof Node&&re.contains(Pe.relatedTarget)||(this._setClasses(re),this._emitOrigin(de,null))}_emitOrigin(Pe,re){Pe.subject.observers.length&&this._ngZone.run(()=>Pe.subject.next(re))}_registerGlobalListeners(Pe){if(!this._platform.isBrowser)return;const re=Pe.rootNode,de=this._rootNodeFocusListenerCount.get(re)||0;de||this._ngZone.runOutsideAngular(()=>{re.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bt),re.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bt)}),this._rootNodeFocusListenerCount.set(re,de+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Pt.R)(this._stopInputModalityDetector)).subscribe(_e=>{this._setOrigin(_e,!0)}))}_removeGlobalListeners(Pe){const re=Pe.rootNode;if(this._rootNodeFocusListenerCount.has(re)){const de=this._rootNodeFocusListenerCount.get(re);de>1?this._rootNodeFocusListenerCount.set(re,de-1):(re.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bt),re.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bt),this._rootNodeFocusListenerCount.delete(re))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Pe,re,de){this._setClasses(Pe,re),this._emitOrigin(de,re),this._lastFocusOrigin=re}_getClosestElementsInfo(Pe){const re=[];return this._elementInfo.forEach((de,_e)=>{(_e===Pe||de.checkChildren&&_e.contains(Pe))&&re.push([_e,de])}),re}_isLastInteractionFromInputLabel(Pe){const{_mostRecentTarget:re,mostRecentModality:de}=this._inputModalityDetector;if("mouse"!==de||!re||re===Pe||"INPUT"!==Pe.nodeName&&"TEXTAREA"!==Pe.nodeName||Pe.disabled)return!1;const _e=Pe.labels;if(_e)for(let Ie=0;Ie<_e.length;Ie++)if(_e[Ie].contains(re))return!0;return!1}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(h.R0b),h.LFG(A.t4),h.LFG(K),h.LFG(m.K0,8),h.LFG(It,8))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),qe=(()=>{class Ke{constructor(Pe,re){this._elementRef=Pe,this._focusMonitor=re,this._focusOrigin=null,this.cdkFocusChange=new h.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Pe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Pe,1===Pe.nodeType&&Pe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(re=>{this._focusOrigin=re,this.cdkFocusChange.emit(re)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.Y36(h.SBq),h.Y36(We))},Ke.\u0275dir=h.lG2({type:Ke,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),Ke})();const Ce="cdk-high-contrast-black-on-white",Te="cdk-high-contrast-white-on-black",ne="cdk-high-contrast-active";let Ne=(()=>{class Ke{constructor(Pe,re){this._platform=Pe,this._document=re,this._breakpointSubscription=(0,h.f3M)(pt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Pe=this._document.createElement("div");Pe.style.backgroundColor="rgb(1,2,3)",Pe.style.position="absolute",this._document.body.appendChild(Pe);const re=this._document.defaultView||window,de=re&&re.getComputedStyle?re.getComputedStyle(Pe):null,_e=(de&&de.backgroundColor||"").replace(/ /g,"");switch(Pe.remove(),_e){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Pe=this._document.body.classList;Pe.remove(ne,Ce,Te),this._hasCheckedHighContrastMode=!0;const re=this.getHighContrastMode();1===re?Pe.add(ne,Ce):2===re&&Pe.add(ne,Te)}}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(A.t4),h.LFG(m.K0))},Ke.\u0275prov=h.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),_t=(()=>{class Ke{constructor(Pe){Pe._applyBodyHighContrastModeCssClasses()}}return Ke.\u0275fac=function(Pe){return new(Pe||Ke)(h.LFG(Ne))},Ke.\u0275mod=h.oAB({type:Ke}),Ke.\u0275inj=h.cJS({imports:[mt.Q8]}),Ke})()},445:(bn,Tt,S)=>{S.d(Tt,{Is:()=>tt,vT:()=>ge});var m=S(4650),h=S(6895);const A=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function Se(){return(0,m.f3M)(h.K0)}}),N=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tt=(()=>{class X{constructor(we){if(this.value="ltr",this.change=new m.vpe,we){const ut=we.documentElement?we.documentElement.dir:null;this.value=function et(X){const ye=X?.toLowerCase()||"";return"auto"===ye&&typeof navigator<"u"&&navigator?.language?N.test(navigator.language)?"rtl":"ltr":"rtl"===ye?"rtl":"ltr"}((we.body?we.body.dir:null)||ut||"ltr")}}ngOnDestroy(){this.change.complete()}}return X.\u0275fac=function(we){return new(we||X)(m.LFG(A,8))},X.\u0275prov=m.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),ge=(()=>{class X{}return X.\u0275fac=function(we){return new(we||X)},X.\u0275mod=m.oAB({type:X}),X.\u0275inj=m.cJS({}),X})()},1281:(bn,Tt,S)=>{S.d(Tt,{Eq:()=>N,HM:()=>et,Ig:()=>h,du:()=>pe,fI:()=>tt,su:()=>A});var m=S(4650);function h(ge){return null!=ge&&"false"!=`${ge}`}function A(ge,X=0){return function Se(ge){return!isNaN(parseFloat(ge))&&!isNaN(Number(ge))}(ge)?Number(ge):X}function N(ge){return Array.isArray(ge)?ge:[ge]}function et(ge){return null==ge?"":"string"==typeof ge?ge:`${ge}px`}function tt(ge){return ge instanceof m.SBq?ge.nativeElement:ge}function pe(ge,X=/\s+/){const ye=[];if(null!=ge){const we=Array.isArray(ge)?ge:`${ge}`.split(X);for(const Ge of we){const ut=`${Ge}`.trim();ut&&ye.push(ut)}}return ye}},9521:(bn,Tt,S)=>{S.d(Tt,{A:()=>$t,JH:()=>kt,JU:()=>et,K5:()=>N,Ku:()=>Ge,LH:()=>mt,L_:()=>we,MW:()=>vt,Mf:()=>A,SV:()=>jt,Sd:()=>Pt,VM:()=>ut,Vb:()=>Lt,Z:()=>Le,aO:()=>on,b2:()=>Vt,hY:()=>ye,jx:()=>tt,oh:()=>Ue,uR:()=>dt,xE:()=>Oe,zL:()=>pe});const A=9,N=13,et=16,tt=17,pe=18,ye=27,we=32,Ge=33,ut=34,dt=35,Pt=36,Ue=37,mt=38,jt=39,kt=40,Oe=48,on=57,$t=65,Le=90,vt=91,Vt=224;function Lt(zt,...yn){return yn.length?yn.some(In=>zt[In]):zt.altKey||zt.shiftKey||zt.ctrlKey||zt.metaKey}},9643:(bn,Tt,S)=>{S.d(Tt,{Q8:()=>ge,wD:()=>pe});var m=S(1281),h=S(4650),A=S(9751),Se=S(7579),N=S(8372);let et=(()=>{class X{create(we){return typeof MutationObserver>"u"?null:new MutationObserver(we)}}return X.\u0275fac=function(we){return new(we||X)},X.\u0275prov=h.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),tt=(()=>{class X{constructor(we){this._mutationObserverFactory=we,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((we,Ge)=>this._cleanupObserver(Ge))}observe(we){const Ge=(0,m.fI)(we);return new A.y(ut=>{const Pt=this._observeElement(Ge).subscribe(ut);return()=>{Pt.unsubscribe(),this._unobserveElement(Ge)}})}_observeElement(we){if(this._observedElements.has(we))this._observedElements.get(we).count++;else{const Ge=new Se.x,ut=this._mutationObserverFactory.create(dt=>Ge.next(dt));ut&&ut.observe(we,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(we,{observer:ut,stream:Ge,count:1})}return this._observedElements.get(we).stream}_unobserveElement(we){this._observedElements.has(we)&&(this._observedElements.get(we).count--,this._observedElements.get(we).count||this._cleanupObserver(we))}_cleanupObserver(we){if(this._observedElements.has(we)){const{observer:Ge,stream:ut}=this._observedElements.get(we);Ge&&Ge.disconnect(),ut.complete(),this._observedElements.delete(we)}}}return X.\u0275fac=function(we){return new(we||X)(h.LFG(et))},X.\u0275prov=h.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),pe=(()=>{class X{constructor(we,Ge,ut){this._contentObserver=we,this._elementRef=Ge,this._ngZone=ut,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(we){this._disabled=(0,m.Ig)(we),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(we){this._debounce=(0,m.su)(we),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const we=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?we.pipe((0,N.b)(this.debounce)):we).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return X.\u0275fac=function(we){return new(we||X)(h.Y36(tt),h.Y36(h.SBq),h.Y36(h.R0b))},X.\u0275dir=h.lG2({type:X,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),X})(),ge=(()=>{class X{}return X.\u0275fac=function(we){return new(we||X)},X.\u0275mod=h.oAB({type:X}),X.\u0275inj=h.cJS({providers:[et]}),X})()},8184:(bn,Tt,S)=>{S.d(Tt,{Iu:()=>Jt,U8:()=>Qn,X_:()=>He,Xj:()=>At,_G:()=>fn,aV:()=>An});var m=S(8605),h=S(6895),A=S(4650),Se=S(1281),N=S(3353),et=S(445),tt=S(4080),pe=S(7579),ge=S(727),X=S(6451),ye=S(5698),we=S(2722);const Ge=(0,N.Mq)();class ut{constructor(ae,me){this._viewportRuler=ae,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=me}attach(){}enable(){if(this._canBeEnabled()){const ae=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ae.style.left||"",this._previousHTMLStyles.top=ae.style.top||"",ae.style.left=(0,Se.HM)(-this._previousScrollPosition.left),ae.style.top=(0,Se.HM)(-this._previousScrollPosition.top),ae.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ae=this._document.documentElement,nt=ae.style,Ze=this._document.body.style,Ct=nt.scrollBehavior||"",Wt=Ze.scrollBehavior||"";this._isEnabled=!1,nt.left=this._previousHTMLStyles.left,nt.top=this._previousHTMLStyles.top,ae.classList.remove("cdk-global-scrollblock"),Ge&&(nt.scrollBehavior=Ze.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ge&&(nt.scrollBehavior=Ct,Ze.scrollBehavior=Wt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const me=this._document.body,nt=this._viewportRuler.getViewportSize();return me.scrollHeight>nt.height||me.scrollWidth>nt.width}}class Pt{constructor(ae,me,nt,Ze){this._scrollDispatcher=ae,this._ngZone=me,this._viewportRuler=nt,this._config=Ze,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ae){this._overlayRef=ae}enable(){if(this._scrollSubscription)return;const ae=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ae.subscribe(()=>{const me=this._viewportRuler.getViewportScrollPosition().top;Math.abs(me-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ae.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ue{enable(){}disable(){}attach(){}}function mt(Be,ae){return ae.some(me=>Be.bottom<me.top||Be.top>me.bottom||Be.right<me.left||Be.left>me.right)}function jt(Be,ae){return ae.some(me=>Be.top<me.top||Be.bottom>me.bottom||Be.left<me.left||Be.right>me.right)}class kt{constructor(ae,me,nt,Ze){this._scrollDispatcher=ae,this._viewportRuler=me,this._ngZone=nt,this._config=Ze,this._scrollSubscription=null}attach(ae){this._overlayRef=ae}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const me=this._overlayRef.overlayElement.getBoundingClientRect(),{width:nt,height:Ze}=this._viewportRuler.getViewportSize();mt(me,[{width:nt,height:Ze,bottom:Ze,right:nt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let at=(()=>{class Be{constructor(me,nt,Ze,Ct){this._scrollDispatcher=me,this._viewportRuler=nt,this._ngZone=Ze,this.noop=()=>new Ue,this.close=Wt=>new Pt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Wt),this.block=()=>new ut(this._viewportRuler,this._document),this.reposition=Wt=>new kt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Wt),this._document=Ct}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(m.mF),A.LFG(m.rL),A.LFG(A.R0b),A.LFG(h.K0))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();class He{constructor(ae){if(this.scrollStrategy=new Ue,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ae){const me=Object.keys(ae);for(const nt of me)void 0!==ae[nt]&&(this[nt]=ae[nt])}}}class Oe{constructor(ae,me){this.connectionPair=ae,this.scrollableViewProperties=me}}let st=(()=>{class Be{constructor(me){this._attachedOverlays=[],this._document=me}ngOnDestroy(){this.detach()}add(me){this.remove(me),this._attachedOverlays.push(me)}remove(me){const nt=this._attachedOverlays.indexOf(me);nt>-1&&this._attachedOverlays.splice(nt,1),0===this._attachedOverlays.length&&this.detach()}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(h.K0))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),pt=(()=>{class Be extends st{constructor(me,nt){super(me),this._ngZone=nt,this._keydownListener=Ze=>{const Ct=this._attachedOverlays;for(let Wt=Ct.length-1;Wt>-1;Wt--)if(Ct[Wt]._keydownEvents.observers.length>0){const cn=Ct[Wt]._keydownEvents;this._ngZone?this._ngZone.run(()=>cn.next(Ze)):cn.next(Ze);break}}}add(me){super.add(me),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(h.K0),A.LFG(A.R0b,8))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),Rt=(()=>{class Be extends st{constructor(me,nt,Ze){super(me),this._platform=nt,this._ngZone=Ze,this._cursorStyleIsSet=!1,this._pointerDownListener=Ct=>{this._pointerDownEventTarget=(0,N.sA)(Ct)},this._clickListener=Ct=>{const Wt=(0,N.sA)(Ct),cn="click"===Ct.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Wt;this._pointerDownEventTarget=null;const Gt=this._attachedOverlays.slice();for(let yt=Gt.length-1;yt>-1;yt--){const Le=Gt[yt];if(Le._outsidePointerEvents.observers.length<1||!Le.hasAttached())continue;if(Le.overlayElement.contains(Wt)||Le.overlayElement.contains(cn))break;const vt=Le._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>vt.next(Ct)):vt.next(Ct)}}}add(me){if(super.add(me),!this._isAttached){const nt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(nt)):this._addEventListeners(nt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=nt.style.cursor,nt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const me=this._document.body;me.removeEventListener("pointerdown",this._pointerDownListener,!0),me.removeEventListener("click",this._clickListener,!0),me.removeEventListener("auxclick",this._clickListener,!0),me.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(me.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(me){me.addEventListener("pointerdown",this._pointerDownListener,!0),me.addEventListener("click",this._clickListener,!0),me.addEventListener("auxclick",this._clickListener,!0),me.addEventListener("contextmenu",this._clickListener,!0)}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(h.K0),A.LFG(N.t4),A.LFG(A.R0b,8))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),At=(()=>{class Be{constructor(me,nt){this._platform=nt,this._document=me}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const me="cdk-overlay-container";if(this._platform.isBrowser||(0,N.Oy)()){const Ze=this._document.querySelectorAll(`.${me}[platform="server"], .${me}[platform="test"]`);for(let Ct=0;Ct<Ze.length;Ct++)Ze[Ct].remove()}const nt=this._document.createElement("div");nt.classList.add(me),(0,N.Oy)()?nt.setAttribute("platform","test"):this._platform.isBrowser||nt.setAttribute("platform","server"),this._document.body.appendChild(nt),this._containerElement=nt}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(h.K0),A.LFG(N.t4))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();class Jt{constructor(ae,me,nt,Ze,Ct,Wt,cn,Gt,yt,Le=!1){this._portalOutlet=ae,this._host=me,this._pane=nt,this._config=Ze,this._ngZone=Ct,this._keyboardDispatcher=Wt,this._document=cn,this._location=Gt,this._outsideClickDispatcher=yt,this._animationsDisabled=Le,this._backdropElement=null,this._backdropClick=new pe.x,this._attachments=new pe.x,this._detachments=new pe.x,this._locationChanges=ge.w0.EMPTY,this._backdropClickHandler=vt=>this._backdropClick.next(vt),this._backdropTransitionendHandler=vt=>{this._disposeBackdrop(vt.target)},this._keydownEvents=new pe.x,this._outsidePointerEvents=new pe.x,Ze.scrollStrategy&&(this._scrollStrategy=Ze.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ze.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ae){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const me=this._portalOutlet.attach(ae);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ye.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof me?.onDestroy&&me.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),me}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ae=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ae}dispose(){const ae=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ae&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ae){ae!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ae,this.hasAttached()&&(ae.attach(this),this.updatePosition()))}updateSize(ae){this._config={...this._config,...ae},this._updateElementSize()}setDirection(ae){this._config={...this._config,direction:ae},this._updateElementDirection()}addPanelClass(ae){this._pane&&this._toggleClasses(this._pane,ae,!0)}removePanelClass(ae){this._pane&&this._toggleClasses(this._pane,ae,!1)}getDirection(){const ae=this._config.direction;return ae?"string"==typeof ae?ae:ae.value:"ltr"}updateScrollStrategy(ae){ae!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ae,this.hasAttached()&&(ae.attach(this),ae.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ae=this._pane.style;ae.width=(0,Se.HM)(this._config.width),ae.height=(0,Se.HM)(this._config.height),ae.minWidth=(0,Se.HM)(this._config.minWidth),ae.minHeight=(0,Se.HM)(this._config.minHeight),ae.maxWidth=(0,Se.HM)(this._config.maxWidth),ae.maxHeight=(0,Se.HM)(this._config.maxHeight)}_togglePointerEvents(ae){this._pane.style.pointerEvents=ae?"":"none"}_attachBackdrop(){const ae="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ae)})}):this._backdropElement.classList.add(ae)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ae=this._backdropElement;if(ae){if(this._animationsDisabled)return void this._disposeBackdrop(ae);ae.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ae.addEventListener("transitionend",this._backdropTransitionendHandler)}),ae.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ae)},500))}}_toggleClasses(ae,me,nt){const Ze=(0,Se.Eq)(me||[]).filter(Ct=>!!Ct);Ze.length&&(nt?ae.classList.add(...Ze):ae.classList.remove(...Ze))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ae=this._ngZone.onStable.pipe((0,we.R)((0,X.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ae.unsubscribe())})})}_disposeScrollStrategy(){const ae=this._scrollStrategy;ae&&(ae.disable(),ae.detach&&ae.detach())}_disposeBackdrop(ae){ae&&(ae.removeEventListener("click",this._backdropClickHandler),ae.removeEventListener("transitionend",this._backdropTransitionendHandler),ae.remove(),this._backdropElement===ae&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Zt="cdk-overlay-connected-position-bounding-box",on=/([A-Za-z%]+)$/;class fn{constructor(ae,me,nt,Ze,Ct){this._viewportRuler=me,this._document=nt,this._platform=Ze,this._overlayContainer=Ct,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe.x,this._resizeSubscription=ge.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ae)}get positions(){return this._preferredPositions}attach(ae){this._validatePositions(),ae.hostElement.classList.add(Zt),this._overlayRef=ae,this._boundingBox=ae.hostElement,this._pane=ae.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ae=this._originRect,me=this._overlayRect,nt=this._viewportRect,Ze=this._containerRect,Ct=[];let Wt;for(let cn of this._preferredPositions){let Gt=this._getOriginPoint(ae,Ze,cn),yt=this._getOverlayPoint(Gt,me,cn),Le=this._getOverlayFit(yt,me,nt,cn);if(Le.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(cn,Gt);this._canFitWithFlexibleDimensions(Le,yt,nt)?Ct.push({position:cn,origin:Gt,overlayRect:me,boundingBoxRect:this._calculateBoundingBoxRect(Gt,cn)}):(!Wt||Wt.overlayFit.visibleArea<Le.visibleArea)&&(Wt={overlayFit:Le,overlayPoint:yt,originPoint:Gt,position:cn,overlayRect:me})}if(Ct.length){let cn=null,Gt=-1;for(const yt of Ct){const Le=yt.boundingBoxRect.width*yt.boundingBoxRect.height*(yt.position.weight||1);Le>Gt&&(Gt=Le,cn=yt)}return this._isPushed=!1,void this._applyPosition(cn.position,cn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Wt.position,Wt.originPoint);this._applyPosition(Wt.position,Wt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Zt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ae=this._lastPosition;if(ae){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const me=this._getOriginPoint(this._originRect,this._containerRect,ae);this._applyPosition(ae,me)}else this.apply()}withScrollableContainers(ae){return this._scrollables=ae,this}withPositions(ae){return this._preferredPositions=ae,-1===ae.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ae){return this._viewportMargin=ae,this}withFlexibleDimensions(ae=!0){return this._hasFlexibleDimensions=ae,this}withGrowAfterOpen(ae=!0){return this._growAfterOpen=ae,this}withPush(ae=!0){return this._canPush=ae,this}withLockedPosition(ae=!0){return this._positionLocked=ae,this}setOrigin(ae){return this._origin=ae,this}withDefaultOffsetX(ae){return this._offsetX=ae,this}withDefaultOffsetY(ae){return this._offsetY=ae,this}withTransformOriginOn(ae){return this._transformOriginSelector=ae,this}_getOriginPoint(ae,me,nt){let Ze,Ct;if("center"==nt.originX)Ze=ae.left+ae.width/2;else{const Wt=this._isRtl()?ae.right:ae.left,cn=this._isRtl()?ae.left:ae.right;Ze="start"==nt.originX?Wt:cn}return me.left<0&&(Ze-=me.left),Ct="center"==nt.originY?ae.top+ae.height/2:"top"==nt.originY?ae.top:ae.bottom,me.top<0&&(Ct-=me.top),{x:Ze,y:Ct}}_getOverlayPoint(ae,me,nt){let Ze,Ct;return Ze="center"==nt.overlayX?-me.width/2:"start"===nt.overlayX?this._isRtl()?-me.width:0:this._isRtl()?0:-me.width,Ct="center"==nt.overlayY?-me.height/2:"top"==nt.overlayY?0:-me.height,{x:ae.x+Ze,y:ae.y+Ct}}_getOverlayFit(ae,me,nt,Ze){const Ct=qt(me);let{x:Wt,y:cn}=ae,Gt=this._getOffset(Ze,"x"),yt=this._getOffset(Ze,"y");Gt&&(Wt+=Gt),yt&&(cn+=yt);let Ht=0-cn,un=cn+Ct.height-nt.height,Rn=this._subtractOverflows(Ct.width,0-Wt,Wt+Ct.width-nt.width),_n=this._subtractOverflows(Ct.height,Ht,un),Ot=Rn*_n;return{visibleArea:Ot,isCompletelyWithinViewport:Ct.width*Ct.height===Ot,fitsInViewportVertically:_n===Ct.height,fitsInViewportHorizontally:Rn==Ct.width}}_canFitWithFlexibleDimensions(ae,me,nt){if(this._hasFlexibleDimensions){const Ze=nt.bottom-me.y,Ct=nt.right-me.x,Wt=wt(this._overlayRef.getConfig().minHeight),cn=wt(this._overlayRef.getConfig().minWidth),yt=ae.fitsInViewportHorizontally||null!=cn&&cn<=Ct;return(ae.fitsInViewportVertically||null!=Wt&&Wt<=Ze)&&yt}return!1}_pushOverlayOnScreen(ae,me,nt){if(this._previousPushAmount&&this._positionLocked)return{x:ae.x+this._previousPushAmount.x,y:ae.y+this._previousPushAmount.y};const Ze=qt(me),Ct=this._viewportRect,Wt=Math.max(ae.x+Ze.width-Ct.width,0),cn=Math.max(ae.y+Ze.height-Ct.height,0),Gt=Math.max(Ct.top-nt.top-ae.y,0),yt=Math.max(Ct.left-nt.left-ae.x,0);let Le=0,vt=0;return Le=Ze.width<=Ct.width?yt||-Wt:ae.x<this._viewportMargin?Ct.left-nt.left-ae.x:0,vt=Ze.height<=Ct.height?Gt||-cn:ae.y<this._viewportMargin?Ct.top-nt.top-ae.y:0,this._previousPushAmount={x:Le,y:vt},{x:ae.x+Le,y:ae.y+vt}}_applyPosition(ae,me){if(this._setTransformOrigin(ae),this._setOverlayElementStyles(me,ae),this._setBoundingBoxStyles(me,ae),ae.panelClass&&this._addPanelClasses(ae.panelClass),this._lastPosition=ae,this._positionChanges.observers.length){const nt=this._getScrollVisibility(),Ze=new Oe(ae,nt);this._positionChanges.next(Ze)}this._isInitialRender=!1}_setTransformOrigin(ae){if(!this._transformOriginSelector)return;const me=this._boundingBox.querySelectorAll(this._transformOriginSelector);let nt,Ze=ae.overlayY;nt="center"===ae.overlayX?"center":this._isRtl()?"start"===ae.overlayX?"right":"left":"start"===ae.overlayX?"left":"right";for(let Ct=0;Ct<me.length;Ct++)me[Ct].style.transformOrigin=`${nt} ${Ze}`}_calculateBoundingBoxRect(ae,me){const nt=this._viewportRect,Ze=this._isRtl();let Ct,Wt,cn,Le,vt,Ht;if("top"===me.overlayY)Wt=ae.y,Ct=nt.height-Wt+this._viewportMargin;else if("bottom"===me.overlayY)cn=nt.height-ae.y+2*this._viewportMargin,Ct=nt.height-cn+this._viewportMargin;else{const un=Math.min(nt.bottom-ae.y+nt.top,ae.y),Rn=this._lastBoundingBoxSize.height;Ct=2*un,Wt=ae.y-un,Ct>Rn&&!this._isInitialRender&&!this._growAfterOpen&&(Wt=ae.y-Rn/2)}if("end"===me.overlayX&&!Ze||"start"===me.overlayX&&Ze)Ht=nt.width-ae.x+this._viewportMargin,Le=ae.x-this._viewportMargin;else if("start"===me.overlayX&&!Ze||"end"===me.overlayX&&Ze)vt=ae.x,Le=nt.right-ae.x;else{const un=Math.min(nt.right-ae.x+nt.left,ae.x),Rn=this._lastBoundingBoxSize.width;Le=2*un,vt=ae.x-un,Le>Rn&&!this._isInitialRender&&!this._growAfterOpen&&(vt=ae.x-Rn/2)}return{top:Wt,left:vt,bottom:cn,right:Ht,width:Le,height:Ct}}_setBoundingBoxStyles(ae,me){const nt=this._calculateBoundingBoxRect(ae,me);!this._isInitialRender&&!this._growAfterOpen&&(nt.height=Math.min(nt.height,this._lastBoundingBoxSize.height),nt.width=Math.min(nt.width,this._lastBoundingBoxSize.width));const Ze={};if(this._hasExactPosition())Ze.top=Ze.left="0",Ze.bottom=Ze.right=Ze.maxHeight=Ze.maxWidth="",Ze.width=Ze.height="100%";else{const Ct=this._overlayRef.getConfig().maxHeight,Wt=this._overlayRef.getConfig().maxWidth;Ze.height=(0,Se.HM)(nt.height),Ze.top=(0,Se.HM)(nt.top),Ze.bottom=(0,Se.HM)(nt.bottom),Ze.width=(0,Se.HM)(nt.width),Ze.left=(0,Se.HM)(nt.left),Ze.right=(0,Se.HM)(nt.right),Ze.alignItems="center"===me.overlayX?"center":"end"===me.overlayX?"flex-end":"flex-start",Ze.justifyContent="center"===me.overlayY?"center":"bottom"===me.overlayY?"flex-end":"flex-start",Ct&&(Ze.maxHeight=(0,Se.HM)(Ct)),Wt&&(Ze.maxWidth=(0,Se.HM)(Wt))}this._lastBoundingBoxSize=nt,nn(this._boundingBox.style,Ze)}_resetBoundingBoxStyles(){nn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ae,me){const nt={},Ze=this._hasExactPosition(),Ct=this._hasFlexibleDimensions,Wt=this._overlayRef.getConfig();if(Ze){const Le=this._viewportRuler.getViewportScrollPosition();nn(nt,this._getExactOverlayY(me,ae,Le)),nn(nt,this._getExactOverlayX(me,ae,Le))}else nt.position="static";let cn="",Gt=this._getOffset(me,"x"),yt=this._getOffset(me,"y");Gt&&(cn+=`translateX(${Gt}px) `),yt&&(cn+=`translateY(${yt}px)`),nt.transform=cn.trim(),Wt.maxHeight&&(Ze?nt.maxHeight=(0,Se.HM)(Wt.maxHeight):Ct&&(nt.maxHeight="")),Wt.maxWidth&&(Ze?nt.maxWidth=(0,Se.HM)(Wt.maxWidth):Ct&&(nt.maxWidth="")),nn(this._pane.style,nt)}_getExactOverlayY(ae,me,nt){let Ze={top:"",bottom:""},Ct=this._getOverlayPoint(me,this._overlayRect,ae);return this._isPushed&&(Ct=this._pushOverlayOnScreen(Ct,this._overlayRect,nt)),"bottom"===ae.overlayY?Ze.bottom=this._document.documentElement.clientHeight-(Ct.y+this._overlayRect.height)+"px":Ze.top=(0,Se.HM)(Ct.y),Ze}_getExactOverlayX(ae,me,nt){let Wt,Ze={left:"",right:""},Ct=this._getOverlayPoint(me,this._overlayRect,ae);return this._isPushed&&(Ct=this._pushOverlayOnScreen(Ct,this._overlayRect,nt)),Wt=this._isRtl()?"end"===ae.overlayX?"left":"right":"end"===ae.overlayX?"right":"left","right"===Wt?Ze.right=this._document.documentElement.clientWidth-(Ct.x+this._overlayRect.width)+"px":Ze.left=(0,Se.HM)(Ct.x),Ze}_getScrollVisibility(){const ae=this._getOriginRect(),me=this._pane.getBoundingClientRect(),nt=this._scrollables.map(Ze=>Ze.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jt(ae,nt),isOriginOutsideView:mt(ae,nt),isOverlayClipped:jt(me,nt),isOverlayOutsideView:mt(me,nt)}}_subtractOverflows(ae,...me){return me.reduce((nt,Ze)=>nt-Math.max(Ze,0),ae)}_getNarrowedViewportRect(){const ae=this._document.documentElement.clientWidth,me=this._document.documentElement.clientHeight,nt=this._viewportRuler.getViewportScrollPosition();return{top:nt.top+this._viewportMargin,left:nt.left+this._viewportMargin,right:nt.left+ae-this._viewportMargin,bottom:nt.top+me-this._viewportMargin,width:ae-2*this._viewportMargin,height:me-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ae,me){return"x"===me?ae.offsetX??this._offsetX:ae.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(ae){this._pane&&(0,Se.Eq)(ae).forEach(me=>{""!==me&&-1===this._appliedPanelClasses.indexOf(me)&&(this._appliedPanelClasses.push(me),this._pane.classList.add(me))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ae=>{this._pane.classList.remove(ae)}),this._appliedPanelClasses=[])}_getOriginRect(){const ae=this._origin;if(ae instanceof A.SBq)return ae.nativeElement.getBoundingClientRect();if(ae instanceof Element)return ae.getBoundingClientRect();const me=ae.width||0,nt=ae.height||0;return{top:ae.y,bottom:ae.y+nt,left:ae.x,right:ae.x+me,height:nt,width:me}}}function nn(Be,ae){for(let me in ae)ae.hasOwnProperty(me)&&(Be[me]=ae[me]);return Be}function wt(Be){if("number"!=typeof Be&&null!=Be){const[ae,me]=Be.split(on);return me&&"px"!==me?null:parseFloat(ae)}return Be||null}function qt(Be){return{top:Math.floor(Be.top),right:Math.floor(Be.right),bottom:Math.floor(Be.bottom),left:Math.floor(Be.left),width:Math.floor(Be.width),height:Math.floor(Be.height)}}const Qt="cdk-global-overlay-wrapper";class Cn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ae){const me=ae.getConfig();this._overlayRef=ae,this._width&&!me.width&&ae.updateSize({width:this._width}),this._height&&!me.height&&ae.updateSize({height:this._height}),ae.hostElement.classList.add(Qt),this._isDisposed=!1}top(ae=""){return this._bottomOffset="",this._topOffset=ae,this._alignItems="flex-start",this}left(ae=""){return this._xOffset=ae,this._xPosition="left",this}bottom(ae=""){return this._topOffset="",this._bottomOffset=ae,this._alignItems="flex-end",this}right(ae=""){return this._xOffset=ae,this._xPosition="right",this}start(ae=""){return this._xOffset=ae,this._xPosition="start",this}end(ae=""){return this._xOffset=ae,this._xPosition="end",this}width(ae=""){return this._overlayRef?this._overlayRef.updateSize({width:ae}):this._width=ae,this}height(ae=""){return this._overlayRef?this._overlayRef.updateSize({height:ae}):this._height=ae,this}centerHorizontally(ae=""){return this.left(ae),this._xPosition="center",this}centerVertically(ae=""){return this.top(ae),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ae=this._overlayRef.overlayElement.style,me=this._overlayRef.hostElement.style,nt=this._overlayRef.getConfig(),{width:Ze,height:Ct,maxWidth:Wt,maxHeight:cn}=nt,Gt=!("100%"!==Ze&&"100vw"!==Ze||Wt&&"100%"!==Wt&&"100vw"!==Wt),yt=!("100%"!==Ct&&"100vh"!==Ct||cn&&"100%"!==cn&&"100vh"!==cn),Le=this._xPosition,vt=this._xOffset,Ht="rtl"===this._overlayRef.getConfig().direction;let un="",Rn="",_n="";Gt?_n="flex-start":"center"===Le?(_n="center",Ht?Rn=vt:un=vt):Ht?"left"===Le||"end"===Le?(_n="flex-end",un=vt):("right"===Le||"start"===Le)&&(_n="flex-start",Rn=vt):"left"===Le||"start"===Le?(_n="flex-start",un=vt):("right"===Le||"end"===Le)&&(_n="flex-end",Rn=vt),ae.position=this._cssPosition,ae.marginLeft=Gt?"0":un,ae.marginTop=yt?"0":this._topOffset,ae.marginBottom=this._bottomOffset,ae.marginRight=Gt?"0":Rn,me.justifyContent=_n,me.alignItems=yt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ae=this._overlayRef.overlayElement.style,me=this._overlayRef.hostElement,nt=me.style;me.classList.remove(Qt),nt.justifyContent=nt.alignItems=ae.marginTop=ae.marginBottom=ae.marginLeft=ae.marginRight=ae.position="",this._overlayRef=null,this._isDisposed=!0}}let Xt=(()=>{class Be{constructor(me,nt,Ze,Ct){this._viewportRuler=me,this._document=nt,this._platform=Ze,this._overlayContainer=Ct}global(){return new Cn}flexibleConnectedTo(me){return new fn(me,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(m.rL),A.LFG(h.K0),A.LFG(N.t4),A.LFG(At))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),gn=0,An=(()=>{class Be{constructor(me,nt,Ze,Ct,Wt,cn,Gt,yt,Le,vt,Ht,un){this.scrollStrategies=me,this._overlayContainer=nt,this._componentFactoryResolver=Ze,this._positionBuilder=Ct,this._keyboardDispatcher=Wt,this._injector=cn,this._ngZone=Gt,this._document=yt,this._directionality=Le,this._location=vt,this._outsideClickDispatcher=Ht,this._animationsModuleType=un}create(me){const nt=this._createHostElement(),Ze=this._createPaneElement(nt),Ct=this._createPortalOutlet(Ze),Wt=new He(me);return Wt.direction=Wt.direction||this._directionality.value,new Jt(Ct,nt,Ze,Wt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(me){const nt=this._document.createElement("div");return nt.id="cdk-overlay-"+gn++,nt.classList.add("cdk-overlay-pane"),me.appendChild(nt),nt}_createHostElement(){const me=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(me),me}_createPortalOutlet(me){return this._appRef||(this._appRef=this._injector.get(A.z2F)),new tt.u0(me,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Be.\u0275fac=function(me){return new(me||Be)(A.LFG(at),A.LFG(At),A.LFG(A._Vd),A.LFG(Xt),A.LFG(pt),A.LFG(A.zs3),A.LFG(A.R0b),A.LFG(h.K0),A.LFG(et.Is),A.LFG(h.Ye),A.LFG(Rt),A.LFG(A.QbO,8))},Be.\u0275prov=A.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Gn={provide:new A.OlP("cdk-connected-overlay-scroll-strategy"),deps:[An],useFactory:function Hn(Be){return()=>Be.scrollStrategies.reposition()}};let Qn=(()=>{class Be{}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275mod=A.oAB({type:Be}),Be.\u0275inj=A.cJS({providers:[An,Gn],imports:[et.vT,tt.eL,m.Cl,m.Cl]}),Be})()},3353:(bn,Tt,S)=>{S.d(Tt,{Mq:()=>ut,Oy:()=>at,_i:()=>dt,ht:()=>jt,i$:()=>ye,kV:()=>mt,qK:()=>pe,sA:()=>kt,t4:()=>Se});var m=S(4650),h=S(6895);let A;try{A=typeof Intl<"u"&&Intl.v8BreakIterator}catch{A=!1}let et,Se=(()=>{class He{constructor($e){this._platformId=$e,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!A)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return He.\u0275fac=function($e){return new($e||He)(m.LFG(m.Lbi))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const tt=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pe(){if(et)return et;if("object"!=typeof document||!document)return et=new Set(tt),et;let He=document.createElement("input");return et=new Set(tt.filter(je=>(He.setAttribute("type",je),He.type===je))),et}let ge,we,Ge,Pt;function ye(He){return function X(){if(null==ge&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ge=!0}))}finally{ge=ge||!1}return ge}()?He:!!He.capture}function ut(){if(null==Ge){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ge=!1,Ge;if("scrollBehavior"in document.documentElement.style)Ge=!0;else{const He=Element.prototype.scrollTo;Ge=!!He&&!/\{\s*\[native code\]\s*\}/.test(He.toString())}}return Ge}function dt(){if("object"!=typeof document||!document)return 0;if(null==we){const He=document.createElement("div"),je=He.style;He.dir="rtl",je.width="1px",je.overflow="auto",je.visibility="hidden",je.pointerEvents="none",je.position="absolute";const $e=document.createElement("div"),Oe=$e.style;Oe.width="2px",Oe.height="1px",He.appendChild($e),document.body.appendChild(He),we=0,0===He.scrollLeft&&(He.scrollLeft=1,we=0===He.scrollLeft?1:2),He.remove()}return we}function mt(He){if(function Ue(){if(null==Pt){const He=typeof document<"u"?document.head:null;Pt=!(!He||!He.createShadowRoot&&!He.attachShadow)}return Pt}()){const je=He.getRootNode?He.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function jt(){let He=typeof document<"u"&&document?document.activeElement:null;for(;He&&He.shadowRoot;){const je=He.shadowRoot.activeElement;if(je===He)break;He=je}return He}function kt(He){return He.composedPath?He.composedPath()[0]:He.target}function at(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(bn,Tt,S)=>{S.d(Tt,{C5:()=>X,Pl:()=>jt,UE:()=>ye,eL:()=>at,en:()=>Ge,u0:()=>dt});var m=S(4650),h=S(6895);class ge{attach($e){return this._attachedHost=$e,$e.attach(this)}detach(){let $e=this._attachedHost;null!=$e&&(this._attachedHost=null,$e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost($e){this._attachedHost=$e}}class X extends ge{constructor($e,Oe,rt,ot){super(),this.component=$e,this.viewContainerRef=Oe,this.injector=rt,this.componentFactoryResolver=ot}}class ye extends ge{constructor($e,Oe,rt,ot){super(),this.templateRef=$e,this.viewContainerRef=Oe,this.context=rt,this.injector=ot}get origin(){return this.templateRef.elementRef}attach($e,Oe=this.context){return this.context=Oe,super.attach($e)}detach(){return this.context=void 0,super.detach()}}class we extends ge{constructor($e){super(),this.element=$e instanceof m.SBq?$e.nativeElement:$e}}class Ge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach($e){return $e instanceof X?(this._attachedPortal=$e,this.attachComponentPortal($e)):$e instanceof ye?(this._attachedPortal=$e,this.attachTemplatePortal($e)):this.attachDomPortal&&$e instanceof we?(this._attachedPortal=$e,this.attachDomPortal($e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn($e){this._disposeFn=$e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dt extends Ge{constructor($e,Oe,rt,ot,st){super(),this.outletElement=$e,this._componentFactoryResolver=Oe,this._appRef=rt,this._defaultInjector=ot,this.attachDomPortal=pt=>{const Rt=pt.element,At=this._document.createComment("dom-portal");Rt.parentNode.insertBefore(At,Rt),this.outletElement.appendChild(Rt),this._attachedPortal=pt,super.setDisposeFn(()=>{At.parentNode&&At.parentNode.replaceChild(Rt,At)})},this._document=st}attachComponentPortal($e){const rt=($e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($e.component);let ot;return $e.viewContainerRef?(ot=$e.viewContainerRef.createComponent(rt,$e.viewContainerRef.length,$e.injector||$e.viewContainerRef.injector),this.setDisposeFn(()=>ot.destroy())):(ot=rt.create($e.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(ot.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ot.hostView),ot.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ot)),this._attachedPortal=$e,ot}attachTemplatePortal($e){let Oe=$e.viewContainerRef,rt=Oe.createEmbeddedView($e.templateRef,$e.context,{injector:$e.injector});return rt.rootNodes.forEach(ot=>this.outletElement.appendChild(ot)),rt.detectChanges(),this.setDisposeFn(()=>{let ot=Oe.indexOf(rt);-1!==ot&&Oe.remove(ot)}),this._attachedPortal=$e,rt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode($e){return $e.hostView.rootNodes[0]}}let jt=(()=>{class je extends Ge{constructor(Oe,rt,ot){super(),this._componentFactoryResolver=Oe,this._viewContainerRef=rt,this._isInitialized=!1,this.attached=new m.vpe,this.attachDomPortal=st=>{const pt=st.element,Rt=this._document.createComment("dom-portal");st.setAttachedHost(this),pt.parentNode.insertBefore(Rt,pt),this._getRootNode().appendChild(pt),this._attachedPortal=st,super.setDisposeFn(()=>{Rt.parentNode&&Rt.parentNode.replaceChild(pt,Rt)})},this._document=ot}get portal(){return this._attachedPortal}set portal(Oe){this.hasAttached()&&!Oe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Oe&&super.attach(Oe),this._attachedPortal=Oe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Oe){Oe.setAttachedHost(this);const rt=null!=Oe.viewContainerRef?Oe.viewContainerRef:this._viewContainerRef,st=(Oe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Oe.component),pt=rt.createComponent(st,rt.length,Oe.injector||rt.injector);return rt!==this._viewContainerRef&&this._getRootNode().appendChild(pt.hostView.rootNodes[0]),super.setDisposeFn(()=>pt.destroy()),this._attachedPortal=Oe,this._attachedRef=pt,this.attached.emit(pt),pt}attachTemplatePortal(Oe){Oe.setAttachedHost(this);const rt=this._viewContainerRef.createEmbeddedView(Oe.templateRef,Oe.context,{injector:Oe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Oe,this._attachedRef=rt,this.attached.emit(rt),rt}_getRootNode(){const Oe=this._viewContainerRef.element.nativeElement;return Oe.nodeType===Oe.ELEMENT_NODE?Oe:Oe.parentNode}}return je.\u0275fac=function(Oe){return new(Oe||je)(m.Y36(m._Vd),m.Y36(m.s_b),m.Y36(h.K0))},je.\u0275dir=m.lG2({type:je,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[m.qOj]}),je})(),at=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=m.oAB({type:je}),je.\u0275inj=m.cJS({}),je})()},8605:(bn,Tt,S)=>{S.d(Tt,{PQ:()=>Wn,ZD:()=>Wt,mF:()=>kn,Cl:()=>cn,rL:()=>Hn});var m=S(1281),h=S(4650),A=S(7579),Se=S(9646),N=S(9751),et=S(4968),tt=S(4408),pe=S(727);const ge={schedule(Gt){let yt=requestAnimationFrame,Le=cancelAnimationFrame;const{delegate:vt}=ge;vt&&(yt=vt.requestAnimationFrame,Le=vt.cancelAnimationFrame);const Ht=yt(un=>{Le=void 0,Gt(un)});return new pe.w0(()=>Le?.(Ht))},requestAnimationFrame(...Gt){const{delegate:yt}=ge;return(yt?.requestAnimationFrame||requestAnimationFrame)(...Gt)},cancelAnimationFrame(...Gt){const{delegate:yt}=ge;return(yt?.cancelAnimationFrame||cancelAnimationFrame)(...Gt)},delegate:void 0};var ye=S(7565);new class we extends ye.v{flush(yt){this._active=!0;const Le=this._scheduled;this._scheduled=void 0;const{actions:vt}=this;let Ht;yt=yt||vt.shift();do{if(Ht=yt.execute(yt.state,yt.delay))break}while((yt=vt[0])&&yt.id===Le&&vt.shift());if(this._active=!1,Ht){for(;(yt=vt[0])&&yt.id===Le&&vt.shift();)yt.unsubscribe();throw Ht}}}(class X extends tt.o{constructor(yt,Le){super(yt,Le),this.scheduler=yt,this.work=Le}requestAsyncId(yt,Le,vt=0){return null!==vt&&vt>0?super.requestAsyncId(yt,Le,vt):(yt.actions.push(this),yt._scheduled||(yt._scheduled=ge.requestAnimationFrame(()=>yt.flush(void 0))))}recycleAsyncId(yt,Le,vt=0){if(null!=vt&&vt>0||null==vt&&this.delay>0)return super.recycleAsyncId(yt,Le,vt);yt.actions.some(Ht=>Ht.id===Le)||(ge.cancelAnimationFrame(Le),yt._scheduled=void 0)}});let Pt,dt=1;const Ue={};function mt(Gt){return Gt in Ue&&(delete Ue[Gt],!0)}const jt={setImmediate(Gt){const yt=dt++;return Ue[yt]=!0,Pt||(Pt=Promise.resolve()),Pt.then(()=>mt(yt)&&Gt()),yt},clearImmediate(Gt){mt(Gt)}},{setImmediate:at,clearImmediate:He}=jt,je={setImmediate(...Gt){const{delegate:yt}=je;return(yt?.setImmediate||at)(...Gt)},clearImmediate(Gt){const{delegate:yt}=je;return(yt?.clearImmediate||He)(Gt)},delegate:void 0};new class Oe extends ye.v{flush(yt){this._active=!0;const Le=this._scheduled;this._scheduled=void 0;const{actions:vt}=this;let Ht;yt=yt||vt.shift();do{if(Ht=yt.execute(yt.state,yt.delay))break}while((yt=vt[0])&&yt.id===Le&&vt.shift());if(this._active=!1,Ht){for(;(yt=vt[0])&&yt.id===Le&&vt.shift();)yt.unsubscribe();throw Ht}}}(class $e extends tt.o{constructor(yt,Le){super(yt,Le),this.scheduler=yt,this.work=Le}requestAsyncId(yt,Le,vt=0){return null!==vt&&vt>0?super.requestAsyncId(yt,Le,vt):(yt.actions.push(this),yt._scheduled||(yt._scheduled=je.setImmediate(yt.flush.bind(yt,void 0))))}recycleAsyncId(yt,Le,vt=0){if(null!=vt&&vt>0||null==vt&&this.delay>0)return super.recycleAsyncId(yt,Le,vt);yt.actions.some(Ht=>Ht.id===Le)||(je.clearImmediate(Le),yt._scheduled=void 0)}});var st=S(4986),pt=S(4482),Rt=S(8421),At=S(5403),Zt=S(5963);function on(Gt,yt=st.z){return function Jt(Gt){return(0,pt.e)((yt,Le)=>{let vt=!1,Ht=null,un=null,Rn=!1;const _n=()=>{if(un?.unsubscribe(),un=null,vt){vt=!1;const Mt=Ht;Ht=null,Le.next(Mt)}Rn&&Le.complete()},Ot=()=>{un=null,Rn&&Le.complete()};yt.subscribe((0,At.x)(Le,Mt=>{vt=!0,Ht=Mt,un||(0,Rt.Xf)(Gt(Mt)).subscribe(un=(0,At.x)(Le,_n,Ot))},()=>{Rn=!0,(!vt||!un||un.closed)&&Le.complete()}))})}(()=>(0,Zt.H)(Gt,yt))}var fn=S(9300),nn=S(2722),wt=S(3353),qt=S(6895),$t=S(445);let kn=(()=>{class Gt{constructor(Le,vt,Ht){this._ngZone=Le,this._platform=vt,this._scrolled=new A.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ht}register(Le){this.scrollContainers.has(Le)||this.scrollContainers.set(Le,Le.elementScrolled().subscribe(()=>this._scrolled.next(Le)))}deregister(Le){const vt=this.scrollContainers.get(Le);vt&&(vt.unsubscribe(),this.scrollContainers.delete(Le))}scrolled(Le=20){return this._platform.isBrowser?new N.y(vt=>{this._globalSubscription||this._addGlobalListener();const Ht=Le>0?this._scrolled.pipe(on(Le)).subscribe(vt):this._scrolled.subscribe(vt);return this._scrolledCount++,()=>{Ht.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Se.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Le,vt)=>this.deregister(vt)),this._scrolled.complete()}ancestorScrolled(Le,vt){const Ht=this.getAncestorScrollContainers(Le);return this.scrolled(vt).pipe((0,fn.h)(un=>!un||Ht.indexOf(un)>-1))}getAncestorScrollContainers(Le){const vt=[];return this.scrollContainers.forEach((Ht,un)=>{this._scrollableContainsElement(un,Le)&&vt.push(un)}),vt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Le,vt){let Ht=(0,m.fI)(vt),un=Le.getElementRef().nativeElement;do{if(Ht==un)return!0}while(Ht=Ht.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Le=this._getWindow();return(0,et.R)(Le.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Gt.\u0275fac=function(Le){return new(Le||Gt)(h.LFG(h.R0b),h.LFG(wt.t4),h.LFG(qt.K0,8))},Gt.\u0275prov=h.Yz7({token:Gt,factory:Gt.\u0275fac,providedIn:"root"}),Gt})(),Wn=(()=>{class Gt{constructor(Le,vt,Ht,un){this.elementRef=Le,this.scrollDispatcher=vt,this.ngZone=Ht,this.dir=un,this._destroyed=new A.x,this._elementScrolled=new N.y(Rn=>this.ngZone.runOutsideAngular(()=>(0,et.R)(this.elementRef.nativeElement,"scroll").pipe((0,nn.R)(this._destroyed)).subscribe(Rn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Le){const vt=this.elementRef.nativeElement,Ht=this.dir&&"rtl"==this.dir.value;null==Le.left&&(Le.left=Ht?Le.end:Le.start),null==Le.right&&(Le.right=Ht?Le.start:Le.end),null!=Le.bottom&&(Le.top=vt.scrollHeight-vt.clientHeight-Le.bottom),Ht&&0!=(0,wt._i)()?(null!=Le.left&&(Le.right=vt.scrollWidth-vt.clientWidth-Le.left),2==(0,wt._i)()?Le.left=Le.right:1==(0,wt._i)()&&(Le.left=Le.right?-Le.right:Le.right)):null!=Le.right&&(Le.left=vt.scrollWidth-vt.clientWidth-Le.right),this._applyScrollToOptions(Le)}_applyScrollToOptions(Le){const vt=this.elementRef.nativeElement;(0,wt.Mq)()?vt.scrollTo(Le):(null!=Le.top&&(vt.scrollTop=Le.top),null!=Le.left&&(vt.scrollLeft=Le.left))}measureScrollOffset(Le){const vt="left",un=this.elementRef.nativeElement;if("top"==Le)return un.scrollTop;if("bottom"==Le)return un.scrollHeight-un.clientHeight-un.scrollTop;const Rn=this.dir&&"rtl"==this.dir.value;return"start"==Le?Le=Rn?"right":vt:"end"==Le&&(Le=Rn?vt:"right"),Rn&&2==(0,wt._i)()?Le==vt?un.scrollWidth-un.clientWidth-un.scrollLeft:un.scrollLeft:Rn&&1==(0,wt._i)()?Le==vt?un.scrollLeft+un.scrollWidth-un.clientWidth:-un.scrollLeft:Le==vt?un.scrollLeft:un.scrollWidth-un.clientWidth-un.scrollLeft}}return Gt.\u0275fac=function(Le){return new(Le||Gt)(h.Y36(h.SBq),h.Y36(kn),h.Y36(h.R0b),h.Y36($t.Is,8))},Gt.\u0275dir=h.lG2({type:Gt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Gt})(),Hn=(()=>{class Gt{constructor(Le,vt,Ht){this._platform=Le,this._change=new A.x,this._changeListener=un=>{this._change.next(un)},this._document=Ht,vt.runOutsideAngular(()=>{if(Le.isBrowser){const un=this._getWindow();un.addEventListener("resize",this._changeListener),un.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Le=this._getWindow();Le.removeEventListener("resize",this._changeListener),Le.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Le={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Le}getViewportRect(){const Le=this.getViewportScrollPosition(),{width:vt,height:Ht}=this.getViewportSize();return{top:Le.top,left:Le.left,bottom:Le.top+Ht,right:Le.left+vt,height:Ht,width:vt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Le=this._document,vt=this._getWindow(),Ht=Le.documentElement,un=Ht.getBoundingClientRect();return{top:-un.top||Le.body.scrollTop||vt.scrollY||Ht.scrollTop||0,left:-un.left||Le.body.scrollLeft||vt.scrollX||Ht.scrollLeft||0}}change(Le=20){return Le>0?this._change.pipe(on(Le)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Le=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Le.innerWidth,height:Le.innerHeight}:{width:0,height:0}}}return Gt.\u0275fac=function(Le){return new(Le||Gt)(h.LFG(wt.t4),h.LFG(h.R0b),h.LFG(qt.K0,8))},Gt.\u0275prov=h.Yz7({token:Gt,factory:Gt.\u0275fac,providedIn:"root"}),Gt})(),Wt=(()=>{class Gt{}return Gt.\u0275fac=function(Le){return new(Le||Gt)},Gt.\u0275mod=h.oAB({type:Gt}),Gt.\u0275inj=h.cJS({}),Gt})(),cn=(()=>{class Gt{}return Gt.\u0275fac=function(Le){return new(Le||Gt)},Gt.\u0275mod=h.oAB({type:Gt}),Gt.\u0275inj=h.cJS({imports:[$t.vT,Wt,$t.vT,Wt]}),Gt})()},6895:(bn,Tt,S)=>{S.d(Tt,{Do:()=>kt,EM:()=>Ea,Gx:()=>sa,HT:()=>N,JF:()=>ks,K0:()=>tt,Mx:()=>fi,NF:()=>cr,O5:()=>zt,Ov:()=>qa,PC:()=>Hs,PM:()=>Xs,RF:()=>Ai,S$:()=>Ue,V_:()=>X,Ye:()=>at,b0:()=>jt,bD:()=>Eo,ez:()=>$l,gd:()=>ra,mk:()=>Di,n9:()=>gr,p6:()=>vt,q:()=>A,sg:()=>es,tP:()=>Kr,w_:()=>et});var m=S(4650);let h=null;function A(){return h}function N(U){h||(h=U)}class et{}const tt=new m.OlP("DocumentToken");let pe=(()=>{class U{historyGo(W){throw new Error("Not implemented")}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return function ge(){return(0,m.LFG)(ye)}()},providedIn:"platform"}),U})();const X=new m.OlP("Location Initialized");let ye=(()=>{class U extends pe{constructor(W){super(),this._doc=W,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(W){const Me=A().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("popstate",W,!1),()=>Me.removeEventListener("popstate",W)}onHashChange(W){const Me=A().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("hashchange",W,!1),()=>Me.removeEventListener("hashchange",W)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(W){this.location.pathname=W}pushState(W,Me,Et){we()?this._history.pushState(W,Me,Et):this.location.hash=Et}replaceState(W,Me,Et){we()?this._history.replaceState(W,Me,Et):this.location.hash=Et}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(tt))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function Ge(){return new ye((0,m.LFG)(tt))}()},providedIn:"platform"}),U})();function we(){return!!window.history.pushState}function ut(U,he){if(0==U.length)return he;if(0==he.length)return U;let W=0;return U.endsWith("/")&&W++,he.startsWith("/")&&W++,2==W?U+he.substring(1):1==W?U+he:U+"/"+he}function dt(U){const he=U.match(/#|\?|$/),W=he&&he.index||U.length;return U.slice(0,W-("/"===U[W-1]?1:0))+U.slice(W)}function Pt(U){return U&&"?"!==U[0]?"?"+U:U}let Ue=(()=>{class U{historyGo(W){throw new Error("Not implemented")}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return(0,m.f3M)(jt)},providedIn:"root"}),U})();const mt=new m.OlP("appBaseHref");let jt=(()=>{class U extends Ue{constructor(W,Me){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=Me??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return ut(this._baseHref,W)}path(W=!1){const Me=this._platformLocation.pathname+Pt(this._platformLocation.search),Et=this._platformLocation.hash;return Et&&W?`${Me}${Et}`:Me}pushState(W,Me,Et,ln){const pn=this.prepareExternalUrl(Et+Pt(ln));this._platformLocation.pushState(W,Me,pn)}replaceState(W,Me,Et,ln){const pn=this.prepareExternalUrl(Et+Pt(ln));this._platformLocation.replaceState(W,Me,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(pe),m.LFG(mt,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),kt=(()=>{class U extends Ue{constructor(W,Me){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=Me&&(this._baseHref=Me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let Me=this._platformLocation.hash;return null==Me&&(Me="#"),Me.length>0?Me.substring(1):Me}prepareExternalUrl(W){const Me=ut(this._baseHref,W);return Me.length>0?"#"+Me:Me}pushState(W,Me,Et,ln){let pn=this.prepareExternalUrl(Et+Pt(ln));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.pushState(W,Me,pn)}replaceState(W,Me,Et,ln){let pn=this.prepareExternalUrl(Et+Pt(ln));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.replaceState(W,Me,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(pe),m.LFG(mt,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})(),at=(()=>{class U{constructor(W){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const Me=this._locationStrategy.getBaseHref();this._baseHref=dt($e(Me)),this._locationStrategy.onPopState(Et=>{this._subject.emit({url:this.path(!0),pop:!0,state:Et.state,type:Et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,Me=""){return this.path()==this.normalize(W+Pt(Me))}normalize(W){return U.stripTrailingSlash(function je(U,he){return U&&he.startsWith(U)?he.substring(U.length):he}(this._baseHref,$e(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,Me="",Et=null){this._locationStrategy.pushState(Et,"",W,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Pt(Me)),Et)}replaceState(W,Me="",Et=null){this._locationStrategy.replaceState(Et,"",W,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Pt(Me)),Et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Me=>{this._notifyUrlChangeListeners(Me.url,Me.state)})),()=>{const Me=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(Me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",Me){this._urlChangeListeners.forEach(Et=>Et(W,Me))}subscribe(W,Me,Et){return this._subject.subscribe({next:W,error:Me,complete:Et})}}return U.normalizeQueryParams=Pt,U.joinWithSlash=ut,U.stripTrailingSlash=dt,U.\u0275fac=function(W){return new(W||U)(m.LFG(Ue))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function He(){return new at((0,m.LFG)(Ue))}()},providedIn:"root"}),U})();function $e(U){return U.replace(/\/index.html$/,"")}var ot=(()=>((ot=ot||{})[ot.Zero=0]="Zero",ot[ot.One=1]="One",ot[ot.Two=2]="Two",ot[ot.Few=3]="Few",ot[ot.Many=4]="Many",ot[ot.Other=5]="Other",ot))(),st=(()=>((st=st||{})[st.Format=0]="Format",st[st.Standalone=1]="Standalone",st))(),pt=(()=>((pt=pt||{})[pt.Narrow=0]="Narrow",pt[pt.Abbreviated=1]="Abbreviated",pt[pt.Wide=2]="Wide",pt[pt.Short=3]="Short",pt))(),Rt=(()=>((Rt=Rt||{})[Rt.Short=0]="Short",Rt[Rt.Medium=1]="Medium",Rt[Rt.Long=2]="Long",Rt[Rt.Full=3]="Full",Rt))(),At=(()=>((At=At||{})[At.Decimal=0]="Decimal",At[At.Group=1]="Group",At[At.List=2]="List",At[At.PercentSign=3]="PercentSign",At[At.PlusSign=4]="PlusSign",At[At.MinusSign=5]="MinusSign",At[At.Exponential=6]="Exponential",At[At.SuperscriptingExponent=7]="SuperscriptingExponent",At[At.PerMille=8]="PerMille",At[At.Infinity=9]="Infinity",At[At.NaN=10]="NaN",At[At.TimeSeparator=11]="TimeSeparator",At[At.CurrencyDecimal=12]="CurrencyDecimal",At[At.CurrencyGroup=13]="CurrencyGroup",At))();function rn(U,he){return Be((0,m.cg1)(U)[m.wAp.DateFormat],he)}function Qt(U,he){return Be((0,m.cg1)(U)[m.wAp.TimeFormat],he)}function Cn(U,he){return Be((0,m.cg1)(U)[m.wAp.DateTimeFormat],he)}function Xt(U,he){const W=(0,m.cg1)(U),Me=W[m.wAp.NumberSymbols][he];if(typeof Me>"u"){if(he===At.CurrencyDecimal)return W[m.wAp.NumberSymbols][At.Decimal];if(he===At.CurrencyGroup)return W[m.wAp.NumberSymbols][At.Group]}return Me}const $n=m.kL8;function Hn(U){if(!U[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Be(U,he){for(let W=he;W>-1;W--)if(typeof U[W]<"u")return U[W];throw new Error("Locale data API: locale data undefined")}function ae(U){const[he,W]=U.split(":");return{hours:+he,minutes:+W}}const Ct=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wt={},cn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gt=(()=>((Gt=Gt||{})[Gt.Short=0]="Short",Gt[Gt.ShortGMT=1]="ShortGMT",Gt[Gt.Long=2]="Long",Gt[Gt.Extended=3]="Extended",Gt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),Le=(()=>((Le=Le||{})[Le.DayPeriods=0]="DayPeriods",Le[Le.Days=1]="Days",Le[Le.Months=2]="Months",Le[Le.Eras=3]="Eras",Le))();function vt(U,he,W,Me){let Et=function Ne(U){if(Ke(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Et,ln=1,pn=1]=U.split("-").map(li=>+li);return Ht(Et,ln-1,pn)}const W=parseFloat(U);if(!isNaN(U-W))return new Date(W);let Me;if(Me=U.match(Ct))return function _t(U){const he=new Date(0);let W=0,Me=0;const Et=U[8]?he.setUTCFullYear:he.setFullYear,ln=U[8]?he.setUTCHours:he.setHours;U[9]&&(W=Number(U[9]+U[10]),Me=Number(U[9]+U[11])),Et.call(he,Number(U[1]),Number(U[2])-1,Number(U[3]));const pn=Number(U[4]||0)-W,li=Number(U[5]||0)-Me,er=Number(U[6]||0),ji=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return ln.call(he,pn,li,er,ji),he}(Me)}const he=new Date(U);if(!Ke(he))throw new Error(`Unable to convert "${U}" into a date`);return he}(U);he=un(W,he)||he;let li,pn=[];for(;he;){if(li=cn.exec(he),!li){pn.push(he);break}{pn=pn.concat(li.slice(1));const tr=pn.pop();if(!tr)break;he=tr}}let er=Et.getTimezoneOffset();Me&&(er=Ce(Me,er),Et=function ne(U,he,W){const Me=W?-1:1,Et=U.getTimezoneOffset();return function Te(U,he){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+he),U}(U,Me*(Ce(he,Et)-Et))}(Et,Me,!0));let ji="";return pn.forEach(tr=>{const Vi=function qe(U){if(We[U])return We[U];let he;switch(U){case"G":case"GG":case"GGG":he=oe(Le.Eras,pt.Abbreviated);break;case"GGGG":he=oe(Le.Eras,pt.Wide);break;case"GGGGG":he=oe(Le.Eras,pt.Narrow);break;case"y":he=Mt(yt.FullYear,1,0,!1,!0);break;case"yy":he=Mt(yt.FullYear,2,0,!0,!0);break;case"yyy":he=Mt(yt.FullYear,3,0,!1,!0);break;case"yyyy":he=Mt(yt.FullYear,4,0,!1,!0);break;case"Y":he=Bt(1);break;case"YY":he=Bt(2,!0);break;case"YYY":he=Bt(3);break;case"YYYY":he=Bt(4);break;case"M":case"L":he=Mt(yt.Month,1,1);break;case"MM":case"LL":he=Mt(yt.Month,2,1);break;case"MMM":he=oe(Le.Months,pt.Abbreviated);break;case"MMMM":he=oe(Le.Months,pt.Wide);break;case"MMMMM":he=oe(Le.Months,pt.Narrow);break;case"LLL":he=oe(Le.Months,pt.Abbreviated,st.Standalone);break;case"LLLL":he=oe(Le.Months,pt.Wide,st.Standalone);break;case"LLLLL":he=oe(Le.Months,pt.Narrow,st.Standalone);break;case"w":he=It(1);break;case"ww":he=It(2);break;case"W":he=It(1,!0);break;case"d":he=Mt(yt.Date,1);break;case"dd":he=Mt(yt.Date,2);break;case"c":case"cc":he=Mt(yt.Day,1);break;case"ccc":he=oe(Le.Days,pt.Abbreviated,st.Standalone);break;case"cccc":he=oe(Le.Days,pt.Wide,st.Standalone);break;case"ccccc":he=oe(Le.Days,pt.Narrow,st.Standalone);break;case"cccccc":he=oe(Le.Days,pt.Short,st.Standalone);break;case"E":case"EE":case"EEE":he=oe(Le.Days,pt.Abbreviated);break;case"EEEE":he=oe(Le.Days,pt.Wide);break;case"EEEEE":he=oe(Le.Days,pt.Narrow);break;case"EEEEEE":he=oe(Le.Days,pt.Short);break;case"a":case"aa":case"aaa":he=oe(Le.DayPeriods,pt.Abbreviated);break;case"aaaa":he=oe(Le.DayPeriods,pt.Wide);break;case"aaaaa":he=oe(Le.DayPeriods,pt.Narrow);break;case"b":case"bb":case"bbb":he=oe(Le.DayPeriods,pt.Abbreviated,st.Standalone,!0);break;case"bbbb":he=oe(Le.DayPeriods,pt.Wide,st.Standalone,!0);break;case"bbbbb":he=oe(Le.DayPeriods,pt.Narrow,st.Standalone,!0);break;case"B":case"BB":case"BBB":he=oe(Le.DayPeriods,pt.Abbreviated,st.Format,!0);break;case"BBBB":he=oe(Le.DayPeriods,pt.Wide,st.Format,!0);break;case"BBBBB":he=oe(Le.DayPeriods,pt.Narrow,st.Format,!0);break;case"h":he=Mt(yt.Hours,1,-12);break;case"hh":he=Mt(yt.Hours,2,-12);break;case"H":he=Mt(yt.Hours,1);break;case"HH":he=Mt(yt.Hours,2);break;case"m":he=Mt(yt.Minutes,1);break;case"mm":he=Mt(yt.Minutes,2);break;case"s":he=Mt(yt.Seconds,1);break;case"ss":he=Mt(yt.Seconds,2);break;case"S":he=Mt(yt.FractionalSeconds,1);break;case"SS":he=Mt(yt.FractionalSeconds,2);break;case"SSS":he=Mt(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":he=z(Gt.Short);break;case"ZZZZZ":he=z(Gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":he=z(Gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":he=z(Gt.Long);break;default:return null}return We[U]=he,he}(tr);ji+=Vi?Vi(Et,W,er):"''"===tr?"'":tr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ji}function Ht(U,he,W){const Me=new Date(0);return Me.setFullYear(U,he,W),Me.setHours(0,0,0),Me}function un(U,he){const W=function Zt(U){return(0,m.cg1)(U)[m.wAp.LocaleId]}(U);if(Wt[W]=Wt[W]||{},Wt[W][he])return Wt[W][he];let Me="";switch(he){case"shortDate":Me=rn(U,Rt.Short);break;case"mediumDate":Me=rn(U,Rt.Medium);break;case"longDate":Me=rn(U,Rt.Long);break;case"fullDate":Me=rn(U,Rt.Full);break;case"shortTime":Me=Qt(U,Rt.Short);break;case"mediumTime":Me=Qt(U,Rt.Medium);break;case"longTime":Me=Qt(U,Rt.Long);break;case"fullTime":Me=Qt(U,Rt.Full);break;case"short":const Et=un(U,"shortTime"),ln=un(U,"shortDate");Me=Rn(Cn(U,Rt.Short),[Et,ln]);break;case"medium":const pn=un(U,"mediumTime"),li=un(U,"mediumDate");Me=Rn(Cn(U,Rt.Medium),[pn,li]);break;case"long":const er=un(U,"longTime"),ji=un(U,"longDate");Me=Rn(Cn(U,Rt.Long),[er,ji]);break;case"full":const tr=un(U,"fullTime"),Vi=un(U,"fullDate");Me=Rn(Cn(U,Rt.Full),[tr,Vi])}return Me&&(Wt[W][he]=Me),Me}function Rn(U,he){return he&&(U=U.replace(/\{([^}]+)}/g,function(W,Me){return null!=he&&Me in he?he[Me]:W})),U}function _n(U,he,W="-",Me,Et){let ln="";(U<0||Et&&U<=0)&&(Et?U=1-U:(U=-U,ln=W));let pn=String(U);for(;pn.length<he;)pn="0"+pn;return Me&&(pn=pn.slice(pn.length-he)),ln+pn}function Mt(U,he,W=0,Me=!1,Et=!1){return function(ln,pn){let li=function te(U,he){switch(U){case yt.FullYear:return he.getFullYear();case yt.Month:return he.getMonth();case yt.Date:return he.getDate();case yt.Hours:return he.getHours();case yt.Minutes:return he.getMinutes();case yt.Seconds:return he.getSeconds();case yt.FractionalSeconds:return he.getMilliseconds();case yt.Day:return he.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,ln);if((W>0||li>-W)&&(li+=W),U===yt.Hours)0===li&&-12===W&&(li=12);else if(U===yt.FractionalSeconds)return function Ot(U,he){return _n(U,3).substring(0,he)}(li,he);const er=Xt(pn,At.MinusSign);return _n(li,he,er,Me,Et)}}function oe(U,he,W=st.Format,Me=!1){return function(Et,ln){return function K(U,he,W,Me,Et,ln){switch(W){case Le.Months:return function nn(U,he,W){const Me=(0,m.cg1)(U),ln=Be([Me[m.wAp.MonthsFormat],Me[m.wAp.MonthsStandalone]],he);return Be(ln,W)}(he,Et,Me)[U.getMonth()];case Le.Days:return function fn(U,he,W){const Me=(0,m.cg1)(U),ln=Be([Me[m.wAp.DaysFormat],Me[m.wAp.DaysStandalone]],he);return Be(ln,W)}(he,Et,Me)[U.getDay()];case Le.DayPeriods:const pn=U.getHours(),li=U.getMinutes();if(ln){const ji=function Gn(U){const he=(0,m.cg1)(U);return Hn(he),(he[m.wAp.ExtraData][2]||[]).map(Me=>"string"==typeof Me?ae(Me):[ae(Me[0]),ae(Me[1])])}(he),tr=function Qn(U,he,W){const Me=(0,m.cg1)(U);Hn(Me);const ln=Be([Me[m.wAp.ExtraData][0],Me[m.wAp.ExtraData][1]],he)||[];return Be(ln,W)||[]}(he,Et,Me),Vi=ji.findIndex(_r=>{if(Array.isArray(_r)){const[Xi,Ar]=_r,Ao=pn>=Xi.hours&&li>=Xi.minutes,Js=pn<Ar.hours||pn===Ar.hours&&li<Ar.minutes;if(Xi.hours<Ar.hours){if(Ao&&Js)return!0}else if(Ao||Js)return!0}else if(_r.hours===pn&&_r.minutes===li)return!0;return!1});if(-1!==Vi)return tr[Vi]}return function on(U,he,W){const Me=(0,m.cg1)(U),ln=Be([Me[m.wAp.DayPeriodsFormat],Me[m.wAp.DayPeriodsStandalone]],he);return Be(ln,W)}(he,Et,Me)[pn<12?0:1];case Le.Eras:return function wt(U,he){return Be((0,m.cg1)(U)[m.wAp.Eras],he)}(he,Me)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(Et,ln,U,he,W,Me)}}function z(U){return function(he,W,Me){const Et=-1*Me,ln=Xt(W,At.MinusSign),pn=Et>0?Math.floor(Et/60):Math.ceil(Et/60);switch(U){case Gt.Short:return(Et>=0?"+":"")+_n(pn,2,ln)+_n(Math.abs(Et%60),2,ln);case Gt.ShortGMT:return"GMT"+(Et>=0?"+":"")+_n(pn,1,ln);case Gt.Long:return"GMT"+(Et>=0?"+":"")+_n(pn,2,ln)+":"+_n(Math.abs(Et%60),2,ln);case Gt.Extended:return 0===Me?"Z":(Et>=0?"+":"")+_n(pn,2,ln)+":"+_n(Math.abs(Et%60),2,ln);default:throw new Error(`Unknown zone width "${U}"`)}}}function it(U){return Ht(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function It(U,he=!1){return function(W,Me){let Et;if(he){const ln=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,pn=W.getDate();Et=1+Math.floor((pn+ln)/7)}else{const ln=it(W),pn=function ft(U){const he=Ht(U,0,1).getDay();return Ht(U,0,1+(he<=4?4:11)-he)}(ln.getFullYear()),li=ln.getTime()-pn.getTime();Et=1+Math.round(li/6048e5)}return _n(Et,U,Xt(Me,At.MinusSign))}}function Bt(U,he=!1){return function(W,Me){return _n(it(W).getFullYear(),U,Xt(Me,At.MinusSign),he)}}const We={};function Ce(U,he){U=U.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(W)?he:W}function Ke(U){return U instanceof Date&&!isNaN(U.valueOf())}let ie=(()=>{class U{}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=m.Yz7({token:U,factory:function(W){let Me=null;return W?Me=new W:(Et=m.LFG(m.soG),Me=new bt(Et)),Me;var Et},providedIn:"root"}),U})();let bt=(()=>{class U extends ie{constructor(W){super(),this.locale=W}getPluralCategory(W,Me){switch($n(Me||this.locale)(W)){case ot.Zero:return"zero";case ot.One:return"one";case ot.Two:return"two";case ot.Few:return"few";case ot.Many:return"many";default:return"other"}}}return U.\u0275fac=function(W){return new(W||U)(m.LFG(m.soG))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})();function fi(U,he){he=encodeURIComponent(he);for(const W of U.split(";")){const Me=W.indexOf("="),[Et,ln]=-1==Me?[W,""]:[W.slice(0,Me),W.slice(Me+1)];if(Et.trim()===he)return decodeURIComponent(ln)}return null}let Di=(()=>{class U{constructor(W,Me,Et,ln){this._iterableDiffers=W,this._keyValueDiffers=Me,this._ngEl=Et,this._renderer=ln,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(W){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof W?W.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(W){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof W?W.split(/\s+/):W,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const W=this._iterableDiffer.diff(this._rawClass);W&&this._applyIterableChanges(W)}else if(this._keyValueDiffer){const W=this._keyValueDiffer.diff(this._rawClass);W&&this._applyKeyValueChanges(W)}}_applyKeyValueChanges(W){W.forEachAddedItem(Me=>this._toggleClass(Me.key,Me.currentValue)),W.forEachChangedItem(Me=>this._toggleClass(Me.key,Me.currentValue)),W.forEachRemovedItem(Me=>{Me.previousValue&&this._toggleClass(Me.key,!1)})}_applyIterableChanges(W){W.forEachAddedItem(Me=>{if("string"!=typeof Me.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(Me.item)}`);this._toggleClass(Me.item,!0)}),W.forEachRemovedItem(Me=>this._toggleClass(Me.item,!1))}_applyClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(Me=>this._toggleClass(Me,!0)):Object.keys(W).forEach(Me=>this._toggleClass(Me,!!W[Me])))}_removeClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(Me=>this._toggleClass(Me,!1)):Object.keys(W).forEach(Me=>this._toggleClass(Me,!1)))}_toggleClass(W,Me){(W=W.trim())&&W.split(/\s+/g).forEach(Et=>{Me?this._renderer.addClass(this._ngEl.nativeElement,Et):this._renderer.removeClass(this._ngEl.nativeElement,Et)})}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class as{constructor(he,W,Me,Et){this.$implicit=he,this.ngForOf=W,this.index=Me,this.count=Et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class U{constructor(W,Me,Et){this._viewContainer=W,this._template=Me,this._differs=Et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const Me=this._viewContainer;W.forEachOperation((Et,ln,pn)=>{if(null==Et.previousIndex)Me.createEmbeddedView(this._template,new as(Et.item,this._ngForOf,-1,-1),null===pn?void 0:pn);else if(null==pn)Me.remove(null===ln?void 0:ln);else if(null!==ln){const li=Me.get(ln);Me.move(li,pn),Vt(li,Et)}});for(let Et=0,ln=Me.length;Et<ln;Et++){const li=Me.get(Et).context;li.index=Et,li.count=ln,li.ngForOf=this._ngForOf}W.forEachIdentityChange(Et=>{Vt(Me.get(Et.currentIndex),Et)})}static ngTemplateContextGuard(W,Me){return!0}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function Vt(U,he){U.context.$implicit=he.item}let zt=(()=>{class U{constructor(W,Me){this._viewContainer=W,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Me}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){In("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){In("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,Me){return!0}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b),m.Y36(m.Rgc))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function In(U,he){if(he&&!he.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,m.AaK)(he)}'.`)}class qn{constructor(he,W){this._viewContainerRef=he,this._templateRef=W,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(he){he&&!this._created?this.create():!he&&this._created&&this.destroy()}}let Ai=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(W){this._ngSwitch=W,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(W){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(W)}_matchCase(W){const Me=W==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Me}_updateDefaultCases(W){if(this._defaultViews&&W!==this._defaultUsed){this._defaultUsed=W;for(let Me=0;Me<this._defaultViews.length;Me++)this._defaultViews[Me].enforceState(W)}}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275dir=m.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),U})(),gr=(()=>{class U{constructor(W,Me,Et){this.ngSwitch=Et,Et._addCase(),this._view=new qn(W,Me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Ai,9))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),U})(),Hs=(()=>{class U{constructor(W,Me,Et){this._ngEl=W,this._differs=Me,this._renderer=Et,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,Me){const[Et,ln]=W.split("."),pn=-1===Et.indexOf("-")?void 0:m.JOm.DashCase;null!=Me?this._renderer.setStyle(this._ngEl.nativeElement,Et,ln?`${Me}${ln}`:Me,pn):this._renderer.removeStyle(this._ngEl.nativeElement,Et,pn)}_applyChanges(W){W.forEachRemovedItem(Me=>this._setStyle(Me.key,null)),W.forEachAddedItem(Me=>this._setStyle(Me.key,Me.currentValue)),W.forEachChangedItem(Me=>this._setStyle(Me.key,Me.currentValue))}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),U})(),Kr=(()=>{class U{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const Me=this._viewContainerRef;if(this._viewRef&&Me.remove(Me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Et,ngTemplateOutletContext:ln,ngTemplateOutletInjector:pn}=this;this._viewRef=Me.createEmbeddedView(Et,ln,pn?{injector:pn}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.s_b))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),U})();function ls(U,he){return new m.vHH(2100,!1)}class jl{createSubscription(he,W){return he.subscribe({next:W,error:Me=>{throw Me}})}dispose(he){he.unsubscribe()}}class io{createSubscription(he,W){return he.then(W,Me=>{throw Me})}dispose(he){}}const zl=new io,Co=new jl;let qa=(()=>{class U{constructor(W){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,Me=>this._updateLatestValue(W,Me))}_selectStrategy(W){if((0,m.QGY)(W))return zl;if((0,m.F4k)(W))return Co;throw ls()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,Me){W===this._obj&&(this._latestValue=Me,this._ref.markForCheck())}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(m.sBO,16))},U.\u0275pipe=m.Yjl({name:"async",type:U,pure:!1,standalone:!0}),U})(),ra=(()=>{class U{transform(W){if(null==W)return null;if("string"!=typeof W)throw ls();return W.toUpperCase()}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275pipe=m.Yjl({name:"uppercase",type:U,pure:!0,standalone:!0}),U})();const ws=/#/g;let sa=(()=>{class U{constructor(W){this._localization=W}transform(W,Me,Et){if(null==W)return"";if("object"!=typeof Me||null===Me)throw ls();return Me[function Re(U,he,W,Me){let Et=`=${U}`;if(he.indexOf(Et)>-1||(Et=W.getPluralCategory(U,Me),he.indexOf(Et)>-1))return Et;if(he.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${U}"`)}(W,Object.keys(Me),this._localization,Et)].replace(ws,W.toString())}}return U.\u0275fac=function(W){return new(W||U)(m.Y36(ie,16))},U.\u0275pipe=m.Yjl({name:"i18nPlural",type:U,pure:!0,standalone:!0}),U})(),$l=(()=>{class U{}return U.\u0275fac=function(W){return new(W||U)},U.\u0275mod=m.oAB({type:U}),U.\u0275inj=m.cJS({}),U})();const Eo="browser";function cr(U){return U===Eo}function Xs(U){return"server"===U}let Ea=(()=>{class U{}return U.\u0275prov=(0,m.Yz7)({token:U,providedIn:"root",factory:()=>new Qa((0,m.LFG)(tt),window)}),U})();class Qa{constructor(he,W){this.document=he,this.window=W,this.offset=()=>[0,0]}setOffset(he){this.offset=Array.isArray(he)?()=>he:he}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(he){this.supportsScrolling()&&this.window.scrollTo(he[0],he[1])}scrollToAnchor(he){if(!this.supportsScrolling())return;const W=function ns(U,he){const W=U.getElementById(he)||U.getElementsByName(he)[0];if(W)return W;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const Me=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Et=Me.currentNode;for(;Et;){const ln=Et.shadowRoot;if(ln){const pn=ln.getElementById(he)||ln.querySelector(`[name="${he}"]`);if(pn)return pn}Et=Me.nextNode()}}return null}(this.document,he);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(he){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=he)}}scrollToElement(he){const W=he.getBoundingClientRect(),Me=W.left+this.window.pageXOffset,Et=W.top+this.window.pageYOffset,ln=this.offset();this.window.scrollTo(Me-ln[0],Et-ln[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const he=To(this.window.history)||To(Object.getPrototypeOf(this.window.history));return!(!he||!he.writable&&!he.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function To(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class ks{}},4650:(bn,Tt,S)=>{S.d(Tt,{$8M:()=>da,$Z:()=>vo,AFp:()=>uC,ALo:()=>cE,AaK:()=>pe,BQk:()=>pc,CHM:()=>Zc,CRH:()=>Ww,CZH:()=>I_,CqO:()=>Dh,D6c:()=>eA,EJc:()=>Y0,EiD:()=>ic,EpF:()=>Bu,F$t:()=>c_,F4k:()=>Zv,FYo:()=>$y,FiY:()=>xc,G48:()=>oT,Gf:()=>up,GfV:()=>rm,GkF:()=>Ch,Gpc:()=>ye,HOy:()=>si,Hsn:()=>u_,Ikx:()=>cw,JOm:()=>$s,JVY:()=>q_,KtG:()=>xa,L6k:()=>Nr,LAX:()=>Kd,LFG:()=>ms,LMc:()=>iA,LSH:()=>rd,Lbi:()=>Bo,Lck:()=>QS,MAs:()=>r_,MGl:()=>xd,MMx:()=>Nw,NdJ:()=>s_,O4$:()=>li,OlP:()=>sr,Oqu:()=>xt,PXZ:()=>Nh,Q6J:()=>Sd,QGY:()=>ip,QP$:()=>Ke,QbO:()=>zE,Qsj:()=>Kb,QtT:()=>zD,R0b:()=>Bs,RDi:()=>Zh,Rgc:()=>hy,SBq:()=>Bp,SDv:()=>jD,Sil:()=>YE,Suo:()=>$w,TTD:()=>zi,TgZ:()=>hl,Tol:()=>Ca,Udp:()=>f_,VKq:()=>tE,W1O:()=>Zw,WFA:()=>o_,WLB:()=>nE,X6Q:()=>sT,XFs:()=>Be,Xpm:()=>J,Xts:()=>J_,Y36:()=>ch,YKP:()=>YD,YNc:()=>kl,Yjl:()=>Te,Yz7:()=>Qt,Z0I:()=>An,ZZ4:()=>cb,_Bn:()=>WD,_UZ:()=>np,_Vd:()=>ad,_c5:()=>Xx,_uU:()=>Xe,aQg:()=>ub,c2e:()=>W0,cJS:()=>Xt,cg1:()=>lp,d8E:()=>uw,dDg:()=>J0,dqk:()=>vt,eBb:()=>Xh,eFA:()=>vC,ekj:()=>p_,eoX:()=>eb,f3M:()=>Ep,g9A:()=>$0,h0i:()=>w_,hGG:()=>Jx,hij:()=>sn,iGM:()=>F0,ifc:()=>Le,ip1:()=>cC,jDz:()=>Pw,kEZ:()=>iE,kL8:()=>Hg,kcU:()=>ji,lG2:()=>Ce,lcZ:()=>uE,lqb:()=>od,lri:()=>X0,mCW:()=>D,n5z:()=>Yu,n_E:()=>k0,oAB:()=>Bt,oxw:()=>l_,pB0:()=>hs,pQV:()=>Aw,q3G:()=>Qr,q4F:()=>av,qLn:()=>Xo,qOj:()=>Ig,qZA:()=>Fu,qzn:()=>rl,rWj:()=>gy,s9C:()=>rp,sBO:()=>TC,sIi:()=>Qf,s_b:()=>N0,soG:()=>O_,tb:()=>dC,tp0:()=>qr,uIk:()=>Ol,vHH:()=>dt,vpe:()=>Id,wAp:()=>Oi,xp6:()=>ag,ynx:()=>Lu,z2F:()=>vy,z3N:()=>il,zSh:()=>rv,zs3:()=>nr});var m=S(7579),h=S(727),A=S(9751),Se=S(6451),N=S(3099);function et(s){for(let a in s)if(s[a]===et)return a;throw Error("Could not find renamed property on target object.")}function tt(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function ge(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const X=et({__forward_ref__:et});function ye(s){return s.__forward_ref__=ye,s.toString=function(){return pe(this())},s}function we(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(X)&&s.__forward_ref__===ye}class dt extends Error{constructor(a,u){super(function Pt(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function Ue(s){return"string"==typeof s?s:null==s?"":String(s)}function He(s,a){throw new dt(-201,!1)}function wt(s,a,u,p){throw new Error(`ASSERTION ERROR: ${s}`+(null==p?"":` [Expected=> ${u} ${p} ${a} <=Actual]`))}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xt(s){return{providers:s.providers||[],imports:s.imports||[]}}function gn(s){return Un(s,Hn)||Un(s,Qn)}function An(s){return null!==gn(s)}function Un(s,a){return s.hasOwnProperty(a)?s[a]:null}function $n(s){return s&&(s.hasOwnProperty(Gn)||s.hasOwnProperty(vn))?s[Gn]:null}const Hn=et({\u0275prov:et}),Gn=et({\u0275inj:et}),Qn=et({ngInjectableDef:et}),vn=et({ngInjectorDef:et});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let ae;function nt(s){const a=ae;return ae=s,a}function Ze(s,a,u){const p=gn(s);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&Be.Optional?null:void 0!==a?a:void He(pe(s))}function Wt(s){return{toString:s}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),Le=(()=>{return(s=Le||(Le={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Le;var s})();const vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rn={},_n=[],Ot=et({\u0275cmp:et}),Mt=et({\u0275dir:et}),te=et({\u0275pipe:et}),oe=et({\u0275mod:et}),K=et({\u0275fac:et}),z=et({__NG_ELEMENT_ID__:et});let ue=0;function J(s){return Wt(()=>{const u=!0===s.standalone,p={},_={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||_n,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Le.Emulated,id:"c"+ue++,styles:s.styles||_n,_:null,setInput:null,schemas:s.schemas||null,tView:null},b=s.dependencies,T=s.features;return _.inputs=qe(s.inputs,p),_.outputs=qe(s.outputs),T&&T.forEach(P=>P(_)),_.directiveDefs=b?()=>("function"==typeof b?b():b).map(it).filter(It):null,_.pipeDefs=b?()=>("function"==typeof b?b():b).map(_t).filter(It):null,_})}function it(s){return ne(s)||Ne(s)}function It(s){return null!==s}function Bt(s){return Wt(()=>({type:s.type,bootstrap:s.bootstrap||_n,declarations:s.declarations||_n,imports:s.imports||_n,exports:s.exports||_n,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function qe(s,a){if(null==s)return Rn;const u={};for(const p in s)if(s.hasOwnProperty(p)){let _=s[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),u[_]=p,a&&(a[_]=b)}return u}const Ce=J;function Te(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ne(s){return s[Ot]||null}function Ne(s){return s[Mt]||null}function _t(s){return s[te]||null}function Ke(s){const a=ne(s)||Ne(s)||_t(s);return null!==a&&a.standalone}function Ye(s,a){const u=s[oe]||null;if(!u&&!0===a)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return u}const O=16;function In(s){return Array.isArray(s)&&"object"==typeof s[1]}function qn(s){return Array.isArray(s)&&!0===s[1]}function Ai(s){return 0!=(8&s.flags)}function gr(s){return 2==(2&s.flags)}function Pi(s){return 1==(1&s.flags)}function lr(s){return null!==s.template}function Zs(s){return 0!=(256&s[2])}function Er(s,a){return s.hasOwnProperty(K)?s[K]:null}class Gs{constructor(a,u,p){this.previousValue=a,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function zi(){return ao}function ao(s){return s.type.prototype.ngOnChanges&&(s.setInput=cs),Vo}function Vo(){const s=Do(this),a=s?.current;if(a){const u=s.previous;if(u===Rn)s.previous=a;else for(let p in a)u[p]=a[p];s.current=null,this.ngOnChanges(a)}}function cs(s,a,u,p){const _=Do(s)||function $l(s,a){return s[Da]=a}(s,{previous:Rn,current:null}),b=_.current||(_.current={}),T=_.previous,P=this.declaredInputs[u],G=T[P];b[P]=new Gs(G&&G.currentValue,a,T===Rn),s[p]=a}zi.ngInherit=!0;const Da="__ngSimpleChanges__";function Do(s){return s[Da]||null}function Zi(s){for(;Array.isArray(s);)s=s[0];return s}function To(s,a){return Zi(a[s])}function ns(s,a){return Zi(a[s.index])}function ks(s,a){return s.data[a]}function Hr(s,a){return s[a]}function Bi(s,a){const u=a[s];return In(u)?u:u[0]}function Rs(s){return 64==(64&s[2])}function Cs(s,a){return null==a?null:s[a]}function lo(s){s[18]=0}function Uo(s,a){s[5]+=a;let u=s,p=s[3];for(;null!==p&&(1===a&&1===u[5]||-1===a&&0===u[5]);)p[5]+=a,u=p,p=p[3]}const yi={lFrame:Yl(null),bindingsEnabled:!0};function Ds(){return yi.bindingsEnabled}function Dn(){return yi.lFrame.lView}function Ii(){return yi.lFrame.tView}function Zc(s){return yi.lFrame.contextLView=s,s[8]}function xa(s){return yi.lFrame.contextLView=null,s}function Gr(){let s=q();for(;null!==s&&64===s.type;)s=s.parent;return s}function q(){return yi.lFrame.currentTNode}function Y(){const s=yi.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function $(s,a){const u=yi.lFrame;u.currentTNode=s,u.isParent=a}function ze(){return yi.lFrame.isParent}function dn(){yi.lFrame.isParent=!1}function xr(){const s=yi.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function co(){return yi.lFrame.bindingIndex}function Ja(){return yi.lFrame.bindingIndex++}function ho(s){const a=yi.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function _l(s){yi.lFrame.inI18n=s}function Go(s,a){const u=yi.lFrame;u.bindingIndex=u.bindingRootIndex=s,el(a)}function el(s){yi.lFrame.currentDirectiveIndex=s}function Aa(s){const a=yi.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function aa(){return yi.lFrame.currentQueryIndex}function Ia(s){yi.lFrame.currentQueryIndex=s}function jo(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Qc(s,a,u){if(u&Be.SkipSelf){let _=a,b=s;for(;!(_=_.parent,null!==_||u&Be.Host||(_=jo(b),null===_||(b=b[15],10&_.type))););if(null===_)return!1;a=_,s=b}const p=yi.lFrame=Ma();return p.currentTNode=a,p.lView=s,!0}function vl(s){const a=Ma(),u=s[1];yi.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Ma(){const s=yi.lFrame,a=null===s?null:s.child;return null===a?Yl(s):a}function Yl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function yl(){const s=yi.lFrame;return yi.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const U=yl;function he(){const s=yl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Et(){return yi.lFrame.selectedIndex}function ln(s){yi.lFrame.selectedIndex=s}function pn(){const s=yi.lFrame;return ks(s.tView,s.selectedIndex)}function li(){yi.lFrame.currentNamespace="svg"}function ji(){!function tr(){yi.lFrame.currentNamespace=null}()}function Xi(s,a){for(let u=a.directiveStart,p=a.directiveEnd;u<p;u++){const b=s.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:P,ngAfterViewInit:G,ngAfterViewChecked:se,ngOnDestroy:Fe}=b;T&&(s.contentHooks||(s.contentHooks=[])).push(-u,T),P&&((s.contentHooks||(s.contentHooks=[])).push(u,P),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,P)),G&&(s.viewHooks||(s.viewHooks=[])).push(-u,G),se&&((s.viewHooks||(s.viewHooks=[])).push(u,se),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,se)),null!=Fe&&(s.destroyHooks||(s.destroyHooks=[])).push(u,Fe)}}function Ar(s,a,u){Ir(s,a,3,u)}function Ao(s,a,u,p){(3&s[2])===u&&Ir(s,a,u,p)}function Js(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function Ir(s,a,u,p){const b=p??-1,T=a.length-1;let P=0;for(let G=void 0!==p?65535&s[18]:0;G<T;G++)if("number"==typeof a[G+1]){if(P=a[G],null!=p&&P>=p)break}else a[G]<0&&(s[18]+=65536),(P<b||-1==b)&&(Ns(s,u,a,G),s[18]=(4294901760&s[18])+G+2),G++}function Ns(s,a,u,p){const _=u[p]<0,b=u[p+1],P=s[_?-u[p]:u[p]];if(_){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{b.call(P)}finally{}}}else try{b.call(P)}finally{}}class ps{constructor(a,u,p){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function Zn(s,a,u){let p=0;for(;p<u.length;){const _=u[p];if("number"==typeof _){if(0!==_)break;p++;const b=u[p++],T=u[p++],P=u[p++];s.setAttribute(a,T,P,b)}else{const b=_,T=u[++p];Nn(b)?s.setProperty(a,b,T):s.setAttribute(a,b,T),p++}}return p}function hn(s){return 3===s||4===s||6===s}function Nn(s){return 64===s.charCodeAt(0)}function Lr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let p=0;p<a.length;p++){const _=a[p];"number"==typeof _?u=_:0===u||Xc(s,u,_,null,-1===u||2===u?a[++p]:null)}}return s}function Xc(s,a,u,p,_){let b=0,T=s.length;if(-1===a)T=-1;else for(;b<s.length;){const P=s[b++];if("number"==typeof P){if(P===a){T=-1;break}if(P>a){T=b-1;break}}}for(;b<s.length;){const P=s[b];if("number"==typeof P)break;if(P===u){if(null===p)return void(null!==_&&(s[b+1]=_));if(p===s[b+1])return void(s[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==T&&(s.splice(T,0,a),b=T+1),s.splice(b++,0,u),null!==p&&s.splice(b++,0,p),null!==_&&s.splice(b++,0,_)}function zu(s){return-1!==s}function Oa(s){return 32767&s}function ka(s,a){let u=function Uh(s){return s>>16}(s),p=a;for(;u>0;)p=p[15],u--;return p}let $u=!0;function Cc(s){const a=$u;return $u=s,a}let Wu=0;const ci={};function Io(s,a){const u=Ci(s,a);if(-1!==u)return u;const p=a[1];p.firstCreatePass&&(s.injectorIndex=a.length,dr(p.data,s),dr(a,null),dr(p.blueprint,null));const _=Ra(s,a),b=s.injectorIndex;if(zu(_)){const T=Oa(_),P=ka(_,a),G=P[1].data;for(let se=0;se<8;se++)a[b+se]=P[T+se]|G[T+se]}return a[b+8]=_,b}function dr(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ci(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ra(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,p=null,_=a;for(;null!==_;){if(p=ua(_),null===p)return-1;if(u++,_=_[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function Hi(s,a,u){!function la(s,a,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(z)&&(p=u[z]),null==p&&(p=u[z]=Wu++);const _=255&p;a.data[s+(_>>5)]|=1<<_}(s,a,u)}function kr(s,a,u){if(u&Be.Optional||void 0!==s)return s;He()}function jn(s,a,u,p){if(u&Be.Optional&&void 0===p&&(p=null),0==(u&(Be.Self|Be.Host))){const _=s[9],b=nt(void 0);try{return _?_.get(a,p,u&Be.Optional):Ze(a,p,u&Be.Optional)}finally{nt(b)}}return kr(p,0,u)}function Na(s,a,u,p=Be.Default,_){if(null!==s){if(1024&a[2]){const T=function nu(s,a,u,p,_){let b=s,T=a;for(;null!==b&&null!==T&&1024&T[2]&&!(256&T[2]);){const P=jr(b,T,u,p|Be.Self,ci);if(P!==ci)return P;let G=b.parent;if(!G){const se=T[21];if(se){const Fe=se.get(u,ci,p);if(Fe!==ci)return Fe}G=ua(T),T=T[15]}b=G}return _}(s,a,u,p,ci);if(T!==ci)return T}const b=jr(s,a,u,p,ci);if(b!==ci)return b}return jn(a,u,p,_)}function jr(s,a,u,p,_){const b=function Pa(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(z)?s[z]:void 0;return"number"==typeof a?a>=0?255&a:Mo:a}(u);if("function"==typeof b){if(!Qc(a,s,p))return p&Be.Host?kr(_,0,p):jn(a,u,p,_);try{const T=b(p);if(null!=T||p&Be.Optional)return T;He()}finally{U()}}else if("number"==typeof b){let T=null,P=Ci(s,a),G=-1,se=p&Be.Host?a[O][6]:null;for((-1===P||p&Be.SkipSelf)&&(G=-1===P?Ra(s,a):a[P+8],-1!==G&&tu(p,!1)?(T=a[1],P=Oa(G),a=ka(G,a)):P=-1);-1!==P;){const Fe=a[1];if(tl(b,P,Fe.data)){const lt=ca(P,a,u,T,p,se);if(lt!==ci)return lt}G=a[P+8],-1!==G&&tu(p,a[1].data[P+8]===se)&&tl(b,P,a)?(T=Fe,P=Oa(G),a=ka(G,a)):P=-1}}return _}function ca(s,a,u,p,_,b){const T=a[1],P=T.data[s+8],Fe=bl(P,T,u,null==p?gr(P)&&$u:p!=T&&0!=(3&P.type),_&Be.Host&&b===P);return null!==Fe?Rr(a,T,Fe,P):ci}function bl(s,a,u,p,_){const b=s.providerIndexes,T=a.data,P=1048575&b,G=s.directiveStart,Fe=b>>20,Ft=_?P+Fe:s.directiveEnd;for(let en=p?P:P+Fe;en<Ft;en++){const En=T[en];if(en<G&&u===En||en>=G&&En.type===u)return en}if(_){const en=T[G];if(en&&lr(en)&&en.type===u)return G}return null}function Rr(s,a,u,p){let _=s[u];const b=a.data;if(function Kl(s){return s instanceof ps}(_)){const T=_;T.resolving&&function jt(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new dt(-200,`Circular dependency in DI detected for ${s}${u}`)}(function mt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ue(s)}(b[u]));const P=Cc(T.canSeeViewProviders);T.resolving=!0;const G=T.injectImpl?nt(T.injectImpl):null;Qc(s,p,Be.Default);try{_=s[u]=T.factory(void 0,b,s,p),a.firstCreatePass&&u>=p.directiveStart&&function _r(s,a,u){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=a.type.prototype;if(p){const T=ao(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,T)}_&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,_),b&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,b))}(u,b[u],a)}finally{null!==G&&nt(G),Cc(P),T.resolving=!1,U()}}return _}function tl(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function tu(s,a){return!(s&Be.Self||s&Be.Host&&a)}class Fa{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,p){return Na(this._tNode,this._lView,a,p,u)}}function Mo(){return new Fa(Gr(),Dn())}function Yu(s){return Wt(()=>{const a=s.prototype.constructor,u=a[K]||nl(a),p=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==p;){const b=_[K]||nl(_);if(b&&b!==u)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function nl(s){return Ge(s)?()=>{const a=nl(we(s));return a&&a()}:Er(s)}function ua(s){const a=s[1],u=a.type;return 2===u?a.declTNode:1===u?s[6]:null}function da(s){return function eu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const p=u.length;let _=0;for(;_<p;){const b=u[_];if(hn(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof u[_];)_++;else{if(b===a)return u[_+1];_+=2}}}return null}(Gr(),s)}const $o="__parameters__";function eo(s,a,u){return Wt(()=>{const p=function Zl(s){return function(...u){if(s){const p=s(...u);for(const _ in p)this[_]=p[_]}}}(a);function _(...b){if(this instanceof _)return p.apply(this,b),this;const T=new _(...b);return P.annotation=T,P;function P(G,se,Fe){const lt=G.hasOwnProperty($o)?G[$o]:Object.defineProperty(G,$o,{value:[]})[$o];for(;lt.length<=Fe;)lt.push(null);return(lt[Fe]=lt[Fe]||[]).push(T),G}}return u&&(_.prototype=Object.create(u.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}class sr{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yn(s,a){void 0===a&&(a=s);for(let u=0;u<s.length;u++){let p=s[u];Array.isArray(p)?(a===s&&(a=s.slice(0,u)),Yn(p,a)):a!==s&&a.push(p)}return a}function Wo(s,a){s.forEach(u=>Array.isArray(u)?Wo(u,a):a(u))}function Yo(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function vr(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function M(s,a){const u=[];for(let p=0;p<s;p++)u.push(a);return u}function Dt(s,a,u){let p=Vn(s,a);return p>=0?s[1|p]=u:(p=~p,function j(s,a,u,p){let _=s.length;if(_==a)s.push(u,p);else if(1===_)s.push(p,s[0]),s[0]=u;else{for(_--,s.push(s[_-1],s[_]);_>a;)s[_]=s[_-2],_--;s[a]=u,s[a+1]=p}}(s,p,a,u)),p}function mn(s,a){const u=Vn(s,a);if(u>=0)return s[1|u]}function Vn(s,a){return function ii(s,a,u){let p=0,_=s.length>>u;for(;_!==p;){const b=p+(_-p>>1),T=s[b<<u];if(a===T)return b<<u;T>a?_=b:p=b+1}return~(_<<u)}(s,a,1)}const ru={},Vd="__NG_DI_FLAG__",Jl="ngTempTokenPath",Hd=/\n/gm,zh="__source";let Sc;function ec(s){const a=Sc;return Sc=s,a}function zs(s,a=Be.Default){if(void 0===Sc)throw new dt(-203,!1);return null===Sc?Ze(s,void 0,a):Sc.get(s,a&Be.Optional?null:void 0,a)}function ms(s,a=Be.Default){return(function me(){return ae}()||zs)(we(s),a)}function Ep(s,a=Be.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),ms(s,a)}function Ud(s){const a=[];for(let u=0;u<s.length;u++){const p=we(s[u]);if(Array.isArray(p)){if(0===p.length)throw new dt(900,!1);let _,b=Be.Default;for(let T=0;T<p.length;T++){const P=p[T],G=qg(P);"number"==typeof G?-1===G?_=P.token:b|=G:_=P}a.push(ms(_,b))}else a.push(ms(p))}return a}function Ko(s,a){return s[Vd]=a,s.prototype[Vd]=a,s}function qg(s){return s[Vd]}const xc=Ko(eo("Optional"),8),qr=Ko(eo("SkipSelf"),4);let $d,Ju;function Zh(s){$d=s}function ed(s){return function Wd(){if(void 0===Ju&&(Ju=null,vt.trustedTypes))try{Ju=vt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ju}()?.createHTML(s)||s}class qo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class td extends qo{getTypeName(){return"HTML"}}class Oc extends qo{getTypeName(){return"Style"}}class Qh extends qo{getTypeName(){return"Script"}}class uu extends qo{getTypeName(){return"URL"}}class Yd extends qo{getTypeName(){return"ResourceURL"}}function il(s){return s instanceof qo?s.changingThisBreaksApplicationSecurity:s}function rl(s,a){const u=function Rp(s){return s instanceof qo&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function q_(s){return new td(s)}function Nr(s){return new Oc(s)}function Xh(s){return new Qh(s)}function Kd(s){return new uu(s)}function hs(s){return new Yd(s)}function nd(s){const a=new kc(s);return function k(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new gi(a):a}class gi{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ed(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class kc{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ed(a),u;const p=this.inertDocument.createElement("body");return p.innerHTML=ed(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(a){const u=a.attributes;for(let _=u.length-1;0<_;_--){const T=u.item(_).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&a.removeAttribute(T)}let p=a.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const w=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function D(s){return(s=String(s)).match(w)?s:"unsafe:"+s}function F(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function De(...s){const a={};for(const u of s)for(const p in u)u.hasOwnProperty(p)&&(a[p]=!0);return a}const Qe=F("area,br,col,hr,img,wbr"),Kt=F("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xn=F("rp,rt"),or=De(Qe,De(Kt,F("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),De(xn,F("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),De(xn,Kt)),Ro=F("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xs=De(Ro,F("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),F("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rc=F("script,style,template");class du{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let _=this.checkClobberedElement(u,u.nextSibling);if(_){u=_;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!or.hasOwnProperty(u))return this.sanitizedSomething=!0,!Rc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=a.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),T=b.name,P=T.toLowerCase();if(!xs.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let G=b.value;Ro[P]&&(G=D(G)),this.buf.push(" ",T,'="',id(G),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();or.hasOwnProperty(u)&&!Qe.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(id(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Jh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Va=/([^\#-~ |!])/g;function id(s){return s.replace(/&/g,"&amp;").replace(Jh,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Va,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fa;function ic(s,a){let u=null;try{fa=fa||nd(s);let p=a?String(a):"";u=fa.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=u.innerHTML,u=fa.getInertBodyElement(p)}while(p!==b);return ed((new du).sanitizeChildren(ef(u)||u))}finally{if(u){const p=ef(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function ef(s){return"content"in s&&function Ni(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Qr=(()=>((Qr=Qr||{})[Qr.NONE=0]="NONE",Qr[Qr.HTML=1]="HTML",Qr[Qr.STYLE=2]="STYLE",Qr[Qr.SCRIPT=3]="SCRIPT",Qr[Qr.URL=4]="URL",Qr[Qr.RESOURCE_URL=5]="RESOURCE_URL",Qr))();function rd(s){const a=function Np(){const s=Dn();return s&&s[12]}();return a?a.sanitize(Qr.URL,s)||"":rl(s,"URL")?il(s):D(Ue(s))}const J_=new sr("ENVIRONMENT_INITIALIZER"),rf=new sr("INJECTOR",-1),ev=new sr("INJECTOR_DEF_TYPES");class By{get(a,u=ru){if(u===ru){const p=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw p.name="NullInjectorError",p}return u}}function go(...s){return{\u0275providers:Pp(0,s)}}function Pp(s,...a){const u=[],p=new Set;let _;return Wo(a,b=>{const T=b;qd(T,u,[],p)&&(_||(_=[]),_.push(T))}),void 0!==_&&tv(_,u),u}function tv(s,a){for(let u=0;u<s.length;u++){const{providers:_}=s[u];Wo(_,b=>{a.push(b)})}}function qd(s,a,u,p){if(!(s=we(s)))return!1;let _=null,b=$n(s);const T=!b&&ne(s);if(b||T){if(T&&!T.standalone)return!1;_=s}else{const G=s.ngModule;if(b=$n(G),!b)return!1;_=G}const P=p.has(_);if(T){if(P)return!1;if(p.add(_),T.dependencies){const G="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const se of G)qd(se,a,u,p)}}else{if(!b)return!1;{if(null!=b.imports&&!P){let se;p.add(_);try{Wo(b.imports,Fe=>{qd(Fe,a,u,p)&&(se||(se=[]),se.push(Fe))})}finally{}void 0!==se&&tv(se,a)}if(!P){const se=Er(_)||(()=>new _);a.push({provide:_,useFactory:se,deps:_n},{provide:ev,useValue:_,multi:!0},{provide:J_,useValue:()=>ms(_),multi:!0})}const G=b.providers;null==G||P||Wo(G,Fe=>{a.push(Fe)})}}return _!==s&&void 0!==s.providers}const nv=et({provide:String,useValue:et});function Jg(s){return null!==s&&"object"==typeof s&&nv in s}function sd(s){return"function"==typeof s}const rv=new sr("Set Injector scope."),em={},Fp={};let Lp;function tm(){return void 0===Lp&&(Lp=new By),Lp}class od{}class nm extends od{constructor(a,u,p,_){super(),this.parent=u,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sv(a,T=>this.processProvider(T)),this.records.set(rf,af(void 0,this)),_.has("environment")&&this.records.set(od,af(void 0,this));const b=this.records.get(rv);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(ev.multi,_n,Be.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=ec(this),p=nt(void 0);try{return a()}finally{ec(u),nt(p)}}get(a,u=ru,p=Be.Default){this.assertNotDestroyed();const _=ec(this),b=nt(void 0);try{if(!(p&Be.SkipSelf)){let P=this.records.get(a);if(void 0===P){const G=function zb(s){return"function"==typeof s||"object"==typeof s&&s instanceof sr}(a)&&gn(a);P=G&&this.injectableDefInScope(G)?af(im(a),em):null,this.records.set(a,P)}if(null!=P)return this.hydrate(a,P)}return(p&Be.Self?tm():this.parent).get(a,u=p&Be.Optional&&u===ru?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[Jl]=T[Jl]||[]).unshift(pe(a)),_)throw T;return function Zu(s,a,u,p){const _=s[Jl];throw a[zh]&&_.unshift(a[zh]),s.message=function su(s,a,u,p=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let _=pe(a);if(Array.isArray(a))_=a.map(pe).join(" -> ");else if("object"==typeof a){let b=[];for(let T in a)if(a.hasOwnProperty(T)){let P=a[T];b.push(T+":"+("string"==typeof P?JSON.stringify(P):pe(P)))}_=`{${b.join(", ")}}`}return`${u}${p?"("+p+")":""}[${_}]: ${s.replace(Hd,"\n  ")}`}("\n"+s.message,_,u,p),s.ngTokenPath=_,s[Jl]=null,s}(T,a,"R3InjectorError",this.source)}throw T}finally{nt(b),ec(_)}}resolveInjectorInitializers(){const a=ec(this),u=nt(void 0);try{const p=this.get(J_.multi,_n,Be.Self);for(const _ of p)_()}finally{ec(a),nt(u)}}toString(){const a=[],u=this.records;for(const p of u.keys())a.push(pe(p));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(a){let u=sd(a=we(a))?a:we(a&&a.provide);const p=function Hy(s){return Jg(s)?af(void 0,s.useValue):af(Uy(s),em)}(a);if(sd(a)||!0!==a.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=af(void 0,em,!0),_.factory=()=>Ud(_.multi),this.records.set(u,_)),u=a,_.multi.push(a)}this.records.set(u,p)}hydrate(a,u){return u.value===em&&(u.value=Fp,u.value=u.factory()),"object"==typeof u.value&&u.value&&function cf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=we(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function im(s){const a=gn(s),u=null!==a?a.factory:Er(s);if(null!==u)return u;if(s instanceof sr)throw new dt(204,!1);if(s instanceof Function)return function jb(s){const a=s.length;if(a>0)throw M(a,"?"),new dt(204,!1);const u=function kn(s){const a=s&&(s[Hn]||s[Qn]);if(a){const u=function Wn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new dt(204,!1)}function Uy(s,a,u){let p;if(sd(s)){const _=we(s);return Er(_)||im(_)}if(Jg(s))p=()=>we(s.useValue);else if(function iv(s){return!(!s||!s.useFactory)}(s))p=()=>s.useFactory(...Ud(s.deps||[]));else if(function sf(s){return!(!s||!s.useExisting)}(s))p=()=>ms(we(s.useExisting));else{const _=we(s&&(s.useClass||s.provide));if(!function lf(s){return!!s.deps}(s))return Er(_)||im(_);p=()=>new _(...Ud(s.deps))}return p}function af(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function $b(s){return!!s.\u0275providers}function sv(s,a){for(const u of s)Array.isArray(u)?sv(u,a):$b(u)?sv(u.\u0275providers,a):a(u)}class Qo{}class jy{resolveComponentFactory(a){throw function Wb(s){const a=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let ad=(()=>{class s{}return s.NULL=new jy,s})();function zy(){return uf(Gr(),Dn())}function uf(s,a){return new Bp(ns(s,a))}let Bp=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=zy,s})();function Yb(s){return s instanceof Bp?s.nativeElement:s}class $y{}let Kb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Zb(){const s=Dn(),u=Bi(Gr().index,s);return(In(u)?u:s)[11]}(),s})(),df=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class rm{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const av=new rm("14.2.7"),lv={};function Pc(s){return s.ngOriginalError}class Xo{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Pc(a);for(;u&&Pc(u);)u=Pc(u);return u||null}}const pu=/^>|^->|<!--|-->|--!>|<!-$/g,ff=/(<|>)/;const pf=new Map;let $p=0;const mu="__ngContext__";function rs(s,a){In(a)?(s[mu]=a[20],function gf(s){pf.set(s[20],s)}(a)):s[mu]=a}function pa(s){return s instanceof Function?s():s}var $s=(()=>(($s=$s||{})[$s.Important=1]="Important",$s[$s.DashCase=2]="DashCase",$s))();let ma;function Yp(s,a){return ma(s,a)}function _s(s){const a=s[3];return qn(a)?a[3]:a}function Jd(s){return yv(s[13])}function Kp(s){return yv(s[4])}function yv(s){for(;null!==s&&!qn(s);)s=s[4];return s}function yu(s,a,u,p,_){if(null!=p){let b,T=!1;qn(p)?b=p:In(p)&&(T=!0,p=p[0]);const P=Zi(p);0===s&&null!==u?null==_?gm(a,u,P):Fc(a,u,P,_||null,!0):1===s&&null!==u?Fc(a,u,P,_||null,!0):2===s?bm(a,P,T):3===s&&a.destroyNode(P),null!=b&&function wf(s,a,u,p,_){const b=u[7];b!==Zi(u)&&yu(a,s,p,b,_);for(let P=10;P<u.length;P++){const G=u[P];oc(G[1],G,s,a,p,b)}}(a,s,b,u,_)}}function dd(s,a){return s.createText(a)}function Ua(s,a,u){s.setValue(a,u)}function _f(s,a){return s.createComment(function jp(s){return s.replace(pu,a=>a.replace(ff,"\u200b$1\u200b"))}(a))}function bu(s,a,u){return s.createElement(a,u)}function Fs(s,a){const u=s[9],p=u.indexOf(a),_=a[3];512&a[2]&&(a[2]&=-513,Uo(_,-1)),u.splice(p,1)}function Qp(s,a){if(s.length<=10)return;const u=10+a,p=s[u];if(p){const _=p[17];null!==_&&_!==s&&Fs(_,p),a>0&&(s[u-1][4]=p[4]);const b=vr(s,10+a);!function wv(s,a){oc(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(p[1],p);const T=b[19];null!==T&&T.detachView(b[1]),p[3]=null,p[4]=null,p[2]&=-65}return p}function fm(s,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&oc(s,a,u,3,null,null),function Zp(s){let a=s[13];if(!a)return Xp(s[1],s);for(;a;){let u=null;if(In(a))u=a[13];else{const p=a[10];p&&(u=p)}if(!u){for(;a&&!a[4]&&a!==s;)In(a)&&Xp(a[1],a),a=a[3];null===a&&(a=s),In(a)&&Xp(a[1],a),u=a&&a[4]}a=u}}(a)}}function Xp(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Jp(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let p=0;p<u.length;p+=2){const _=a[u[p]];if(!(_ instanceof ps)){const b=u[p+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const P=_[b[T]],G=b[T+1];try{G.call(P)}finally{}}else try{b.call(_)}finally{}}}}(s,a),function Dv(s,a){const u=s.cleanup,p=a[7];let _=-1;if(null!==u)for(let b=0;b<u.length-1;b+=2)if("string"==typeof u[b]){const T=u[b+1],P="function"==typeof T?T(a):Zi(a[T]),G=p[_=u[b+2]],se=u[b+3];"boolean"==typeof se?P.removeEventListener(u[b],G,se):se>=0?p[_=se]():p[_=-se].unsubscribe(),b+=2}else{const T=p[_=u[b+1]];u[b].call(T)}if(null!==p){for(let b=_+1;b<p.length;b++)(0,p[b])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&qn(a[3])){u!==a[3]&&Fs(u,a);const p=a[19];null!==p&&p.detachView(s)}!function Zy(s){pf.delete(s[20])}(a)}}function pm(s,a,u){return th(s,a.parent,u)}function th(s,a,u){let p=a;for(;null!==p&&40&p.type;)p=(a=p).parent;if(null===p)return u[0];if(2&p.flags){const _=s.data[p.directiveStart].encapsulation;if(_===Le.None||_===Le.Emulated)return null}return ns(p,u)}function Fc(s,a,u,p,_){s.insertBefore(a,u,p,_)}function gm(s,a,u){s.appendChild(a,u)}function vf(s,a,u,p,_){null!==p?Fc(s,a,u,p,_):gm(s,a,u)}function Lc(s,a){return s.parentNode(a)}function eg(s,a,u){return vm(s,a,u)}function _m(s,a,u){return 40&s.type?ns(s,u):null}let tg,vm=_m;function ym(s,a){vm=s,tg=a}function ih(s,a,u,p){const _=pm(s,p,a),b=a[11],P=eg(p.parent||a[6],p,a);if(null!=_)if(Array.isArray(u))for(let G=0;G<u.length;G++)vf(b,_,u[G],P,!1);else vf(b,_,u,P,!1);void 0!==tg&&tg(b,p,a,u,_)}function bf(s,a){if(null!==a){const u=a.type;if(3&u)return ns(a,s);if(4&u)return ig(-1,s[a.index]);if(8&u){const p=a.child;if(null!==p)return bf(s,p);{const _=s[a.index];return qn(_)?ig(-1,_):Zi(_)}}if(32&u)return Yp(a,s)()||Zi(s[a.index]);{const p=ng(s,a);return null!==p?Array.isArray(p)?p[0]:bf(_s(s[O]),p):bf(s,a.next)}}return null}function ng(s,a){return null!==a?s[O][6].projection[a.projection]:null}function ig(s,a){const u=10+s+1;if(u<a.length){const p=a[u],_=p[1].firstChild;if(null!==_)return bf(p,_)}return a[7]}function bm(s,a,u){const p=Lc(s,a);p&&function mm(s,a,u,p){s.removeChild(a,u,p)}(s,p,a,u)}function wm(s,a,u,p,_,b,T){for(;null!=u;){const P=p[u.index],G=u.type;if(T&&0===a&&(P&&rs(Zi(P),p),u.flags|=4),64!=(64&u.flags))if(8&G)wm(s,a,u.child,p,_,b,!1),yu(a,s,_,P,b);else if(32&G){const se=Yp(u,p);let Fe;for(;Fe=se();)yu(a,s,_,Fe,b);yu(a,s,_,P,b)}else 16&G?rg(s,a,p,u,_,b):yu(a,s,_,P,b);u=T?u.projectionNext:u.next}}function oc(s,a,u,p,_,b){wm(u,p,s.firstChild,a,_,b,!1)}function rg(s,a,u,p,_,b){const T=u[O],G=T[6].projection[p.projection];if(Array.isArray(G))for(let se=0;se<G.length;se++)yu(a,s,_,G[se],b);else wm(s,a,G,T[3],_,b,!0)}function Dm(s,a,u){s.setAttribute(a,"style",u)}function sg(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function Ev(s,a,u){let p=s.length;for(;;){const _=s.indexOf(a,u);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const b=a.length;if(_+b===p||s.charCodeAt(_+b)<=32)return _}u=_+1}}const og="ng-template";function Em(s,a,u){let p=0;for(;p<s.length;){let _=s[p++];if(u&&"class"===_){if(_=s[p],-1!==Ev(_.toLowerCase(),a,0))return!0}else if(1===_){for(;p<s.length&&"string"==typeof(_=s[p++]);)if(_.toLowerCase()===a)return!0;return!1}}return!1}function Tm(s){return 4===s.type&&s.value!==og}function Cf(s,a,u){return a===(4!==s.type||u?s.value:og)}function wu(s,a,u){let p=4;const _=s.attrs||[],b=function xm(s){for(let a=0;a<s.length;a++)if(hn(s[a]))return a;return s.length}(_);let T=!1;for(let P=0;P<a.length;P++){const G=a[P];if("number"!=typeof G){if(!T)if(4&p){if(p=2|1&p,""!==G&&!Cf(s,G,u)||""===G&&1===a.length){if(ea(p))return!1;T=!0}}else{const se=8&p?G:a[++P];if(8&p&&null!==s.attrs){if(!Em(s.attrs,se,u)){if(ea(p))return!1;T=!0}continue}const lt=Df(8&p?"class":G,_,Tm(s),u);if(-1===lt){if(ea(p))return!1;T=!0;continue}if(""!==se){let Ft;Ft=lt>b?"":_[lt+1].toLowerCase();const en=8&p?Ft:null;if(en&&-1!==Ev(en,se,0)||2&p&&se!==Ft){if(ea(p))return!1;T=!0}}}}else{if(!T&&!ea(p)&&!ea(G))return!1;if(T&&ea(G))continue;T=!1,p=G|1&p}}return ea(p)||T}function ea(s){return 0==(1&s)}function Df(s,a,u,p){if(null===a)return-1;let _=0;if(p||!u){let b=!1;for(;_<a.length;){const T=a[_];if(T===s)return _;if(3===T||6===T)b=!0;else{if(1===T||2===T){let P=a[++_];for(;"string"==typeof P;)P=a[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=b?1:2}return-1}return function Tf(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const p=s[u];if("number"==typeof p)return-1;if(p===a)return u;u++}return-1}(a,s)}function Ef(s,a,u=!1){for(let p=0;p<a.length;p++)if(wu(s,a[p],u))return!0;return!1}function Am(s,a){e:for(let u=0;u<a.length;u++){const p=a[u];if(s.length===p.length){for(let _=0;_<s.length;_++)if(s[_]!==p[_])continue e;return!0}}return!1}function Tv(s,a){return s?":not("+a.trim()+")":a}function Im(s){let a=s[0],u=1,p=2,_="",b=!1;for(;u<s.length;){let T=s[u];if("string"==typeof T)if(2&p){const P=s[++u];_+="["+T+(P.length>0?'="'+P+'"':"")+"]"}else 8&p?_+="."+T:4&p&&(_+=" "+T);else""!==_&&!ea(T)&&(a+=Tv(b,_),_=""),p=T,b=b||!ea(p);u++}return""!==_&&(a+=Tv(b,_)),a}const Fi={};function ag(s){sh(Ii(),Dn(),Et()+s,!1)}function sh(s,a,u,p){if(!p)if(3==(3&a[2])){const b=s.preOrderCheckHooks;null!==b&&Ar(a,b,u)}else{const b=s.preOrderHooks;null!==b&&Ao(a,b,0,u)}ln(u)}function $i(s,a=null,u=null,p){const _=Ga(s,a,u,p);return _.resolveInjectorInitializers(),_}function Ga(s,a=null,u=null,p,_=new Set){const b=[u||_n,go(s)];return p=p||("object"==typeof s?void 0:pe(s)),new nm(b,a||tm(),p||null,_)}let nr=(()=>{class s{static create(u,p){if(Array.isArray(u))return $i({name:""},p,u,"");{const _=u.name??"";return $i({name:_},u.parent,u.providers,_)}}}return s.THROW_IF_NOT_FOUND=ru,s.NULL=new By,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>ms(rf)}),s.__NG_ELEMENT_ID__=-1,s})();function ch(s,a=Be.Default){const u=Dn();return null===u?ms(s,a):Na(Gr(),u,we(s),a)}function vo(){throw new Error("invalid")}function Su(s,a){return s<<17|a<<2}function ta(s){return s>>17&32767}function xl(s){return 2|s}function cl(s){return(131068&s)>>2}function ja(s,a){return-131069&s|a<<2}function Mf(s){return 1|s}function pg(s,a){const u=s.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const _=u[p],b=u[p+1];if(-1!==b){const T=s.data[b];Ia(_),T.contentQueries(2,a[b],b)}}}function gh(s,a,u,p,_,b,T,P,G,se,Fe){const lt=a.blueprint.slice();return lt[0]=_,lt[2]=76|p,(null!==Fe||s&&1024&s[2])&&(lt[2]|=1024),lo(lt),lt[3]=lt[15]=s,lt[8]=u,lt[10]=T||s&&s[10],lt[11]=P||s&&s[11],lt[12]=G||s&&s[12]||null,lt[9]=se||s&&s[9]||null,lt[6]=b,lt[20]=function Wp(){return $p++}(),lt[21]=Fe,lt[O]=2==a.type?s[O]:lt,lt}function yo(s,a,u,p,_){let b=s.data[a];if(null===b)b=uc(s,a,u,p,_),function qc(){return yi.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=u,b.value=p,b.attrs=_;const T=Y();b.injectorIndex=null===T?-1:T.injectorIndex}return $(b,!0),b}function uc(s,a,u,p,_){const b=q(),T=ze(),G=s.data[a]=function mh(s,a,u,p,_,b){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,u,a,p,_);return null===s.firstChild&&(s.firstChild=G),null!==b&&(T?null==b.child&&null!==G.parent&&(b.child=G):null===b.next&&(b.next=G)),G}function Iu(s,a,u,p){if(0===u)return-1;const _=a.length;for(let b=0;b<u;b++)a.push(p),s.blueprint.push(p),s.data.push(null);return _}function gd(s,a,u){vl(a);try{const p=s.viewQuery;null!==p&&qm(1,p,u);const _=s.template;null!==_&&Rv(s,a,_,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&pg(s,a),s.staticViewQueries&&qm(2,s.viewQuery,u);const b=s.components;null!==b&&function mg(s,a){for(let u=0;u<a.length;u++)Vv(s,a[u])}(a,b)}catch(p){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),p}finally{a[2]&=-5,he()}}function _g(s,a,u,p){const _=a[2];if(128!=(128&_)){vl(a);try{lo(a),function uo(s){return yi.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Rv(s,a,u,2,p);const T=3==(3&_);if(T){const se=s.preOrderCheckHooks;null!==se&&Ar(a,se,null)}else{const se=s.preOrderHooks;null!==se&&Ao(a,se,0,null),Js(a,0)}if(function Bv(s){for(let a=Jd(s);null!==a;a=Kp(a)){if(!a[2])continue;const u=a[9];for(let p=0;p<u.length;p++){const _=u[p],b=_[3];0==(512&_[2])&&Uo(b,1),_[2]|=512}}}(a),function Dg(s){for(let a=Jd(s);null!==a;a=Kp(a))for(let u=10;u<a.length;u++){const p=a[u],_=p[1];Rs(p)&&_g(_,p,_.template,p[8])}}(a),null!==s.contentQueries&&pg(s,a),T){const se=s.contentCheckHooks;null!==se&&Ar(a,se)}else{const se=s.contentHooks;null!==se&&Ao(a,se,1),Js(a,1)}!function Hc(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const _=u[p];if(_<0)ln(~_);else{const b=_,T=u[++p],P=u[++p];Go(T,b),P(2,a[b])}}}finally{ln(-1)}}(s,a);const P=s.components;null!==P&&function gg(s,a){for(let u=0;u<a.length;u++)c0(s,a[u])}(a,P);const G=s.viewQuery;if(null!==G&&qm(2,G,p),T){const se=s.viewCheckHooks;null!==se&&Ar(a,se)}else{const se=s.viewHooks;null!==se&&Ao(a,se,2),Js(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Uo(a[3],-1))}finally{he()}}}function Rv(s,a,u,p,_){const b=Et(),T=2&p;try{ln(-1),T&&a.length>22&&sh(s,a,22,!1),u(p,_)}finally{ln(b)}}function Hf(s,a,u){if(Ai(a)){const _=a.directiveEnd;for(let b=a.directiveStart;b<_;b++){const T=s.data[b];T.contentQueries&&T.contentQueries(1,u[b],b)}}}function Ym(s,a,u){!Ds()||(function _h(s,a,u,p){const _=u.directiveStart,b=u.directiveEnd;s.firstCreatePass||Io(u,a),rs(p,a);const T=u.initialInputs;for(let P=_;P<b;P++){const G=s.data[P],se=lr(G);se&&Cg(a,u,G);const Fe=Rr(a,s,P,u);rs(Fe,a),null!==T&&Mr(0,P-_,Fe,G,0,T),se&&(Bi(u.index,a)[8]=Fe)}}(s,a,u,ns(u,a)),128==(128&u.flags)&&function Uc(s,a,u){const p=u.directiveStart,_=u.directiveEnd,b=u.index,T=function wc(){return yi.lFrame.currentDirectiveIndex}();try{ln(b);for(let P=p;P<_;P++){const G=s.data[P],se=a[P];el(P),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Gf(G,se)}}finally{ln(-1),el(T)}}(s,a,u))}function Uf(s,a,u=ns){const p=a.localNames;if(null!==p){let _=a.index+1;for(let b=0;b<p.length;b+=2){const T=p[b+1],P=-1===T?u(a,s):s[T];s[_++]=P}}}function Nv(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Po(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Po(s,a,u,p,_,b,T,P,G,se){const Fe=22+p,lt=Fe+_,Ft=function Km(s,a){const u=[];for(let p=0;p<a;p++)u.push(p<s?null:Fi);return u}(Fe,lt),en="function"==typeof se?se():se;return Ft[1]={type:s,blueprint:Ft,template:u,queries:null,viewQuery:P,declTNode:a,data:Ft.slice().fill(null,Fe),bindingStartIndex:Fe,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:G,consts:en,incompleteFirstPass:!1}}function md(s,a,u,p){const _=Uv(a);null===u?_.push(p):(_.push(u),s.firstCreatePass&&Qm(s).push(p,_.length-1))}function Mu(s,a,u){for(let p in s)if(s.hasOwnProperty(p)){const _=s[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(a,_):u[p]=[a,_]}return u}function _d(s,a){const p=a.directiveEnd,_=s.data,b=a.attrs,T=[];let P=null,G=null;for(let se=a.directiveStart;se<p;se++){const Fe=_[se],lt=Fe.inputs,Ft=null===b||Tm(a)?null:to(lt,b);T.push(Ft),P=Mu(lt,se,P),G=Mu(Fe.outputs,se,G)}null!==P&&(P.hasOwnProperty("class")&&(a.flags|=16),P.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=T,a.inputs=P,a.outputs=G}function za(s,a,u,p,_,b,T,P){const G=ns(a,u);let Fe,se=a.inputs;!P&&null!=se&&(Fe=se[p])?(Ou(s,u,Fe,p,_),gr(a)&&bg(u,a.index)):3&a.type&&(p=function dc(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(p),_=null!=T?T(_,a.value||"",p):_,b.setProperty(G,p,_))}function bg(s,a){const u=Bi(a,s);16&u[2]||(u[2]|=32)}function yd(s,a,u,p){let _=!1;if(Ds()){const b=function Lv(s,a,u){const p=s.directiveRegistry;let _=null;if(p)for(let b=0;b<p.length;b++){const T=p[b];Ef(u,T.selectors,!1)&&(_||(_=[]),Hi(Io(u,a),s,T.type),lr(T)?(Pr(s,u),_.unshift(T)):_.push(T))}return _}(s,a,u),T=null===p?null:{"":-1};if(null!==b){_=!0,jf(u,s.data.length,b.length);for(let Fe=0;Fe<b.length;Fe++){const lt=b[Fe];lt.providersResolver&&lt.providersResolver(lt)}let P=!1,G=!1,se=Iu(s,a,b.length,null);for(let Fe=0;Fe<b.length;Fe++){const lt=b[Fe];u.mergedAttrs=Lr(u.mergedAttrs,lt.hostAttrs),wg(s,u,a,se,lt),Yi(se,lt,T),null!==lt.contentQueries&&(u.flags|=8),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(u.flags|=128);const Ft=lt.type.prototype;!P&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),P=!0),!G&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),G=!0),se++}_d(s,u)}T&&function va(s,a,u){if(a){const p=s.localNames=[];for(let _=0;_<a.length;_+=2){const b=u[a[_+1]];if(null==b)throw new dt(-301,!1);p.push(a[_],b)}}}(u,p,T)}return u.mergedAttrs=Lr(u.mergedAttrs,u.attrs),_}function bd(s,a,u,p,_,b){const T=b.hostBindings;if(T){let P=s.hostBindingOpCodes;null===P&&(P=s.hostBindingOpCodes=[]);const G=~a.index;(function Fv(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(P)!=G&&P.push(G),P.push(p,_,T)}}function Gf(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Pr(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Yi(s,a,u){if(u){if(a.exportAs)for(let p=0;p<a.exportAs.length;p++)u[a.exportAs[p]]=s;lr(a)&&(u[""]=s)}}function jf(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}function wg(s,a,u,p,_){s.data[p]=_;const b=_.factory||(_.factory=Er(_.type)),T=new ps(b,lr(_),ch);s.blueprint[p]=T,u[p]=T,bd(s,a,0,p,Iu(s,u,_.hostVars,Fi),_)}function Cg(s,a,u){const p=ns(a,s),_=Nv(u),b=s[10],T=Tg(s,gh(s,_,null,u.onPush?32:16,p,a,b,b.createRenderer(p,u),null,null,null));s[a.index]=T}function zf(s,a,u,p,_,b,T){if(null==b)s.removeAttribute(a,_,u);else{const P=null==T?Ue(b):T(b,p||"",_);s.setAttribute(a,_,P,u)}}function Mr(s,a,u,p,_,b){const T=b[a];if(null!==T){const P=p.setInput;for(let G=0;G<T.length;){const se=T[G++],Fe=T[G++],lt=T[G++];null!==P?p.setInput(u,lt,se,Fe):u[Fe]=lt}}}function to(s,a){let u=null,p=0;for(;p<a.length;){const _=a[p];if(0!==_)if(5!==_){if("number"==typeof _)break;s.hasOwnProperty(_)&&(null===u&&(u=[]),u.push(_,s[_],a[p+1])),p+=2}else p+=2;else p+=4}return u}function Zm(s,a,u,p){return new Array(s,!0,!1,a,null,0,p,u,null,null)}function c0(s,a){const u=Bi(a,s);if(Rs(u)){const p=u[1];48&u[2]?_g(p,u,p.template,u[8]):u[5]>0&&$f(u)}}function $f(s){for(let p=Jd(s);null!==p;p=Kp(p))for(let _=10;_<p.length;_++){const b=p[_];if(Rs(b))if(512&b[2]){const T=b[1];_g(T,b,T.template,b[8])}else b[5]>0&&$f(b)}const u=s[1].components;if(null!==u)for(let p=0;p<u.length;p++){const _=Bi(u[p],s);Rs(_)&&_[5]>0&&$f(_)}}function Vv(s,a){const u=Bi(a,s),p=u[1];(function Eg(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(p,u),gd(p,u,u[8])}function Tg(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Hv(s){for(;s;){s[2]|=32;const a=_s(s);if(Zs(s)&&!a)return s;s=a}return null}function Wf(s,a,u,p=!0){const _=a[10];_.begin&&_.begin();try{_g(s,a,s.template,u)}catch(T){throw p&&Xm(a,T),T}finally{_.end&&_.end()}}function qm(s,a,u){Ia(0),a(s,u)}function Uv(s){return s[7]||(s[7]=[])}function Qm(s){return s.cleanup||(s.cleanup=[])}function Sg(s,a,u){return(null===s||lr(s))&&(u=function Ea(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[a.index])),u[11]}function Xm(s,a){const u=s[9],p=u?u.get(Xo,null):null;p&&p.handleError(a)}function Ou(s,a,u,p,_){for(let b=0;b<u.length;){const T=u[b++],P=u[b++],G=a[T],se=s.data[T];null!==se.setInput?se.setInput(G,_,p,P):G[P]=_}}function $a(s,a,u){const p=To(a,s);Ua(s[11],p,u)}function wd(s,a,u){let p=u?s.styles:null,_=u?s.classes:null,b=0;if(null!==a)for(let T=0;T<a.length;T++){const P=a[T];"number"==typeof P?b=P:1==b?_=ge(_,P):2==b&&(p=ge(p,P+": "+a[++T]+";"))}u?s.styles=p:s.stylesWithoutHost=p,u?s.classes=_:s.classesWithoutHost=_}function hc(s,a,u,p,_=!1){for(;null!==u;){const b=a[u.index];if(null!==b&&p.push(Zi(b)),qn(b))for(let P=10;P<b.length;P++){const G=b[P],se=G[1].firstChild;null!==se&&hc(G[1],G,se,p)}const T=u.type;if(8&T)hc(s,a,u.child,p);else if(32&T){const P=Yp(u,a);let G;for(;G=P();)p.push(G)}else if(16&T){const P=ng(a,u);if(Array.isArray(P))p.push(...P);else{const G=_s(a[O]);hc(G[1],G,P,p,!0)}}u=_?u.projectionNext:u.next}return p}class Cd{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return hc(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(qn(a)){const u=a[8],p=u?u.indexOf(this):-1;p>-1&&(Qp(a,p),vr(u,p))}this._attachedToViewContainer=!1}fm(this._lView[1],this._lView)}onDestroy(a){md(this._lView[1],this._lView,null,a)}markForCheck(){Hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eh(s,a){oc(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=a}}class xg extends Cd{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Wf(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Dd extends ad{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=ne(a);return new Ml(u,this.ngModule)}}function Yf(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class Gv{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,p){const _=this.injector.get(a,lv,p);return _!==lv||u===lv?_:this.parentInjector.get(a,u,p)}}class Ml extends Qo{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function Jy(s){return s.map(Im).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Yf(this.componentDef.inputs)}get outputs(){return Yf(this.componentDef.outputs)}create(a,u,p,_){let b=(_=_||this.ngModule)instanceof od?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const T=b?new Gv(a,b):a,P=T.get($y,null);if(null===P)throw new dt(407,!1);const G=T.get(df,null),se=P.createRenderer(null,this.componentDef),Fe=this.componentDef.selectors[0][0]||"div",lt=p?function yg(s,a,u){return s.selectRootElement(a,u===Le.ShadowDom)}(se,p,this.componentDef.encapsulation):bu(P.createRenderer(null,this.componentDef),Fe,function Jm(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Fe)),Ft=this.componentDef.onPush?288:272,en=Po(0,null,null,1,0,null,null,null,null,null),En=gh(null,en,null,Ft,null,null,P,se,G,T,null);let zn,ni;vl(En);try{const bi=function jv(s,a,u,p,_,b){const T=u[1];u[22]=s;const G=yo(T,22,2,"#host",null),se=G.mergedAttrs=a.hostAttrs;null!==se&&(wd(G,se,!0),null!==s&&(Zn(_,s,se),null!==G.classes&&sg(_,s,G.classes),null!==G.styles&&Dm(_,s,G.styles)));const Fe=p.createRenderer(s,a),lt=gh(u,Nv(a),null,a.onPush?32:16,u[22],G,p,Fe,b||null,null,null);return T.firstCreatePass&&(Hi(Io(G,u),T,a.type),Pr(T,G),jf(G,u.length,1)),Tg(u,lt),u[22]=lt}(lt,this.componentDef,En,P,se);if(lt)if(p)Zn(se,lt,["ng-version",av.full]);else{const{attrs:xi,classes:Pn}=function Sv(s){const a=[],u=[];let p=1,_=2;for(;p<s.length;){let b=s[p];if("string"==typeof b)2===_?""!==b&&a.push(b,s[++p]):8===_&&u.push(b);else{if(!ea(_))break;_=b}p++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);xi&&Zn(se,lt,xi),Pn&&Pn.length>0&&sg(se,lt,Pn.join(" "))}if(ni=ks(en,22),void 0!==u){const xi=ni.projection=[];for(let Pn=0;Pn<this.ngContentSelectors.length;Pn++){const ki=u[Pn];xi.push(null!=ki?Array.from(ki):null)}}zn=function zv(s,a,u,p){const _=u[1],b=function l0(s,a,u){const p=Gr();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),wg(s,p,a,Iu(s,a,1,null),u),_d(s,p));const _=Rr(a,s,p.directiveStart,p);rs(_,a);const b=ns(p,a);return b&&rs(b,a),_}(_,u,a);if(s[8]=u[8]=b,null!==p)for(const P of p)P(b,a);if(a.contentQueries){const P=Gr();a.contentQueries(1,b,P.directiveStart)}const T=Gr();return!_.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ln(T.index),bd(u[1],T,0,T.directiveStart,T.directiveEnd,a),Gf(a,b)),b}(bi,this.componentDef,En,[Zf]),gd(en,En,null)}finally{he()}return new d0(this.componentType,zn,uf(ni,En),En,ni)}}class d0 extends class Gy{}{constructor(a,u,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.instance=u,this.hostView=this.changeDetectorRef=new xg(_),this.componentType=a}setInput(a,u){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[a])){const b=this._rootLView;Ou(b[1],b,_,a,u),bg(b,this._tNode.index)}}get injector(){return new Fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Zf(){const s=Gr();Xi(Dn()[1],s)}function Ig(s){let a=function Ag(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const p=[s];for(;a;){let _;if(lr(s))_=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new dt(903,!1);_=a.\u0275dir}if(_){if(u){p.push(_);const T=s;T.inputs=Mg(s.inputs),T.declaredInputs=Mg(s.declaredInputs),T.outputs=Mg(s.outputs);const P=_.hostBindings;P&&p0(s,P);const G=_.viewQuery,se=_.contentQueries;if(G&&qf(s,G),se&&f0(s,se),tt(s.inputs,_.inputs),tt(s.declaredInputs,_.declaredInputs),tt(s.outputs,_.outputs),lr(_)&&_.data.animation){const Fe=s.data;Fe.animation=(Fe.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let T=0;T<b.length;T++){const P=b[T];P&&P.ngInherit&&P(s),P===Ig&&(u=!1)}}a=Object.getPrototypeOf(a)}!function h0(s){let a=0,u=null;for(let p=s.length-1;p>=0;p--){const _=s[p];_.hostVars=a+=_.hostVars,_.hostAttrs=Lr(_.hostAttrs,u=Lr(u,_.hostAttrs))}}(p)}function Mg(s){return s===Rn?{}:s===_n?[]:s}function qf(s,a){const u=s.viewQuery;s.viewQuery=u?(p,_)=>{a(p,_),u(p,_)}:a}function f0(s,a){const u=s.contentQueries;s.contentQueries=u?(p,_,b)=>{a(p,_,b),u(p,_,b)}:a}function p0(s,a){const u=s.hostBindings;s.hostBindings=u?(p,_)=>{a(p,_),u(p,_)}:a}let os=null;function ku(){if(!os){const s=vt.Symbol;if(s&&s.iterator)os=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const p=a[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(os=p)}}}return os}function Qf(s){return!!t_(s)&&(Array.isArray(s)||!(s instanceof Map)&&ku()in s)}function t_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Wa(s,a,u){return s[a]=u}function Fo(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function Ed(s,a,u,p){const _=Fo(s,a,u);return Fo(s,a+1,p)||_}function Ol(s,a,u,p){const _=Dn();return Fo(_,Ja(),a)&&(Ii(),function Ls(s,a,u,p,_,b){const T=ns(s,a);zf(a[11],T,b,s.value,u,p,_)}(pn(),_,s,a,u,p)),Ol}function ul(s,a,u,p){return Fo(s,Ja(),u)?a+Ue(u)+p:Fi}function Td(s,a,u,p,_,b,T,P,G,se){const lt=function As(s,a,u,p,_,b){const T=Ed(s,a,u,p);return Ed(s,a+2,_,b)||T}(s,co(),u,_,T,G);return ho(4),lt?a+Ue(u)+p+Ue(_)+b+Ue(T)+P+Ue(G)+se:Fi}function kl(s,a,u,p,_,b,T,P){const G=Dn(),se=Ii(),Fe=s+22,lt=se.firstCreatePass?function Kv(s,a,u,p,_,b,T,P,G){const se=a.consts,Fe=yo(a,s,4,T||null,Cs(se,P));yd(a,u,Fe,Cs(se,G)),Xi(a,Fe);const lt=Fe.tViews=Po(2,Fe,p,_,b,a.directiveRegistry,a.pipeRegistry,null,a.schemas,se);return null!==a.queries&&(a.queries.template(a,Fe),lt.queries=a.queries.embeddedTView(Fe)),Fe}(Fe,se,G,a,u,p,_,b,T):se.data[Fe];$(lt,!1);const Ft=G[11].createComment("");ih(se,G,Ft,lt),rs(Ft,G),Tg(G,G[Fe]=Zm(Ft,G,Ft,lt)),Pi(lt)&&Ym(se,G,lt),null!=T&&Uf(G,lt,P)}function r_(s){return Hr(function Tr(){return yi.lFrame.contextLView}(),22+s)}function Sd(s,a,u){const p=Dn();return Fo(p,Ja(),a)&&za(Ii(),pn(),p,s,a,p[11],u,!1),Sd}function Pu(s,a,u,p,_){const T=_?"class":"style";Ou(s,u,a.inputs[T],T,p)}function hl(s,a,u,p){const _=Dn(),b=Ii(),T=22+s,P=_[11],G=_[T]=bu(P,a,function Vi(){return yi.lFrame.currentNamespace}()),se=b.firstCreatePass?function _0(s,a,u,p,_,b,T){const P=a.consts,se=yo(a,s,2,_,Cs(P,b));return yd(a,u,se,Cs(P,T)),null!==se.attrs&&wd(se,se.attrs,!1),null!==se.mergedAttrs&&wd(se,se.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,se),se}(T,b,_,0,a,u,p):b.data[T];$(se,!0);const Fe=se.mergedAttrs;null!==Fe&&Zn(P,G,Fe);const lt=se.classes;null!==lt&&sg(P,G,lt);const Ft=se.styles;return null!==Ft&&Dm(P,G,Ft),64!=(64&se.flags)&&ih(b,_,G,se),0===function us(){return yi.lFrame.elementDepthCount}()&&rs(G,_),function xo(){yi.lFrame.elementDepthCount++}(),Pi(se)&&(Ym(b,_,se),Hf(b,se,_)),null!==p&&Uf(_,se),hl}function Fu(){let s=Gr();ze()?dn():(s=s.parent,$(s,!1));const a=s;!function is(){yi.lFrame.elementDepthCount--}();const u=Ii();return u.firstCreatePass&&(Xi(u,s),Ai(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ju(s){return 0!=(16&s.flags)}(a)&&Pu(u,a,Dn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ui(s){return 0!=(32&s.flags)}(a)&&Pu(u,a,Dn(),a.stylesWithoutHost,!1),Fu}function np(s,a,u,p){return hl(s,a,u,p),Fu(),np}function Lu(s,a,u){const p=Dn(),_=Ii(),b=s+22,T=_.firstCreatePass?function wh(s,a,u,p,_){const b=a.consts,T=Cs(b,p),P=yo(a,s,8,"ng-container",T);return null!==T&&wd(P,T,!0),yd(a,u,P,Cs(b,_)),null!==a.queries&&a.queries.elementStart(a,P),P}(b,_,p,a,u):_.data[b];$(T,!0);const P=p[b]=p[11].createComment("");return ih(_,p,P,T),rs(P,p),Pi(T)&&(Ym(_,p,T),Hf(_,T,p)),null!=u&&Uf(p,T),Lu}function pc(){let s=Gr();const a=Ii();return ze()?dn():(s=s.parent,$(s,!1)),a.firstCreatePass&&(Xi(a,s),Ai(s)&&a.queries.elementEnd(s)),pc}function Ch(s,a,u){return Lu(s,a,u),pc(),Ch}function Bu(){return Dn()}function ip(s){return!!s&&"function"==typeof s.then}function Zv(s){return!!s&&"function"==typeof s.subscribe}const Dh=Zv;function s_(s,a,u,p){const _=Dn(),b=Ii(),T=Gr();return Rg(b,_,_[11],T,s,a,0,p),s_}function o_(s,a){const u=Gr(),p=Dn(),_=Ii();return Rg(_,p,Sg(Aa(_.data),u,p),u,s,a),o_}function Rg(s,a,u,p,_,b,T,P){const G=Pi(p),Fe=s.firstCreatePass&&Qm(s),lt=a[8],Ft=Uv(a);let en=!0;if(3&p.type||P){const ni=ns(p,a),bi=P?P(ni):ni,xi=Ft.length,Pn=P?Dr=>P(Zi(Dr[p.index])):p.index;let ki=null;if(!P&&G&&(ki=function qv(s,a,u,p){const _=s.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const T=_[b];if(T===u&&_[b+1]===p){const P=a[7],G=_[b+2];return P.length>G?P[G]:null}"string"==typeof T&&(b+=2)}return null}(s,a,_,p.index)),null!==ki)(ki.__ngLastListenerFn__||ki).__ngNextListenerFn__=b,ki.__ngLastListenerFn__=b,en=!1;else{b=a_(p,a,lt,b,!1);const Dr=u.listen(bi,_,b);Ft.push(b,Dr),Fe&&Fe.push(_,Pn,xi,xi+1)}}else b=a_(p,a,lt,b,!1);const En=p.outputs;let zn;if(en&&null!==En&&(zn=En[_])){const ni=zn.length;if(ni)for(let bi=0;bi<ni;bi+=2){const fs=a[zn[bi]][zn[bi+1]].subscribe(b),hp=Ft.length;Ft.push(b,fs),Fe&&Fe.push(_,p.index,hp,-(hp+1))}}}function Ng(s,a,u,p){try{return!1!==u(p)}catch(_){return Xm(s,_),!1}}function a_(s,a,u,p,_){return function b(T){if(T===Function)return p;Hv(2&s.flags?Bi(s.index,a):a);let G=Ng(a,0,p,T),se=b.__ngNextListenerFn__;for(;se;)G=Ng(a,0,se,T)&&G,se=se.__ngNextListenerFn__;return _&&!1===G&&(T.preventDefault(),T.returnValue=!1),G}}function l_(s=1){return function W(s){return(yi.lFrame.contextLView=function Me(s,a){for(;s>0;)a=a[15],s--;return a}(s,yi.lFrame.contextLView))[8]}(s)}function v0(s,a){let u=null;const p=function Sm(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(s);for(let _=0;_<a.length;_++){const b=a[_];if("*"!==b){if(null===p?Ef(s,b,!0):Am(p,b))return _}else u=_}return u}function c_(s){const a=Dn()[O][6];if(!a.projection){const p=a.projection=M(s?s.length:1,null),_=p.slice();let b=a.child;for(;null!==b;){const T=s?v0(b,s):0;null!==T&&(_[T]?_[T].projectionNext=b:p[T]=b,_[T]=b),b=b.next}}}function u_(s,a=0,u){const p=Dn(),_=Ii(),b=yo(_,22+s,16,null,u||null);null===b.projection&&(b.projection=a),dn(),64!=(64&b.flags)&&function rh(s,a,u){rg(a[11],0,a,u,pm(s,u,a),eg(u.parent||a[6],u,a))}(_,p,b)}function rp(s,a,u){return xd(s,"",a,"",u),rp}function xd(s,a,u,p,_){const b=Dn(),T=ul(b,a,u,p);return T!==Fi&&za(Ii(),pn(),b,s,T,b[11],_,!1),xd}function Xv(s,a,u,p,_){const b=s[u+1],T=null===a;let P=p?ta(b):cl(b),G=!1;for(;0!==P&&(!1===G||T);){const Fe=s[P+1];y0(s[P],a)&&(G=!0,s[P+1]=p?Mf(Fe):xl(Fe)),P=p?ta(Fe):cl(Fe)}G&&(s[u+1]=p?xl(b):Mf(b))}function y0(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Vn(s,a)>=0}const Wr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fg(s){return s.substring(Wr.key,Wr.keyEnd)}function ey(s,a){const u=Wr.textEnd;return u===a?-1:(a=Wr.keyEnd=function ty(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,Wr.key=a,u),Ah(s,a,u))}function Ah(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function f_(s,a,u){return Ll(s,a,u,!1),f_}function p_(s,a){return Ll(s,a,null,!0),p_}function Ca(s){!function fl(s,a,u,p){const _=Ii(),b=ho(2);_.firstUpdatePass&&iy(_,null,b,p);const T=Dn();if(u!==Fi&&Fo(T,b,u)){const P=_.data[Et()];if(fe(P,p)&&!ny(_,b)){let G=p?P.classesWithoutHost:P.stylesWithoutHost;null!==G&&(u=ge(G,u||"")),Pu(_,P,T,u,p)}else!function g(s,a,u,p,_,b,T,P){_===Fi&&(_=_n);let G=0,se=0,Fe=0<_.length?_[0]:null,lt=0<b.length?b[0]:null;for(;null!==Fe||null!==lt;){const Ft=G<_.length?_[G+1]:void 0,en=se<b.length?b[se+1]:void 0;let zn,En=null;Fe===lt?(G+=2,se+=2,Ft!==en&&(En=lt,zn=en)):null===lt||null!==Fe&&Fe<lt?(G+=2,En=Fe):(se+=2,En=lt,zn=en),null!==En&&y(s,a,u,p,En,zn,T,P),Fe=G<_.length?_[G]:null,lt=se<b.length?b[se]:null}}(_,P,T,T[11],T[b+1],T[b+1]=function o(s,a,u){if(null==u||""===u)return _n;const p=[],_=il(u);if(Array.isArray(_))for(let b=0;b<_.length;b++)s(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&s(p,b,_[b]);else"string"==typeof _&&a(p,_);return p}(s,a,u),p,b)}}(Dt,Fl,s,!0)}function Fl(s,a){for(let u=function Jv(s){return function xh(s){Wr.key=0,Wr.keyEnd=0,Wr.value=0,Wr.valueEnd=0,Wr.textEnd=s.length}(s),ey(s,Ah(s,0,Wr.textEnd))}(a);u>=0;u=ey(a,u))Dt(s,Fg(a),!0)}function Ll(s,a,u,p){const _=Dn(),b=Ii(),T=ho(2);b.firstUpdatePass&&iy(b,s,T,p),a!==Fi&&Fo(_,T,a)&&y(b,b.data[Et()],_,_[11],s,_[T+1]=function ee(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=pe(il(s)))),s}(a,u),p,T)}function ny(s,a){return a>=s.expandoStartIndex}function iy(s,a,u,p){const _=s.data;if(null===_[u+1]){const b=_[Et()],T=ny(s,u);fe(b,p)&&null===a&&!T&&(a=!1),a=function b0(s,a,u,p){const _=Aa(s);let b=p?a.residualClasses:a.residualStyles;if(null===_)0===(p?a.classBindings:a.styleBindings)&&(u=i(u=l(null,s,a,u,p),a.attrs,p),b=null);else{const T=a.directiveStylingLast;if(-1===T||s[T]!==_)if(u=l(_,s,a,u,p),null===b){let G=function w0(s,a,u){const p=u?a.classBindings:a.styleBindings;if(0!==cl(p))return s[ta(p)]}(s,a,p);void 0!==G&&Array.isArray(G)&&(G=l(null,s,a,G[1],p),G=i(G,a.attrs,p),function Vg(s,a,u,p){s[ta(u?a.classBindings:a.styleBindings)]=p}(s,a,p,G))}else b=function g_(s,a,u){let p;const _=a.directiveEnd;for(let b=1+a.directiveStylingLast;b<_;b++)p=i(p,s[b].hostAttrs,u);return i(p,a.attrs,u)}(s,a,p)}return void 0!==b&&(p?a.residualClasses=b:a.residualStyles=b),u}(_,b,a,p),function Nl(s,a,u,p,_,b){let T=b?a.classBindings:a.styleBindings,P=ta(T),G=cl(T);s[p]=u;let Fe,se=!1;if(Array.isArray(u)){const lt=u;Fe=lt[1],(null===Fe||Vn(lt,Fe)>0)&&(se=!0)}else Fe=u;if(_)if(0!==G){const Ft=ta(s[P+1]);s[p+1]=Su(Ft,P),0!==Ft&&(s[Ft+1]=ja(s[Ft+1],p)),s[P+1]=function hd(s,a){return 131071&s|a<<17}(s[P+1],p)}else s[p+1]=Su(P,0),0!==P&&(s[P+1]=ja(s[P+1],p)),P=p;else s[p+1]=Su(G,0),0===P?P=p:s[G+1]=ja(s[G+1],p),G=p;se&&(s[p+1]=xl(s[p+1])),Xv(s,Fe,p,!0),Xv(s,Fe,p,!1),function d_(s,a,u,p,_){const b=_?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof a&&Vn(b,a)>=0&&(u[p+1]=Mf(u[p+1]))}(a,Fe,s,p,b),T=Su(P,G),b?a.classBindings=T:a.styleBindings=T}(_,b,a,u,T,p)}}function l(s,a,u,p,_){let b=null;const T=u.directiveEnd;let P=u.directiveStylingLast;for(-1===P?P=u.directiveStart:P++;P<T&&(b=a[P],p=i(p,b.hostAttrs,_),b!==s);)P++;return null!==s&&(u.directiveStylingLast=P),p}function i(s,a,u){const p=u?1:2;let _=-1;if(null!==a)for(let b=0;b<a.length;b++){const T=a[b];"number"==typeof T?_=T:_===p&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Dt(s,T,!!u||a[++b]))}return void 0===s?null:s}function y(s,a,u,p,_,b,T,P){if(!(3&a.type))return;const G=s.data,se=G[P+1];L(function xu(s){return 1==(1&s)}(se)?E(G,a,u,_,cl(se),T):void 0)||(L(b)||function dg(s){return 2==(2&s)}(se)&&(b=E(G,null,u,_,P,T)),function Cm(s,a,u,p,_){if(a)_?s.addClass(u,p):s.removeClass(u,p);else{let b=-1===p.indexOf("-")?void 0:$s.DashCase;null==_?s.removeStyle(u,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=$s.Important),s.setStyle(u,p,_,b))}}(p,T,To(Et(),u),_,b))}function E(s,a,u,p,_,b){const T=null===a;let P;for(;_>0;){const G=s[_],se=Array.isArray(G),Fe=se?G[1]:G,lt=null===Fe;let Ft=u[_+1];Ft===Fi&&(Ft=lt?_n:void 0);let en=lt?mn(Ft,p):Fe===p?Ft:void 0;if(se&&!L(en)&&(en=mn(G,p)),L(en)&&(P=en,T))return P;const En=s[_+1];_=T?ta(En):cl(En)}if(null!==a){let G=b?a.residualClasses:a.residualStyles;null!=G&&(P=mn(G,p))}return P}function L(s){return void 0!==s}function fe(s,a){return 0!=(s.flags&(a?16:32))}function Xe(s,a=""){const u=Dn(),p=Ii(),_=s+22,b=p.firstCreatePass?yo(p,_,1,a,null):p.data[_],T=u[_]=dd(u[11],a);ih(p,u,T,b),$(b,!1)}function xt(s){return sn("",s,""),xt}function sn(s,a,u){const p=Dn(),_=ul(p,s,a,u);return _!==Fi&&$a(p,Et(),_),sn}function si(s,a,u,p,_,b,T,P,G){const se=Dn(),Fe=Td(se,s,a,u,p,_,b,T,P,G);return Fe!==Fi&&$a(se,Et(),Fe),si}function cw(s,a,u){const p=Dn();return Fo(p,Ja(),a)&&za(Ii(),pn(),p,s,a,p[11],u,!0),cw}function uw(s,a,u){const p=Dn();if(Fo(p,Ja(),a)){const b=Ii(),T=pn();za(b,T,p,s,a,Sg(Aa(b.data),T,p),u,!0)}return uw}const kh=void 0;var vS=["en",[["a","p"],["AM","PM"],kh],[["AM","PM"],kh,kh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kh,"{1} 'at' {0}",kh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _S(s){const u=Math.floor(Math.abs(s)),p=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let v_={};function lp(s){const a=function yS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=dw(a);if(u)return u;const p=a.split("-")[0];if(u=dw(p),u)return u;if("en"===p)return vS;throw new dt(701,!1)}function Hg(s){return lp(s)[Oi.PluralCase]}function dw(s){return s in v_||(v_[s]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[s]),v_[s]}var Oi=(()=>((Oi=Oi||{})[Oi.LocaleId=0]="LocaleId",Oi[Oi.DayPeriodsFormat=1]="DayPeriodsFormat",Oi[Oi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Oi[Oi.DaysFormat=3]="DaysFormat",Oi[Oi.DaysStandalone=4]="DaysStandalone",Oi[Oi.MonthsFormat=5]="MonthsFormat",Oi[Oi.MonthsStandalone=6]="MonthsStandalone",Oi[Oi.Eras=7]="Eras",Oi[Oi.FirstDayOfWeek=8]="FirstDayOfWeek",Oi[Oi.WeekendRange=9]="WeekendRange",Oi[Oi.DateFormat=10]="DateFormat",Oi[Oi.TimeFormat=11]="TimeFormat",Oi[Oi.DateTimeFormat=12]="DateTimeFormat",Oi[Oi.NumberSymbols=13]="NumberSymbols",Oi[Oi.NumberFormats=14]="NumberFormats",Oi[Oi.CurrencyCode=15]="CurrencyCode",Oi[Oi.CurrencySymbol=16]="CurrencySymbol",Oi[Oi.CurrencyName=17]="CurrencyName",Oi[Oi.Currencies=18]="Currencies",Oi[Oi.Directionality=19]="Directionality",Oi[Oi.PluralCase=20]="PluralCase",Oi[Oi.ExtraData=21]="ExtraData",Oi))();const bS=["zero","one","two","few","many"],y_="en-US",x0={marker:"element"},sy={marker:"ICU"};var Ws=(()=>((Ws=Ws||{})[Ws.SHIFT=2]="SHIFT",Ws[Ws.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ws[Ws.COMMENT=2]="COMMENT",Ws))();let mD=y_;function fw(s){(function nn(s,a){null==s&&wt(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(mD=s.toLowerCase().replace(/_/g,"-"))}function pw(s,a,u){const p=a.insertBeforeIndex,_=Array.isArray(p)?p[0]:p;return null===_?_m(s,0,u):Zi(u[_])}function _D(s,a,u,p,_){const b=a.insertBeforeIndex;if(Array.isArray(b)){let T=p,P=null;if(3&a.type||(P=T,T=_),null!==T&&0==(2&a.flags))for(let G=1;G<b.length;G++)Fc(s,T,u[b[G]],P,!1)}}function gw(s,a){if(s.push(a),s.length>1)for(let u=s.length-2;u>=0;u--){const p=s[u];vD(p)||yD(p,a)&&null===DS(p)&&bD(p,a.index)}}function vD(s){return!(64&s.type)}function yD(s,a){return vD(a)||s.index>a.index}function DS(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function bD(s,a){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=a:(ym(pw,_D),s.insertBeforeIndex=a)}function oy(s,a){const u=s.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function CD(s,a,u){const p=uc(s,u,64,null,null);return gw(a,p),p}function A0(s,a){const u=a[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function mw(s){return s>>>17}function DD(s){return(131070&s)>>>1}let cp=0,Ug=0;function _w(s,a,u,p){const _=u[11];let T,b=null;for(let P=0;P<a.length;P++){const G=a[P];if("string"==typeof G){const se=a[++P];null===u[se]&&(u[se]=dd(_,G))}else if("number"==typeof G)switch(1&G){case 0:const se=mw(G);let Fe,lt;if(null===b&&(b=se,T=Lc(_,p)),se===b?(Fe=p,lt=T):(Fe=null,lt=Zi(u[se])),null!==lt){const zn=DD(G);Fc(_,lt,u[zn],Fe,!1);const bi=oy(s,zn);if(null!==bi&&"object"==typeof bi){const xi=A0(bi,u);null!==xi&&_w(s,bi.create[xi],u,u[bi.anchorIdx])}}break;case 1:const en=a[++P],En=a[++P];zf(_,To(G>>>1,u),null,null,en,En,null)}else switch(G){case sy:const se=a[++P],Fe=a[++P];null===u[Fe]&&rs(u[Fe]=_f(_,se),u);break;case x0:const lt=a[++P],Ft=a[++P];null===u[Ft]&&rs(u[Ft]=bu(_,lt,null),u)}}}function vw(s,a,u,p,_){for(let b=0;b<u.length;b++){const T=u[b],P=u[++b];if(T&_){let G="";for(let se=b+1;se<=b+P;se++){const Fe=u[se];if("string"==typeof Fe)G+=Fe;else if("number"==typeof Fe)if(Fe<0)G+=Ue(a[p-Fe]);else{const lt=Fe>>>2;switch(3&Fe){case 1:const Ft=u[++se],en=u[++se],En=s.data[lt];"string"==typeof En?zf(a[11],a[lt],null,En,Ft,G,en):za(s,En,a,Ft,G,a[11],en,!1);break;case 0:const zn=a[lt];null!==zn&&Ua(a[11],zn,G);break;case 2:bw(s,oy(s,lt),a,G);break;case 3:yw(s,oy(s,lt),p,a)}}}}else{const G=u[b+1];if(G>0&&3==(3&G)){const Fe=oy(s,G>>>2);a[Fe.currentCaseLViewIndex]<0&&yw(s,Fe,p,a)}}b+=P}}function yw(s,a,u,p){let _=p[a.currentCaseLViewIndex];if(null!==_){let b=cp;_<0&&(_=p[a.currentCaseLViewIndex]=~_,b=-1),vw(s,p,a.update[_],u,b)}}function bw(s,a,u,p){const _=function TS(s,a){let u=s.cases.indexOf(a);if(-1===u)switch(s.type){case 1:{const p=function wS(s,a){const u=Hg(a)(parseInt(s,10)),p=bS[u];return void 0!==p?p:"other"}(a,function CS(){return mD}());u=s.cases.indexOf(p),-1===u&&"other"!==p&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(a,p);if(A0(a,u)!==_&&(ID(s,a,u),u[a.currentCaseLViewIndex]=null===_?null:~_,null!==_)){const T=u[a.anchorIdx];T&&_w(s,a.create[_],u,T)}}function ID(s,a,u){let p=A0(a,u);if(null!==p){const _=a.remove[p];for(let b=0;b<_.length;b++){const T=_[b];if(T>0){const P=To(T,u);null!==P&&bm(u[11],P)}else ID(s,oy(s,~T),u)}}}function MD(){const s=[];let u,p,a=-1;function b(P,G){a=0;const se=A0(P,G);p=null!==se?P.remove[se]:_n}function T(){if(a<p.length){const P=p[a++];return P>0?u[P]:(s.push(a,p),b(u[1].data[~P],u),T())}return 0===s.length?null:(p=s.pop(),a=s.pop(),T())}return function _(P,G){for(u=G;s.length;)s.pop();return b(P.value,G),T}}const ay=/\ufffd(\d+):?\d*\ufffd/gi,AS=/\ufffd(\d+)\ufffd/,Cw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,IS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,MS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,I0=/\uE500/g;function kD(s,a,u,p,_,b,T){const P=Iu(s,p,1,null);let G=P<<Ws.SHIFT,se=Y();a===se&&(se=null),null===se&&(G|=Ws.APPEND_EAGERLY),T&&(G|=Ws.COMMENT,function sl(s){void 0===ma&&(ma=s())}(MD)),_.push(G,null===b?"":b);const Fe=uc(s,P,T?32:1,null===b?"":b,null);gw(u,Fe);const lt=Fe.index;return $(Fe,!1),null!==se&&a!==se&&function ES(s,a){let u=s.insertBeforeIndex;null===u?(ym(pw,_D),u=s.insertBeforeIndex=[null,a]):(function ot(s,a,u){s!=a&&wt(u,s,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(se,lt),Fe}function M0(s,a,u,p,_,b,T){const P=T.match(ay),G=kD(s,a,u,b,p,P?null:T,!1);P&&b_(_,T,G.index,null,0,null)}function b_(s,a,u,p,_,b){const T=s.length,P=T+1;s.push(null,null);const G=T+2,se=a.split(ay);let Fe=0;for(let lt=0;lt<se.length;lt++){const Ft=se[lt];if(1&lt){const en=_+parseInt(Ft,10);s.push(-1-en),Fe|=Ew(en)}else""!==Ft&&s.push(Ft)}return s.push(u<<2|(p?1:0)),p&&s.push(p,b),s[T]=Fe,s[P]=s.length-G,Fe}function Ew(s){return 1<<Math.min(s,31)}function Tw(s){let a,b,u="",p=0,_=!1;for(;null!==(a=IS.exec(s));)_?a[0]===`\ufffd/*${b}\ufffd`&&(p=a.index,_=!1):(u+=s.substring(p,a.index+a[0].length),b=a[1],_=!0);return u+=s.slice(p),u}function FD(s,a,u,p,_,b){let T=0;const P={type:_.type,currentCaseLViewIndex:Iu(s,a,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function PS(s,a,u){s.push(Ew(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,_,b),function wD(s,a,u){const p=s.data[a];null===p?s.data[a]=u:p.value=u}(s,b,P);const G=_.values;for(let se=0;se<G.length;se++){const Fe=G[se],lt=[];for(let Ft=0;Ft<Fe.length;Ft++){const en=Fe[Ft];if("string"!=typeof en){const En=lt.push(en)-1;Fe[Ft]=`\x3c!--\ufffd${En}\ufffd--\x3e`}}T=RS(s,P,a,u,p,_.cases[se],Fe.join(""),lt)|T}T&&function FS(s,a,u){s.push(a,1,u<<2|3)}(u,T,b)}function kS(s){const a=[],u=[];let p=1,_=0;const b=Sw(s=s.replace(Cw,function(T,P,G){return p="select"===G?0:1,_=parseInt(P.slice(1),10),""}));for(let T=0;T<b.length;){let P=b[T++].trim();1===p&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&a.push(P);const G=Sw(b[T++]);a.length>u.length&&u.push(G)}return{type:p,mainBinding:_,cases:a,values:u}}function Sw(s){if(!s)return[];let a=0;const u=[],p=[],_=/[{}]/g;let b;for(_.lastIndex=0;b=_.exec(s);){const P=b.index;if("}"==b[0]){if(u.pop(),0==u.length){const G=s.substring(a,P);Cw.test(G)?p.push(kS(G)):p.push(G),a=P+1}}else{if(0==u.length){const G=s.substring(a,P);p.push(G),a=P+1}u.push("{")}}const T=s.substring(a);return p.push(T),p}function RS(s,a,u,p,_,b,T,P){const G=[],se=[],Fe=[];a.cases.push(b),a.create.push(G),a.remove.push(se),a.update.push(Fe);const Ft=nd(function cu(){return void 0!==$d?$d:typeof document<"u"?document:void 0}()).getInertBodyElement(T),en=ef(Ft)||Ft;return en?LD(s,a,u,p,G,se,Fe,en,_,P,0):0}function LD(s,a,u,p,_,b,T,P,G,se,Fe){let lt=0,Ft=P.firstChild;for(;Ft;){const en=Iu(s,u,1,null);switch(Ft.nodeType){case Node.ELEMENT_NODE:const En=Ft,zn=En.tagName.toLowerCase();if(or.hasOwnProperty(zn)){xw(_,x0,zn,G,en),s.data[en]=zn;const Pn=En.attributes;for(let ki=0;ki<Pn.length;ki++){const Dr=Pn.item(ki),fs=Dr.name.toLowerCase();Dr.value.match(ay)?xs.hasOwnProperty(fs)&&b_(T,Dr.value,en,Dr.name,0,Ro[fs]?D:null):LS(_,en,Dr)}lt=LD(s,a,u,p,_,b,T,Ft,en,se,Fe+1)|lt,BD(b,en,Fe)}break;case Node.TEXT_NODE:const ni=Ft.textContent||"",bi=ni.match(ay);xw(_,null,bi?"":ni,G,en),BD(b,en,Fe),bi&&(lt=b_(T,ni,en,null,0,null)|lt);break;case Node.COMMENT_NODE:const xi=AS.exec(Ft.textContent||"");if(xi){const ki=se[parseInt(xi[1],10)];xw(_,sy,"",G,en),FD(s,u,p,G,ki,en),NS(b,en,Fe)}}Ft=Ft.nextSibling}return lt}function BD(s,a,u){0===u&&s.push(a)}function NS(s,a,u){0===u&&(s.push(~a),s.push(a))}function xw(s,a,u,p,_){null!==a&&s.push(a),s.push(u,_,function TD(s,a,u){return s|a<<17|u<<1}(0,p,_))}function LS(s,a,u){s.push(a<<1|1,u.name,u.value)}function UD(s,a,u=-1){const p=Ii(),_=Dn(),b=22+s,T=Cs(p.consts,a),P=Y();p.firstCreatePass&&function OD(s,a,u,p,_,b){const T=Y(),P=[],G=[],se=[[]];_=function OS(s,a){if(function PD(s){return-1===s}(a))return Tw(s);{const u=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,p=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return Tw(s.substring(u,p))}}(_,b);const Fe=function Dw(s){return s.replace(I0," ")}(_).split(MS);for(let lt=0;lt<Fe.length;lt++){let Ft=Fe[lt];if(0==(1&lt)){const en=Sw(Ft);for(let En=0;En<en.length;En++){let zn=en[En];if(0==(1&En)){const ni=zn;""!==ni&&M0(s,T,se[0],P,G,u,ni)}else{const ni=zn;if("object"!=typeof ni)throw new Error(`Unable to parse ICU expression in "${_}" message.`);FD(s,u,G,a,ni,kD(s,T,se[0],u,P,"",!0).index)}}}else{const en=47===Ft.charCodeAt(0),zn=(Ft.charCodeAt(en?1:0),22+Number.parseInt(Ft.substring(en?2:1)));if(en)se.shift(),$(Y(),!1);else{const ni=CD(s,se[0],zn);se.unshift([]),$(ni,!0)}}}s.data[p]={create:P,update:G}}(p,null===P?0:P.index,_,b,T,u);const G=p.data[b],Fe=th(p,P===_[6]?null:P,_);(function AD(s,a,u,p){const _=s[11];for(let b=0;b<a.length;b++){const T=a[b++],P=a[b],G=(T&Ws.COMMENT)===Ws.COMMENT,se=(T&Ws.APPEND_EAGERLY)===Ws.APPEND_EAGERLY,Fe=T>>>Ws.SHIFT;let lt=s[Fe];null===lt&&(lt=s[Fe]=G?_.createComment(P):dd(_,P)),se&&null!==u&&Fc(_,u,lt,p,!1)}})(_,G.create,Fe,P&&8&P.type?_[P.index]:null),_l(!0)}function jD(s,a,u){UD(s,a,u),function GD(){_l(!1)}()}function Aw(s){return function SD(s){s&&(cp|=1<<Math.min(Ug,31)),Ug++}(Fo(Dn(),Ja(),s)),Aw}function zD(s){!function xD(s,a,u){if(Ug>0){const p=s.data[u];vw(s,a,Array.isArray(p)?p:p.update,co()-Ug-1,cp)}cp=0,Ug=0}(Ii(),Dn(),s+22)}function Iw(s,a,u,p,_){if(s=we(s),Array.isArray(s))for(let b=0;b<s.length;b++)Iw(s[b],a,u,p,_);else{const b=Ii(),T=Dn();let P=sd(s)?s:we(s.provide),G=Uy(s);const se=Gr(),Fe=1048575&se.providerIndexes,lt=se.directiveStart,Ft=se.providerIndexes>>20;if(sd(s)||!s.multi){const en=new ps(G,_,ch),En=Ow(P,a,_?Fe:Fe+Ft,lt);-1===En?(Hi(Io(se,T),b,P),Mw(b,s,a.length),a.push(P),se.directiveStart++,se.directiveEnd++,_&&(se.providerIndexes+=1048576),u.push(en),T.push(en)):(u[En]=en,T[En]=en)}else{const en=Ow(P,a,Fe+Ft,lt),En=Ow(P,a,Fe,Fe+Ft),zn=en>=0&&u[en],ni=En>=0&&u[En];if(_&&!ni||!_&&!zn){Hi(Io(se,T),b,P);const bi=function qS(s,a,u,p,_){const b=new ps(s,u,ch);return b.multi=[],b.index=a,b.componentProviders=0,$D(b,_,p&&!u),b}(_?ZS:KS,u.length,_,p,G);!_&&ni&&(u[En].providerFactory=bi),Mw(b,s,a.length,0),a.push(P),se.directiveStart++,se.directiveEnd++,_&&(se.providerIndexes+=1048576),u.push(bi),T.push(bi)}else Mw(b,s,en>-1?en:En,$D(u[_?En:en],G,!_&&p));!_&&p&&ni&&u[En].componentProviders++}}}function Mw(s,a,u,p){const _=sd(a),b=function Vy(s){return!!s.useClass}(a);if(_||b){const G=(b?we(a.useClass):a).prototype.ngOnDestroy;if(G){const se=s.destroyHooks||(s.destroyHooks=[]);if(!_&&a.multi){const Fe=se.indexOf(u);-1===Fe?se.push(u,[p,G]):se[Fe+1].push(p,G)}else se.push(u,G)}}}function $D(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function Ow(s,a,u,p){for(let _=u;_<p;_++)if(a[_]===s)return _;return-1}function KS(s,a,u,p){return kw(this.multi,[])}function ZS(s,a,u,p){const _=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,P=Rr(u,u[1],this.providerFactory.index,p);b=P.slice(0,T),kw(_,b);for(let G=T;G<P.length;G++)b.push(P[G])}else b=[],kw(_,b);return b}function kw(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function WD(s,a=[]){return u=>{u.providersResolver=(p,_)=>function YS(s,a,u){const p=Ii();if(p.firstCreatePass){const _=lr(s);Iw(u,p.data,p.blueprint,_,!0),Iw(a,p.data,p.blueprint,_,!1)}}(p,_?_(s):s,a)}}class w_{}class YD{}function QS(s,a){return new KD(s,a??null)}class KD extends w_{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dd(this);const p=Ye(a);this._bootstrapComponents=pa(p.bootstrap),this._r3Injector=Ga(a,u,[{provide:w_,useValue:this},{provide:ad,useValue:this.componentFactoryResolver}],pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Rw extends YD{constructor(a){super(),this.moduleType=a}create(a){return new KD(this.moduleType,a)}}class XS extends w_{constructor(a,u,p){super(),this.componentFactoryResolver=new Dd(this),this.instance=null;const _=new nm([...a,{provide:w_,useValue:this},{provide:ad,useValue:this.componentFactoryResolver}],u||tm(),p,new Set(["environment"]));this.injector=_,_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Nw(s,a,u=null){return new XS(s,a,u).injector}let JS=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const p=Pp(0,u.type),_=p.length>0?Nw([p],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,_)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Qt({token:s,providedIn:"environment",factory:()=>new s(ms(od))}),s})();function Pw(s){s.getStandaloneInjector=a=>a.get(JS).getOrCreateStandaloneInjector(s)}function tE(s,a,u,p){return rE(Dn(),xr(),s,a,u,p)}function nE(s,a,u,p,_){return function sE(s,a,u,p,_,b,T){const P=a+u;return Ed(s,P,_,b)?Wa(s,P+2,T?p.call(T,_,b):p(_,b)):uy(s,P+2)}(Dn(),xr(),s,a,u,p,_)}function iE(s,a,u,p,_,b){return function oE(s,a,u,p,_,b,T,P){const G=a+u;return function Jf(s,a,u,p,_){const b=Ed(s,a,u,p);return Fo(s,a+2,_)||b}(s,G,_,b,T)?Wa(s,G+3,P?p.call(P,_,b,T):p(_,b,T)):uy(s,G+3)}(Dn(),xr(),s,a,u,p,_,b)}function uy(s,a){const u=s[a];return u===Fi?void 0:u}function rE(s,a,u,p,_,b){const T=a+u;return Fo(s,T,_)?Wa(s,T+1,b?p.call(b,_):p(_)):uy(s,T+1)}function cE(s,a){const u=Ii();let p;const _=s+22;u.firstCreatePass?(p=function hx(s,a){if(a)for(let u=a.length-1;u>=0;u--){const p=a[u];if(s===p.name)return p}}(a,u.pipeRegistry),u.data[_]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(_,p.onDestroy)):p=u.data[_];const b=p.factory||(p.factory=Er(p.type)),T=nt(ch);try{const P=Cc(!1),G=b();return Cc(P),function i_(s,a,u,p){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=p}(u,Dn(),_,G),G}finally{nt(T)}}function uE(s,a,u){const p=s+22,_=Dn(),b=Hr(_,p);return function dy(s,a){return s[1].data[a].pure}(_,p)?rE(_,xr(),a,b.transform,u,b):b.transform(u)}function Bw(s){return a=>{setTimeout(s,void 0,a)}}const Id=class dE extends m.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,p){let _=a,b=u||(()=>null),T=p;if(a&&"object"==typeof a){const G=a;_=G.next?.bind(G),b=G.error?.bind(G),T=G.complete?.bind(G)}this.__isAsync&&(b=Bw(b),_&&(_=Bw(_)),T&&(T=Bw(T)));const P=super.subscribe({next:_,error:b,complete:T});return a instanceof h.w0&&a.add(P),P}};function _x(){return this._results[ku()]()}class k0{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ku(),p=k0.prototype;p[u]||(p[u]=_x)}get changes(){return this._changes||(this._changes=new Id)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const p=this;p.dirty=!1;const _=Yn(a);(this._changesDetected=!function Dp(s,a,u){if(s.length!==a.length)return!1;for(let p=0;p<s.length;p++){let _=s[p],b=a[p];if(u&&(_=u(_),b=u(b)),b!==_)return!1}return!0}(p._results,_,u))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hy=(()=>{class s{}return s.__NG_ELEMENT_ID__=bx,s})();const vx=hy,yx=class extends vx{constructor(a,u,p){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(a,u){const p=this._declarationTContainer.tViews,_=gh(this._declarationLView,p,a,16,null,p.declTNode,null,null,null,null,u||null);_[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(_[19]=T.createEmbeddedView(p)),gd(p,_,a),new Cd(_)}};function bx(){return R0(Gr(),Dn())}function R0(s,a){return 4&s.type?new yx(a,s,uf(s,a)):null}let N0=(()=>{class s{}return s.__NG_ELEMENT_ID__=wx,s})();function wx(){return pE(Gr(),Dn())}const Cx=N0,hE=class extends Cx{constructor(a,u,p){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=p}get element(){return uf(this._hostTNode,this._hostLView)}get injector(){return new Fa(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ra(this._hostTNode,this._hostLView);if(zu(a)){const u=ka(a,this._hostLView),p=Oa(a);return new Fa(u[1].data[p+8],u)}return new Fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=fE(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const T=a.createEmbeddedView(u||{},b);return this.insert(T,_),T}createComponent(a,u,p,_,b){const T=a&&!function Ba(s){return"function"==typeof s}(a);let P;if(T)P=u;else{const lt=u||{};P=lt.index,p=lt.injector,_=lt.projectableNodes,b=lt.environmentInjector||lt.ngModuleRef}const G=T?a:new Ml(ne(a)),se=p||this.parentInjector;if(!b&&null==G.ngModule){const Ft=(T?se:this.parentInjector).get(od,null);Ft&&(b=Ft)}const Fe=G.create(se,_,void 0,b);return this.insert(Fe.hostView,P),Fe}insert(a,u){const p=a._lView,_=p[1];if(function Ur(s){return qn(s[3])}(p)){const Fe=this.indexOf(a);if(-1!==Fe)this.detach(Fe);else{const lt=p[3],Ft=new hE(lt,lt[6],lt[3]);Ft.detach(Ft.indexOf(a))}}const b=this._adjustIndex(u),T=this._lContainer;!function Cv(s,a,u,p){const _=10+p,b=u.length;p>0&&(u[_-1][4]=a),p<b-10?(a[4]=u[_],Yo(u,10+p,a)):(u.push(a),a[4]=null),a[3]=u;const T=a[17];null!==T&&u!==T&&function qp(s,a){const u=s[9];a[O]!==a[3][3][O]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(T,a);const P=a[19];null!==P&&P.insertView(s),a[2]|=64}(_,p,T,b);const P=ig(b,T),G=p[11],se=Lc(G,T[7]);return null!==se&&function Xy(s,a,u,p,_,b){p[0]=_,p[6]=a,oc(s,p,u,1,_,b)}(_,T[6],G,p,se,P),a.attachToViewContainerRef(),Yo(Vw(T),b,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=fE(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),p=Qp(this._lContainer,u);p&&(vr(Vw(this._lContainer),u),fm(p[1],p))}detach(a){const u=this._adjustIndex(a,-1),p=Qp(this._lContainer,u);return p&&null!=vr(Vw(this._lContainer),u)?new Cd(p):null}_adjustIndex(a,u=0){return a??this.length+u}};function fE(s){return s[8]}function Vw(s){return s[8]||(s[8]=[])}function pE(s,a){let u;const p=a[s.index];if(qn(p))u=p;else{let _;if(8&s.type)_=Zi(p);else{const b=a[11];_=b.createComment("");const T=ns(s,a);Fc(b,Lc(b,T),_,function yf(s,a){return s.nextSibling(a)}(b,T),!1)}a[s.index]=u=Zm(p,a,_,s),Tg(a,u)}return new hE(u,s,a)}class Hw{constructor(a){this.queryList=a,this.matches=null}clone(){return new Hw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uw{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const p=null!==a.contentQueries?a.contentQueries[0]:u.length,_=[];for(let b=0;b<p;b++){const T=u.getByIndex(b);_.push(this.queries[T.indexInDeclarationView].clone())}return new Uw(_)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Kw(a,u).matches&&this.queries[u].setDirty()}}class gE{constructor(a,u,p=null){this.predicate=a,this.flags=u,this.read=p}}class Gw{constructor(a=[]){this.queries=a}elementStart(a,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let p=0;p<this.length;p++){const _=null!==u?u.length:0,b=this.getByIndex(p).embeddedTView(a,_);b&&(b.indexInDeclarationView=p,null!==u?u.push(b):u=[b])}return null!==u?new Gw(u):null}template(a,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class jw{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new jw(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=a.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(a,u,mE(u,b)),this.matchTNodeWithReadOption(a,u,bl(u,a,b,!1,!1))}else p===hy?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,bl(u,a,p,!1,!1))}matchTNodeWithReadOption(a,u,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Bp||_===N0||_===hy&&4&u.type)this.addMatch(u.index,-2);else{const b=bl(u,a,_,!1,!1);null!==b&&this.addMatch(u.index,b)}else this.addMatch(u.index,p)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function mE(s,a){const u=s.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===a)return u[p+1];return null}function zw(s,a,u,p){return-1===u?function _E(s,a){return 11&s.type?uf(s,a):4&s.type?R0(s,a):null}(a,s):-2===u?function P0(s,a,u){return u===Bp?uf(a,s):u===hy?R0(a,s):u===N0?pE(a,s):void 0}(s,a,p):Rr(s,s[1],u,a)}function D_(s,a,u,p){const _=a[19].queries[p];if(null===_.matches){const b=s.data,T=u.matches,P=[];for(let G=0;G<T.length;G+=2){const se=T[G];P.push(se<0?null:zw(a,b[se],T[G+1],u.metadata.read))}_.matches=P}return _.matches}function E_(s,a,u,p){const _=s.queries.getByIndex(u),b=_.matches;if(null!==b){const T=D_(s,a,_,u);for(let P=0;P<b.length;P+=2){const G=b[P];if(G>0)p.push(T[P/2]);else{const se=b[P+1],Fe=a[-G];for(let lt=10;lt<Fe.length;lt++){const Ft=Fe[lt];Ft[17]===Ft[3]&&E_(Ft[1],Ft,se,p)}if(null!==Fe[9]){const lt=Fe[9];for(let Ft=0;Ft<lt.length;Ft++){const en=lt[Ft];E_(en[1],en,se,p)}}}}}return p}function F0(s){const a=Dn(),u=Ii(),p=aa();Ia(p+1);const _=Kw(u,p);if(s.dirty&&function Sa(s){return 4==(4&s[2])}(a)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const b=_.crossesNgTemplate?E_(u,a,p,[]):D_(u,a,_,p);s.reset(b,Yb),s.notifyOnChanges()}return!0}return!1}function up(s,a,u){const p=Ii();p.firstCreatePass&&(Yw(p,new gE(s,a,u),-1),2==(2&a)&&(p.staticViewQueries=!0)),fy(p,Dn(),a)}function $w(s,a,u,p){const _=Ii();if(_.firstCreatePass){const b=Gr();Yw(_,new gE(a,u,p),b.index),function yE(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(_,s),2==(2&u)&&(_.staticContentQueries=!0)}fy(_,Dn(),u)}function Ww(){return function vE(s,a){return s[19].queries[a].queryList}(Dn(),aa())}function fy(s,a,u){const p=new k0(4==(4&u));md(s,a,p,p.destroy),null===a[19]&&(a[19]=new Uw),a[19].queries.push(new Hw(p))}function Yw(s,a,u){null===s.queries&&(s.queries=new Gw),s.queries.track(new jw(a,u))}function Kw(s,a){return s.queries.getByIndex(a)}function Zw(s,a){return R0(s,a)}function A_(...s){}const cC=new sr("Application Initializer");let I_=(()=>{class s{constructor(u){this.appInits=u,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,_)=>{this.resolve=p,this.reject=_})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const b=this.appInits[_]();if(ip(b))u.push(b);else if(Dh(b)){const T=new Promise((P,G)=>{b.subscribe({complete:P,error:G})});u.push(T)}}Promise.all(u).then(()=>{p()}).catch(_=>{this.reject(_)}),0===u.length&&p(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(ms(cC,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uC=new sr("AppId",{providedIn:"root",factory:function Lo(){return`${M_()}${M_()}${M_()}`}});function M_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $0=new sr("Platform Initializer"),Bo=new sr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dC=new sr("appBootstrapListener"),zE=new sr("AnimationModuleType");let W0=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const O_=new sr("LocaleId",{providedIn:"root",factory:()=>Ep(O_,Be.Optional|Be.SkipSelf)||function $E(){return typeof $localize<"u"&&$localize.locale||y_}()}),Y0=new sr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WE{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let YE=(()=>{class s{compileModuleSync(u){return new Rw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),b=pa(Ye(u).declarations).reduce((T,P)=>{const G=ne(P);return G&&T.push(new Ml(G)),T},[]);return new WE(p,b)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ZE=(()=>Promise.resolve(0))();function K0(s){typeof Zone>"u"?ZE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Bs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Id(!1),this.onMicrotaskEmpty=new Id(!1),this.onStable=new Id(!1),this.onError=new Id(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const _=this;if(_._nesting=0,_._outer=_._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;_._inner=_._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&u,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function qE(){let s=vt.requestAnimationFrame,a=vt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const p=a[Zone.__symbol__("OriginalDelegate")];p&&(a=p)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function JE(s){const a=()=>{!function XE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(vt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,q0(s),s.isCheckStableRunning=!0,Z0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),q0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,_,b,T,P)=>{try{return gC(s),u.invokeTask(_,b,T,P)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&a(),Q0(s)}},onInvoke:(u,p,_,b,T,P,G)=>{try{return gC(s),u.invoke(_,b,T,P,G)}finally{s.shouldCoalesceRunChangeDetection&&a(),Q0(s)}},onHasTask:(u,p,_,b)=>{u.hasTask(_,b),p===_&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,q0(s),Z0(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(u,p,_,b)=>(u.handleError(_,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new dt(909,!1)}run(a,u,p){return this._inner.run(a,u,p)}runTask(a,u,p,_){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+_,a,QE,A_,A_);try{return b.runTask(T,u,p)}finally{b.cancelTask(T)}}runGuarded(a,u,p){return this._inner.runGuarded(a,u,p)}runOutsideAngular(a){return this._outer.run(a)}}const QE={};function Z0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function q0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function gC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Q0(s){s._nesting--,Z0(s)}class eT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Id,this.onMicrotaskEmpty=new Id,this.onStable=new Id,this.onError=new Id}run(a,u,p){return a.apply(u,p)}runGuarded(a,u,p){return a.apply(u,p)}runOutsideAngular(a){return a()}runTask(a,u,p,_){return a.apply(u,p)}}const X0=new sr(""),gy=new sr("");let tb,J0=(()=>{class s{constructor(u,p,_){this._ngZone=u,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tb||(function tT(s){tb=s}(_),_.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),K0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())K0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:b,updateCb:_})}whenStable(u,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,_){return[]}}return s.\u0275fac=function(u){return new(u||s)(ms(Bs),ms(eb),ms(gy))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),eb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return tb?.findTestabilityInTree(this,u,p)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Rh=null;const nb=new sr("AllowMultipleToken"),k_=new sr("PlatformDestroyListeners");class Nh{constructor(a,u){this.name=a,this.token=u}}function vC(s,a,u=[]){const p=`Platform: ${a}`,_=new sr(p);return(b=[])=>{let T=N_();if(!T||T.injector.get(nb,!1)){const P=[...u,...b,{provide:_,useValue:!0}];s?s(P):function _C(s){if(Rh&&!Rh.get(nb,!1))throw new dt(400,!1);Rh=s;const a=s.get(ib);(function R_(s){const a=s.get($0,null);a&&a.forEach(u=>u())})(s)}(function yC(s=[],a){return nr.create({name:a,providers:[{provide:rv,useValue:"platform"},{provide:k_,useValue:new Set([()=>Rh=null])},...s]})}(P,p))}return function iT(s){const a=N_();if(!a)throw new dt(401,!1);return a}()}}function N_(){return Rh?.get(ib)??null}let ib=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const _=function _y(s,a){let u;return u="noop"===s?new eT:("zone.js"===s?void 0:s)||new Bs(a),u}(p?.ngZone,function P_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(p)),b=[{provide:Bs,useValue:_}];return _.run(()=>{const T=nr.create({providers:b,parent:this.injector,name:u.moduleType.name}),P=u.create(T),G=P.injector.get(Xo,null);if(!G)throw new dt(402,!1);return _.runOutsideAngular(()=>{const se=_.onError.subscribe({next:Fe=>{G.handleError(Fe)}});P.onDestroy(()=>{yy(this._modules,P),se.unsubscribe()})}),function bC(s,a,u){try{const p=u();return ip(p)?p.catch(_=>{throw a.runOutsideAngular(()=>s.handleError(_)),_}):p}catch(p){throw a.runOutsideAngular(()=>s.handleError(p)),p}}(G,_,()=>{const se=P.injector.get(I_);return se.runInitializers(),se.donePromise.then(()=>(fw(P.injector.get(O_,y_)||y_),this._moduleDoBootstrap(P),P))})})}bootstrapModule(u,p=[]){const _=wC({},p);return function mC(s,a,u){const p=new Rw(u);return Promise.resolve(p)}(0,0,u).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(u){const p=u.injector.get(vy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!u.instance.ngDoBootstrap)throw new dt(403,!1);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const u=this._injector.get(k_,null);u&&(u.forEach(p=>p()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(ms(nr))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function wC(s,a){return Array.isArray(a)?a.reduce(wC,s):{...s,...a}}let vy=(()=>{class s{constructor(u,p,_){this._zone=u,this._injector=p,this._exceptionHandler=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new A.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),T=new A.y(P=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),K0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{G.unsubscribe(),se.unsubscribe()}});this.isStable=(0,Se.T)(b,T.pipe((0,N.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,p){const _=u instanceof Qo;if(!this._injector.get(I_).done)throw!_&&Ke(u),new dt(405,false);let T;T=_?u:this._injector.get(ad).resolveComponentFactory(u),this.componentTypes.push(T.componentType);const P=function my(s){return s.isBoundToModule}(T)?void 0:this._injector.get(w_),se=T.create(nr.NULL,[],p||T.selector,P),Fe=se.location.nativeElement,lt=se.injector.get(X0,null);return lt?.registerApplication(Fe),se.onDestroy(()=>{this.detachView(se.hostView),yy(this.components,se),lt?.unregisterApplication(Fe)}),this._loadComponent(se),se}tick(){if(this._runningTick)throw new dt(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;yy(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dC,[]).concat(this._bootstrapListeners).forEach(_=>_(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>yy(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new dt(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(ms(Bs),ms(od),ms(Xo))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function yy(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}let CC=!0,DC=!1;function sT(){return DC=!0,CC}function oT(){if(DC)throw new Error("Cannot enable prod mode after platform setup.");CC=!1}let TC=(()=>{class s{}return s.__NG_ELEMENT_ID__=lT,s})();function lT(s){return function cT(s,a,u){if(gr(s)&&!u){const p=Bi(s.index,a);return new Cd(p,p)}return 47&s.type?new Cd(a[O],a):null}(Gr(),Dn(),16==(16&s))}class pT{constructor(){}supports(a){return Qf(a)}create(a){return new gT(a)}}const Yx=(s,a)=>a;class gT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Yx}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,p=this._removalsHead,_=0,b=null;for(;u||p;){const T=!p||u&&u.currentIndex<Cy(p,_,b)?u:p,P=Cy(T,_,b),G=T.currentIndex;if(T===p)_--,p=p._nextRemoved;else if(u=u._next,null==T.previousIndex)_++;else{b||(b=[]);const se=P-_,Fe=G-_;if(se!=Fe){for(let Ft=0;Ft<se;Ft++){const en=Ft<b.length?b[Ft]:b[Ft]=0,En=en+Ft;Fe<=En&&En<se&&(b[Ft]=en+1)}b[T.previousIndex]=Fe-se}}P!==G&&a(T,P,G)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Qf(a))throw new dt(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let _,b,T,u=this._itHead,p=!1;if(Array.isArray(a)){this.length=a.length;for(let P=0;P<this.length;P++)b=a[P],T=this._trackByFn(P,b),null!==u&&Object.is(u.trackById,T)?(p&&(u=this._verifyReinsertion(u,b,T,P)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,T,P),p=!0),u=u._next}else _=0,function $v(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[ku()]();let p;for(;!(p=u.next()).done;)a(p.value)}}(a,P=>{T=this._trackByFn(_,P),null!==u&&Object.is(u.trackById,T)?(p&&(u=this._verifyReinsertion(u,P,T,_)),Object.is(u.item,P)||this._addIdentityChange(u,P)):(u=this._mismatch(u,P,T,_),p=!0),u=u._next,_++}),this.length=_;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,p,_){let b;return null===a?b=this._itTail:(b=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,b,_)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,b,_)):a=this._addAfter(new Kx(u,p),b,_),a}_verifyReinsertion(a,u,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?a=this._reinsertAfter(b,a._prev,_):a.currentIndex!=_&&(a.currentIndex=_,this._addToMoves(a,_)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const _=a._prevRemoved,b=a._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(a,u,p),this._addToMoves(a,p),a}_moveAfter(a,u,p){return this._unlink(a),this._insertAfter(a,u,p),this._addToMoves(a,p),a}_addAfter(a,u,p){return this._insertAfter(a,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,p){const _=null===u?this._itHead:u._next;return a._next=_,a._prev=u,null===_?this._itTail=a:_._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new AC),this._linkedRecords.put(a),a.currentIndex=p,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,p=a._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AC),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Kx{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,a))return p;return null}remove(a){const u=a._prevDup,p=a._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class AC{constructor(){this.map=new Map}put(a){const u=a.trackById;let p=this.map.get(u);p||(p=new Zx,this.map.set(u,p)),p.add(a)}get(a,u){const _=this.map.get(a);return _?_.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cy(s,a,u){const p=s.previousIndex;if(null===p)return p;let _=0;return u&&p<u.length&&(_=u[p]),p+a+_}class lb{constructor(){}supports(a){return a instanceof Map||t_(a)}create(){return new mT}}class mT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||t_(a)))throw new dt(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(p,_)=>{if(u&&u.key===_)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const b=this._getOrCreateRecordForKey(_,p);u=this._insertBeforeOrAppend(u,b)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const p=a._prev;return u._next=a,u._prev=p,a._prev=u,p&&(p._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const _=this._records.get(a);this._maybeAddToChanges(_,u);const b=_._prev,T=_._next;return b&&(b._next=T),T&&(T._prev=b),_._next=null,_._prev=null,_}const p=new qx(a);return this._records.set(a,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(p=>u(a[p],p))}}class qx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dy(){return new cb([new pT])}let cb=(()=>{class s{constructor(u){this.factories=u}static create(u,p){if(null!=p){const _=p.factories.slice();u=u.concat(_)}return new s(u)}static extend(u){return{provide:s,useFactory:p=>s.create(u,p||Dy()),deps:[[s,new qr,new xc]]}}find(u){const p=this.factories.find(_=>_.supports(u));if(null!=p)return p;throw new dt(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:Dy}),s})();function IC(){return new ub([new lb])}let ub=(()=>{class s{constructor(u){this.factories=u}static create(u,p){if(p){const _=p.factories.slice();u=u.concat(_)}return new s(u)}static extend(u){return{provide:s,useFactory:p=>s.create(u,p||IC()),deps:[[s,new qr,new xc]]}}find(u){const p=this.factories.find(_=>_.supports(u));if(p)return p;throw new dt(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:IC}),s})();const Xx=vC(null,"core",[]);let Jx=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(ms(vy))},s.\u0275mod=Bt({type:s}),s.\u0275inj=Xt({}),s})();function eA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function iA(s,a){const u=ne(s),p=a.elementInjector||tm();return new Ml(u).create(p,a.projectableNodes,a.hostElement,a.environmentInjector)}},5863:(bn,Tt,S)=>{function m(X){for(let ye in X){let we=X[ye]??"";switch(ye){case"display":X.display="flex"===we?["-webkit-flex","flex"]:"inline-flex"===we?["-webkit-inline-flex","inline-flex"]:we;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":X["-webkit-"+ye]=we;break;case"flex-direction":X["-webkit-flex-direction"]=we,X["flex-direction"]=we;break;case"order":X.order=X["-webkit-"+ye]=isNaN(+we)?"0":we}}return X}S.d(Tt,{Ar:()=>Se,GK:()=>m,iQ:()=>A,kt:()=>ge,tj:()=>et});const h="inline",A=["row","column","row-reverse","column-reverse"];function Se(X){let[ye,we,Ge]=N(X);return function pe(X,ye=null,we=!1){return{display:we?"inline-flex":"flex","box-sizing":"border-box","flex-direction":X,"flex-wrap":ye||null}}(ye,we,Ge)}function N(X){X=X?.toLowerCase()??"";let[ye,we,Ge]=X.split(" ");return A.find(ut=>ut===ye)||(ye=A[0]),we===h&&(we=Ge!==h?Ge:"",Ge=h),[ye,tt(we),!!Ge]}function et(X){let[ye]=N(X);return ye.indexOf("row")>-1}function tt(X){if(X)switch(X.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":X="wrap-reverse";break;case"no":case"none":case"nowrap":X="nowrap";break;default:X="wrap"}return X}function ge(X,...ye){if(null==X)throw TypeError("Cannot convert undefined or null to object");for(let we of ye)if(null!=we)for(let Ge in we)we.hasOwnProperty(Ge)&&(X[Ge]=we[Ge]);return X}},2233:(bn,Tt,S)=>{S.d(Tt,{Bs:()=>jt,FL:()=>_n,IR:()=>Ge,Ot:()=>Ht,QI:()=>at,RK:()=>He,WU:()=>Ue,g5:()=>Pt,iR:()=>nt,wY:()=>mt,yB:()=>ae});var m=S(4650),h=S(6895),A=S(1135),Se=S(9751),N=S(6451),et=S(7579),tt=S(5863),pe=S(9300),ge=S(8505);const ye={provide:m.tb,useFactory:function X(Ot,Mt){return()=>{if((0,h.NF)(Mt)){const te=Array.from(Ot.querySelectorAll(`[class*=${we}]`)),oe=/\bflex-layout-.+?\b/g;te.forEach(K=>{K.classList.contains(`${we}ssr`)&&K.parentNode?K.parentNode.removeChild(K):K.className.replace(oe,"")})}}},deps:[h.K0,m.Lbi],multi:!0},we="flex-layout-";let Ge=(()=>{class Ot{}return Ot.\u0275fac=function(te){return new(te||Ot)},Ot.\u0275mod=m.oAB({type:Ot}),Ot.\u0275inj=m.cJS({providers:[ye]}),Ot})();class ut{constructor(Mt=!1,te="all",oe="",K="",z=0){this.matches=Mt,this.mediaQuery=te,this.mqAlias=oe,this.suffix=K,this.priority=z,this.property=""}clone(){return new ut(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let dt=(()=>{class Ot{constructor(){this.stylesheet=new Map}addStyleToElement(te,oe,K){const z=this.stylesheet.get(te);z?z.set(oe,K):this.stylesheet.set(te,new Map([[oe,K]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(te,oe){const K=this.stylesheet.get(te);let z="";if(K){const ue=K.get(oe);("number"==typeof ue||"string"==typeof ue)&&(z=ue+"")}return z}}return Ot.\u0275fac=function(te){return new(te||Ot)},Ot.\u0275prov=m.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();const Pt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ue=new m.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Pt}),mt=new m.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),jt=new m.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function kt(Ot,Mt){return Ot=Ot?.clone()??new ut,Mt&&(Ot.mqAlias=Mt.alias,Ot.mediaQuery=Mt.mediaQuery,Ot.suffix=Mt.suffix,Ot.priority=Mt.priority),Ot}class at{constructor(){this.shouldCache=!0}sideEffect(Mt,te,oe){}}let He=(()=>{class Ot{constructor(te,oe,K,z){this._serverStylesheet=te,this._serverModuleLoaded=oe,this._platformId=K,this.layoutConfig=z}applyStyleToElement(te,oe,K=null){let z={};"string"==typeof oe&&(z[oe]=K,oe=z),z=this.layoutConfig.disableVendorPrefixes?oe:(0,tt.GK)(oe),this._applyMultiValueStyleToElement(z,te)}applyStyleToElements(te,oe=[]){const K=this.layoutConfig.disableVendorPrefixes?te:(0,tt.GK)(te);oe.forEach(z=>{this._applyMultiValueStyleToElement(K,z)})}getFlowDirection(te){const oe="flex-direction";let K=this.lookupStyle(te,oe);return[K||"row",this.lookupInlineStyle(te,oe)||(0,h.PM)(this._platformId)&&this._serverModuleLoaded?K:""]}hasWrap(te){return"wrap"===this.lookupStyle(te,"flex-wrap")}lookupAttributeValue(te,oe){return te.getAttribute(oe)??""}lookupInlineStyle(te,oe){return(0,h.NF)(this._platformId)?te.style.getPropertyValue(oe):function je(Ot,Mt){return rt(Ot)[Mt]??""}(te,oe)}lookupStyle(te,oe,K=!1){let z="";return te&&((z=this.lookupInlineStyle(te,oe))||((0,h.NF)(this._platformId)?K||(z=getComputedStyle(te).getPropertyValue(oe)):this._serverModuleLoaded&&(z=this._serverStylesheet.getStyleForElement(te,oe)))),z?z.trim():""}_applyMultiValueStyleToElement(te,oe){Object.keys(te).sort().forEach(K=>{const z=te[K],ue=Array.isArray(z)?z:[z];ue.sort();for(let J of ue)J=J?J+"":"",(0,h.NF)(this._platformId)||!this._serverModuleLoaded?(0,h.NF)(this._platformId)?oe.style.setProperty(K,J):$e(oe,K,J):this._serverStylesheet.addStyleToElement(oe,K,J)})}}return Ot.\u0275fac=function(te){return new(te||Ot)(m.LFG(dt),m.LFG(mt),m.LFG(m.Lbi),m.LFG(Ue))},Ot.\u0275prov=m.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();function $e(Ot,Mt,te){Mt=Mt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const oe=rt(Ot);oe[Mt]=te??"",function Oe(Ot,Mt){let te="";for(const oe in Mt)Mt[oe]&&(te+=`${oe}:${Mt[oe]};`);Ot.setAttribute("style",te)}(Ot,oe)}function rt(Ot){const Mt={},te=Ot.getAttribute("style");if(te){const oe=te.split(/;+/g);for(let K=0;K<oe.length;K++){const z=oe[K].trim();if(z.length>0){const ue=z.indexOf(":");if(-1===ue)throw new Error(`Invalid CSS style: ${z}`);Mt[z.substr(0,ue).trim()]=z.substr(ue+1).trim()}}}return Mt}function ot(Ot,Mt){return(Mt&&Mt.priority||0)-(Ot&&Ot.priority||0)}function st(Ot,Mt){return(Ot.priority||0)-(Mt.priority||0)}let pt=(()=>{class Ot{constructor(te,oe,K){this._zone=te,this._platformId=oe,this._document=K,this.source=new A.X(new ut(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const te=[];return this.registry.forEach((oe,K)=>{oe.matches&&te.push(K)}),te}isActive(te){return this.registry.get(te)?.matches??this.registerQuery(te).some(K=>K.matches)}observe(te,oe=!1){if(te&&te.length){const K=this._observable$.pipe((0,pe.h)(ue=>!oe||te.indexOf(ue.mediaQuery)>-1)),z=new Se.y(ue=>{const J=this.registerQuery(te);if(J.length){const ft=J.pop();J.forEach(it=>{ue.next(it)}),this.source.next(ft)}ue.complete()});return(0,N.T)(z,K)}return this._observable$}registerQuery(te){const oe=Array.isArray(te)?te:[te],K=[];return function At(Ot,Mt){const te=Ot.filter(oe=>!Rt[oe]);if(te.length>0){const oe=te.join(", ");try{const K=Mt.createElement("style");K.setAttribute("type","text/css"),K.styleSheet||K.appendChild(Mt.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${oe} {.fx-query-test{ }}\n`)),Mt.head.appendChild(K),te.forEach(z=>Rt[z]=K)}catch(K){console.error(K)}}}(oe,this._document),oe.forEach(z=>{const ue=ft=>{this._zone.run(()=>this.source.next(new ut(ft.matches,z)))};let J=this.registry.get(z);J||(J=this.buildMQL(z),J.addListener(ue),this.pendingRemoveListenerFns.push(()=>J.removeListener(ue)),this.registry.set(z,J)),J.matches&&K.push(new ut(!0,z))}),K}ngOnDestroy(){let te;for(;te=this.pendingRemoveListenerFns.pop();)te()}buildMQL(te){return function Zt(Ot,Mt){return Mt&&window.matchMedia("all").addListener?window.matchMedia(Ot):function Jt(Ot){const Mt=new EventTarget;return Mt.matches="all"===Ot||""===Ot,Mt.media=Ot,Mt.addListener=()=>{},Mt.removeListener=()=>{},Mt.addEventListener=()=>{},Mt.dispatchEvent=()=>!1,Mt.onchange=null,Mt}(Ot)}(te,(0,h.NF)(this._platformId))}}return Ot.\u0275fac=function(te){return new(te||Ot)(m.LFG(m.R0b),m.LFG(m.Lbi),m.LFG(h.K0))},Ot.\u0275prov=m.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();const Rt={},on=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],fn="(orientation: portrait) and (max-width: 599.98px)",nn="(orientation: landscape) and (max-width: 959.98px)",wt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",qt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",$t="(orientation: portrait) and (min-width: 840px)",rn="(orientation: landscape) and (min-width: 1280px)",Qt={HANDSET:`${fn}, ${nn}`,TABLET:`${wt} , ${qt}`,WEB:`${$t}, ${rn} `,HANDSET_PORTRAIT:`${fn}`,TABLET_PORTRAIT:`${wt} `,WEB_PORTRAIT:`${$t}`,HANDSET_LANDSCAPE:`${nn}`,TABLET_LANDSCAPE:`${qt}`,WEB_LANDSCAPE:`${rn}`},Cn=[{alias:"handset",priority:2e3,mediaQuery:Qt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Qt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Qt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Qt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Qt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Qt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Qt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Qt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Qt.WEB_PORTRAIT,overlapping:!0}],Xt=/(\.|-|_)/g;function gn(Ot){let Mt=Ot.length>0?Ot.charAt(0):"",te=Ot.length>1?Ot.slice(1):"";return Mt.toUpperCase()+te}const Wn=new m.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const Ot=(0,m.f3M)(jt),Mt=(0,m.f3M)(Ue),te=[].concat.apply([],(Ot||[]).map(K=>Array.isArray(K)?K:[K]));return function kn(Ot,Mt=[]){const te={};return Ot.forEach(oe=>{te[oe.alias]=oe}),Mt.forEach(oe=>{te[oe.alias]?(0,tt.kt)(te[oe.alias],oe):te[oe.alias]=oe}),function Un(Ot){return Ot.forEach(Mt=>{Mt.suffix||(Mt.suffix=function An(Ot){return Ot.replace(Xt,"|").split("|").map(gn).join("")}(Mt.alias),Mt.overlapping=!!Mt.overlapping)}),Ot}(Object.keys(te).map(oe=>te[oe]))}((Mt.disableDefaultBps?[]:on).concat(Mt.addOrientationBps?Cn:[]),te)}});let $n=(()=>{class Ot{constructor(te){this.findByMap=new Map,this.items=[...te].sort(st)}findByAlias(te){return te?this.findWithPredicate(te,oe=>oe.alias===te):null}findByQuery(te){return this.findWithPredicate(te,oe=>oe.mediaQuery===te)}get overlappings(){return this.items.filter(te=>te.overlapping)}get aliases(){return this.items.map(te=>te.alias)}get suffixes(){return this.items.map(te=>te?.suffix??"")}findWithPredicate(te,oe){let K=this.findByMap.get(te);return K||(K=this.items.find(oe)??null,this.findByMap.set(te,K)),K??null}}return Ot.\u0275fac=function(te){return new(te||Ot)(m.LFG(Wn))},Ot.\u0275prov=m.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();const Hn="print",Gn={alias:Hn,mediaQuery:Hn,priority:1e3};let Qn=(()=>{class Ot{constructor(te,oe,K){this.breakpoints=te,this.layoutConfig=oe,this._document=K,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new vn,this.deactivations=[]}withPrintQuery(te){return[...te,Hn]}isPrintEvent(te){return te.mediaQuery.startsWith(Hn)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(te=>this.breakpoints.findByAlias(te)).filter(te=>null!==te)}getEventBreakpoints({mediaQuery:te}){const oe=this.breakpoints.findByQuery(te);return(oe?[...this.printBreakPoints,oe]:this.printBreakPoints).sort(ot)}updateEvent(te){let oe=this.breakpoints.findByQuery(te.mediaQuery);return this.isPrintEvent(te)&&(oe=this.getEventBreakpoints(te)[0],te.mediaQuery=oe?.mediaQuery??""),kt(te,oe)}registerBeforeAfterPrintHooks(te){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const oe=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(te,this.getEventBreakpoints(new ut(!0,Hn))),te.updateStyles())},K=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(te),te.updateStyles())};this._document.defaultView.addEventListener("beforeprint",oe),this._document.defaultView.addEventListener("afterprint",K),this.beforePrintEventListeners.push(oe),this.afterPrintEventListeners.push(K)}interceptEvents(te){return oe=>{this.isPrintEvent(oe)?oe.matches&&!this.isPrinting?(this.startPrinting(te,this.getEventBreakpoints(oe)),te.updateStyles()):!oe.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(te),te.updateStyles()):this.collectActivations(te,oe)}}blockPropagation(){return te=>!(this.isPrinting||this.isPrintEvent(te))}startPrinting(te,oe){this.isPrinting=!0,this.formerActivations=te.activatedBreakpoints,te.activatedBreakpoints=this.queue.addPrintBreakpoints(oe)}stopPrinting(te){te.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(te,oe){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!oe.matches){const K=this.breakpoints.findByQuery(oe.mediaQuery);if(K){const z=this.formerActivations&&this.formerActivations.includes(K),ue=!this.formerActivations&&te.activatedBreakpoints.includes(K);(z||ue)&&(this.deactivations.push(K),this.deactivations.sort(ot))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(te=>this._document.defaultView.removeEventListener("beforeprint",te)),this.afterPrintEventListeners.forEach(te=>this._document.defaultView.removeEventListener("afterprint",te)))}}return Ot.\u0275fac=function(te){return new(te||Ot)(m.LFG($n),m.LFG(Ue),m.LFG(h.K0))},Ot.\u0275prov=m.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();class vn{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(Mt){return Mt.push(Gn),Mt.sort(ot),Mt.forEach(te=>this.addBreakpoint(te)),this.printBreakpoints}addBreakpoint(Mt){Mt&&void 0===this.printBreakpoints.find(oe=>oe.mediaQuery===Mt.mediaQuery)&&(this.printBreakpoints=function Be(Ot){return Ot?.mediaQuery.startsWith(Hn)??!1}(Mt)?[Mt,...this.printBreakpoints]:[...this.printBreakpoints,Mt])}clear(){this.printBreakpoints=[]}}let ae=(()=>{class Ot{constructor(te,oe,K){this.matchMedia=te,this.breakpoints=oe,this.hook=K,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new et.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(te){this._activatedBreakpoints=[...te]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(te){this._useFallbacks=te}onMediaChange(te){const oe=this.findByQuery(te.mediaQuery);if(oe){te=kt(te,oe);const K=this.activatedBreakpoints.indexOf(oe);te.matches&&-1===K?(this._activatedBreakpoints.push(oe),this._activatedBreakpoints.sort(ot),this.updateStyles()):!te.matches&&-1!==K&&(this._activatedBreakpoints.splice(K,1),this._activatedBreakpoints.sort(ot),this.updateStyles())}}init(te,oe,K,z,ue=[]){me(this.updateMap,te,oe,K),me(this.clearMap,te,oe,z),this.buildElementKeyMap(te,oe),this.watchExtraTriggers(te,oe,ue)}getValue(te,oe,K){const z=this.elementMap.get(te);if(z){const ue=void 0!==K?z.get(K):this.getActivatedValues(z,oe);if(ue)return ue.get(oe)}}hasValue(te,oe){const K=this.elementMap.get(te);if(K){const z=this.getActivatedValues(K,oe);if(z)return void 0!==z.get(oe)||!1}return!1}setValue(te,oe,K,z){let ue=this.elementMap.get(te);if(ue){const ft=(ue.get(z)??new Map).set(oe,K);ue.set(z,ft),this.elementMap.set(te,ue)}else ue=(new Map).set(z,(new Map).set(oe,K)),this.elementMap.set(te,ue);const J=this.getValue(te,oe);void 0!==J&&this.updateElement(te,oe,J)}trackValue(te,oe){return this.subject.asObservable().pipe((0,pe.h)(K=>K.element===te&&K.key===oe))}updateStyles(){this.elementMap.forEach((te,oe)=>{const K=new Set(this.elementKeyMap.get(oe));let z=this.getActivatedValues(te);z&&z.forEach((ue,J)=>{this.updateElement(oe,J,ue),K.delete(J)}),K.forEach(ue=>{if(z=this.getActivatedValues(te,ue),z){const J=z.get(ue);this.updateElement(oe,ue,J)}else this.clearElement(oe,ue)})})}clearElement(te,oe){const K=this.clearMap.get(te);if(K){const z=K.get(oe);z&&(z(),this.subject.next({element:te,key:oe,value:""}))}}updateElement(te,oe,K){const z=this.updateMap.get(te);if(z){const ue=z.get(oe);ue&&(ue(K),this.subject.next({element:te,key:oe,value:K}))}}releaseElement(te){const oe=this.watcherMap.get(te);oe&&(oe.forEach(z=>z.unsubscribe()),this.watcherMap.delete(te));const K=this.elementMap.get(te);K&&(K.forEach((z,ue)=>K.delete(ue)),this.elementMap.delete(te))}triggerUpdate(te,oe){const K=this.elementMap.get(te);if(K){const z=this.getActivatedValues(K,oe);z&&(oe?this.updateElement(te,oe,z.get(oe)):z.forEach((ue,J)=>this.updateElement(te,J,ue)))}}buildElementKeyMap(te,oe){let K=this.elementKeyMap.get(te);K||(K=new Set,this.elementKeyMap.set(te,K)),K.add(oe)}watchExtraTriggers(te,oe,K){if(K&&K.length){let z=this.watcherMap.get(te);if(z||(z=new Map,this.watcherMap.set(te,z)),!z.get(oe)){const J=(0,N.T)(...K).subscribe(()=>{const ft=this.getValue(te,oe);this.updateElement(te,oe,ft)});z.set(oe,J)}}}findByQuery(te){return this.breakpoints.findByQuery(te)}getActivatedValues(te,oe){for(let z=0;z<this.activatedBreakpoints.length;z++){const J=te.get(this.activatedBreakpoints[z].alias);if(J&&(void 0===oe||J.has(oe)&&null!=J.get(oe)))return J}if(!this._useFallbacks)return;const K=te.get("");return void 0===oe||K&&K.has(oe)?K:void 0}observeActivations(){const te=this.breakpoints.items.map(oe=>oe.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(te)).pipe((0,ge.b)(this.hook.interceptEvents(this)),(0,pe.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return Ot.\u0275fac=function(te){return new(te||Ot)(m.LFG(pt),m.LFG($n),m.LFG(Qn))},Ot.\u0275prov=m.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})();function me(Ot,Mt,te,oe){if(void 0!==oe){const K=Ot.get(Mt)??new Map;K.set(te,oe),Ot.set(Mt,K)}}let nt=(()=>{class Ot{constructor(te,oe,K,z){this.elementRef=te,this.styleBuilder=oe,this.styler=K,this.marshal=z,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new et.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(te){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,te,this.marshal.activatedAlias)}ngOnChanges(te){Object.keys(te).forEach(oe=>{if(-1!==this.inputs.indexOf(oe)){const K=oe.split(".").slice(1).join(".");this.setValue(te[oe].currentValue,K)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(te=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),te)}addStyles(te,oe){const K=this.styleBuilder,z=K.shouldCache;let ue=this.styleCache.get(te);(!ue||!z)&&(ue=K.buildStyles(te,oe),z&&this.styleCache.set(te,ue)),this.mru={...ue},this.applyStyleToElement(ue),K.sideEffect(te,ue,oe)}clearStyles(){Object.keys(this.mru).forEach(te=>{this.mru[te]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(te,oe=!1){if(te){const[K,z]=this.styler.getFlowDirection(te);if(!z&&oe){const ue=(0,tt.Ar)(K);this.styler.applyStyleToElements(ue,[te])}return K.trim()}return"row"}hasWrap(te){return this.styler.hasWrap(te)}applyStyleToElement(te,oe,K=this.nativeElement){this.styler.applyStyleToElement(K,te,oe)}setValue(te,oe){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,te,oe)}updateWithValue(te){this.currentValue!==te&&(this.addStyles(te),this.currentValue=te)}}return Ot.\u0275fac=function(te){return new(te||Ot)(m.Y36(m.SBq),m.Y36(at),m.Y36(He),m.Y36(ae))},Ot.\u0275dir=m.lG2({type:Ot,features:[m.TTD]}),Ot})();function Ht(Ot,Mt="1",te="1"){let oe=[Mt,te,Ot],K=Ot.indexOf("calc");if(K>0){oe[2]=un(Ot.substring(K).trim());let z=Ot.substr(0,K).trim().split(" ");2==z.length&&(oe[0]=z[0],oe[1]=z[1])}else if(0==K)oe[2]=un(Ot.trim());else{let z=Ot.split(" ");oe=3===z.length?z:[Mt,te,Ot]}return oe}function un(Ot){return Ot.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function _n(Ot,Mt){if(void 0===Mt)return Ot;const te=oe=>{const K=+oe.slice(0,-"x".length);return Ot.endsWith("x")&&!isNaN(K)?`${K*Mt.value}${Mt.unit}`:Ot};return Ot.includes(" ")?Ot.split(" ").map(te).join(" "):te(Ot)}EventTarget},5829:(bn,Tt,S)=>{S.d(Tt,{aT:()=>nn,b8:()=>He,oO:()=>Pt});var m=S(4650),h=S(2233),A=S(6895),Se=S(1281),N=S(2722);S(1481);let Ge=(()=>{class wt extends h.iR{constructor($t,rn,Qt,Cn,Xt,gn,An){super($t,null,rn,Qt),this.ngClassInstance=An,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new A.mk(Cn,Xt,$t,gn)),this.init(),this.setValue("","")}set klass($t){this.ngClassInstance.klass=$t,this.setValue($t,"")}updateWithValue($t){this.ngClassInstance.ngClass=$t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return wt.\u0275fac=function($t){return new($t||wt)(m.Y36(m.SBq),m.Y36(h.RK),m.Y36(h.yB),m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.Qsj),m.Y36(A.mk,10))},wt.\u0275dir=m.lG2({type:wt,inputs:{klass:["class","klass"]},features:[m.qOj]}),wt})();const ut=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let Pt=(()=>{class wt extends Ge{constructor(){super(...arguments),this.inputs=ut}}return wt.\u0275fac=function(){let qt;return function(rn){return(qt||(qt=m.n5z(wt)))(rn||wt)}}(),wt.\u0275dir=m.lG2({type:wt,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[m.qOj]}),wt})(),Ue=(()=>{class wt extends h.QI{buildStyles($t,rn){return{display:"true"===$t?rn.display||(rn.isServer?"initial":""):"none"}}}return wt.\u0275fac=function(){let qt;return function(rn){return(qt||(qt=m.n5z(wt)))(rn||wt)}}(),wt.\u0275prov=m.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),mt=(()=>{class wt extends h.iR{constructor($t,rn,Qt,Cn,Xt,gn,An){super($t,rn,Qt,Cn),this.layoutConfig=Xt,this.platformId=gn,this.serverModuleLoaded=An,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const $t=Array.from(this.nativeElement.children);for(let Qt=0;Qt<$t.length;Qt++)if(this.marshal.hasValue($t[Qt],"flex")){this.hasFlexChild=!0;break}jt.has(this.nativeElement)?this.display=jt.get(this.nativeElement):(this.display=this.getDisplayStyle(),jt.set(this.nativeElement,this.display)),this.init();const rn=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===rn||""===rn?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges($t){Object.keys($t).forEach(rn=>{if(-1!==this.inputs.indexOf(rn)){const Qt=rn.split("."),Cn=Qt.slice(1).join("."),Xt=$t[rn].currentValue;let gn=""===Xt||0!==Xt&&(0,Se.Ig)(Xt);"fxHide"===Qt[0]&&(gn=!gn),this.setValue(gn,Cn)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach($t=>{this.marshal.trackValue(this.nativeElement,$t).pipe((0,N.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue($t=!0){if(""===$t)return;const rn=(0,A.PM)(this.platformId);this.addStyles($t?"true":"false",{display:this.display,isServer:rn}),rn&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return wt.\u0275fac=function($t){return new($t||wt)(m.Y36(m.SBq),m.Y36(Ue),m.Y36(h.RK),m.Y36(h.yB),m.Y36(h.WU),m.Y36(m.Lbi),m.Y36(h.wY))},wt.\u0275dir=m.lG2({type:wt,features:[m.qOj,m.TTD]}),wt})();const jt=new WeakMap,kt=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let He=(()=>{class wt extends mt{constructor(){super(...arguments),this.inputs=kt}}return wt.\u0275fac=function(){let qt;return function(rn){return(qt||(qt=m.n5z(wt)))(rn||wt)}}(),wt.\u0275dir=m.lG2({type:wt,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[m.qOj]}),wt})(),nn=(()=>{class wt{}return wt.\u0275fac=function($t){return new($t||wt)},wt.\u0275mod=m.oAB({type:wt}),wt.\u0275inj=m.cJS({imports:[h.IR]}),wt})()},1576:(bn,Tt,S)=>{S.d(Tt,{SQ:()=>mt,Wh:()=>Ht,ae:()=>ue,xw:()=>ye,yH:()=>Jt});var m=S(4650),h=S(445),A=S(2233),Se=S(5863),N=S(7579),et=S(2722);let tt=(()=>{class J extends A.QI{buildStyles(it,{display:It}){const Bt=(0,Se.Ar)(it);return{...Bt,display:"none"===It?It:Bt.display}}}return J.\u0275fac=function(){let ft;return function(It){return(ft||(ft=m.n5z(J)))(It||J)}}(),J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const pe=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let X=(()=>{class J extends A.iR{constructor(it,It,Bt,We,qe){super(it,Bt,It,We),this._config=qe,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(it){const Bt=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=we.get(Bt)??new Map,we.set(Bt,this.styleCache),this.currentValue!==it&&(this.addStyles(it,{display:Bt}),this.currentValue=it)}}return J.\u0275fac=function(it){return new(it||J)(m.Y36(m.SBq),m.Y36(A.RK),m.Y36(tt),m.Y36(A.yB),m.Y36(A.WU))},J.\u0275dir=m.lG2({type:J,features:[m.qOj]}),J})(),ye=(()=>{class J extends X{constructor(){super(...arguments),this.inputs=pe}}return J.\u0275fac=function(){let ft;return function(It){return(ft||(ft=m.n5z(J)))(It||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[m.qOj]}),J})();const we=new Map,Ge={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let ut=(()=>{class J extends A.QI{constructor(it,It){super(),this._styler=it,this._config=It}buildStyles(it,It){return it.endsWith(je)?(it=it.slice(0,it.indexOf(je)),function Oe(J,ft){const[it,It]=J.split(" "),We=ne=>`-${ne}`;let qe="0px",Ce=We(It??it),Te="0px";return"rtl"===ft?Te=We(it):qe=We(it),{margin:`0px ${qe} ${Ce} ${Te}`}}(it=(0,A.FL)(it,this._config.multiplier),It.directionality)):{}}sideEffect(it,It,Bt){const We=Bt.items;if(it.endsWith(je)){it=it.slice(0,it.indexOf(je));const qe=function $e(J,ft){const[it,It]=J.split(" ");let We="0px",Ce="0px";return"rtl"===ft?Ce=it:We=it,{padding:`0px ${We} ${It??it} ${Ce}`}}(it=(0,A.FL)(it,this._config.multiplier),Bt.directionality);this._styler.applyStyleToElements(qe,Bt.items)}else{it=(0,A.FL)(it,this._config.multiplier),it=this.addFallbackUnit(it);const qe=We.pop(),Ce=function ot(J,ft){const it=rt(ft.directionality,ft.layout),It={...Ge};return It[it]=J,It}(it,Bt);this._styler.applyStyleToElements(Ce,We),this._styler.applyStyleToElements(Ge,[qe])}}addFallbackUnit(it){return isNaN(+it)?it:`${it}${this._config.defaultUnit}`}}return J.\u0275fac=function(it){return new(it||J)(m.LFG(A.RK),m.LFG(A.WU))},J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const dt=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Ue=(()=>{class J extends A.iR{constructor(it,It,Bt,We,qe,Ce){super(it,qe,We,Ce),this.zone=It,this.directionality=Bt,this.styleUtils=We,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new N.x;const Te=[this.directionality.change,this.observerSubject.asObservable()];this.init(Te),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,et.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const it=this.nativeElement.children,It=[];for(let Bt=it.length;Bt--;)It[Bt]=it[Bt];return It}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(it){const Bt=it.value.split(" ");this.layout=Bt[0],Se.iQ.find(We=>We===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(it){const It=this.childrenNodes.filter(Bt=>1===Bt.nodeType&&this.willDisplay(Bt)).sort((Bt,We)=>{const qe=+this.styler.lookupStyle(Bt,"order"),Ce=+this.styler.lookupStyle(We,"order");return isNaN(qe)||isNaN(Ce)||qe===Ce?0:qe>Ce?1:-1});if(It.length>0){const Bt=this.directionality.value,We=this.layout;"row"===We&&"rtl"===Bt?this.styleCache=jt:"row"===We&&"rtl"!==Bt?this.styleCache=at:"column"===We&&"rtl"===Bt?this.styleCache=kt:"column"===We&&"rtl"!==Bt&&(this.styleCache=He),this.addStyles(it,{directionality:Bt,items:It,layout:We})}}clearStyles(){const it=Object.keys(this.mru).length>0,It=it?"padding":rt(this.directionality.value,this.layout);it&&super.clearStyles(),this.styleUtils.applyStyleToElements({[It]:""},this.childrenNodes)}willDisplay(it){const It=this.marshal.getValue(it,"show-hide");return!0===It||void 0===It&&"none"!==this.styleUtils.lookupStyle(it,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(it=>{it.some(Bt=>Bt.addedNodes&&Bt.addedNodes.length>0||Bt.removedNodes&&Bt.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return J.\u0275fac=function(it){return new(it||J)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(h.Is),m.Y36(A.RK),m.Y36(ut),m.Y36(A.yB))},J.\u0275dir=m.lG2({type:J,features:[m.qOj]}),J})(),mt=(()=>{class J extends Ue{constructor(){super(...arguments),this.inputs=dt}}return J.\u0275fac=function(){let ft;return function(It){return(ft||(ft=m.n5z(J)))(It||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[m.qOj]}),J})();const jt=new Map,kt=new Map,at=new Map,He=new Map,je=" grid";function rt(J,ft){switch(ft){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===J?"margin-left":"margin-right";case"row-reverse":return"rtl"===J?"margin-right":"margin-left"}}let st=(()=>{class J extends A.QI{constructor(it){super(),this.layoutConfig=it}buildStyles(it,It){let[Bt,We,...qe]=it.split(" "),Ce=qe.join(" ");const Te=It.direction.indexOf("column")>-1?"column":"row",ne=(0,Se.tj)(Te)?"max-width":"max-height",Ne=(0,Se.tj)(Te)?"min-width":"min-height",_t=String(Ce).indexOf("calc")>-1,Ke=_t||"auto"===Ce,Ye=String(Ce).indexOf("%")>-1&&!_t,Pe=String(Ce).indexOf("px")>-1||String(Ce).indexOf("rem")>-1||String(Ce).indexOf("em")>-1||String(Ce).indexOf("vw")>-1||String(Ce).indexOf("vh")>-1;let re=_t||Pe;Bt="0"==Bt?0:Bt,We="0"==We?0:We;const de=!Bt&&!We;let _e={};const Ie={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(Ce||""){case"":const ve=!1!==this.layoutConfig.useColumnBasisZero;Ce="row"===Te?"0%":ve?"0.000000001px":"auto";break;case"initial":case"nogrow":Bt=0,Ce="auto";break;case"grow":Ce="100%";break;case"noshrink":We=0,Ce="auto";break;case"auto":break;case"none":Bt=0,We=0,Ce="auto";break;default:!re&&!Ye&&!isNaN(Ce)&&(Ce+="%"),"0%"===Ce&&(re=!0),"0px"===Ce&&(Ce="0%"),_e=(0,Se.kt)(Ie,_t?{"flex-grow":Bt,"flex-shrink":We,"flex-basis":re?Ce:"100%"}:{flex:`${Bt} ${We} ${re?Ce:"100%"}`})}return _e.flex||_e["flex-grow"]||(_e=(0,Se.kt)(Ie,_t?{"flex-grow":Bt,"flex-shrink":We,"flex-basis":Ce}:{flex:`${Bt} ${We} ${Ce}`})),"0%"!==Ce&&"0px"!==Ce&&"0.000000001px"!==Ce&&"auto"!==Ce&&(_e[Ne]=de||re&&Bt?Ce:null,_e[ne]=de||!Ke&&We?Ce:null),_e[Ne]||_e[ne]?It.hasWrap&&(_e[_t?"flex-basis":"flex"]=_e[ne]?_t?_e[ne]:`${Bt} ${We} ${_e[ne]}`:_t?_e[Ne]:`${Bt} ${We} ${_e[Ne]}`):_e=(0,Se.kt)(Ie,_t?{"flex-grow":Bt,"flex-shrink":We,"flex-basis":Ce}:{flex:`${Bt} ${We} ${Ce}`}),(0,Se.kt)(_e,{"box-sizing":"border-box"})}}return J.\u0275fac=function(it){return new(it||J)(m.LFG(A.WU))},J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const pt=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let At=(()=>{class J extends A.iR{constructor(it,It,Bt,We,qe){super(it,We,It,qe),this.layoutConfig=Bt,this.marshal=qe,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(it){this.flexShrink=it||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(it){this.flexGrow=it||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,et.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,et.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(it){const Bt=it.value.split(" ");this.direction=Bt[0],this.wrap=void 0!==Bt[1]&&"wrap"===Bt[1],this.triggerUpdate()}updateWithValue(it){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const Bt=this.direction,We=Bt.startsWith("row"),qe=this.wrap;We&&qe?this.styleCache=fn:We&&!qe?this.styleCache=Zt:!We&&qe?this.styleCache=nn:!We&&!qe&&(this.styleCache=on);const Ce=String(it).replace(";",""),Te=(0,A.Ot)(Ce,this.flexGrow,this.flexShrink);this.addStyles(Te.join(" "),{direction:Bt,hasWrap:qe})}triggerReflow(){const it=this.activatedValue;if(void 0!==it){const It=(0,A.Ot)(it+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,It.join(" "))}}}return J.\u0275fac=function(it){return new(it||J)(m.Y36(m.SBq),m.Y36(A.RK),m.Y36(A.WU),m.Y36(st),m.Y36(A.yB))},J.\u0275dir=m.lG2({type:J,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[m.qOj]}),J})(),Jt=(()=>{class J extends At{constructor(){super(...arguments),this.inputs=pt}}return J.\u0275fac=function(){let ft;return function(It){return(ft||(ft=m.n5z(J)))(It||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[m.qOj]}),J})();const Zt=new Map,on=new Map,fn=new Map,nn=new Map;let Gt=(()=>{class J extends A.QI{buildStyles(it,It){const Bt={},[We,qe]=it.split(" ");switch(We){case"center":Bt["justify-content"]="center";break;case"space-around":Bt["justify-content"]="space-around";break;case"space-between":Bt["justify-content"]="space-between";break;case"space-evenly":Bt["justify-content"]="space-evenly";break;case"end":case"flex-end":Bt["justify-content"]="flex-end";break;default:Bt["justify-content"]="flex-start"}switch(qe){case"start":case"flex-start":Bt["align-items"]=Bt["align-content"]="flex-start";break;case"center":Bt["align-items"]=Bt["align-content"]="center";break;case"end":case"flex-end":Bt["align-items"]=Bt["align-content"]="flex-end";break;case"space-between":Bt["align-content"]="space-between",Bt["align-items"]="stretch";break;case"space-around":Bt["align-content"]="space-around",Bt["align-items"]="stretch";break;case"baseline":Bt["align-content"]="stretch",Bt["align-items"]="baseline";break;default:Bt["align-items"]=Bt["align-content"]="stretch"}return(0,Se.kt)(Bt,{display:It.inline?"inline-flex":"flex","flex-direction":It.layout,"box-sizing":"border-box","max-width":"stretch"===qe?(0,Se.tj)(It.layout)?null:"100%":null,"max-height":"stretch"===qe&&(0,Se.tj)(It.layout)?"100%":null})}}return J.\u0275fac=function(){let ft;return function(It){return(ft||(ft=m.n5z(J)))(It||J)}}(),J.\u0275prov=m.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const yt=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let vt=(()=>{class J extends A.iR{constructor(it,It,Bt,We){super(it,Bt,It,We),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,et.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(it){const It=this.layout||"row",Bt=this.inline;"row"===It&&Bt?this.styleCache=Mt:"row"!==It||Bt?"row-reverse"===It&&Bt?this.styleCache=oe:"row-reverse"!==It||Bt?"column"===It&&Bt?this.styleCache=te:"column"!==It||Bt?"column-reverse"===It&&Bt?this.styleCache=K:"column-reverse"===It&&!Bt&&(this.styleCache=Ot):this.styleCache=Rn:this.styleCache=_n:this.styleCache=un,this.addStyles(it,{layout:It,inline:Bt})}onLayoutChange(it){const It=it.value.split(" ");this.layout=It[0],this.inline=it.value.includes("inline"),Se.iQ.find(Bt=>Bt===this.layout)||(this.layout="row"),this.triggerUpdate()}}return J.\u0275fac=function(it){return new(it||J)(m.Y36(m.SBq),m.Y36(A.RK),m.Y36(Gt),m.Y36(A.yB))},J.\u0275dir=m.lG2({type:J,features:[m.qOj]}),J})(),Ht=(()=>{class J extends vt{constructor(){super(...arguments),this.inputs=yt}}return J.\u0275fac=function(){let ft;return function(It){return(ft||(ft=m.n5z(J)))(It||J)}}(),J.\u0275dir=m.lG2({type:J,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[m.qOj]}),J})();const un=new Map,Rn=new Map,_n=new Map,Ot=new Map,Mt=new Map,te=new Map,oe=new Map,K=new Map;let ue=(()=>{class J{}return J.\u0275fac=function(it){return new(it||J)},J.\u0275mod=m.oAB({type:J}),J.\u0275inj=m.cJS({imports:[A.IR,h.vT]}),J})()},4006:(bn,Tt,S)=>{S.d(Tt,{Cf:()=>mt,F:()=>Is,Fj:()=>ut,JJ:()=>Be,JL:()=>ae,JU:()=>pe,NI:()=>Vt,On:()=>Hs,UX:()=>is,Zs:()=>ks,_Y:()=>Kr,a5:()=>Hn,kI:()=>at,oH:()=>ro,sg:()=>ws,u5:()=>xo});var m=S(4650),h=S(6895),A=S(8996),Se=S(4128),N=S(4004);let et=(()=>{class q{constructor($,ze){this._renderer=$,this._elementRef=ze,this.onChange=dn=>{},this.onTouched=()=>{}}setProperty($,ze){this._renderer.setProperty(this._elementRef.nativeElement,$,ze)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return q.\u0275fac=function($){return new($||q)(m.Y36(m.Qsj),m.Y36(m.SBq))},q.\u0275dir=m.lG2({type:q}),q})(),tt=(()=>{class q extends et{}return q.\u0275fac=function(){let Y;return function(ze){return(Y||(Y=m.n5z(q)))(ze||q)}}(),q.\u0275dir=m.lG2({type:q,features:[m.qOj]}),q})();const pe=new m.OlP("NgValueAccessor"),ye={provide:pe,useExisting:(0,m.Gpc)(()=>ut),multi:!0},Ge=new m.OlP("CompositionEventMode");let ut=(()=>{class q extends et{constructor($,ze,dn){super($,ze),this._compositionMode=dn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function we(){const q=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue($){this.setProperty("value",$??"")}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return q.\u0275fac=function($){return new($||q)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ge,8))},q.\u0275dir=m.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ze){1&$&&m.NdJ("input",function(mi){return ze._handleInput(mi.target.value)})("blur",function(){return ze.onTouched()})("compositionstart",function(){return ze._compositionStart()})("compositionend",function(mi){return ze._compositionEnd(mi.target.value)})},features:[m._Bn([ye]),m.qOj]}),q})();function Pt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Ue(q){return null!=q&&"number"==typeof q.length}const mt=new m.OlP("NgValidators"),jt=new m.OlP("NgAsyncValidators"),kt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class at{static min(Y){return function He(q){return Y=>{if(Pt(Y.value)||Pt(q))return null;const $=parseFloat(Y.value);return!isNaN($)&&$<q?{min:{min:q,actual:Y.value}}:null}}(Y)}static max(Y){return function je(q){return Y=>{if(Pt(Y.value)||Pt(q))return null;const $=parseFloat(Y.value);return!isNaN($)&&$>q?{max:{max:q,actual:Y.value}}:null}}(Y)}static required(Y){return $e(Y)}static requiredTrue(Y){return Oe(Y)}static email(Y){return function rt(q){return Pt(q.value)||kt.test(q.value)?null:{email:!0}}(Y)}static minLength(Y){return function ot(q){return Y=>Pt(Y.value)||!Ue(Y.value)?null:Y.value.length<q?{minlength:{requiredLength:q,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function st(q){return Y=>Ue(Y.value)&&Y.value.length>q?{maxlength:{requiredLength:q,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function pt(q){if(!q)return Rt;let Y,$;return"string"==typeof q?($="","^"!==q.charAt(0)&&($+="^"),$+=q,"$"!==q.charAt(q.length-1)&&($+="$"),Y=new RegExp($)):($=q.toString(),Y=q),ze=>{if(Pt(ze.value))return null;const dn=ze.value;return Y.test(dn)?null:{pattern:{requiredPattern:$,actualValue:dn}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return wt(Y)}static composeAsync(Y){return $t(Y)}}function $e(q){return Pt(q.value)?{required:!0}:null}function Oe(q){return!0===q.value?null:{required:!0}}function Rt(q){return null}function At(q){return null!=q}function Jt(q){return(0,m.QGY)(q)?(0,A.D)(q):q}function Zt(q){let Y={};return q.forEach($=>{Y=null!=$?{...Y,...$}:Y}),0===Object.keys(Y).length?null:Y}function on(q,Y){return Y.map($=>$(q))}function nn(q){return q.map(Y=>function fn(q){return!q.validate}(Y)?Y:$=>Y.validate($))}function wt(q){if(!q)return null;const Y=q.filter(At);return 0==Y.length?null:function($){return Zt(on($,Y))}}function qt(q){return null!=q?wt(nn(q)):null}function $t(q){if(!q)return null;const Y=q.filter(At);return 0==Y.length?null:function($){const ze=on($,Y).map(Jt);return(0,Se.D)(ze).pipe((0,N.U)(Zt))}}function rn(q){return null!=q?$t(nn(q)):null}function Qt(q,Y){return null===q?[Y]:Array.isArray(q)?[...q,Y]:[q,Y]}function Cn(q){return q._rawValidators}function Xt(q){return q._rawAsyncValidators}function gn(q){return q?Array.isArray(q)?q:[q]:[]}function An(q,Y){return Array.isArray(q)?q.includes(Y):q===Y}function Un(q,Y){const $=gn(Y);return gn(q).forEach(dn=>{An($,dn)||$.push(dn)}),$}function kn(q,Y){return gn(Y).filter($=>!An(q,$))}class Wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y){this.control&&this.control.reset(Y)}hasError(Y,$){return!!this.control&&this.control.hasError(Y,$)}getError(Y,$){return this.control?this.control.getError(Y,$):null}}class $n extends Wn{get formDirective(){return null}get path(){return null}}class Hn extends Wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Be=(()=>{class q extends Gn{constructor($){super($)}}return q.\u0275fac=function($){return new($||q)(m.Y36(Hn,2))},q.\u0275dir=m.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ze){2&$&&m.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)},features:[m.qOj]}),q})(),ae=(()=>{class q extends Gn{constructor($){super($)}}return q.\u0275fac=function($){return new($||q)(m.Y36($n,10))},q.\u0275dir=m.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ze){2&$&&m.ekj("ng-untouched",ze.isUntouched)("ng-touched",ze.isTouched)("ng-pristine",ze.isPristine)("ng-dirty",ze.isDirty)("ng-valid",ze.isValid)("ng-invalid",ze.isInvalid)("ng-pending",ze.isPending)("ng-submitted",ze.isSubmitted)},features:[m.qOj]}),q})();const K="VALID",z="INVALID",ue="PENDING",J="DISABLED";function ft(q){return(We(q)?q.validators:q)||null}function it(q){return Array.isArray(q)?qt(q):q||null}function It(q,Y){return(We(Y)?Y.asyncValidators:q)||null}function Bt(q){return Array.isArray(q)?rn(q):q||null}function We(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}class Te{constructor(Y,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Y,this._rawAsyncValidators=$,this._composedValidatorFn=it(this._rawValidators),this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===K}get invalid(){return this.status===z}get pending(){return this.status==ue}get disabled(){return this.status===J}get enabled(){return this.status!==J}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._rawValidators=Y,this._composedValidatorFn=it(Y)}setAsyncValidators(Y){this._rawAsyncValidators=Y,this._composedAsyncValidatorFn=Bt(Y)}addValidators(Y){this.setValidators(Un(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Un(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(kn(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(kn(Y,this._rawAsyncValidators))}hasValidator(Y){return An(this._rawValidators,Y)}hasAsyncValidator(Y){return An(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=ue,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const $=this._parentMarkedDirty(Y.onlySelf);this.status=J,this.errors=null,this._forEachChild(ze=>{ze.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:$}),this._onDisabledChange.forEach(ze=>ze(!0))}enable(Y={}){const $=this._parentMarkedDirty(Y.onlySelf);this.status=K,this._forEachChild(ze=>{ze.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:$}),this._onDisabledChange.forEach(ze=>ze(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===K||this.status===ue)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J:K}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=ue,this._hasOwnPendingAsyncValidator=!0;const $=Jt(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(ze=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ze,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,$={}){this.errors=Y,this._updateControlsErrors(!1!==$.emitEvent)}get(Y){let $=Y;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((ze,dn)=>ze&&ze._find(dn),this)}getError(Y,$){const ze=$?this.get($):this;return ze&&ze.errors?ze.errors[Y]:null}hasError(Y,$){return!!this.getError(Y,$)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?J:this.errors?z:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ue)?ue:this._anyControlsHaveStatus(z)?z:K}_anyControlsHaveStatus(Y){return this._anyControls($=>$.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){We(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}}class ne extends Te{constructor(Y,$,ze){super(ft($),It(ze,$)),this.controls=Y,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,$){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(Y,$,ze={}){this.registerControl(Y,$),this.updateValueAndValidity({emitEvent:ze.emitEvent}),this._onCollectionChange()}removeControl(Y,$={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(Y,$,ze={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],$&&this.registerControl(Y,$),this.updateValueAndValidity({emitEvent:ze.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,$={}){(function Ce(q,Y,$){q._forEachChild((ze,dn)=>{if(void 0===$[dn])throw new m.vHH(1002,"")})})(this,0,Y),Object.keys(Y).forEach(ze=>{(function qe(q,Y,$){const ze=q.controls;if(!(Y?Object.keys(ze):ze).length)throw new m.vHH(1e3,"");if(!ze[$])throw new m.vHH(1001,"")})(this,!0,ze),this.controls[ze].setValue(Y[ze],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(Y,$={}){null!=Y&&(Object.keys(Y).forEach(ze=>{const dn=this.controls[ze];dn&&dn.patchValue(Y[ze],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(Y={},$={}){this._forEachChild((ze,dn)=>{ze.reset(Y[dn],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(Y,$,ze)=>(Y[ze]=$.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,($,ze)=>!!ze._syncPendingControls()||$);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach($=>{const ze=this.controls[$];ze&&Y(ze,$)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[$,ze]of Object.entries(this.controls))if(this.contains($)&&Y(ze))return!0;return!1}_reduceValue(){return this._reduceChildren({},($,ze,dn)=>((ze.enabled||this.disabled)&&($[dn]=ze.value),$))}_reduceChildren(Y,$){let ze=Y;return this._forEachChild((dn,mi)=>{ze=$(ze,dn,mi)}),ze}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}function re(q,Y){ve(q,Y),Y.valueAccessor.writeValue(q.value),q.disabled&&Y.valueAccessor.setDisabledState?.(!0),function H(q,Y){Y.valueAccessor.registerOnChange($=>{q._pendingValue=$,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&V(q,Y)})}(q,Y),function le(q,Y){const $=(ze,dn)=>{Y.valueAccessor.writeValue(ze),dn&&Y.viewToModelUpdate(ze)};q.registerOnChange($),Y._registerOnDestroy(()=>{q._unregisterOnChange($)})}(q,Y),function ce(q,Y){Y.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&V(q,Y),"submit"!==q.updateOn&&q.markAsTouched()})}(q,Y),function Ie(q,Y){if(Y.valueAccessor.setDisabledState){const $=ze=>{Y.valueAccessor.setDisabledState(ze)};q.registerOnDisabledChange($),Y._registerOnDestroy(()=>{q._unregisterOnDisabledChange($)})}}(q,Y)}function de(q,Y,$=!0){const ze=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(ze),Y.valueAccessor.registerOnTouched(ze)),Ee(q,Y),q&&(Y._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function _e(q,Y){q.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(Y)})}function ve(q,Y){const $=Cn(q);null!==Y.validator?q.setValidators(Qt($,Y.validator)):"function"==typeof $&&q.setValidators([$]);const ze=Xt(q);null!==Y.asyncValidator?q.setAsyncValidators(Qt(ze,Y.asyncValidator)):"function"==typeof ze&&q.setAsyncValidators([ze]);const dn=()=>q.updateValueAndValidity();_e(Y._rawValidators,dn),_e(Y._rawAsyncValidators,dn)}function Ee(q,Y){let $=!1;if(null!==q){if(null!==Y.validator){const dn=Cn(q);if(Array.isArray(dn)&&dn.length>0){const mi=dn.filter(Tr=>Tr!==Y.validator);mi.length!==dn.length&&($=!0,q.setValidators(mi))}}if(null!==Y.asyncValidator){const dn=Xt(q);if(Array.isArray(dn)&&dn.length>0){const mi=dn.filter(Tr=>Tr!==Y.asyncValidator);mi.length!==dn.length&&($=!0,q.setAsyncValidators(mi))}}}const ze=()=>{};return _e(Y._rawValidators,ze),_e(Y._rawAsyncValidators,ze),$}function V(q,Y){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Ve(q,Y){ve(q,Y)}function ie(q,Y){if(!q.hasOwnProperty("model"))return!1;const $=q.model;return!!$.isFirstChange()||!Object.is(Y,$.currentValue)}function bt(q,Y){q._syncPendingControls(),Y.forEach($=>{const ze=$.control;"submit"===ze.updateOn&&ze._pendingChange&&($.viewToModelUpdate(ze._pendingValue),ze._pendingChange=!1)})}function Sn(q,Y){if(!Y)return null;let $,ze,dn;return Array.isArray(Y),Y.forEach(mi=>{mi.constructor===ut?$=mi:function Re(q){return Object.getPrototypeOf(q.constructor)===tt}(mi)?ze=mi:dn=mi}),dn||ze||$||null}const Ks={provide:$n,useExisting:(0,m.Gpc)(()=>Is)},Ji=(()=>Promise.resolve())();let Is=(()=>{class q extends $n{constructor($,ze){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new ne({},qt($),rn(ze))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){Ji.then(()=>{const ze=this._findContainer($.path);$.control=ze.registerControl($.name,$.control),re($.control,$),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){Ji.then(()=>{const ze=this._findContainer($.path);ze&&ze.removeControl($.name),this._directives.delete($)})}addFormGroup($){Ji.then(()=>{const ze=this._findContainer($.path),dn=new ne({});Ve(dn,$),ze.registerControl($.name,dn),dn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){Ji.then(()=>{const ze=this._findContainer($.path);ze&&ze.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,ze){Ji.then(()=>{this.form.get($.path).setValue(ze)})}setValue($){this.control.setValue($)}onSubmit($){return this.submitted=!0,bt(this.form,this._directives),this.ngSubmit.emit($),"dialog"===$?.target?.method}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return q.\u0275fac=function($){return new($||q)(m.Y36(mt,10),m.Y36(jt,10))},q.\u0275dir=m.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ze){1&$&&m.NdJ("submit",function(mi){return ze.onSubmit(mi)})("reset",function(){return ze.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Ks]),m.qOj]}),q})();function as(q,Y){const $=q.indexOf(Y);$>-1&&q.splice($,1)}function es(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Vt=class extends Te{constructor(Y=null,$,ze){super(ft($),It(ze,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),We($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=es(Y)?Y.value:Y)}setValue(Y,$={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(ze=>ze(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(Y,$={}){this.setValue(Y,$)}reset(Y=this.defaultValue,$={}){this._applyFormState(Y),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){as(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){as(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){es(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}},Zs={provide:Hn,useExisting:(0,m.Gpc)(()=>Hs)},gl=(()=>Promise.resolve())();let Hs=(()=>{class q extends Hn{constructor($,ze,dn,mi,Tr){super(),this._changeDetectorRef=Tr,this.control=new Vt,this._registered=!1,this.update=new m.vpe,this._parent=$,this._setValidators(ze),this._setAsyncValidators(dn),this.valueAccessor=Sn(0,mi)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const ze=$.name.previousValue;this.formDirective.removeControl({name:ze,path:this._getPath(ze)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),ie($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){re(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){gl.then(()=>{this.control.setValue($,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled($){const ze=$.isDisabled.currentValue,dn=0!==ze&&(0,m.D6c)(ze);gl.then(()=>{dn&&!this.control.disabled?this.control.disable():!dn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath($){return this._parent?function Pe(q,Y){return[...Y.path,q]}($,this._parent):[$]}}return q.\u0275fac=function($){return new($||q)(m.Y36($n,9),m.Y36(mt,10),m.Y36(jt,10),m.Y36(pe,10),m.Y36(m.sBO,8))},q.\u0275dir=m.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Zs]),m.qOj,m.TTD]}),q})(),Kr=(()=>{class q{}return q.\u0275fac=function($){return new($||q)},q.\u0275dir=m.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})(),zl=(()=>{class q{}return q.\u0275fac=function($){return new($||q)},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({}),q})();const Us=new m.OlP("NgModelWithFormControlWarning"),ra={provide:Hn,useExisting:(0,m.Gpc)(()=>ro)};let ro=(()=>{class q extends Hn{constructor($,ze,dn,mi){super(),this._ngModelWarningConfig=mi,this.update=new m.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(ze),this.valueAccessor=Sn(0,dn)}set isDisabled($){}ngOnChanges($){if(this._isControlChanged($)){const ze=$.form.previousValue;ze&&de(ze,this,!1),re(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}ie($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&de(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return q._ngModelWarningSentOnce=!1,q.\u0275fac=function($){return new($||q)(m.Y36(mt,10),m.Y36(jt,10),m.Y36(pe,10),m.Y36(Us,8))},q.\u0275dir=m.lG2({type:q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m._Bn([ra]),m.qOj,m.TTD]}),q})();const so={provide:$n,useExisting:(0,m.Gpc)(()=>ws)};let ws=(()=>{class q extends $n{constructor($,ze){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators($),this._setAsyncValidators(ze)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ee(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const ze=this.form.get($.path);return re(ze,$),ze.updateValueAndValidity({emitEvent:!1}),this.directives.push($),ze}getControl($){return this.form.get($.path)}removeControl($){de($.control||null,$,!1),function fi(q,Y){const $=q.indexOf(Y);$>-1&&q.splice($,1)}(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,ze){this.form.get($.path).setValue(ze)}onSubmit($){return this.submitted=!0,bt(this.form,this.directives),this.ngSubmit.emit($),"dialog"===$?.target?.method}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const ze=$.control,dn=this.form.get($.path);ze!==dn&&(de(ze||null,$),(q=>q instanceof Vt)(dn)&&(re(dn,$),$.control=dn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const ze=this.form.get($.path);Ve(ze,$),ze.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const ze=this.form.get($.path);ze&&function xe(q,Y){return Ee(q,Y)}(ze,$)&&ze.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ve(this.form,this),this._oldForm&&Ee(this._oldForm,this)}_checkFormPresent(){}}return q.\u0275fac=function($){return new($||q)(m.Y36(mt,10),m.Y36(jt,10))},q.\u0275dir=m.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function($,ze){1&$&&m.NdJ("submit",function(mi){return ze.onSubmit(mi)})("reset",function(){return ze.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([so]),m.qOj,m.TTD]}),q})(),Ho=(()=>{class q{constructor(){this._validator=Rt}ngOnChanges($){if(this.inputName in $){const ze=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(ze),this._validator=this._enabled?this.createValidator(ze):Rt,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return q.\u0275fac=function($){return new($||q)},q.\u0275dir=m.lG2({type:q,features:[m.TTD]}),q})();const To={provide:mt,useExisting:(0,m.Gpc)(()=>Ta),multi:!0},ns={provide:mt,useExisting:(0,m.Gpc)(()=>ks),multi:!0};let Ta=(()=>{class q extends Ho{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=$=>$e}enabled($){return $}}return q.\u0275fac=function(){let Y;return function(ze){return(Y||(Y=m.n5z(q)))(ze||q)}}(),q.\u0275dir=m.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ze){2&$&&m.uIk("required",ze._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([To]),m.qOj]}),q})(),ks=(()=>{class q extends Ta{constructor(){super(...arguments),this.createValidator=$=>Oe}}return q.\u0275fac=function(){let Y;return function(ze){return(Y||(Y=m.n5z(q)))(ze||q)}}(),q.\u0275dir=m.lG2({type:q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($,ze){2&$&&m.uIk("required",ze._enabled?"":null)},features:[m._Bn([ns]),m.qOj]}),q})(),us=(()=>{class q{}return q.\u0275fac=function($){return new($||q)},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({imports:[zl]}),q})(),xo=(()=>{class q{}return q.\u0275fac=function($){return new($||q)},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({imports:[us]}),q})(),is=(()=>{class q{static withConfig($){return{ngModule:q,providers:[{provide:Us,useValue:$.warnOnNgModelWithFormControl}]}}}return q.\u0275fac=function($){return new($||q)},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({imports:[us]}),q})()},9101:(bn,Tt,S)=>{S.d(Tt,{lW:()=>X,ot:()=>we});var m=S(4650),h=S(3238),A=S(2693);const Se=["mat-button",""],N=["*"],pe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ge=(0,h.pj)((0,h.Id)((0,h.Kr)(class{constructor(Ge){this._elementRef=Ge}})));let X=(()=>{class Ge extends ge{constructor(dt,Pt,Ue){super(dt),this._focusMonitor=Pt,this._animationMode=Ue,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const mt of pe)this._hasHostAttributes(mt)&&this._getHostElement().classList.add(mt);dt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(dt,Pt){dt?this._focusMonitor.focusVia(this._getHostElement(),dt,Pt):this._getHostElement().focus(Pt)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...dt){return dt.some(Pt=>this._getHostElement().hasAttribute(Pt))}}return Ge.\u0275fac=function(dt){return new(dt||Ge)(m.Y36(m.SBq),m.Y36(A.tE),m.Y36(m.QbO,8))},Ge.\u0275cmp=m.Xpm({type:Ge,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(dt,Pt){if(1&dt&&m.Gf(h.wG,5),2&dt){let Ue;m.iGM(Ue=m.CRH())&&(Pt.ripple=Ue.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(dt,Pt){2&dt&&(m.uIk("disabled",Pt.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===Pt._animationMode)("mat-button-disabled",Pt.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[m.qOj],attrs:Se,ngContentSelectors:N,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(dt,Pt){1&dt&&(m.F$t(),m.TgZ(0,"span",0),m.Hsn(1),m.qZA(),m._UZ(2,"span",1)(3,"span",2)),2&dt&&(m.xp6(2),m.ekj("mat-button-ripple-round",Pt.isRoundButton||Pt.isIconButton),m.Q6J("matRippleDisabled",Pt._isRippleDisabled())("matRippleCentered",Pt.isIconButton)("matRippleTrigger",Pt._getHostElement()))},dependencies:[h.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Ge})(),we=(()=>{class Ge{}return Ge.\u0275fac=function(dt){return new(dt||Ge)},Ge.\u0275mod=m.oAB({type:Ge}),Ge.\u0275inj=m.cJS({imports:[h.si,h.BQ,h.BQ]}),Ge})()},3546:(bn,Tt,S)=>{S.d(Tt,{QW:()=>je,a8:()=>kt,dk:()=>at,dn:()=>ge,n5:()=>X});var m=S(4650),h=S(3238);const A=["*",[["mat-card-footer"]]],Se=["*","mat-card-footer"],N=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],et=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let ge=(()=>{class $e{}return $e.\u0275fac=function(rt){return new(rt||$e)},$e.\u0275dir=m.lG2({type:$e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),$e})(),X=(()=>{class $e{}return $e.\u0275fac=function(rt){return new(rt||$e)},$e.\u0275dir=m.lG2({type:$e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),$e})(),kt=(()=>{class $e{constructor(rt){this._animationMode=rt}}return $e.\u0275fac=function(rt){return new(rt||$e)(m.Y36(m.QbO,8))},$e.\u0275cmp=m.Xpm({type:$e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(rt,ot){2&rt&&m.ekj("_mat-animation-noopable","NoopAnimations"===ot._animationMode)},exportAs:["matCard"],ngContentSelectors:Se,decls:2,vars:0,template:function(rt,ot){1&rt&&(m.F$t(A),m.Hsn(0),m.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),$e})(),at=(()=>{class $e{}return $e.\u0275fac=function(rt){return new(rt||$e)},$e.\u0275cmp=m.Xpm({type:$e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:et,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(rt,ot){1&rt&&(m.F$t(N),m.Hsn(0),m.TgZ(1,"div",0),m.Hsn(2,1),m.qZA(),m.Hsn(3,2))},encapsulation:2,changeDetection:0}),$e})(),je=(()=>{class $e{}return $e.\u0275fac=function(rt){return new(rt||$e)},$e.\u0275mod=m.oAB({type:$e}),$e.\u0275inj=m.cJS({imports:[h.BQ,h.BQ]}),$e})()},3238:(bn,Tt,S)=>{S.d(Tt,{_A:()=>Jt,rD:()=>Qt,sG:()=>Zt,Ad:()=>Rt,BQ:()=>kt,X2:()=>Cn,uc:()=>An,XK:()=>$t,nP:()=>nt,us:()=>Ze,wG:()=>ae,si:()=>me,pj:()=>Oe,Kr:()=>rt,Id:()=>$e,FD:()=>st,sb:()=>ot,E0:()=>Xt});var m=S(4650),h=S(2693),A=S(445),N=S(6895),et=S(3353),tt=S(1281),pe=S(7579),ge=S(8675);const jt=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function mt(){return!0}});let kt=(()=>{class te{constructor(K,z,ue){this._sanityChecks=z,this._document=ue,this._hasDoneGlobalChecks=!1,K._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(K){return!(0,et.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[K])}}return te.\u0275fac=function(K){return new(K||te)(m.LFG(h.qm),m.LFG(jt,8),m.LFG(N.K0))},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[A.vT,A.vT]}),te})();function $e(te){return class extends te{constructor(...oe){super(...oe),this._disabled=!1}get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,tt.Ig)(oe)}}}function Oe(te,oe){return class extends te{constructor(...K){super(...K),this.defaultColor=oe,this.color=oe}get color(){return this._color}set color(K){const z=K||this.defaultColor;z!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),z&&this._elementRef.nativeElement.classList.add(`mat-${z}`),this._color=z)}}}function rt(te){return class extends te{constructor(...oe){super(...oe),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(oe){this._disableRipple=(0,tt.Ig)(oe)}}}function ot(te,oe=0){return class extends te{constructor(...K){super(...K),this._tabIndex=oe,this.defaultTabIndex=oe}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(K){this._tabIndex=null!=K?(0,tt.su)(K):this.defaultTabIndex}}}function st(te){return class extends te{constructor(...oe){super(...oe),this.errorState=!1}updateErrorState(){const oe=this.errorState,J=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);J!==oe&&(this.errorState=J,this.stateChanges.next())}}}const Rt=new m.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function At(){return(0,m.f3M)(m.soG)}});class Jt{constructor(){this._localeChanges=new pe.x,this.localeChanges=this._localeChanges}getValidDateOrNull(oe){return this.isDateInstance(oe)&&this.isValid(oe)?oe:null}deserialize(oe){return null==oe||this.isDateInstance(oe)&&this.isValid(oe)?oe:this.invalid()}setLocale(oe){this.locale=oe,this._localeChanges.next()}compareDate(oe,K){return this.getYear(oe)-this.getYear(K)||this.getMonth(oe)-this.getMonth(K)||this.getDate(oe)-this.getDate(K)}sameDate(oe,K){if(oe&&K){let z=this.isValid(oe),ue=this.isValid(K);return z&&ue?!this.compareDate(oe,K):z==ue}return oe==K}clampDate(oe,K,z){return K&&this.compareDate(oe,K)<0?K:z&&this.compareDate(oe,z)>0?z:oe}}const Zt=new m.OlP("mat-date-formats"),on=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fn(te,oe){const K=Array(te);for(let z=0;z<te;z++)K[z]=oe(z);return K}let nn=(()=>{class te extends Jt{constructor(K,z){super(),this.useUtcForDisplay=!1,super.setLocale(K)}getYear(K){return K.getFullYear()}getMonth(K){return K.getMonth()}getDate(K){return K.getDate()}getDayOfWeek(K){return K.getDay()}getMonthNames(K){const z=new Intl.DateTimeFormat(this.locale,{month:K,timeZone:"utc"});return fn(12,ue=>this._format(z,new Date(2017,ue,1)))}getDateNames(){const K=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fn(31,z=>this._format(K,new Date(2017,0,z+1)))}getDayOfWeekNames(K){const z=new Intl.DateTimeFormat(this.locale,{weekday:K,timeZone:"utc"});return fn(7,ue=>this._format(z,new Date(2017,0,ue+1)))}getYearName(K){const z=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(z,K)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(K){return this.getDate(this._createDateWithOverflow(this.getYear(K),this.getMonth(K)+1,0))}clone(K){return new Date(K.getTime())}createDate(K,z,ue){let J=this._createDateWithOverflow(K,z,ue);return J.getMonth(),J}today(){return new Date}parse(K,z){return"number"==typeof K?new Date(K):K?new Date(Date.parse(K)):null}format(K,z){if(!this.isValid(K))throw Error("NativeDateAdapter: Cannot format invalid date.");const ue=new Intl.DateTimeFormat(this.locale,{...z,timeZone:"utc"});return this._format(ue,K)}addCalendarYears(K,z){return this.addCalendarMonths(K,12*z)}addCalendarMonths(K,z){let ue=this._createDateWithOverflow(this.getYear(K),this.getMonth(K)+z,this.getDate(K));return this.getMonth(ue)!=((this.getMonth(K)+z)%12+12)%12&&(ue=this._createDateWithOverflow(this.getYear(ue),this.getMonth(ue),0)),ue}addCalendarDays(K,z){return this._createDateWithOverflow(this.getYear(K),this.getMonth(K),this.getDate(K)+z)}toIso8601(K){return[K.getUTCFullYear(),this._2digit(K.getUTCMonth()+1),this._2digit(K.getUTCDate())].join("-")}deserialize(K){if("string"==typeof K){if(!K)return null;if(on.test(K)){let z=new Date(K);if(this.isValid(z))return z}}return super.deserialize(K)}isDateInstance(K){return K instanceof Date}isValid(K){return!isNaN(K.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(K,z,ue){const J=new Date;return J.setFullYear(K,z,ue),J.setHours(0,0,0,0),J}_2digit(K){return("00"+K).slice(-2)}_format(K,z){const ue=new Date;return ue.setUTCFullYear(z.getFullYear(),z.getMonth(),z.getDate()),ue.setUTCHours(z.getHours(),z.getMinutes(),z.getSeconds(),z.getMilliseconds()),K.format(ue)}}return te.\u0275fac=function(K){return new(K||te)(m.LFG(Rt,8),m.LFG(et.t4))},te.\u0275prov=m.Yz7({token:te,factory:te.\u0275fac}),te})();const wt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let qt=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({providers:[{provide:Jt,useClass:nn}]}),te})(),$t=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({providers:[{provide:Zt,useValue:wt}],imports:[qt]}),te})(),Qt=(()=>{class te{isErrorState(K,z){return!!(K&&K.invalid&&(K.touched||z&&z.submitted))}}return te.\u0275fac=function(K){return new(K||te)},te.\u0275prov=m.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),Cn=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275dir=m.lG2({type:te,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),te})();function Xt(te,oe,K="mat"){te.changes.pipe((0,ge.O)(te)).subscribe(({length:z})=>{gn(oe,`${K}-2-line`,!1),gn(oe,`${K}-3-line`,!1),gn(oe,`${K}-multi-line`,!1),2===z||3===z?gn(oe,`${K}-${z}-line`,!0):z>3&&gn(oe,`${K}-multi-line`,!0)})}function gn(te,oe,K){te.nativeElement.classList.toggle(oe,K)}let An=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[kt,kt]}),te})();class Un{constructor(oe,K,z,ue=!1){this._renderer=oe,this.element=K,this.config=z,this._animationForciblyDisabledThroughCss=ue,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kn={enterDuration:225,exitDuration:150},$n=(0,et.i$)({passive:!0}),Hn=["mousedown","touchstart"],Gn=["mouseup","mouseleave","touchend","touchcancel"];class Qn{constructor(oe,K,z,ue){this._target=oe,this._ngZone=K,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ue.isBrowser&&(this._containerElement=(0,tt.fI)(z))}fadeInRipple(oe,K,z={}){const ue=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),J={...kn,...z.animation};z.centered&&(oe=ue.left+ue.width/2,K=ue.top+ue.height/2);const ft=z.radius||function vn(te,oe,K){const z=Math.max(Math.abs(te-K.left),Math.abs(te-K.right)),ue=Math.max(Math.abs(oe-K.top),Math.abs(oe-K.bottom));return Math.sqrt(z*z+ue*ue)}(oe,K,ue),it=oe-ue.left,It=K-ue.top,Bt=J.enterDuration,We=document.createElement("div");We.classList.add("mat-ripple-element"),We.style.left=it-ft+"px",We.style.top=It-ft+"px",We.style.height=2*ft+"px",We.style.width=2*ft+"px",null!=z.color&&(We.style.backgroundColor=z.color),We.style.transitionDuration=`${Bt}ms`,this._containerElement.appendChild(We);const qe=window.getComputedStyle(We),Te=qe.transitionDuration,ne="none"===qe.transitionProperty||"0s"===Te||"0s, 0s"===Te,Ne=new Un(this,We,z,ne);We.style.transform="scale3d(1, 1, 1)",Ne.state=0,z.persistent||(this._mostRecentTransientRipple=Ne);let _t=null;return!ne&&(Bt||J.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ke=()=>this._finishRippleTransition(Ne),Ye=()=>this._destroyRipple(Ne);We.addEventListener("transitionend",Ke),We.addEventListener("transitioncancel",Ye),_t={onTransitionEnd:Ke,onTransitionCancel:Ye}}),this._activeRipples.set(Ne,_t),(ne||!Bt)&&this._finishRippleTransition(Ne),Ne}fadeOutRipple(oe){if(2===oe.state||3===oe.state)return;const K=oe.element,z={...kn,...oe.config.animation};K.style.transitionDuration=`${z.exitDuration}ms`,K.style.opacity="0",oe.state=2,(oe._animationForciblyDisabledThroughCss||!z.exitDuration)&&this._finishRippleTransition(oe)}fadeOutAll(){this._getActiveRipples().forEach(oe=>oe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(oe=>{oe.config.persistent||oe.fadeOut()})}setupTriggerEvents(oe){const K=(0,tt.fI)(oe);!K||K===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=K,this._registerEvents(Hn))}handleEvent(oe){"mousedown"===oe.type?this._onMousedown(oe):"touchstart"===oe.type?this._onTouchStart(oe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gn),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(oe){0===oe.state?this._startFadeOutTransition(oe):2===oe.state&&this._destroyRipple(oe)}_startFadeOutTransition(oe){const K=oe===this._mostRecentTransientRipple,{persistent:z}=oe.config;oe.state=1,!z&&(!K||!this._isPointerDown)&&oe.fadeOut()}_destroyRipple(oe){const K=this._activeRipples.get(oe)??null;this._activeRipples.delete(oe),this._activeRipples.size||(this._containerRect=null),oe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),oe.state=3,null!==K&&(oe.element.removeEventListener("transitionend",K.onTransitionEnd),oe.element.removeEventListener("transitioncancel",K.onTransitionCancel)),oe.element.remove()}_onMousedown(oe){const K=(0,h.X6)(oe),z=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!K&&!z&&(this._isPointerDown=!0,this.fadeInRipple(oe.clientX,oe.clientY,this._target.rippleConfig))}_onTouchStart(oe){if(!this._target.rippleDisabled&&!(0,h.yG)(oe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const K=oe.changedTouches;for(let z=0;z<K.length;z++)this.fadeInRipple(K[z].clientX,K[z].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(oe=>{!oe.config.persistent&&(1===oe.state||oe.config.terminateOnPointerUp&&0===oe.state)&&oe.fadeOut()}))}_registerEvents(oe){this._ngZone.runOutsideAngular(()=>{oe.forEach(K=>{this._triggerElement.addEventListener(K,this,$n)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Hn.forEach(oe=>{this._triggerElement.removeEventListener(oe,this,$n)}),this._pointerUpEventsRegistered&&Gn.forEach(oe=>{this._triggerElement.removeEventListener(oe,this,$n)}))}}const Be=new m.OlP("mat-ripple-global-options");let ae=(()=>{class te{constructor(K,z,ue,J,ft){this._elementRef=K,this._animationMode=ft,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=J||{},this._rippleRenderer=new Qn(this,z,K,ue)}get disabled(){return this._disabled}set disabled(K){K&&this.fadeOutAllNonPersistent(),this._disabled=K,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(K){this._trigger=K,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(K,z=0,ue){return"number"==typeof K?this._rippleRenderer.fadeInRipple(K,z,{...this.rippleConfig,...ue}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...K})}}return te.\u0275fac=function(K){return new(K||te)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(et.t4),m.Y36(Be,8),m.Y36(m.QbO,8))},te.\u0275dir=m.lG2({type:te,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(K,z){2&K&&m.ekj("mat-ripple-unbounded",z.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),te})(),me=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[kt,kt]}),te})(),nt=(()=>{class te{constructor(K){this._animationMode=K,this.state="unchecked",this.disabled=!1}}return te.\u0275fac=function(K){return new(K||te)(m.Y36(m.QbO,8))},te.\u0275cmp=m.Xpm({type:te,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(K,z){2&K&&m.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===z.state)("mat-pseudo-checkbox-checked","checked"===z.state)("mat-pseudo-checkbox-disabled",z.disabled)("_mat-animation-noopable","NoopAnimations"===z._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(K,z){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),te})(),Ze=(()=>{class te{}return te.\u0275fac=function(K){return new(K||te)},te.\u0275mod=m.oAB({type:te}),te.\u0275inj=m.cJS({imports:[kt]}),te})()},9602:(bn,Tt,S)=>{S.d(Tt,{FA:()=>St,Mq:()=>Ce,_H:()=>z,hl:()=>Ye,nW:()=>re});var m=S(2693),h=S(8184),A=S(4080),Se=S(6895),N=S(4650),et=S(9101),tt=S(8605),pe=S(3238),ge=S(7579),X=S(727),ye=S(6451),we=S(9646),Ge=S(9521),ut=S(445),dt=S(5698),Pt=S(8675),Ue=S(9300),mt=S(1281),jt=S(3353),kt=S(7340),at=S(4006),He=S(9549),je=S(4144);const $e=["mat-calendar-body",""];function Oe(be,ht){if(1&be&&(N.TgZ(0,"tr",2)(1,"td",3),N._uU(2),N.qZA()()),2&be){const O=N.oxw();N.xp6(1),N.Udp("padding-top",O._cellPadding)("padding-bottom",O._cellPadding),N.uIk("colspan",O.numCols),N.xp6(1),N.hij(" ",O.label," ")}}function rt(be,ht){if(1&be&&(N.TgZ(0,"td",3),N._uU(1),N.qZA()),2&be){const O=N.oxw(2);N.Udp("padding-top",O._cellPadding)("padding-bottom",O._cellPadding),N.uIk("colspan",O._firstRowOffset),N.xp6(1),N.hij(" ",O._firstRowOffset>=O.labelMinRequiredCells?O.label:""," ")}}function ot(be,ht){if(1&be){const O=N.EpF();N.TgZ(0,"td",7)(1,"button",8),N.NdJ("click",function(Re){const Sn=N.CHM(O).$implicit,fi=N.oxw(2);return N.KtG(fi._cellClicked(Sn,Re))})("focus",function(Re){const Sn=N.CHM(O).$implicit,fi=N.oxw(2);return N.KtG(fi._emitActiveDateChange(Sn,Re))}),N.TgZ(2,"div",9),N._uU(3),N.qZA(),N._UZ(4,"div",10),N.qZA()()}if(2&be){const O=ht.$implicit,ie=ht.index,Re=N.oxw().index,bt=N.oxw();N.Udp("width",bt._cellWidth)("padding-top",bt._cellPadding)("padding-bottom",bt._cellPadding),N.uIk("data-mat-row",Re)("data-mat-col",ie),N.xp6(1),N.ekj("mat-calendar-body-disabled",!O.enabled)("mat-calendar-body-active",bt._isActiveCell(Re,ie))("mat-calendar-body-range-start",bt._isRangeStart(O.compareValue))("mat-calendar-body-range-end",bt._isRangeEnd(O.compareValue))("mat-calendar-body-in-range",bt._isInRange(O.compareValue))("mat-calendar-body-comparison-bridge-start",bt._isComparisonBridgeStart(O.compareValue,Re,ie))("mat-calendar-body-comparison-bridge-end",bt._isComparisonBridgeEnd(O.compareValue,Re,ie))("mat-calendar-body-comparison-start",bt._isComparisonStart(O.compareValue))("mat-calendar-body-comparison-end",bt._isComparisonEnd(O.compareValue))("mat-calendar-body-in-comparison-range",bt._isInComparisonRange(O.compareValue))("mat-calendar-body-preview-start",bt._isPreviewStart(O.compareValue))("mat-calendar-body-preview-end",bt._isPreviewEnd(O.compareValue))("mat-calendar-body-in-preview",bt._isInPreview(O.compareValue)),N.Q6J("ngClass",O.cssClasses)("tabindex",bt._isActiveCell(Re,ie)?0:-1),N.uIk("aria-label",O.ariaLabel)("aria-disabled",!O.enabled||null)("aria-pressed",bt._isSelected(O.compareValue))("aria-current",bt.todayValue===O.compareValue?"date":null),N.xp6(1),N.ekj("mat-calendar-body-selected",bt._isSelected(O.compareValue))("mat-calendar-body-comparison-identical",bt._isComparisonIdentical(O.compareValue))("mat-calendar-body-today",bt.todayValue===O.compareValue),N.xp6(1),N.hij(" ",O.displayValue," ")}}function st(be,ht){if(1&be&&(N.TgZ(0,"tr",4),N.YNc(1,rt,2,6,"td",5),N.YNc(2,ot,5,47,"td",6),N.qZA()),2&be){const O=ht.$implicit,ie=ht.index,Re=N.oxw();N.xp6(1),N.Q6J("ngIf",0===ie&&Re._firstRowOffset),N.xp6(1),N.Q6J("ngForOf",O)}}function pt(be,ht){if(1&be&&(N.TgZ(0,"th",5)(1,"span",6),N._uU(2),N.qZA(),N.TgZ(3,"span",7),N._uU(4),N.qZA()()),2&be){const O=ht.$implicit;N.xp6(2),N.Oqu(O.long),N.xp6(2),N.Oqu(O.narrow)}}const Rt=["*"];function At(be,ht){}function Jt(be,ht){if(1&be){const O=N.EpF();N.TgZ(0,"mat-month-view",5),N.NdJ("activeDateChange",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt.activeDate=Re)})("_userSelection",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt._dateSelected(Re))}),N.qZA()}if(2&be){const O=N.oxw();N.Q6J("activeDate",O.activeDate)("selected",O.selected)("dateFilter",O.dateFilter)("maxDate",O.maxDate)("minDate",O.minDate)("dateClass",O.dateClass)("comparisonStart",O.comparisonStart)("comparisonEnd",O.comparisonEnd)}}function Zt(be,ht){if(1&be){const O=N.EpF();N.TgZ(0,"mat-year-view",6),N.NdJ("activeDateChange",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt.activeDate=Re)})("monthSelected",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt._monthSelectedInYearView(Re))})("selectedChange",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt._goToDateInView(Re,"month"))}),N.qZA()}if(2&be){const O=N.oxw();N.Q6J("activeDate",O.activeDate)("selected",O.selected)("dateFilter",O.dateFilter)("maxDate",O.maxDate)("minDate",O.minDate)("dateClass",O.dateClass)}}function on(be,ht){if(1&be){const O=N.EpF();N.TgZ(0,"mat-multi-year-view",7),N.NdJ("activeDateChange",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt.activeDate=Re)})("yearSelected",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt._yearSelectedInMultiYearView(Re))})("selectedChange",function(Re){N.CHM(O);const bt=N.oxw();return N.KtG(bt._goToDateInView(Re,"year"))}),N.qZA()}if(2&be){const O=N.oxw();N.Q6J("activeDate",O.activeDate)("selected",O.selected)("dateFilter",O.dateFilter)("maxDate",O.maxDate)("minDate",O.minDate)("dateClass",O.dateClass)}}function fn(be,ht){}const nn=["button"];function wt(be,ht){1&be&&(N.O4$(),N.TgZ(0,"svg",3),N._UZ(1,"path",4),N.qZA())}const qt=[[["","matDatepickerToggleIcon",""]]],$t=["[matDatepickerToggleIcon]"];let gn=(()=>{class be{constructor(){this.changes=new ge.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(O,ie){return`${O} \u2013 ${ie}`}formatYearRangeLabel(O,ie){return`${O} to ${ie}`}}return be.\u0275fac=function(O){return new(O||be)},be.\u0275prov=N.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();class An{constructor(ht,O,ie,Re,bt={},Sn=ht,fi){this.value=ht,this.displayValue=O,this.ariaLabel=ie,this.enabled=Re,this.cssClasses=bt,this.compareValue=Sn,this.rawValue=fi}}let Un=(()=>{class be{constructor(O,ie){this._elementRef=O,this._ngZone=ie,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new N.vpe,this.previewChange=new N.vpe,this.activeDateChange=new N.vpe,this._enterHandler=Re=>{if(this._skipNextFocus&&"focus"===Re.type)this._skipNextFocus=!1;else if(Re.target&&this.isRange){const bt=this._getCellFromElement(Re.target);bt&&this._ngZone.run(()=>this.previewChange.emit({value:bt.enabled?bt:null,event:Re}))}},this._leaveHandler=Re=>{null!==this.previewEnd&&this.isRange&&Re.target&&this._getCellFromElement(Re.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Re}))},ie.runOutsideAngular(()=>{const Re=O.nativeElement;Re.addEventListener("mouseenter",this._enterHandler,!0),Re.addEventListener("focus",this._enterHandler,!0),Re.addEventListener("mouseleave",this._leaveHandler,!0),Re.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(O,ie){O.enabled&&this.selectedValueChange.emit({value:O.value,event:ie})}_emitActiveDateChange(O,ie){O.enabled&&this.activeDateChange.emit({value:O.value,event:ie})}_isSelected(O){return this.startValue===O||this.endValue===O}ngOnChanges(O){const ie=O.numCols,{rows:Re,numCols:bt}=this;(O.rows||ie)&&(this._firstRowOffset=Re&&Re.length&&Re[0].length?bt-Re[0].length:0),(O.cellAspectRatio||ie||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/bt+"%"),(ie||!this._cellWidth)&&(this._cellWidth=100/bt+"%")}ngOnDestroy(){const O=this._elementRef.nativeElement;O.removeEventListener("mouseenter",this._enterHandler,!0),O.removeEventListener("focus",this._enterHandler,!0),O.removeEventListener("mouseleave",this._leaveHandler,!0),O.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(O,ie){let Re=O*this.numCols+ie;return O&&(Re-=this._firstRowOffset),Re==this.activeCell}_focusActiveCell(O=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,dt.q)(1)).subscribe(()=>{setTimeout(()=>{const ie=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");ie&&(O||(this._skipNextFocus=!0),ie.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(O){return Wn(O,this.startValue,this.endValue)}_isRangeEnd(O){return $n(O,this.startValue,this.endValue)}_isInRange(O){return Hn(O,this.startValue,this.endValue,this.isRange)}_isComparisonStart(O){return Wn(O,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(O,ie,Re){if(!this._isComparisonStart(O)||this._isRangeStart(O)||!this._isInRange(O))return!1;let bt=this.rows[ie][Re-1];if(!bt){const Sn=this.rows[ie-1];bt=Sn&&Sn[Sn.length-1]}return bt&&!this._isRangeEnd(bt.compareValue)}_isComparisonBridgeEnd(O,ie,Re){if(!this._isComparisonEnd(O)||this._isRangeEnd(O)||!this._isInRange(O))return!1;let bt=this.rows[ie][Re+1];if(!bt){const Sn=this.rows[ie+1];bt=Sn&&Sn[0]}return bt&&!this._isRangeStart(bt.compareValue)}_isComparisonEnd(O){return $n(O,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(O){return Hn(O,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(O){return this.comparisonStart===this.comparisonEnd&&O===this.comparisonStart}_isPreviewStart(O){return Wn(O,this.previewStart,this.previewEnd)}_isPreviewEnd(O){return $n(O,this.previewStart,this.previewEnd)}_isInPreview(O){return Hn(O,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(O){let ie;if(kn(O)?ie=O:kn(O.parentNode)&&(ie=O.parentNode),ie){const Re=ie.getAttribute("data-mat-row"),bt=ie.getAttribute("data-mat-col");if(Re&&bt)return this.rows[parseInt(Re)][parseInt(bt)]}return null}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.SBq),N.Y36(N.R0b))},be.\u0275cmp=N.Xpm({type:be,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[N.TTD],attrs:$e,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(O,ie){1&O&&(N.YNc(0,Oe,3,6,"tr",0),N.YNc(1,st,3,2,"tr",1)),2&O&&(N.Q6J("ngIf",ie._firstRowOffset<ie.labelMinRequiredCells),N.xp6(1),N.Q6J("ngForOf",ie.rows))},dependencies:[Se.mk,Se.sg,Se.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),be})();function kn(be){return"TD"===be.nodeName}function Wn(be,ht,O){return null!==O&&ht!==O&&be<O&&be===ht}function $n(be,ht,O){return null!==ht&&ht!==O&&be>=ht&&be===O}function Hn(be,ht,O,ie){return ie&&null!==ht&&null!==O&&ht!==O&&be>=ht&&be<=O}class Gn{constructor(ht,O){this.start=ht,this.end=O}}let Qn=(()=>{class be{constructor(O,ie){this.selection=O,this._adapter=ie,this._selectionChanged=new ge.x,this.selectionChanged=this._selectionChanged,this.selection=O}updateSelection(O,ie){const Re=this.selection;this.selection=O,this._selectionChanged.next({selection:O,source:ie,oldValue:Re})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(O){return this._adapter.isDateInstance(O)&&this._adapter.isValid(O)}}return be.\u0275fac=function(O){N.$Z()},be.\u0275prov=N.Yz7({token:be,factory:be.\u0275fac}),be})(),vn=(()=>{class be extends Qn{constructor(O){super(null,O)}add(O){super.updateSelection(O,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const O=new be(this._adapter);return O.updateSelection(this.selection,this),O}}return be.\u0275fac=function(O){return new(O||be)(N.LFG(pe._A))},be.\u0275prov=N.Yz7({token:be,factory:be.\u0275fac}),be})();const me={provide:Qn,deps:[[new N.FiY,new N.tp0,Qn],pe._A],useFactory:function ae(be,ht){return be||new vn(ht)}},Ct=new N.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Le=(()=>{class be{constructor(O,ie,Re,bt,Sn){this._changeDetectorRef=O,this._dateFormats=ie,this._dateAdapter=Re,this._dir=bt,this._rangeStrategy=Sn,this._rerenderSubscription=X.w0.EMPTY,this.selectedChange=new N.vpe,this._userSelection=new N.vpe,this.activeDateChange=new N.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(O){const ie=this._activeDate,Re=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Re,this.minDate,this.maxDate),this._hasSameMonthAndYear(ie,this._activeDate)||this._init()}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Pt.O)(null)).subscribe(()=>this._init())}ngOnChanges(O){const ie=O.comparisonStart||O.comparisonEnd;ie&&!ie.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(O){const ie=O.value,Re=this._getDateFromDayOfMonth(ie);let bt,Sn;this._selected instanceof Gn?(bt=this._getDateInCurrentMonth(this._selected.start),Sn=this._getDateInCurrentMonth(this._selected.end)):bt=Sn=this._getDateInCurrentMonth(this._selected),(bt!==ie||Sn!==ie)&&this.selectedChange.emit(Re),this._userSelection.emit({value:Re,event:O.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(O){const Re=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(O.value),this._dateAdapter.compareDate(Re,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(O){const ie=this._activeDate,Re=this._isRtl();switch(O.keyCode){case Ge.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Re?1:-1);break;case Ge.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Re?-1:1);break;case Ge.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Ge.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Ge.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Ge.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Ge.Ku:this.activeDate=O.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Ge.VM:this.activeDate=O.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Ge.K5:case Ge.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&O.preventDefault());case Ge.hY:return void(null!=this._previewEnd&&!(0,Ge.Vb)(O)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:O}),O.preventDefault(),O.stopPropagation()));default:return}this._dateAdapter.compareDate(ie,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),O.preventDefault()}_handleCalendarBodyKeyup(O){(O.keyCode===Ge.L_||O.keyCode===Ge.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:O}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let O=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(O)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(O){this._matCalendarBody._focusActiveCell(O)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:O,value:ie}){if(this._rangeStrategy){const bt=this._rangeStrategy.createPreview(ie?ie.rawValue:null,this.selected,O);this._previewStart=this._getCellCompareValue(bt.start),this._previewEnd=this._getCellCompareValue(bt.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(O){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),O)}_initWeekdays(){const O=this._dateAdapter.getFirstDayOfWeek(),ie=this._dateAdapter.getDayOfWeekNames("narrow");let bt=this._dateAdapter.getDayOfWeekNames("long").map((Sn,fi)=>({long:Sn,narrow:ie[fi]}));this._weekdays=bt.slice(O).concat(bt.slice(0,O))}_createWeekCells(){const O=this._dateAdapter.getNumDaysInMonth(this.activeDate),ie=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Re=0,bt=this._firstWeekOffset;Re<O;Re++,bt++){7==bt&&(this._weeks.push([]),bt=0);const Sn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Re+1),fi=this._shouldEnableDate(Sn),Di=this._dateAdapter.format(Sn,this._dateFormats.display.dateA11yLabel),Ks=this.dateClass?this.dateClass(Sn,"month"):void 0;this._weeks[this._weeks.length-1].push(new An(Re+1,ie[Re],Di,fi,Ks,this._getCellCompareValue(Sn),Sn))}}_shouldEnableDate(O){return!!O&&(!this.minDate||this._dateAdapter.compareDate(O,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(O,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(O))}_getDateInCurrentMonth(O){return O&&this._hasSameMonthAndYear(O,this.activeDate)?this._dateAdapter.getDate(O):null}_hasSameMonthAndYear(O,ie){return!(!O||!ie||this._dateAdapter.getMonth(O)!=this._dateAdapter.getMonth(ie)||this._dateAdapter.getYear(O)!=this._dateAdapter.getYear(ie))}_getCellCompareValue(O){if(O){const ie=this._dateAdapter.getYear(O),Re=this._dateAdapter.getMonth(O),bt=this._dateAdapter.getDate(O);return new Date(ie,Re,bt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(O){O instanceof Gn?(this._rangeStart=this._getCellCompareValue(O.start),this._rangeEnd=this._getCellCompareValue(O.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(O),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(O){return!this.dateFilter||this.dateFilter(O)}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.sBO),N.Y36(pe.sG,8),N.Y36(pe._A,8),N.Y36(ut.Is,8),N.Y36(Ct,8))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-month-view"]],viewQuery:function(O,ie){if(1&O&&N.Gf(Un,5),2&O){let Re;N.iGM(Re=N.CRH())&&(ie._matCalendarBody=Re.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[N.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(O,ie){1&O&&(N.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),N.YNc(3,pt,5,2,"th",2),N.qZA(),N.TgZ(4,"tr"),N._UZ(5,"th",3),N.qZA()(),N.TgZ(6,"tbody",4),N.NdJ("selectedValueChange",function(bt){return ie._dateSelected(bt)})("activeDateChange",function(bt){return ie._updateActiveDate(bt)})("previewChange",function(bt){return ie._previewChanged(bt)})("keyup",function(bt){return ie._handleCalendarBodyKeyup(bt)})("keydown",function(bt){return ie._handleCalendarBodyKeydown(bt)}),N.qZA()()),2&O&&(N.xp6(3),N.Q6J("ngForOf",ie._weekdays),N.xp6(3),N.Q6J("label",ie._monthLabel)("rows",ie._weeks)("todayValue",ie._todayDate)("startValue",ie._rangeStart)("endValue",ie._rangeEnd)("comparisonStart",ie._comparisonRangeStart)("comparisonEnd",ie._comparisonRangeEnd)("previewStart",ie._previewStart)("previewEnd",ie._previewEnd)("isRange",ie._isRange)("labelMinRequiredCells",3)("activeCell",ie._dateAdapter.getDate(ie.activeDate)-1))},dependencies:[Se.sg,Un],encapsulation:2,changeDetection:0}),be})(),un=(()=>{class be{constructor(O,ie,Re){this._changeDetectorRef=O,this._dateAdapter=ie,this._dir=Re,this._rerenderSubscription=X.w0.EMPTY,this.selectedChange=new N.vpe,this.yearSelected=new N.vpe,this.activeDateChange=new N.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(O){let ie=this._activeDate;const Re=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Re,this.minDate,this.maxDate),Rn(this._dateAdapter,ie,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O)),this._setSelectedYear(O)}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Pt.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const ie=this._dateAdapter.getYear(this._activeDate)-_n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Re=0,bt=[];Re<24;Re++)bt.push(ie+Re),4==bt.length&&(this._years.push(bt.map(Sn=>this._createCellForYear(Sn))),bt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(O){const ie=O.value,Re=this._dateAdapter.createDate(ie,0,1),bt=this._getDateFromYear(ie);this.yearSelected.emit(Re),this.selectedChange.emit(bt)}_updateActiveDate(O){const Re=this._activeDate;this.activeDate=this._getDateFromYear(O.value),this._dateAdapter.compareDate(Re,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(O){const ie=this._activeDate,Re=this._isRtl();switch(O.keyCode){case Ge.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Re?1:-1);break;case Ge.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Re?-1:1);break;case Ge.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Ge.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Ge.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-_n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Ge.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-_n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Ge.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?-240:-24);break;case Ge.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?240:24);break;case Ge.K5:case Ge.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ie,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),O.preventDefault()}_handleCalendarBodyKeyup(O){(O.keyCode===Ge.L_||O.keyCode===Ge.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:O}),this._selectionKeyPressed=!1)}_getActiveCell(){return _n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(O){const ie=this._dateAdapter.getMonth(this.activeDate),Re=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(O,ie,1));return this._dateAdapter.createDate(O,ie,Math.min(this._dateAdapter.getDate(this.activeDate),Re))}_createCellForYear(O){const ie=this._dateAdapter.createDate(O,0,1),Re=this._dateAdapter.getYearName(ie),bt=this.dateClass?this.dateClass(ie,"multi-year"):void 0;return new An(O,Re,Re,this._shouldEnableYear(O),bt)}_shouldEnableYear(O){if(null==O||this.maxDate&&O>this._dateAdapter.getYear(this.maxDate)||this.minDate&&O<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Re=this._dateAdapter.createDate(O,0,1);this._dateAdapter.getYear(Re)==O;Re=this._dateAdapter.addCalendarDays(Re,1))if(this.dateFilter(Re))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(O){if(this._selectedYear=null,O instanceof Gn){const ie=O.start||O.end;ie&&(this._selectedYear=this._dateAdapter.getYear(ie))}else O&&(this._selectedYear=this._dateAdapter.getYear(O))}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.sBO),N.Y36(pe._A,8),N.Y36(ut.Is,8))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-multi-year-view"]],viewQuery:function(O,ie){if(1&O&&N.Gf(Un,5),2&O){let Re;N.iGM(Re=N.CRH())&&(ie._matCalendarBody=Re.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(O,ie){1&O&&(N.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),N._UZ(3,"th",2),N.qZA()(),N.TgZ(4,"tbody",3),N.NdJ("selectedValueChange",function(bt){return ie._yearSelected(bt)})("activeDateChange",function(bt){return ie._updateActiveDate(bt)})("keyup",function(bt){return ie._handleCalendarBodyKeyup(bt)})("keydown",function(bt){return ie._handleCalendarBodyKeydown(bt)}),N.qZA()()),2&O&&(N.xp6(4),N.Q6J("rows",ie._years)("todayValue",ie._todayYear)("startValue",ie._selectedYear)("endValue",ie._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",ie._getActiveCell()))},dependencies:[Un],encapsulation:2,changeDetection:0}),be})();function Rn(be,ht,O,ie,Re){const bt=be.getYear(ht),Sn=be.getYear(O),fi=Ot(be,ie,Re);return Math.floor((bt-fi)/24)===Math.floor((Sn-fi)/24)}function _n(be,ht,O,ie){return function Mt(be,ht){return(be%ht+ht)%ht}(be.getYear(ht)-Ot(be,O,ie),24)}function Ot(be,ht,O){let ie=0;return O?ie=be.getYear(O)-24+1:ht&&(ie=be.getYear(ht)),ie}let te=(()=>{class be{constructor(O,ie,Re,bt){this._changeDetectorRef=O,this._dateFormats=ie,this._dateAdapter=Re,this._dir=bt,this._rerenderSubscription=X.w0.EMPTY,this.selectedChange=new N.vpe,this.monthSelected=new N.vpe,this.activeDateChange=new N.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(O){let ie=this._activeDate;const Re=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Re,this.minDate,this.maxDate),this._dateAdapter.getYear(ie)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O)),this._setSelectedMonth(O)}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Pt.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(O){const ie=O.value,Re=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ie,1);this.monthSelected.emit(Re);const bt=this._getDateFromMonth(ie);this.selectedChange.emit(bt)}_updateActiveDate(O){const Re=this._activeDate;this.activeDate=this._getDateFromMonth(O.value),this._dateAdapter.compareDate(Re,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(O){const ie=this._activeDate,Re=this._isRtl();switch(O.keyCode){case Ge.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Re?1:-1);break;case Ge.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Re?-1:1);break;case Ge.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Ge.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Ge.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Ge.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Ge.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?-10:-1);break;case Ge.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O.altKey?10:1);break;case Ge.K5:case Ge.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ie,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),O.preventDefault()}_handleCalendarBodyKeyup(O){(O.keyCode===Ge.L_||O.keyCode===Ge.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:O}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let O=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(ie=>ie.map(Re=>this._createCellForMonth(Re,O[Re]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(O){return O&&this._dateAdapter.getYear(O)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(O):null}_getDateFromMonth(O){const ie=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),O,1),Re=this._dateAdapter.getNumDaysInMonth(ie);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),O,Math.min(this._dateAdapter.getDate(this.activeDate),Re))}_createCellForMonth(O,ie){const Re=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),O,1),bt=this._dateAdapter.format(Re,this._dateFormats.display.monthYearA11yLabel),Sn=this.dateClass?this.dateClass(Re,"year"):void 0;return new An(O,ie.toLocaleUpperCase(),bt,this._shouldEnableMonth(O),Sn)}_shouldEnableMonth(O){const ie=this._dateAdapter.getYear(this.activeDate);if(null==O||this._isYearAndMonthAfterMaxDate(ie,O)||this._isYearAndMonthBeforeMinDate(ie,O))return!1;if(!this.dateFilter)return!0;for(let bt=this._dateAdapter.createDate(ie,O,1);this._dateAdapter.getMonth(bt)==O;bt=this._dateAdapter.addCalendarDays(bt,1))if(this.dateFilter(bt))return!0;return!1}_isYearAndMonthAfterMaxDate(O,ie){if(this.maxDate){const Re=this._dateAdapter.getYear(this.maxDate),bt=this._dateAdapter.getMonth(this.maxDate);return O>Re||O===Re&&ie>bt}return!1}_isYearAndMonthBeforeMinDate(O,ie){if(this.minDate){const Re=this._dateAdapter.getYear(this.minDate),bt=this._dateAdapter.getMonth(this.minDate);return O<Re||O===Re&&ie<bt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(O){this._selectedMonth=O instanceof Gn?this._getMonthInCurrentYear(O.start)||this._getMonthInCurrentYear(O.end):this._getMonthInCurrentYear(O)}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.sBO),N.Y36(pe.sG,8),N.Y36(pe._A,8),N.Y36(ut.Is,8))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-year-view"]],viewQuery:function(O,ie){if(1&O&&N.Gf(Un,5),2&O){let Re;N.iGM(Re=N.CRH())&&(ie._matCalendarBody=Re.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(O,ie){1&O&&(N.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),N._UZ(3,"th",2),N.qZA()(),N.TgZ(4,"tbody",3),N.NdJ("selectedValueChange",function(bt){return ie._monthSelected(bt)})("activeDateChange",function(bt){return ie._updateActiveDate(bt)})("keyup",function(bt){return ie._handleCalendarBodyKeyup(bt)})("keydown",function(bt){return ie._handleCalendarBodyKeydown(bt)}),N.qZA()()),2&O&&(N.xp6(4),N.Q6J("label",ie._yearLabel)("rows",ie._months)("todayValue",ie._todayMonth)("startValue",ie._selectedMonth)("endValue",ie._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",ie._dateAdapter.getMonth(ie.activeDate)))},dependencies:[Un],encapsulation:2,changeDetection:0}),be})(),oe=0,K=(()=>{class be{constructor(O,ie,Re,bt,Sn){this._intl=O,this.calendar=ie,this._dateAdapter=Re,this._dateFormats=bt,this._buttonDescriptionId="mat-calendar-button-"+oe++,this.calendar.stateChanges.subscribe(()=>Sn.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const ie=this._dateAdapter.getYear(this.calendar.activeDate)-_n(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Re=ie+24-1,bt=this._dateAdapter.getYearName(this._dateAdapter.createDate(ie,0,1)),Sn=this._dateAdapter.getYearName(this._dateAdapter.createDate(Re,0,1));return this._intl.formatYearRange(bt,Sn)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(O,ie){return"month"==this.calendar.currentView?this._dateAdapter.getYear(O)==this._dateAdapter.getYear(ie)&&this._dateAdapter.getMonth(O)==this._dateAdapter.getMonth(ie):"year"==this.calendar.currentView?this._dateAdapter.getYear(O)==this._dateAdapter.getYear(ie):Rn(this._dateAdapter,O,ie,this.calendar.minDate,this.calendar.maxDate)}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(gn),N.Y36((0,N.Gpc)(()=>z)),N.Y36(pe._A,8),N.Y36(pe.sG,8),N.Y36(N.sBO))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Rt,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(O,ie){1&O&&(N.F$t(),N.TgZ(0,"div",0)(1,"div",1)(2,"button",2),N.NdJ("click",function(){return ie.currentPeriodClicked()}),N.TgZ(3,"span"),N._uU(4),N.qZA(),N.O4$(),N.TgZ(5,"svg",3),N._UZ(6,"polygon",4),N.qZA()(),N.kcU(),N._UZ(7,"div",5),N.Hsn(8),N.TgZ(9,"button",6),N.NdJ("click",function(){return ie.previousClicked()}),N.qZA(),N.TgZ(10,"button",7),N.NdJ("click",function(){return ie.nextClicked()}),N.qZA()()()),2&O&&(N.xp6(2),N.uIk("aria-label",ie.periodButtonLabel)("aria-describedby",ie._buttonDescriptionId),N.xp6(1),N.uIk("id",ie._buttonDescriptionId),N.xp6(1),N.Oqu(ie.periodButtonText),N.xp6(1),N.ekj("mat-calendar-invert","month"!==ie.calendar.currentView),N.xp6(4),N.Q6J("disabled",!ie.previousEnabled()),N.uIk("aria-label",ie.prevButtonLabel),N.xp6(1),N.Q6J("disabled",!ie.nextEnabled()),N.uIk("aria-label",ie.nextButtonLabel))},dependencies:[et.lW],encapsulation:2,changeDetection:0}),be})(),z=(()=>{class be{constructor(O,ie,Re,bt){this._dateAdapter=ie,this._dateFormats=Re,this._changeDetectorRef=bt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new N.vpe,this.yearSelected=new N.vpe,this.monthSelected=new N.vpe,this.viewChanged=new N.vpe(!0),this._userSelection=new N.vpe,this.stateChanges=new ge.x,this._intlChanges=O.changes.subscribe(()=>{bt.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(O){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get selected(){return this._selected}set selected(O){this._selected=O instanceof Gn?O:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get minDate(){return this._minDate}set minDate(O){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get maxDate(){return this._maxDate}set maxDate(O){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get activeDate(){return this._clampedActiveDate}set activeDate(O){this._clampedActiveDate=this._dateAdapter.clampDate(O,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(O){const ie=this._currentView!==O?O:null;this._currentView=O,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),ie&&this.viewChanged.emit(ie)}ngAfterContentInit(){this._calendarHeaderPortal=new A.C5(this.headerComponent||K),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(O){const ie=O.minDate&&!this._dateAdapter.sameDate(O.minDate.previousValue,O.minDate.currentValue)?O.minDate:void 0,Re=O.maxDate&&!this._dateAdapter.sameDate(O.maxDate.previousValue,O.maxDate.currentValue)?O.maxDate:void 0,bt=ie||Re||O.dateFilter;if(bt&&!bt.firstChange){const Sn=this._getCurrentViewComponent();Sn&&(this._changeDetectorRef.detectChanges(),Sn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(O){const ie=O.value;(this.selected instanceof Gn||ie&&!this._dateAdapter.sameDate(ie,this.selected))&&this.selectedChange.emit(ie),this._userSelection.emit(O)}_yearSelectedInMultiYearView(O){this.yearSelected.emit(O)}_monthSelectedInYearView(O){this.monthSelected.emit(O)}_goToDateInView(O,ie){this.activeDate=O,this.currentView=ie}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(gn),N.Y36(pe._A,8),N.Y36(pe.sG,8),N.Y36(N.sBO))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-calendar"]],viewQuery:function(O,ie){if(1&O&&(N.Gf(Le,5),N.Gf(te,5),N.Gf(un,5)),2&O){let Re;N.iGM(Re=N.CRH())&&(ie.monthView=Re.first),N.iGM(Re=N.CRH())&&(ie.yearView=Re.first),N.iGM(Re=N.CRH())&&(ie.multiYearView=Re.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[N._Bn([me]),N.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(O,ie){1&O&&(N.YNc(0,At,0,0,"ng-template",0),N.TgZ(1,"div",1),N.YNc(2,Jt,1,8,"mat-month-view",2),N.YNc(3,Zt,1,6,"mat-year-view",3),N.YNc(4,on,1,6,"mat-multi-year-view",4),N.qZA()),2&O&&(N.Q6J("cdkPortalOutlet",ie._calendarHeaderPortal),N.xp6(1),N.Q6J("ngSwitch",ie.currentView),N.xp6(1),N.Q6J("ngSwitchCase","month"),N.xp6(1),N.Q6J("ngSwitchCase","year"),N.xp6(1),N.Q6J("ngSwitchCase","multi-year"))},dependencies:[Se.RF,Se.n9,m.kH,A.Pl,Le,te,un],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),be})();const ue={transformPanel:(0,kt.X$)("transformPanel",[(0,kt.eR)("void => enter-dropdown",(0,kt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,kt.F4)([(0,kt.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,kt.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,kt.eR)("void => enter-dialog",(0,kt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,kt.F4)([(0,kt.oB)({opacity:0,transform:"scale(0.7)"}),(0,kt.oB)({transform:"none",opacity:1})]))),(0,kt.eR)("* => void",(0,kt.jt)("100ms linear",(0,kt.oB)({opacity:0})))]),fadeInCalendar:(0,kt.X$)("fadeInCalendar",[(0,kt.SB)("void",(0,kt.oB)({opacity:0})),(0,kt.SB)("enter",(0,kt.oB)({opacity:1})),(0,kt.eR)("void => *",(0,kt.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let J=0;const ft=new N.OlP("mat-datepicker-scroll-strategy"),It={provide:ft,deps:[h.aV],useFactory:function it(be){return()=>be.scrollStrategies.reposition()}},Bt=(0,pe.pj)(class{constructor(be){this._elementRef=be}});let We=(()=>{class be extends Bt{constructor(O,ie,Re,bt,Sn,fi){super(O),this._changeDetectorRef=ie,this._globalModel=Re,this._dateAdapter=bt,this._rangeSelectionStrategy=Sn,this._subscriptions=new X.w0,this._animationDone=new ge.x,this._actionsPortal=null,this._closeButtonText=fi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(O){const ie=this._model.selection,Re=O.value,bt=ie instanceof Gn;if(bt&&this._rangeSelectionStrategy){const Sn=this._rangeSelectionStrategy.selectionFinished(Re,ie,O.event);this._model.updateSelection(Sn,this)}else Re&&(bt||!this._dateAdapter.sameDate(Re,ie))&&this._model.add(Re);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(O,ie){this._model=O?this._globalModel.clone():this._globalModel,this._actionsPortal=O,ie&&this._changeDetectorRef.detectChanges()}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.SBq),N.Y36(N.sBO),N.Y36(Qn),N.Y36(pe._A),N.Y36(Ct,8),N.Y36(gn))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-datepicker-content"]],viewQuery:function(O,ie){if(1&O&&N.Gf(z,5),2&O){let Re;N.iGM(Re=N.CRH())&&(ie._calendar=Re.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(O,ie){1&O&&N.WFA("@transformPanel.done",function(){return ie._animationDone.next()}),2&O&&(N.d8E("@transformPanel",ie._animationState),N.ekj("mat-datepicker-content-touch",ie.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[N.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(O,ie){if(1&O&&(N.TgZ(0,"div",0)(1,"mat-calendar",1),N.NdJ("yearSelected",function(bt){return ie.datepicker._selectYear(bt)})("monthSelected",function(bt){return ie.datepicker._selectMonth(bt)})("viewChanged",function(bt){return ie.datepicker._viewChanged(bt)})("_userSelection",function(bt){return ie._handleUserSelection(bt)}),N.qZA(),N.YNc(2,fn,0,0,"ng-template",2),N.TgZ(3,"button",3),N.NdJ("focus",function(){return ie._closeButtonFocused=!0})("blur",function(){return ie._closeButtonFocused=!1})("click",function(){return ie.datepicker.close()}),N._uU(4),N.qZA()()),2&O){let Re;N.ekj("mat-datepicker-content-container-with-custom-header",ie.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",ie._actionsPortal),N.uIk("aria-modal",!0)("aria-labelledby",null!==(Re=ie._dialogLabelId)&&void 0!==Re?Re:void 0),N.xp6(1),N.Q6J("id",ie.datepicker.id)("ngClass",ie.datepicker.panelClass)("startAt",ie.datepicker.startAt)("startView",ie.datepicker.startView)("minDate",ie.datepicker._getMinDate())("maxDate",ie.datepicker._getMaxDate())("dateFilter",ie.datepicker._getDateFilter())("headerComponent",ie.datepicker.calendarHeaderComponent)("selected",ie._getSelected())("dateClass",ie.datepicker.dateClass)("comparisonStart",ie.comparisonStart)("comparisonEnd",ie.comparisonEnd)("@fadeInCalendar","enter"),N.xp6(1),N.Q6J("cdkPortalOutlet",ie._actionsPortal),N.xp6(1),N.ekj("cdk-visually-hidden",!ie._closeButtonFocused),N.Q6J("color",ie.color||"primary"),N.xp6(1),N.Oqu(ie._closeButtonText)}},dependencies:[Se.mk,et.lW,m.mK,A.Pl,z],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ue.transformPanel,ue.fadeInCalendar]},changeDetection:0}),be})(),qe=(()=>{class be{constructor(O,ie,Re,bt,Sn,fi,Di){this._overlay=O,this._ngZone=ie,this._viewContainerRef=Re,this._dateAdapter=Sn,this._dir=fi,this._model=Di,this._inputStateChanges=X.w0.EMPTY,this._document=(0,N.f3M)(Se.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new N.vpe,this.monthSelected=new N.vpe,this.viewChanged=new N.vpe(!0),this.openedStream=new N.vpe,this.closedStream=new N.vpe,this._opened=!1,this.id="mat-datepicker-"+J++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ge.x,this._scrollStrategy=bt}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(O){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(O){this._color=O}get touchUi(){return this._touchUi}set touchUi(O){this._touchUi=(0,mt.Ig)(O)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(O){const ie=(0,mt.Ig)(O);ie!==this._disabled&&(this._disabled=ie,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(O){this._restoreFocus=(0,mt.Ig)(O)}get panelClass(){return this._panelClass}set panelClass(O){this._panelClass=(0,mt.du)(O)}get opened(){return this._opened}set opened(O){(0,mt.Ig)(O)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(O){const ie=O.xPosition||O.yPosition;if(ie&&!ie.firstChange&&this._overlayRef){const Re=this._overlayRef.getConfig().positionStrategy;Re instanceof h._G&&(this._setConnectedPositions(Re),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(O){this._model.add(O)}_selectYear(O){this.yearSelected.emit(O)}_selectMonth(O){this.monthSelected.emit(O)}_viewChanged(O){this.viewChanged.emit(O)}registerInput(O){return this._inputStateChanges.unsubscribe(),this.datepickerInput=O,this._inputStateChanges=O.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(O){this._actionsPortal=O,this._componentRef?.instance._assignActions(O,!0)}removeActions(O){O===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,jt.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const O=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,ie=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Re,location:bt}=this._componentRef;Re._startExitAnimation(),Re._animationDone.pipe((0,dt.q)(1)).subscribe(()=>{const Sn=this._document.activeElement;O&&(!Sn||Sn===this._document.activeElement||bt.nativeElement.contains(Sn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}O?setTimeout(ie):ie()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(O){O.datepicker=this,O.color=this.color,O._dialogLabelId=this.datepickerInput.getOverlayLabelId(),O._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const O=this.touchUi,ie=new A.C5(We,this._viewContainerRef),Re=this._overlayRef=this._overlay.create(new h.X_({positionStrategy:O?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[O?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:O?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(O?"dialog":"popup")}));this._getCloseStream(Re).subscribe(bt=>{bt&&bt.preventDefault(),this.close()}),Re.keydownEvents().subscribe(bt=>{const Sn=bt.keyCode;(Sn===Ge.LH||Sn===Ge.JH||Sn===Ge.oh||Sn===Ge.SV||Sn===Ge.Ku||Sn===Ge.VM)&&bt.preventDefault()}),this._componentRef=Re.attach(ie),this._forwardContentValues(this._componentRef.instance),O||this._ngZone.onStable.pipe((0,dt.q)(1)).subscribe(()=>Re.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const O=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(O)}_setConnectedPositions(O){const ie="end"===this.xPosition?"end":"start",Re="start"===ie?"end":"start",bt="above"===this.yPosition?"bottom":"top",Sn="top"===bt?"bottom":"top";return O.withPositions([{originX:ie,originY:Sn,overlayX:ie,overlayY:bt},{originX:ie,originY:bt,overlayX:ie,overlayY:Sn},{originX:Re,originY:Sn,overlayX:Re,overlayY:bt},{originX:Re,originY:bt,overlayX:Re,overlayY:Sn}])}_getCloseStream(O){return(0,ye.T)(O.backdropClick(),O.detachments(),O.keydownEvents().pipe((0,Ue.h)(ie=>ie.keyCode===Ge.hY&&!(0,Ge.Vb)(ie)||this.datepickerInput&&(0,Ge.Vb)(ie,"altKey")&&ie.keyCode===Ge.LH)))}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(h.aV),N.Y36(N.R0b),N.Y36(N.s_b),N.Y36(ft),N.Y36(pe._A,8),N.Y36(ut.Is,8),N.Y36(Qn))},be.\u0275dir=N.lG2({type:be,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[N.TTD]}),be})(),Ce=(()=>{class be extends qe{}return be.\u0275fac=function(){let ht;return function(ie){return(ht||(ht=N.n5z(be)))(ie||be)}}(),be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[N._Bn([me,{provide:qe,useExisting:be}]),N.qOj],decls:0,vars:0,template:function(O,ie){},encapsulation:2,changeDetection:0}),be})();class Te{constructor(ht,O){this.target=ht,this.targetElement=O,this.value=this.target.value}}let ne=(()=>{class be{constructor(O,ie,Re){this._elementRef=O,this._dateAdapter=ie,this._dateFormats=Re,this.dateChange=new N.vpe,this.dateInput=new N.vpe,this.stateChanges=new ge.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=X.w0.EMPTY,this._localeSubscription=X.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=bt=>{const Sn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(bt.value));return!Sn||this._matchesFilter(Sn)?null:{matDatepickerFilter:!0}},this._minValidator=bt=>{const Sn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(bt.value)),fi=this._getMinDate();return!fi||!Sn||this._dateAdapter.compareDate(fi,Sn)<=0?null:{matDatepickerMin:{min:fi,actual:Sn}}},this._maxValidator=bt=>{const Sn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(bt.value)),fi=this._getMaxDate();return!fi||!Sn||this._dateAdapter.compareDate(fi,Sn)>=0?null:{matDatepickerMax:{max:fi,actual:Sn}}},this._lastValueValid=!1,this._localeSubscription=ie.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(O){this._assignValueProgrammatically(O)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(O){const ie=(0,mt.Ig)(O),Re=this._elementRef.nativeElement;this._disabled!==ie&&(this._disabled=ie,this.stateChanges.next(void 0)),ie&&this._isInitialized&&Re.blur&&Re.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(O){this._model=O,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(ie=>{if(this._shouldHandleChangeEvent(ie)){const Re=this._getValueFromModel(ie.selection);this._lastValueValid=this._isValidValue(Re),this._cvaOnChange(Re),this._onTouched(),this._formatValue(Re),this.dateInput.emit(new Te(this,this._elementRef.nativeElement)),this.dateChange.emit(new Te(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(O){(function Ne(be,ht){const O=Object.keys(be);for(let ie of O){const{previousValue:Re,currentValue:bt}=be[ie];if(!ht.isDateInstance(Re)||!ht.isDateInstance(bt))return!0;if(!ht.sameDate(Re,bt))return!0}return!1})(O,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(O){this._validatorOnChange=O}validate(O){return this._validator?this._validator(O):null}writeValue(O){this._assignValueProgrammatically(O)}registerOnChange(O){this._cvaOnChange=O}registerOnTouched(O){this._onTouched=O}setDisabledState(O){this.disabled=O}_onKeydown(O){O.altKey&&O.keyCode===Ge.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),O.preventDefault())}_onInput(O){const ie=this._lastValueValid;let Re=this._dateAdapter.parse(O,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Re),Re=this._dateAdapter.getValidDateOrNull(Re);const bt=!this._dateAdapter.sameDate(Re,this.value);!Re||bt?this._cvaOnChange(Re):(O&&!this.value&&this._cvaOnChange(Re),ie!==this._lastValueValid&&this._validatorOnChange()),bt&&(this._assignValue(Re),this.dateInput.emit(new Te(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Te(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(O){this._elementRef.nativeElement.value=null!=O?this._dateAdapter.format(O,this._dateFormats.display.dateInput):""}_assignValue(O){this._model?(this._assignValueToModel(O),this._pendingValue=null):this._pendingValue=O}_isValidValue(O){return!O||this._dateAdapter.isValid(O)}_parentDisabled(){return!1}_assignValueProgrammatically(O){O=this._dateAdapter.deserialize(O),this._lastValueValid=this._isValidValue(O),O=this._dateAdapter.getValidDateOrNull(O),this._assignValue(O),this._formatValue(O)}_matchesFilter(O){const ie=this._getDateFilter();return!ie||ie(O)}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.SBq),N.Y36(pe._A,8),N.Y36(pe.sG,8))},be.\u0275dir=N.lG2({type:be,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[N.TTD]}),be})();const _t={provide:at.JU,useExisting:(0,N.Gpc)(()=>Ye),multi:!0},Ke={provide:at.Cf,useExisting:(0,N.Gpc)(()=>Ye),multi:!0};let Ye=(()=>{class be extends ne{constructor(O,ie,Re,bt){super(O,ie,Re),this._formField=bt,this._closedSubscription=X.w0.EMPTY,this._validator=at.kI.compose(super._getValidators())}set matDatepicker(O){O&&(this._datepicker=O,this._closedSubscription=O.closedStream.subscribe(()=>this._onTouched()),this._registerModel(O.registerInput(this)))}get min(){return this._min}set min(O){const ie=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O));this._dateAdapter.sameDate(ie,this._min)||(this._min=ie,this._validatorOnChange())}get max(){return this._max}set max(O){const ie=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(O));this._dateAdapter.sameDate(ie,this._max)||(this._max=ie,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(O){const ie=this._matchesFilter(this.value);this._dateFilter=O,this._matchesFilter(this.value)!==ie&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(O){return O}_assignValueToModel(O){this._model&&this._model.updateSelection(O,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(O){return O.source!==this}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(N.SBq),N.Y36(pe._A,8),N.Y36(pe.sG,8),N.Y36(He.G_,8))},be.\u0275dir=N.lG2({type:be,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(O,ie){1&O&&N.NdJ("input",function(bt){return ie._onInput(bt.target.value)})("change",function(){return ie._onChange()})("blur",function(){return ie._onBlur()})("keydown",function(bt){return ie._onKeydown(bt)}),2&O&&(N.Ikx("disabled",ie.disabled),N.uIk("aria-haspopup",ie._datepicker?"dialog":null)("aria-owns",(null==ie._datepicker?null:ie._datepicker.opened)&&ie._datepicker.id||null)("min",ie.min?ie._dateAdapter.toIso8601(ie.min):null)("max",ie.max?ie._dateAdapter.toIso8601(ie.max):null)("data-mat-calendar",ie._datepicker?ie._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[N._Bn([_t,Ke,{provide:je.Jk,useExisting:be}]),N.qOj]}),be})(),Pe=(()=>{class be{}return be.\u0275fac=function(O){return new(O||be)},be.\u0275dir=N.lG2({type:be,selectors:[["","matDatepickerToggleIcon",""]]}),be})(),re=(()=>{class be{constructor(O,ie,Re){this._intl=O,this._changeDetectorRef=ie,this._stateChanges=X.w0.EMPTY;const bt=Number(Re);this.tabIndex=bt||0===bt?bt:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(O){this._disabled=(0,mt.Ig)(O)}ngOnChanges(O){O.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(O){this.datepicker&&!this.disabled&&(this.datepicker.open(),O.stopPropagation())}_watchStateChanges(){const O=this.datepicker?this.datepicker.stateChanges:(0,we.of)(),ie=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,we.of)(),Re=this.datepicker?(0,ye.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,we.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,ye.T)(this._intl.changes,O,ie,Re).subscribe(()=>this._changeDetectorRef.markForCheck())}}return be.\u0275fac=function(O){return new(O||be)(N.Y36(gn),N.Y36(N.sBO),N.$8M("tabindex"))},be.\u0275cmp=N.Xpm({type:be,selectors:[["mat-datepicker-toggle"]],contentQueries:function(O,ie,Re){if(1&O&&N.Suo(Re,Pe,5),2&O){let bt;N.iGM(bt=N.CRH())&&(ie._customIcon=bt.first)}},viewQuery:function(O,ie){if(1&O&&N.Gf(nn,5),2&O){let Re;N.iGM(Re=N.CRH())&&(ie._button=Re.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(O,ie){1&O&&N.NdJ("click",function(bt){return ie._open(bt)}),2&O&&(N.uIk("tabindex",null)("data-mat-calendar",ie.datepicker?ie.datepicker.id:null),N.ekj("mat-datepicker-toggle-active",ie.datepicker&&ie.datepicker.opened)("mat-accent",ie.datepicker&&"accent"===ie.datepicker.color)("mat-warn",ie.datepicker&&"warn"===ie.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[N.TTD],ngContentSelectors:$t,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(O,ie){1&O&&(N.F$t(qt),N.TgZ(0,"button",0,1),N.YNc(2,wt,2,0,"svg",2),N.Hsn(3),N.qZA()),2&O&&(N.Q6J("disabled",ie.disabled)("disableRipple",ie.disableRipple),N.uIk("aria-haspopup",ie.datepicker?"dialog":null)("aria-label",ie.ariaLabel||ie._intl.openCalendarLabel)("tabindex",ie.disabled?-1:ie.tabIndex),N.xp6(2),N.Q6J("ngIf",!ie._customIcon))},dependencies:[Se.O5,et.lW],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),be})(),St=(()=>{class be{}return be.\u0275fac=function(O){return new(O||be)},be.\u0275mod=N.oAB({type:be}),be.\u0275inj=N.cJS({providers:[gn,It],imports:[Se.ez,et.ot,h.U8,m.rt,A.eL,pe.BQ,tt.ZD]}),be})()},9549:(bn,Tt,S)=>{S.d(Tt,{Eo:()=>fn,G_:()=>vn,KE:()=>Be,R9:()=>kn,TO:()=>Zt,bx:()=>Qt,hX:()=>Cn,lN:()=>ae});var m=S(9643),h=S(6895),A=S(4650),Se=S(3238),N=S(445),et=S(1281),tt=S(7579),pe=S(6451),ge=S(4968),X=S(8675),ye=S(2722),we=S(5698),Ge=S(7340),ut=S(3353);const dt=["connectionContainer"],Pt=["inputContainer"],Ue=["label"];function mt(me,nt){1&me&&(A.ynx(0),A.TgZ(1,"div",14),A._UZ(2,"div",15)(3,"div",16)(4,"div",17),A.qZA(),A.TgZ(5,"div",18),A._UZ(6,"div",15)(7,"div",16)(8,"div",17),A.qZA(),A.BQk())}function jt(me,nt){if(1&me){const Ze=A.EpF();A.TgZ(0,"div",19),A.NdJ("cdkObserveContent",function(){A.CHM(Ze);const Wt=A.oxw();return A.KtG(Wt.updateOutlineGap())}),A.Hsn(1,1),A.qZA()}if(2&me){const Ze=A.oxw();A.Q6J("cdkObserveContentDisabled","outline"!=Ze.appearance)}}function kt(me,nt){if(1&me&&(A.ynx(0),A.Hsn(1,2),A.TgZ(2,"span"),A._uU(3),A.qZA(),A.BQk()),2&me){const Ze=A.oxw(2);A.xp6(3),A.Oqu(Ze._control.placeholder)}}function at(me,nt){1&me&&A.Hsn(0,3,["*ngSwitchCase","true"])}function He(me,nt){1&me&&(A.TgZ(0,"span",23),A._uU(1," *"),A.qZA())}function je(me,nt){if(1&me){const Ze=A.EpF();A.TgZ(0,"label",20,21),A.NdJ("cdkObserveContent",function(){A.CHM(Ze);const Wt=A.oxw();return A.KtG(Wt.updateOutlineGap())}),A.YNc(2,kt,4,1,"ng-container",12),A.YNc(3,at,1,0,"ng-content",12),A.YNc(4,He,2,0,"span",22),A.qZA()}if(2&me){const Ze=A.oxw();A.ekj("mat-empty",Ze._control.empty&&!Ze._shouldAlwaysFloat())("mat-form-field-empty",Ze._control.empty&&!Ze._shouldAlwaysFloat())("mat-accent","accent"==Ze.color)("mat-warn","warn"==Ze.color),A.Q6J("cdkObserveContentDisabled","outline"!=Ze.appearance)("id",Ze._labelId)("ngSwitch",Ze._hasLabel()),A.uIk("for",Ze._control.id)("aria-owns",Ze._control.id),A.xp6(2),A.Q6J("ngSwitchCase",!1),A.xp6(1),A.Q6J("ngSwitchCase",!0),A.xp6(1),A.Q6J("ngIf",!Ze.hideRequiredMarker&&Ze._control.required&&!Ze._control.disabled)}}function $e(me,nt){1&me&&(A.TgZ(0,"div",24),A.Hsn(1,4),A.qZA())}function Oe(me,nt){if(1&me&&(A.TgZ(0,"div",25),A._UZ(1,"span",26),A.qZA()),2&me){const Ze=A.oxw();A.xp6(1),A.ekj("mat-accent","accent"==Ze.color)("mat-warn","warn"==Ze.color)}}function rt(me,nt){if(1&me&&(A.TgZ(0,"div"),A.Hsn(1,5),A.qZA()),2&me){const Ze=A.oxw();A.Q6J("@transitionMessages",Ze._subscriptAnimationState)}}function ot(me,nt){if(1&me&&(A.TgZ(0,"div",30),A._uU(1),A.qZA()),2&me){const Ze=A.oxw(2);A.Q6J("id",Ze._hintLabelId),A.xp6(1),A.Oqu(Ze.hintLabel)}}function st(me,nt){if(1&me&&(A.TgZ(0,"div",27),A.YNc(1,ot,2,2,"div",28),A.Hsn(2,6),A._UZ(3,"div",29),A.Hsn(4,7),A.qZA()),2&me){const Ze=A.oxw();A.Q6J("@transitionMessages",Ze._subscriptAnimationState),A.xp6(1),A.Q6J("ngIf",Ze.hintLabel)}}const pt=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Rt=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let At=0;const Jt=new A.OlP("MatError");let Zt=(()=>{class me{constructor(Ze,Ct){this.id="mat-error-"+At++,Ze||Ct.nativeElement.setAttribute("aria-live","polite")}}return me.\u0275fac=function(Ze){return new(Ze||me)(A.$8M("aria-live"),A.Y36(A.SBq))},me.\u0275dir=A.lG2({type:me,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Ze,Ct){2&Ze&&A.uIk("id",Ct.id)},inputs:{id:"id"},features:[A._Bn([{provide:Jt,useExisting:me}])]}),me})();const on={transitionMessages:(0,Ge.X$)("transitionMessages",[(0,Ge.SB)("enter",(0,Ge.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ge.eR)("void => enter",[(0,Ge.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ge.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fn=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275dir=A.lG2({type:me}),me})(),$t=0;const rn=new A.OlP("MatHint");let Qt=(()=>{class me{constructor(){this.align="start",this.id="mat-hint-"+$t++}}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275dir=A.lG2({type:me,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(Ze,Ct){2&Ze&&(A.uIk("id",Ct.id)("align",null),A.ekj("mat-form-field-hint-end","end"===Ct.align))},inputs:{align:"align",id:"id"},features:[A._Bn([{provide:rn,useExisting:me}])]}),me})(),Cn=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275dir=A.lG2({type:me,selectors:[["mat-label"]]}),me})(),Xt=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275dir=A.lG2({type:me,selectors:[["mat-placeholder"]]}),me})();const gn=new A.OlP("MatPrefix"),Un=new A.OlP("MatSuffix");let kn=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275dir=A.lG2({type:me,selectors:[["","matSuffix",""]],features:[A._Bn([{provide:Un,useExisting:me}])]}),me})(),Wn=0;const Gn=(0,Se.pj)(class{constructor(me){this._elementRef=me}},"primary"),Qn=new A.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vn=new A.OlP("MatFormField");let Be=(()=>{class me extends Gn{constructor(Ze,Ct,Wt,cn,Gt,yt,Le){super(Ze),this._changeDetectorRef=Ct,this._dir=Wt,this._defaults=cn,this._platform=Gt,this._ngZone=yt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new tt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Wn++,this._labelId="mat-form-field-label-"+Wn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Le,this.appearance=cn?.appearance||"legacy",cn&&(this._hideRequiredMarker=Boolean(cn.hideRequiredMarker),cn.color&&(this.color=this.defaultColor=cn.color))}get appearance(){return this._appearance}set appearance(Ze){const Ct=this._appearance;this._appearance=Ze||this._defaults?.appearance||"legacy","outline"===this._appearance&&Ct!==Ze&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ze){this._hideRequiredMarker=(0,et.Ig)(Ze)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Ze){this._hintLabel=Ze,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Ze){Ze!==this._floatLabel&&(this._floatLabel=Ze||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Ze){this._explicitFormFieldControl=Ze}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Ze=this._control;Ze.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Ze.controlType}`),Ze.stateChanges.pipe((0,X.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ze.ngControl&&Ze.ngControl.valueChanges&&Ze.ngControl.valueChanges.pipe((0,ye.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ye.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,pe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,X.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,X.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,ye.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Ze){const Ct=this._control?this._control.ngControl:null;return Ct&&Ct[Ze]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ge.R)(this._label.nativeElement,"transitionend").pipe((0,we.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Ze=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ze.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ct=this._hintChildren?this._hintChildren.find(cn=>"start"===cn.align):null,Wt=this._hintChildren?this._hintChildren.find(cn=>"end"===cn.align):null;Ct?Ze.push(Ct.id):this._hintLabel&&Ze.push(this._hintLabelId),Wt&&Ze.push(Wt.id)}else this._errorChildren&&Ze.push(...this._errorChildren.map(Ct=>Ct.id));this._control.setDescribedByIds(Ze)}}_validateControlChild(){}updateOutlineGap(){const Ze=this._label?this._label.nativeElement:null,Ct=this._connectionContainerRef.nativeElement,Wt=".mat-form-field-outline-start",cn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Ze||!Ze.children.length||!Ze.textContent.trim()){const Ht=Ct.querySelectorAll(`${Wt}, ${cn}`);for(let un=0;un<Ht.length;un++)Ht[un].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Gt=0,yt=0;const Le=Ct.querySelectorAll(Wt),vt=Ct.querySelectorAll(cn);if(this._label&&this._label.nativeElement.children.length){const Ht=Ct.getBoundingClientRect();if(0===Ht.width&&0===Ht.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const un=this._getStartEnd(Ht),Rn=Ze.children,_n=this._getStartEnd(Rn[0].getBoundingClientRect());let Ot=0;for(let Mt=0;Mt<Rn.length;Mt++)Ot+=Rn[Mt].offsetWidth;Gt=Math.abs(_n-un)-5,yt=Ot>0?.75*Ot+10:0}for(let Ht=0;Ht<Le.length;Ht++)Le[Ht].style.width=`${Gt}px`;for(let Ht=0;Ht<vt.length;Ht++)vt[Ht].style.width=`${yt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Ze){return this._dir&&"rtl"===this._dir.value?Ze.right:Ze.left}_isAttachedToDOM(){const Ze=this._elementRef.nativeElement;if(Ze.getRootNode){const Ct=Ze.getRootNode();return Ct&&Ct!==Ze}return document.documentElement.contains(Ze)}}return me.\u0275fac=function(Ze){return new(Ze||me)(A.Y36(A.SBq),A.Y36(A.sBO),A.Y36(N.Is,8),A.Y36(Qn,8),A.Y36(ut.t4),A.Y36(A.R0b),A.Y36(A.QbO,8))},me.\u0275cmp=A.Xpm({type:me,selectors:[["mat-form-field"]],contentQueries:function(Ze,Ct,Wt){if(1&Ze&&(A.Suo(Wt,fn,5),A.Suo(Wt,fn,7),A.Suo(Wt,Cn,5),A.Suo(Wt,Cn,7),A.Suo(Wt,Xt,5),A.Suo(Wt,Jt,5),A.Suo(Wt,rn,5),A.Suo(Wt,gn,5),A.Suo(Wt,Un,5)),2&Ze){let cn;A.iGM(cn=A.CRH())&&(Ct._controlNonStatic=cn.first),A.iGM(cn=A.CRH())&&(Ct._controlStatic=cn.first),A.iGM(cn=A.CRH())&&(Ct._labelChildNonStatic=cn.first),A.iGM(cn=A.CRH())&&(Ct._labelChildStatic=cn.first),A.iGM(cn=A.CRH())&&(Ct._placeholderChild=cn.first),A.iGM(cn=A.CRH())&&(Ct._errorChildren=cn),A.iGM(cn=A.CRH())&&(Ct._hintChildren=cn),A.iGM(cn=A.CRH())&&(Ct._prefixChildren=cn),A.iGM(cn=A.CRH())&&(Ct._suffixChildren=cn)}},viewQuery:function(Ze,Ct){if(1&Ze&&(A.Gf(dt,7),A.Gf(Pt,5),A.Gf(Ue,5)),2&Ze){let Wt;A.iGM(Wt=A.CRH())&&(Ct._connectionContainerRef=Wt.first),A.iGM(Wt=A.CRH())&&(Ct._inputContainerRef=Wt.first),A.iGM(Wt=A.CRH())&&(Ct._label=Wt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Ze,Ct){2&Ze&&A.ekj("mat-form-field-appearance-standard","standard"==Ct.appearance)("mat-form-field-appearance-fill","fill"==Ct.appearance)("mat-form-field-appearance-outline","outline"==Ct.appearance)("mat-form-field-appearance-legacy","legacy"==Ct.appearance)("mat-form-field-invalid",Ct._control.errorState)("mat-form-field-can-float",Ct._canLabelFloat())("mat-form-field-should-float",Ct._shouldLabelFloat())("mat-form-field-has-label",Ct._hasFloatingLabel())("mat-form-field-hide-placeholder",Ct._hideControlPlaceholder())("mat-form-field-disabled",Ct._control.disabled)("mat-form-field-autofilled",Ct._control.autofilled)("mat-focused",Ct._control.focused)("ng-untouched",Ct._shouldForward("untouched"))("ng-touched",Ct._shouldForward("touched"))("ng-pristine",Ct._shouldForward("pristine"))("ng-dirty",Ct._shouldForward("dirty"))("ng-valid",Ct._shouldForward("valid"))("ng-invalid",Ct._shouldForward("invalid"))("ng-pending",Ct._shouldForward("pending"))("_mat-animation-noopable",!Ct._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[A._Bn([{provide:vn,useExisting:me}]),A.qOj],ngContentSelectors:Rt,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Ze,Ct){1&Ze&&(A.F$t(pt),A.TgZ(0,"div",0)(1,"div",1,2),A.NdJ("click",function(cn){return Ct._control.onContainerClick&&Ct._control.onContainerClick(cn)}),A.YNc(3,mt,9,0,"ng-container",3),A.YNc(4,jt,2,1,"div",4),A.TgZ(5,"div",5,6),A.Hsn(7),A.TgZ(8,"span",7),A.YNc(9,je,5,16,"label",8),A.qZA()(),A.YNc(10,$e,2,0,"div",9),A.qZA(),A.YNc(11,Oe,2,4,"div",10),A.TgZ(12,"div",11),A.YNc(13,rt,2,1,"div",12),A.YNc(14,st,5,2,"div",13),A.qZA()()),2&Ze&&(A.xp6(3),A.Q6J("ngIf","outline"==Ct.appearance),A.xp6(1),A.Q6J("ngIf",Ct._prefixChildren.length),A.xp6(5),A.Q6J("ngIf",Ct._hasFloatingLabel()),A.xp6(1),A.Q6J("ngIf",Ct._suffixChildren.length),A.xp6(1),A.Q6J("ngIf","outline"!=Ct.appearance),A.xp6(1),A.Q6J("ngSwitch",Ct._getDisplayedMessages()),A.xp6(1),A.Q6J("ngSwitchCase","error"),A.xp6(1),A.Q6J("ngSwitchCase","hint"))},dependencies:[h.O5,h.RF,h.n9,m.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[on.transitionMessages]},changeDetection:0}),me})(),ae=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=A.oAB({type:me}),me.\u0275inj=A.cJS({imports:[h.ez,Se.BQ,m.Q8,Se.BQ]}),me})()},3336:(bn,Tt,S)=>{S.d(Tt,{Hw:()=>de,Ps:()=>_e});var m=S(4650),h=S(3238),A=S(1281),Se=S(6895),N=S(9646),et=S(2843),tt=S(4128),pe=S(727),ge=S(8505),X=S(4004),ye=S(262),we=S(8746),Ge=S(3099),ut=S(5698),dt=S(4351),Pt=S(9300);class Ue{}class jt{constructor(ve){this.normalizedNames=new Map,this.lazyUpdate=null,ve?this.lazyInit="string"==typeof ve?()=>{this.headers=new Map,ve.split("\n").forEach(Ee=>{const H=Ee.indexOf(":");if(H>0){const ce=Ee.slice(0,H),V=ce.toLowerCase(),le=Ee.slice(H+1).trim();this.maybeSetNormalizedName(ce,V),this.headers.has(V)?this.headers.get(V).push(le):this.headers.set(V,[le])}})}:()=>{this.headers=new Map,Object.keys(ve).forEach(Ee=>{let H=ve[Ee];const ce=Ee.toLowerCase();"string"==typeof H&&(H=[H]),H.length>0&&(this.headers.set(ce,H),this.maybeSetNormalizedName(Ee,ce))})}:this.headers=new Map}has(ve){return this.init(),this.headers.has(ve.toLowerCase())}get(ve){this.init();const Ee=this.headers.get(ve.toLowerCase());return Ee&&Ee.length>0?Ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ve){return this.init(),this.headers.get(ve.toLowerCase())||null}append(ve,Ee){return this.clone({name:ve,value:Ee,op:"a"})}set(ve,Ee){return this.clone({name:ve,value:Ee,op:"s"})}delete(ve,Ee){return this.clone({name:ve,value:Ee,op:"d"})}maybeSetNormalizedName(ve,Ee){this.normalizedNames.has(Ee)||this.normalizedNames.set(Ee,ve)}init(){this.lazyInit&&(this.lazyInit instanceof jt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ve=>this.applyUpdate(ve)),this.lazyUpdate=null))}copyFrom(ve){ve.init(),Array.from(ve.headers.keys()).forEach(Ee=>{this.headers.set(Ee,ve.headers.get(Ee)),this.normalizedNames.set(Ee,ve.normalizedNames.get(Ee))})}clone(ve){const Ee=new jt;return Ee.lazyInit=this.lazyInit&&this.lazyInit instanceof jt?this.lazyInit:this,Ee.lazyUpdate=(this.lazyUpdate||[]).concat([ve]),Ee}applyUpdate(ve){const Ee=ve.name.toLowerCase();switch(ve.op){case"a":case"s":let H=ve.value;if("string"==typeof H&&(H=[H]),0===H.length)return;this.maybeSetNormalizedName(ve.name,Ee);const ce=("a"===ve.op?this.headers.get(Ee):void 0)||[];ce.push(...H),this.headers.set(Ee,ce);break;case"d":const V=ve.value;if(V){let le=this.headers.get(Ee);if(!le)return;le=le.filter(Ve=>-1===V.indexOf(Ve)),0===le.length?(this.headers.delete(Ee),this.normalizedNames.delete(Ee)):this.headers.set(Ee,le)}else this.headers.delete(Ee),this.normalizedNames.delete(Ee)}}forEach(ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ee=>ve(this.normalizedNames.get(Ee),this.headers.get(Ee)))}}class at{encodeKey(ve){return Oe(ve)}encodeValue(ve){return Oe(ve)}decodeKey(ve){return decodeURIComponent(ve)}decodeValue(ve){return decodeURIComponent(ve)}}const je=/%(\d[a-f0-9])/gi,$e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oe(Ie){return encodeURIComponent(Ie).replace(je,(ve,Ee)=>$e[Ee]??ve)}function rt(Ie){return`${Ie}`}class ot{constructor(ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ve.encoder||new at,ve.fromString){if(ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function He(Ie,ve){const Ee=new Map;return Ie.length>0&&Ie.replace(/^\?/,"").split("&").forEach(ce=>{const V=ce.indexOf("="),[le,Ve]=-1==V?[ve.decodeKey(ce),""]:[ve.decodeKey(ce.slice(0,V)),ve.decodeValue(ce.slice(V+1))],xe=Ee.get(le)||[];xe.push(Ve),Ee.set(le,xe)}),Ee}(ve.fromString,this.encoder)}else ve.fromObject?(this.map=new Map,Object.keys(ve.fromObject).forEach(Ee=>{const H=ve.fromObject[Ee],ce=Array.isArray(H)?H.map(rt):[rt(H)];this.map.set(Ee,ce)})):this.map=null}has(ve){return this.init(),this.map.has(ve)}get(ve){this.init();const Ee=this.map.get(ve);return Ee?Ee[0]:null}getAll(ve){return this.init(),this.map.get(ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ve,Ee){return this.clone({param:ve,value:Ee,op:"a"})}appendAll(ve){const Ee=[];return Object.keys(ve).forEach(H=>{const ce=ve[H];Array.isArray(ce)?ce.forEach(V=>{Ee.push({param:H,value:V,op:"a"})}):Ee.push({param:H,value:ce,op:"a"})}),this.clone(Ee)}set(ve,Ee){return this.clone({param:ve,value:Ee,op:"s"})}delete(ve,Ee){return this.clone({param:ve,value:Ee,op:"d"})}toString(){return this.init(),this.keys().map(ve=>{const Ee=this.encoder.encodeKey(ve);return this.map.get(ve).map(H=>Ee+"="+this.encoder.encodeValue(H)).join("&")}).filter(ve=>""!==ve).join("&")}clone(ve){const Ee=new ot({encoder:this.encoder});return Ee.cloneFrom=this.cloneFrom||this,Ee.updates=(this.updates||[]).concat(ve),Ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ve=>this.map.set(ve,this.cloneFrom.map.get(ve))),this.updates.forEach(ve=>{switch(ve.op){case"a":case"s":const Ee=("a"===ve.op?this.map.get(ve.param):void 0)||[];Ee.push(rt(ve.value)),this.map.set(ve.param,Ee);break;case"d":if(void 0===ve.value){this.map.delete(ve.param);break}{let H=this.map.get(ve.param)||[];const ce=H.indexOf(rt(ve.value));-1!==ce&&H.splice(ce,1),H.length>0?this.map.set(ve.param,H):this.map.delete(ve.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(ve,Ee){return this.map.set(ve,Ee),this}get(ve){return this.map.has(ve)||this.map.set(ve,ve.defaultValue()),this.map.get(ve)}delete(ve){return this.map.delete(ve),this}has(ve){return this.map.has(ve)}keys(){return this.map.keys()}}function At(Ie){return typeof ArrayBuffer<"u"&&Ie instanceof ArrayBuffer}function Jt(Ie){return typeof Blob<"u"&&Ie instanceof Blob}function Zt(Ie){return typeof FormData<"u"&&Ie instanceof FormData}class fn{constructor(ve,Ee,H,ce){let V;if(this.url=Ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ve.toUpperCase(),function Rt(Ie){switch(Ie){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ce?(this.body=void 0!==H?H:null,V=ce):V=H,V&&(this.reportProgress=!!V.reportProgress,this.withCredentials=!!V.withCredentials,V.responseType&&(this.responseType=V.responseType),V.headers&&(this.headers=V.headers),V.context&&(this.context=V.context),V.params&&(this.params=V.params)),this.headers||(this.headers=new jt),this.context||(this.context=new pt),this.params){const le=this.params.toString();if(0===le.length)this.urlWithParams=Ee;else{const Ve=Ee.indexOf("?");this.urlWithParams=Ee+(-1===Ve?"?":Ve<Ee.length-1?"&":"")+le}}else this.params=new ot,this.urlWithParams=Ee}serializeBody(){return null===this.body?null:At(this.body)||Jt(this.body)||Zt(this.body)||function on(Ie){return typeof URLSearchParams<"u"&&Ie instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ot?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zt(this.body)?null:Jt(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ot?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ve={}){const Ee=ve.method||this.method,H=ve.url||this.url,ce=ve.responseType||this.responseType,V=void 0!==ve.body?ve.body:this.body,le=void 0!==ve.withCredentials?ve.withCredentials:this.withCredentials,Ve=void 0!==ve.reportProgress?ve.reportProgress:this.reportProgress;let xe=ve.headers||this.headers,St=ve.params||this.params;const be=ve.context??this.context;return void 0!==ve.setHeaders&&(xe=Object.keys(ve.setHeaders).reduce((ht,O)=>ht.set(O,ve.setHeaders[O]),xe)),ve.setParams&&(St=Object.keys(ve.setParams).reduce((ht,O)=>ht.set(O,ve.setParams[O]),St)),new fn(Ee,H,V,{params:St,headers:xe,context:be,reportProgress:Ve,responseType:ce,withCredentials:le})}}var nn=(()=>((nn=nn||{})[nn.Sent=0]="Sent",nn[nn.UploadProgress=1]="UploadProgress",nn[nn.ResponseHeader=2]="ResponseHeader",nn[nn.DownloadProgress=3]="DownloadProgress",nn[nn.Response=4]="Response",nn[nn.User=5]="User",nn))();class $t extends class wt{constructor(ve,Ee=200,H="OK"){this.headers=ve.headers||new jt,this.status=void 0!==ve.status?ve.status:Ee,this.statusText=ve.statusText||H,this.url=ve.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(ve={}){super(ve),this.type=nn.Response,this.body=void 0!==ve.body?ve.body:null}clone(ve={}){return new $t({body:void 0!==ve.body?ve.body:this.body,headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}function Qt(Ie,ve){return{body:ve,headers:Ie.headers,context:Ie.context,observe:Ie.observe,params:Ie.params,reportProgress:Ie.reportProgress,responseType:Ie.responseType,withCredentials:Ie.withCredentials}}let Cn=(()=>{class Ie{constructor(Ee){this.handler=Ee}request(Ee,H,ce={}){let V;if(Ee instanceof fn)V=Ee;else{let xe,St;xe=ce.headers instanceof jt?ce.headers:new jt(ce.headers),ce.params&&(St=ce.params instanceof ot?ce.params:new ot({fromObject:ce.params})),V=new fn(Ee,H,void 0!==ce.body?ce.body:null,{headers:xe,context:ce.context,params:St,reportProgress:ce.reportProgress,responseType:ce.responseType||"json",withCredentials:ce.withCredentials})}const le=(0,N.of)(V).pipe((0,dt.b)(xe=>this.handler.handle(xe)));if(Ee instanceof fn||"events"===ce.observe)return le;const Ve=le.pipe((0,Pt.h)(xe=>xe instanceof $t));switch(ce.observe||"body"){case"body":switch(V.responseType){case"arraybuffer":return Ve.pipe((0,X.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xe.body}));case"blob":return Ve.pipe((0,X.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof Blob))throw new Error("Response is not a Blob.");return xe.body}));case"text":return Ve.pipe((0,X.U)(xe=>{if(null!==xe.body&&"string"!=typeof xe.body)throw new Error("Response is not a string.");return xe.body}));default:return Ve.pipe((0,X.U)(xe=>xe.body))}case"response":return Ve;default:throw new Error(`Unreachable: unhandled observe type ${ce.observe}}`)}}delete(Ee,H={}){return this.request("DELETE",Ee,H)}get(Ee,H={}){return this.request("GET",Ee,H)}head(Ee,H={}){return this.request("HEAD",Ee,H)}jsonp(Ee,H){return this.request("JSONP",Ee,{params:(new ot).append(H,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ee,H={}){return this.request("OPTIONS",Ee,H)}patch(Ee,H,ce={}){return this.request("PATCH",Ee,Qt(ce,H))}post(Ee,H,ce={}){return this.request("POST",Ee,Qt(ce,H))}put(Ee,H,ce={}){return this.request("PUT",Ee,Qt(ce,H))}}return Ie.\u0275fac=function(Ee){return new(Ee||Ie)(m.LFG(Ue))},Ie.\u0275prov=m.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();var Ot=S(1481);const Mt=["*"];let te;function K(Ie){return function oe(){if(void 0===te&&(te=null,typeof window<"u")){const Ie=window;void 0!==Ie.trustedTypes&&(te=Ie.trustedTypes.createPolicy("angular#components",{createHTML:ve=>ve}))}return te}()?.createHTML(Ie)||Ie}function z(Ie){return Error(`Unable to find icon with the name "${Ie}"`)}function J(Ie){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ie}".`)}function ft(Ie){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ie}".`)}class it{constructor(ve,Ee,H){this.url=ve,this.svgText=Ee,this.options=H}}let It=(()=>{class Ie{constructor(Ee,H,ce,V){this._httpClient=Ee,this._sanitizer=H,this._errorHandler=V,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ce}addSvgIcon(Ee,H,ce){return this.addSvgIconInNamespace("",Ee,H,ce)}addSvgIconLiteral(Ee,H,ce){return this.addSvgIconLiteralInNamespace("",Ee,H,ce)}addSvgIconInNamespace(Ee,H,ce,V){return this._addSvgIconConfig(Ee,H,new it(ce,null,V))}addSvgIconResolver(Ee){return this._resolvers.push(Ee),this}addSvgIconLiteralInNamespace(Ee,H,ce,V){const le=this._sanitizer.sanitize(m.q3G.HTML,ce);if(!le)throw ft(ce);const Ve=K(le);return this._addSvgIconConfig(Ee,H,new it("",Ve,V))}addSvgIconSet(Ee,H){return this.addSvgIconSetInNamespace("",Ee,H)}addSvgIconSetLiteral(Ee,H){return this.addSvgIconSetLiteralInNamespace("",Ee,H)}addSvgIconSetInNamespace(Ee,H,ce){return this._addSvgIconSetConfig(Ee,new it(H,null,ce))}addSvgIconSetLiteralInNamespace(Ee,H,ce){const V=this._sanitizer.sanitize(m.q3G.HTML,H);if(!V)throw ft(H);const le=K(V);return this._addSvgIconSetConfig(Ee,new it("",le,ce))}registerFontClassAlias(Ee,H=Ee){return this._fontCssClassesByAlias.set(Ee,H),this}classNameForFontAlias(Ee){return this._fontCssClassesByAlias.get(Ee)||Ee}setDefaultFontSetClass(...Ee){return this._defaultFontSetClass=Ee,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ee){const H=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,Ee);if(!H)throw J(Ee);const ce=this._cachedIconsByUrl.get(H);return ce?(0,N.of)(qe(ce)):this._loadSvgIconFromConfig(new it(Ee,null)).pipe((0,ge.b)(V=>this._cachedIconsByUrl.set(H,V)),(0,X.U)(V=>qe(V)))}getNamedSvgIcon(Ee,H=""){const ce=Ce(H,Ee);let V=this._svgIconConfigs.get(ce);if(V)return this._getSvgFromConfig(V);if(V=this._getIconConfigFromResolvers(H,Ee),V)return this._svgIconConfigs.set(ce,V),this._getSvgFromConfig(V);const le=this._iconSetConfigs.get(H);return le?this._getSvgFromIconSetConfigs(Ee,le):(0,et._)(z(ce))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ee){return Ee.svgText?(0,N.of)(qe(this._svgElementFromConfig(Ee))):this._loadSvgIconFromConfig(Ee).pipe((0,X.U)(H=>qe(H)))}_getSvgFromIconSetConfigs(Ee,H){const ce=this._extractIconWithNameFromAnySet(Ee,H);if(ce)return(0,N.of)(ce);const V=H.filter(le=>!le.svgText).map(le=>this._loadSvgIconSetFromConfig(le).pipe((0,ye.K)(Ve=>{const St=`Loading icon set URL: ${this._sanitizer.sanitize(m.q3G.RESOURCE_URL,le.url)} failed: ${Ve.message}`;return this._errorHandler.handleError(new Error(St)),(0,N.of)(null)})));return(0,tt.D)(V).pipe((0,X.U)(()=>{const le=this._extractIconWithNameFromAnySet(Ee,H);if(!le)throw z(Ee);return le}))}_extractIconWithNameFromAnySet(Ee,H){for(let ce=H.length-1;ce>=0;ce--){const V=H[ce];if(V.svgText&&V.svgText.toString().indexOf(Ee)>-1){const le=this._svgElementFromConfig(V),Ve=this._extractSvgIconFromSet(le,Ee,V.options);if(Ve)return Ve}}return null}_loadSvgIconFromConfig(Ee){return this._fetchIcon(Ee).pipe((0,ge.b)(H=>Ee.svgText=H),(0,X.U)(()=>this._svgElementFromConfig(Ee)))}_loadSvgIconSetFromConfig(Ee){return Ee.svgText?(0,N.of)(null):this._fetchIcon(Ee).pipe((0,ge.b)(H=>Ee.svgText=H))}_extractSvgIconFromSet(Ee,H,ce){const V=Ee.querySelector(`[id="${H}"]`);if(!V)return null;const le=V.cloneNode(!0);if(le.removeAttribute("id"),"svg"===le.nodeName.toLowerCase())return this._setSvgAttributes(le,ce);if("symbol"===le.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(le),ce);const Ve=this._svgElementFromString(K("<svg></svg>"));return Ve.appendChild(le),this._setSvgAttributes(Ve,ce)}_svgElementFromString(Ee){const H=this._document.createElement("DIV");H.innerHTML=Ee;const ce=H.querySelector("svg");if(!ce)throw Error("<svg> tag not found");return ce}_toSvgElement(Ee){const H=this._svgElementFromString(K("<svg></svg>")),ce=Ee.attributes;for(let V=0;V<ce.length;V++){const{name:le,value:Ve}=ce[V];"id"!==le&&H.setAttribute(le,Ve)}for(let V=0;V<Ee.childNodes.length;V++)Ee.childNodes[V].nodeType===this._document.ELEMENT_NODE&&H.appendChild(Ee.childNodes[V].cloneNode(!0));return H}_setSvgAttributes(Ee,H){return Ee.setAttribute("fit",""),Ee.setAttribute("height","100%"),Ee.setAttribute("width","100%"),Ee.setAttribute("preserveAspectRatio","xMidYMid meet"),Ee.setAttribute("focusable","false"),H&&H.viewBox&&Ee.setAttribute("viewBox",H.viewBox),Ee}_fetchIcon(Ee){const{url:H,options:ce}=Ee,V=ce?.withCredentials??!1;if(!this._httpClient)throw function ue(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==H)throw Error(`Cannot fetch icon from URL "${H}".`);const le=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,H);if(!le)throw J(H);const Ve=this._inProgressUrlFetches.get(le);if(Ve)return Ve;const xe=this._httpClient.get(le,{responseType:"text",withCredentials:V}).pipe((0,X.U)(St=>K(St)),(0,we.x)(()=>this._inProgressUrlFetches.delete(le)),(0,Ge.B)());return this._inProgressUrlFetches.set(le,xe),xe}_addSvgIconConfig(Ee,H,ce){return this._svgIconConfigs.set(Ce(Ee,H),ce),this}_addSvgIconSetConfig(Ee,H){const ce=this._iconSetConfigs.get(Ee);return ce?ce.push(H):this._iconSetConfigs.set(Ee,[H]),this}_svgElementFromConfig(Ee){if(!Ee.svgElement){const H=this._svgElementFromString(Ee.svgText);this._setSvgAttributes(H,Ee.options),Ee.svgElement=H}return Ee.svgElement}_getIconConfigFromResolvers(Ee,H){for(let ce=0;ce<this._resolvers.length;ce++){const V=this._resolvers[ce](H,Ee);if(V)return Te(V)?new it(V.url,null,V.options):new it(V,null)}}}return Ie.\u0275fac=function(Ee){return new(Ee||Ie)(m.LFG(Cn,8),m.LFG(Ot.H7),m.LFG(Se.K0,8),m.LFG(m.qLn))},Ie.\u0275prov=m.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();function qe(Ie){return Ie.cloneNode(!0)}function Ce(Ie,ve){return Ie+":"+ve}function Te(Ie){return!(!Ie.url||!Ie.options)}const ne=(0,h.pj)(class{constructor(Ie){this._elementRef=Ie}}),Ne=new m.OlP("MAT_ICON_DEFAULT_OPTIONS"),_t=new m.OlP("mat-icon-location",{providedIn:"root",factory:function Ke(){const Ie=(0,m.f3M)(Se.K0),ve=Ie?Ie.location:null;return{getPathname:()=>ve?ve.pathname+ve.search:""}}}),Ye=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Pe=Ye.map(Ie=>`[${Ie}]`).join(", "),re=/^url\(['"]?#(.*?)['"]?\)$/;let de=(()=>{class Ie extends ne{constructor(Ee,H,ce,V,le,Ve){super(Ee),this._iconRegistry=H,this._location=V,this._errorHandler=le,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pe.w0.EMPTY,Ve&&(Ve.color&&(this.color=this.defaultColor=Ve.color),Ve.fontSet&&(this.fontSet=Ve.fontSet)),ce||Ee.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ee){this._inline=(0,A.Ig)(Ee)}get svgIcon(){return this._svgIcon}set svgIcon(Ee){Ee!==this._svgIcon&&(Ee?this._updateSvgIcon(Ee):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ee)}get fontSet(){return this._fontSet}set fontSet(Ee){const H=this._cleanupFontValue(Ee);H!==this._fontSet&&(this._fontSet=H,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ee){const H=this._cleanupFontValue(Ee);H!==this._fontIcon&&(this._fontIcon=H,this._updateFontIconClasses())}_splitIconName(Ee){if(!Ee)return["",""];const H=Ee.split(":");switch(H.length){case 1:return["",H[0]];case 2:return H;default:throw Error(`Invalid icon name: "${Ee}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ee=this._elementsWithExternalReferences;if(Ee&&Ee.size){const H=this._location.getPathname();H!==this._previousPath&&(this._previousPath=H,this._prependPathToReferences(H))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ee){this._clearSvgElement();const H=this._location.getPathname();this._previousPath=H,this._cacheChildrenWithExternalReferences(Ee),this._prependPathToReferences(H),this._elementRef.nativeElement.appendChild(Ee)}_clearSvgElement(){const Ee=this._elementRef.nativeElement;let H=Ee.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();H--;){const ce=Ee.childNodes[H];(1!==ce.nodeType||"svg"===ce.nodeName.toLowerCase())&&ce.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ee=this._elementRef.nativeElement,H=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ce=>ce.length>0);this._previousFontSetClass.forEach(ce=>Ee.classList.remove(ce)),H.forEach(ce=>Ee.classList.add(ce)),this._previousFontSetClass=H,this.fontIcon!==this._previousFontIconClass&&!H.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ee.classList.remove(this._previousFontIconClass),this.fontIcon&&Ee.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ee){return"string"==typeof Ee?Ee.trim().split(" ")[0]:Ee}_prependPathToReferences(Ee){const H=this._elementsWithExternalReferences;H&&H.forEach((ce,V)=>{ce.forEach(le=>{V.setAttribute(le.name,`url('${Ee}#${le.value}')`)})})}_cacheChildrenWithExternalReferences(Ee){const H=Ee.querySelectorAll(Pe),ce=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let V=0;V<H.length;V++)Ye.forEach(le=>{const Ve=H[V],xe=Ve.getAttribute(le),St=xe?xe.match(re):null;if(St){let be=ce.get(Ve);be||(be=[],ce.set(Ve,be)),be.push({name:le,value:St[1]})}})}_updateSvgIcon(Ee){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ee){const[H,ce]=this._splitIconName(Ee);H&&(this._svgNamespace=H),ce&&(this._svgName=ce),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ce,H).pipe((0,ut.q)(1)).subscribe(V=>this._setSvgElement(V),V=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${H}:${ce}! ${V.message}`))})}}}return Ie.\u0275fac=function(Ee){return new(Ee||Ie)(m.Y36(m.SBq),m.Y36(It),m.$8M("aria-hidden"),m.Y36(_t),m.Y36(m.qLn),m.Y36(Ne,8))},Ie.\u0275cmp=m.Xpm({type:Ie,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ee,H){2&Ee&&(m.uIk("data-mat-icon-type",H._usingFontIcon()?"font":"svg")("data-mat-icon-name",H._svgName||H.fontIcon)("data-mat-icon-namespace",H._svgNamespace||H.fontSet)("fontIcon",H._usingFontIcon()?H.fontIcon:null),m.ekj("mat-icon-inline",H.inline)("mat-icon-no-color","primary"!==H.color&&"accent"!==H.color&&"warn"!==H.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[m.qOj],ngContentSelectors:Mt,decls:1,vars:0,template:function(Ee,H){1&Ee&&(m.F$t(),m.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ie})(),_e=(()=>{class Ie{}return Ie.\u0275fac=function(Ee){return new(Ee||Ie)},Ie.\u0275mod=m.oAB({type:Ie}),Ie.\u0275inj=m.cJS({imports:[h.BQ,h.BQ]}),Ie})()},4144:(bn,Tt,S)=>{S.d(Tt,{Jk:()=>dt,Nt:()=>jt,c:()=>kt});var m=S(1281),h=S(3353),A=S(4650),Se=S(515),N=S(7579);const et=(0,h.i$)({passive:!0});let tt=(()=>{class at{constructor(je,$e){this._platform=je,this._ngZone=$e,this._monitoredElements=new Map}monitor(je){if(!this._platform.isBrowser)return Se.E;const $e=(0,m.fI)(je),Oe=this._monitoredElements.get($e);if(Oe)return Oe.subject;const rt=new N.x,ot="cdk-text-field-autofilled",st=pt=>{"cdk-text-field-autofill-start"!==pt.animationName||$e.classList.contains(ot)?"cdk-text-field-autofill-end"===pt.animationName&&$e.classList.contains(ot)&&($e.classList.remove(ot),this._ngZone.run(()=>rt.next({target:pt.target,isAutofilled:!1}))):($e.classList.add(ot),this._ngZone.run(()=>rt.next({target:pt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{$e.addEventListener("animationstart",st,et),$e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set($e,{subject:rt,unlisten:()=>{$e.removeEventListener("animationstart",st,et)}}),rt}stopMonitoring(je){const $e=(0,m.fI)(je),Oe=this._monitoredElements.get($e);Oe&&(Oe.unlisten(),Oe.subject.complete(),$e.classList.remove("cdk-text-field-autofill-monitored"),$e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete($e))}ngOnDestroy(){this._monitoredElements.forEach((je,$e)=>this.stopMonitoring($e))}}return at.\u0275fac=function(je){return new(je||at)(A.LFG(h.t4),A.LFG(A.R0b))},at.\u0275prov=A.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),X=(()=>{class at{}return at.\u0275fac=function(je){return new(je||at)},at.\u0275mod=A.oAB({type:at}),at.\u0275inj=A.cJS({}),at})();var ye=S(4006),we=S(3238),Ge=S(9549);const dt=new A.OlP("MAT_INPUT_VALUE_ACCESSOR"),Pt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ue=0;const mt=(0,we.FD)(class{constructor(at,He,je,$e){this._defaultErrorStateMatcher=at,this._parentForm=He,this._parentFormGroup=je,this.ngControl=$e,this.stateChanges=new N.x}});let jt=(()=>{class at extends mt{constructor(je,$e,Oe,rt,ot,st,pt,Rt,At,Jt){super(st,rt,ot,Oe),this._elementRef=je,this._platform=$e,this._autofillMonitor=Rt,this._formField=Jt,this._uid="mat-input-"+Ue++,this.focused=!1,this.stateChanges=new N.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(fn=>(0,h.qK)().has(fn)),this._iOSKeyupListener=fn=>{const nn=fn.target;!nn.value&&0===nn.selectionStart&&0===nn.selectionEnd&&(nn.setSelectionRange(1,1),nn.setSelectionRange(0,0))};const Zt=this._elementRef.nativeElement,on=Zt.nodeName.toLowerCase();this._inputValueAccessor=pt||Zt,this._previousNativeValue=this.value,this.id=this.id,$e.IOS&&At.runOutsideAngular(()=>{je.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===on,this._isTextarea="textarea"===on,this._isInFormField=!!Jt,this._isNativeSelect&&(this.controlType=Zt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(je){this._disabled=(0,m.Ig)(je),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(je){this._id=je||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ye.kI.required)??!1}set required(je){this._required=(0,m.Ig)(je)}get type(){return this._type}set type(je){this._type=je||"text",this._validateType(),!this._isTextarea&&(0,h.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(je){je!==this.value&&(this._inputValueAccessor.value=je,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(je){this._readonly=(0,m.Ig)(je)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(je=>{this.autofilled=je.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(je){this._elementRef.nativeElement.focus(je)}_focusChanged(je){je!==this.focused&&(this.focused=je,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const je=this._formField,$e=je&&"legacy"===je.appearance&&!je._hasLabel?.()?null:this.placeholder;if($e!==this._previousPlaceholder){const Oe=this._elementRef.nativeElement;this._previousPlaceholder=$e,$e?Oe.setAttribute("placeholder",$e):Oe.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const je=this._elementRef.nativeElement.value;this._previousNativeValue!==je&&(this._previousNativeValue=je,this.stateChanges.next())}_validateType(){Pt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let je=this._elementRef.nativeElement.validity;return je&&je.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const je=this._elementRef.nativeElement,$e=je.options[0];return this.focused||je.multiple||!this.empty||!!(je.selectedIndex>-1&&$e&&$e.label)}return this.focused||!this.empty}setDescribedByIds(je){je.length?this._elementRef.nativeElement.setAttribute("aria-describedby",je.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const je=this._elementRef.nativeElement;return this._isNativeSelect&&(je.multiple||je.size>1)}}return at.\u0275fac=function(je){return new(je||at)(A.Y36(A.SBq),A.Y36(h.t4),A.Y36(ye.a5,10),A.Y36(ye.F,8),A.Y36(ye.sg,8),A.Y36(we.rD),A.Y36(dt,10),A.Y36(tt),A.Y36(A.R0b),A.Y36(Ge.G_,8))},at.\u0275dir=A.lG2({type:at,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(je,$e){1&je&&A.NdJ("focus",function(){return $e._focusChanged(!0)})("blur",function(){return $e._focusChanged(!1)})("input",function(){return $e._onInput()}),2&je&&(A.Ikx("disabled",$e.disabled)("required",$e.required),A.uIk("id",$e.id)("data-placeholder",$e.placeholder)("name",$e.name||null)("readonly",$e.readonly&&!$e._isNativeSelect||null)("aria-invalid",$e.empty&&$e.required?null:$e.errorState)("aria-required",$e.required),A.ekj("mat-input-server",$e._isServer)("mat-native-select-inline",$e._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[A._Bn([{provide:Ge.Eo,useExisting:at}]),A.qOj,A.TTD]}),at})(),kt=(()=>{class at{}return at.\u0275fac=function(je){return new(je||at)},at.\u0275mod=A.oAB({type:at}),at.\u0275inj=A.cJS({providers:[we.rD],imports:[X,Ge.lN,we.BQ,X,Ge.lN]}),at})()},3683:(bn,Tt,S)=>{S.d(Tt,{Ye:()=>ge,g0:()=>ye});var m=S(4650),h=S(3238),A=S(3353),Se=S(6895);const N=["*",[["mat-toolbar-row"]]],et=["*","mat-toolbar-row"],tt=(0,h.pj)(class{constructor(we){this._elementRef=we}});let pe=(()=>{class we{}return we.\u0275fac=function(ut){return new(ut||we)},we.\u0275dir=m.lG2({type:we,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),we})(),ge=(()=>{class we extends tt{constructor(ut,dt,Pt){super(ut),this._platform=dt,this._document=Pt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return we.\u0275fac=function(ut){return new(ut||we)(m.Y36(m.SBq),m.Y36(A.t4),m.Y36(Se.K0))},we.\u0275cmp=m.Xpm({type:we,selectors:[["mat-toolbar"]],contentQueries:function(ut,dt,Pt){if(1&ut&&m.Suo(Pt,pe,5),2&ut){let Ue;m.iGM(Ue=m.CRH())&&(dt._toolbarRows=Ue)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(ut,dt){2&ut&&m.ekj("mat-toolbar-multiple-rows",dt._toolbarRows.length>0)("mat-toolbar-single-row",0===dt._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[m.qOj],ngContentSelectors:et,decls:2,vars:0,template:function(ut,dt){1&ut&&(m.F$t(N),m.Hsn(0),m.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),we})(),ye=(()=>{class we{}return we.\u0275fac=function(ut){return new(ut||we)},we.\u0275mod=m.oAB({type:we}),we.\u0275inj=m.cJS({imports:[h.BQ,h.BQ]}),we})()},1481:(bn,Tt,S)=>{S.d(Tt,{Dx:()=>cn,H7:()=>_t,b2:()=>me,q6:()=>Qn,se:()=>At});var m=S(6895),h=S(4650);class A extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends A{static makeCurrent(){(0,m.HT)(new Se)}onAndCancel(de,_e,Ie){return de.addEventListener(_e,Ie,!1),()=>{de.removeEventListener(_e,Ie,!1)}}dispatchEvent(de,_e){de.dispatchEvent(_e)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,_e){return(_e=_e||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,_e){return"window"===_e?window:"document"===_e?de:"body"===_e?de.body:null}getBaseHref(de){const _e=function et(){return N=N||document.querySelector("base"),N?N.getAttribute("href"):null}();return null==_e?null:function pe(re){tt=tt||document.createElement("a"),tt.setAttribute("href",re);const de=tt.pathname;return"/"===de.charAt(0)?de:`/${de}`}(_e)}resetBaseElement(){N=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,m.Mx)(document.cookie,de)}}let tt,N=null;const ge=new h.OlP("TRANSITION_ID"),ye=[{provide:h.ip1,useFactory:function X(re,de,_e){return()=>{_e.get(h.CZH).donePromise.then(()=>{const Ie=(0,m.q)(),ve=de.querySelectorAll(`style[ng-transition="${re}"]`);for(let Ee=0;Ee<ve.length;Ee++)Ie.remove(ve[Ee])})}},deps:[ge,m.K0,h.zs3],multi:!0}];let Ge=(()=>{class re{build(){return new XMLHttpRequest}}return re.\u0275fac=function(_e){return new(_e||re)},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();const ut=new h.OlP("EventManagerPlugins");let dt=(()=>{class re{constructor(_e,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,_e.forEach(ve=>ve.manager=this),this._plugins=_e.slice().reverse()}addEventListener(_e,Ie,ve){return this._findPluginFor(Ie).addEventListener(_e,Ie,ve)}addGlobalEventListener(_e,Ie,ve){return this._findPluginFor(Ie).addGlobalEventListener(_e,Ie,ve)}getZone(){return this._zone}_findPluginFor(_e){const Ie=this._eventNameToPlugin.get(_e);if(Ie)return Ie;const ve=this._plugins;for(let Ee=0;Ee<ve.length;Ee++){const H=ve[Ee];if(H.supports(_e))return this._eventNameToPlugin.set(_e,H),H}throw new Error(`No event manager plugin found for event ${_e}`)}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(ut),h.LFG(h.R0b))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();class Pt{constructor(de){this._doc=de}addGlobalEventListener(de,_e,Ie){const ve=(0,m.q)().getGlobalEventTarget(this._doc,de);if(!ve)throw new Error(`Unsupported event target ${ve} for event ${_e}`);return this.addEventListener(ve,_e,Ie)}}let Ue=(()=>{class re{constructor(){this._stylesSet=new Set}addStyles(_e){const Ie=new Set;_e.forEach(ve=>{this._stylesSet.has(ve)||(this._stylesSet.add(ve),Ie.add(ve))}),this.onStylesAdded(Ie)}onStylesAdded(_e){}getAllStyles(){return Array.from(this._stylesSet)}}return re.\u0275fac=function(_e){return new(_e||re)},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})(),mt=(()=>{class re extends Ue{constructor(_e){super(),this._doc=_e,this._hostNodes=new Map,this._hostNodes.set(_e.head,[])}_addStylesToHost(_e,Ie,ve){_e.forEach(Ee=>{const H=this._doc.createElement("style");H.textContent=Ee,ve.push(Ie.appendChild(H))})}addHost(_e){const Ie=[];this._addStylesToHost(this._stylesSet,_e,Ie),this._hostNodes.set(_e,Ie)}removeHost(_e){const Ie=this._hostNodes.get(_e);Ie&&Ie.forEach(jt),this._hostNodes.delete(_e)}onStylesAdded(_e){this._hostNodes.forEach((Ie,ve)=>{this._addStylesToHost(_e,ve,Ie)})}ngOnDestroy(){this._hostNodes.forEach(_e=>_e.forEach(jt))}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(m.K0))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();function jt(re){(0,m.q)().remove(re)}const kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function st(re,de,_e){for(let Ie=0;Ie<de.length;Ie++){let ve=de[Ie];Array.isArray(ve)?st(re,ve,_e):(ve=ve.replace(at,re),_e.push(ve))}return _e}function pt(re){return de=>{if("__ngUnwrap__"===de)return re;!1===re(de)&&(de.preventDefault(),de.returnValue=!1)}}let At=(()=>{class re{constructor(_e,Ie,ve){this.eventManager=_e,this.sharedStylesHost=Ie,this.appId=ve,this.rendererByCompId=new Map,this.defaultRenderer=new Jt(_e)}createRenderer(_e,Ie){if(!_e||!Ie)return this.defaultRenderer;switch(Ie.encapsulation){case h.ifc.Emulated:{let ve=this.rendererByCompId.get(Ie.id);return ve||(ve=new nn(this.eventManager,this.sharedStylesHost,Ie,this.appId),this.rendererByCompId.set(Ie.id,ve)),ve.applyToHost(_e),ve}case 1:case h.ifc.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,_e,Ie);default:if(!this.rendererByCompId.has(Ie.id)){const ve=st(Ie.id,Ie.styles,[]);this.sharedStylesHost.addStyles(ve),this.rendererByCompId.set(Ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(dt),h.LFG(mt),h.LFG(h.AFp))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();class Jt{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,_e){return _e?document.createElementNS(kt[_e]||_e,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,_e){(fn(de)?de.content:de).appendChild(_e)}insertBefore(de,_e,Ie){de&&(fn(de)?de.content:de).insertBefore(_e,Ie)}removeChild(de,_e){de&&de.removeChild(_e)}selectRootElement(de,_e){let Ie="string"==typeof de?document.querySelector(de):de;if(!Ie)throw new Error(`The selector "${de}" did not match any elements`);return _e||(Ie.textContent=""),Ie}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,_e,Ie,ve){if(ve){_e=ve+":"+_e;const Ee=kt[ve];Ee?de.setAttributeNS(Ee,_e,Ie):de.setAttribute(_e,Ie)}else de.setAttribute(_e,Ie)}removeAttribute(de,_e,Ie){if(Ie){const ve=kt[Ie];ve?de.removeAttributeNS(ve,_e):de.removeAttribute(`${Ie}:${_e}`)}else de.removeAttribute(_e)}addClass(de,_e){de.classList.add(_e)}removeClass(de,_e){de.classList.remove(_e)}setStyle(de,_e,Ie,ve){ve&(h.JOm.DashCase|h.JOm.Important)?de.style.setProperty(_e,Ie,ve&h.JOm.Important?"important":""):de.style[_e]=Ie}removeStyle(de,_e,Ie){Ie&h.JOm.DashCase?de.style.removeProperty(_e):de.style[_e]=""}setProperty(de,_e,Ie){de[_e]=Ie}setValue(de,_e){de.nodeValue=_e}listen(de,_e,Ie){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,_e,pt(Ie)):this.eventManager.addEventListener(de,_e,pt(Ie))}}function fn(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class nn extends Jt{constructor(de,_e,Ie,ve){super(de),this.component=Ie;const Ee=st(ve+"-"+Ie.id,Ie.styles,[]);_e.addStyles(Ee),this.contentAttr=function rt(re){return"_ngcontent-%COMP%".replace(at,re)}(ve+"-"+Ie.id),this.hostAttr=function ot(re){return"_nghost-%COMP%".replace(at,re)}(ve+"-"+Ie.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,_e){const Ie=super.createElement(de,_e);return super.setAttribute(Ie,this.contentAttr,""),Ie}}class wt extends Jt{constructor(de,_e,Ie,ve){super(de),this.sharedStylesHost=_e,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ee=st(ve.id,ve.styles,[]);for(let H=0;H<Ee.length;H++){const ce=document.createElement("style");ce.textContent=Ee[H],this.shadowRoot.appendChild(ce)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,_e){return super.appendChild(this.nodeOrShadowRoot(de),_e)}insertBefore(de,_e,Ie){return super.insertBefore(this.nodeOrShadowRoot(de),_e,Ie)}removeChild(de,_e){return super.removeChild(this.nodeOrShadowRoot(de),_e)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let qt=(()=>{class re extends Pt{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,Ie,ve){return _e.addEventListener(Ie,ve,!1),()=>this.removeEventListener(_e,Ie,ve)}removeEventListener(_e,Ie,ve){return _e.removeEventListener(Ie,ve)}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(m.K0))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();const $t=["alt","control","meta","shift"],rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Cn=(()=>{class re extends Pt{constructor(_e){super(_e)}supports(_e){return null!=re.parseEventName(_e)}addEventListener(_e,Ie,ve){const Ee=re.parseEventName(Ie),H=re.eventCallback(Ee.fullKey,ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(_e,Ee.domEventName,H))}static parseEventName(_e){const Ie=_e.toLowerCase().split("."),ve=Ie.shift();if(0===Ie.length||"keydown"!==ve&&"keyup"!==ve)return null;const Ee=re._normalizeKey(Ie.pop());let H="",ce=Ie.indexOf("code");if(ce>-1&&(Ie.splice(ce,1),H="code."),$t.forEach(le=>{const Ve=Ie.indexOf(le);Ve>-1&&(Ie.splice(Ve,1),H+=le+".")}),H+=Ee,0!=Ie.length||0===Ee.length)return null;const V={};return V.domEventName=ve,V.fullKey=H,V}static matchEventFullKeyCode(_e,Ie){let ve=rn[_e.key]||_e.key,Ee="";return Ie.indexOf("code.")>-1&&(ve=_e.code,Ee="code."),!(null==ve||!ve)&&(ve=ve.toLowerCase()," "===ve?ve="space":"."===ve&&(ve="dot"),$t.forEach(H=>{H!==ve&&(0,Qt[H])(_e)&&(Ee+=H+".")}),Ee+=ve,Ee===Ie)}static eventCallback(_e,Ie,ve){return Ee=>{re.matchEventFullKeyCode(Ee,_e)&&ve.runGuarded(()=>Ie(Ee))}}static _normalizeKey(_e){return"esc"===_e?"escape":_e}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(m.K0))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();const Qn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:m.bD},{provide:h.g9A,useValue:function Wn(){Se.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Hn(){return(0,h.RDi)(document),document},deps:[]}]),vn=new h.OlP(""),Be=[{provide:h.rWj,useClass:class we{addToWindow(de){h.dqk.getAngularTestability=(Ie,ve=!0)=>{const Ee=de.findTestabilityInTree(Ie,ve);if(null==Ee)throw new Error("Could not find testability for element.");return Ee},h.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Ie=>{const ve=h.dqk.getAllAngularTestabilities();let Ee=ve.length,H=!1;const ce=function(V){H=H||V,Ee--,0==Ee&&Ie(H)};ve.forEach(function(V){V.whenStable(ce)})})}findTestabilityInTree(de,_e,Ie){return null==_e?null:de.getTestability(_e)??(Ie?(0,m.q)().isShadowRoot(_e)?this.findTestabilityInTree(de,_e.host,!0):this.findTestabilityInTree(de,_e.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],ae=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function $n(){return new h.qLn},deps:[]},{provide:ut,useClass:qt,multi:!0,deps:[m.K0,h.R0b,h.Lbi]},{provide:ut,useClass:Cn,multi:!0,deps:[m.K0]},{provide:At,useClass:At,deps:[dt,mt,h.AFp]},{provide:h.FYo,useExisting:At},{provide:Ue,useExisting:mt},{provide:mt,useClass:mt,deps:[m.K0]},{provide:dt,useClass:dt,deps:[ut,h.R0b]},{provide:m.JF,useClass:Ge,deps:[]},[]];let me=(()=>{class re{constructor(_e){}static withServerTransition(_e){return{ngModule:re,providers:[{provide:h.AFp,useValue:_e.appId},{provide:ge,useExisting:h.AFp},ye]}}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(vn,12))},re.\u0275mod=h.oAB({type:re}),re.\u0275inj=h.cJS({providers:[...ae,...Be],imports:[m.ez,h.hGG]}),re})(),cn=(()=>{class re{constructor(_e){this._doc=_e}getTitle(){return this._doc.title}setTitle(_e){this._doc.title=_e||""}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(m.K0))},re.\u0275prov=h.Yz7({token:re,factory:function(_e){let Ie=null;return Ie=_e?new _e:function Wt(){return new cn((0,h.LFG)(m.K0))}(),Ie},providedIn:"root"}),re})();typeof window<"u"&&window;let _t=(()=>{class re{}return re.\u0275fac=function(_e){return new(_e||re)},re.\u0275prov=h.Yz7({token:re,factory:function(_e){let Ie=null;return Ie=_e?new(_e||re):h.LFG(Ye),Ie},providedIn:"root"}),re})(),Ye=(()=>{class re extends _t{constructor(_e){super(),this._doc=_e}sanitize(_e,Ie){if(null==Ie)return null;switch(_e){case h.q3G.NONE:return Ie;case h.q3G.HTML:return(0,h.qzn)(Ie,"HTML")?(0,h.z3N)(Ie):(0,h.EiD)(this._doc,String(Ie)).toString();case h.q3G.STYLE:return(0,h.qzn)(Ie,"Style")?(0,h.z3N)(Ie):Ie;case h.q3G.SCRIPT:if((0,h.qzn)(Ie,"Script"))return(0,h.z3N)(Ie);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(Ie,"URL")?(0,h.z3N)(Ie):(0,h.mCW)(String(Ie));case h.q3G.RESOURCE_URL:if((0,h.qzn)(Ie,"ResourceURL"))return(0,h.z3N)(Ie);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${_e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(_e){return(0,h.JVY)(_e)}bypassSecurityTrustStyle(_e){return(0,h.L6k)(_e)}bypassSecurityTrustScript(_e){return(0,h.eBb)(_e)}bypassSecurityTrustUrl(_e){return(0,h.LAX)(_e)}bypassSecurityTrustResourceUrl(_e){return(0,h.pB0)(_e)}}return re.\u0275fac=function(_e){return new(_e||re)(h.LFG(m.K0))},re.\u0275prov=h.Yz7({token:re,factory:function(_e){let Ie=null;return Ie=_e?new _e:function Ke(re){return new Ye(re.get(m.K0))}(h.LFG(h.zs3)),Ie},providedIn:"root"}),re})()},7799:(bn,Tt,S)=>{S.d(Tt,{jw:()=>ls,m2:()=>zt,F0:()=>jr,rH:()=>Rr,yS:()=>Pa,Bz:()=>Mi,lC:()=>Xs,fw:()=>Zi});var m=S(4650),h=S(8996),A=S(9646),Se=S(1135),N=S(6805),et=S(9841),tt=S(7272),pe=S(9770),ge=S(9635),X=S(2843),ye=S(9751),we=S(515),Ge=S(727),ut=S(4482),dt=S(5403);function Pt(){return(0,ut.e)((M,R)=>{let x=null;M._refCount++;const j=(0,dt.x)(R,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(x=null);const Z=M._connection,ke=x;x=null,Z&&(!ke||Z===ke)&&Z.unsubscribe(),R.unsubscribe()});M.subscribe(j),j.closed||(x=M.connect())})}class Ue extends ye.y{constructor(R,x){super(),this.source=R,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,ut.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Ge.w0;const x=this.getSubject();R.add(this.source.subscribe((0,dt.x)(x,void 0,()=>{this._teardown(),x.complete()},j=>{this._teardown(),x.error(j)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Ge.w0.EMPTY)}return R}refCount(){return Pt()(this)}}var mt=S(7579),jt=S(6895),kt=S(4004),at=S(3900),He=S(5698),je=S(8675),$e=S(9300),Oe=S(5577),rt=S(590),ot=S(4351),st=S(8505),pt=S(262),Rt=S(5026);function At(M){return M<=0?()=>we.E:(0,ut.e)((R,x)=>{let j=[];R.subscribe((0,dt.x)(x,Z=>{j.push(Z),M<j.length&&j.shift()},()=>{for(const Z of j)x.next(Z);x.complete()},void 0,()=>{j=null}))})}var Jt=S(8068),Zt=S(6590),on=S(4671);function fn(M,R){const x=arguments.length>=2;return j=>j.pipe(M?(0,$e.h)((Z,ke)=>M(Z,ke,j)):on.y,At(1),x?(0,Zt.d)(R):(0,Jt.T)(()=>new N.K))}var wt=S(9718),qt=S(8746),$t=S(8189),rn=S(1481);const Qt="primary",Cn=Symbol("RouteTitle");class Xt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const x=this.params[R];return Array.isArray(x)?x[0]:x}return null}getAll(R){if(this.has(R)){const x=this.params[R];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function gn(M){return new Xt(M)}function An(M,R,x){const j=x.path.split("/");if(j.length>M.length||"full"===x.pathMatch&&(R.hasChildren()||j.length<M.length))return null;const Z={};for(let ke=0;ke<j.length;ke++){const gt=j[ke],Dt=M[ke];if(gt.startsWith(":"))Z[gt.substring(1)]=Dt;else if(gt!==Dt.path)return null}return{consumed:M.slice(0,j.length),posParams:Z}}function kn(M,R){const x=M?Object.keys(M):void 0,j=R?Object.keys(R):void 0;if(!x||!j||x.length!=j.length)return!1;let Z;for(let ke=0;ke<x.length;ke++)if(Z=x[ke],!Wn(M[Z],R[Z]))return!1;return!0}function Wn(M,R){if(Array.isArray(M)&&Array.isArray(R)){if(M.length!==R.length)return!1;const x=[...M].sort(),j=[...R].sort();return x.every((Z,ke)=>j[ke]===Z)}return M===R}function $n(M){return Array.prototype.concat.apply([],M)}function Hn(M){return M.length>0?M[M.length-1]:null}function Qn(M,R){for(const x in M)M.hasOwnProperty(x)&&R(M[x],x)}function vn(M){return(0,m.CqO)(M)?M:(0,m.QGY)(M)?(0,h.D)(Promise.resolve(M)):(0,A.of)(M)}const me={exact:function Wt(M,R,x){if(!_n(M.segments,R.segments)||!Le(M.segments,R.segments,x)||M.numberOfChildren!==R.numberOfChildren)return!1;for(const j in R.children)if(!M.children[j]||!Wt(M.children[j],R.children[j],x))return!1;return!0},subset:Gt},nt={exact:function Ct(M,R){return kn(M,R)},subset:function cn(M,R){return Object.keys(R).length<=Object.keys(M).length&&Object.keys(R).every(x=>Wn(M[x],R[x]))},ignored:()=>!0};function Ze(M,R,x){return me[x.paths](M.root,R.root,x.matrixParams)&&nt[x.queryParams](M.queryParams,R.queryParams)&&!("exact"===x.fragment&&M.fragment!==R.fragment)}function Gt(M,R,x){return yt(M,R,R.segments,x)}function yt(M,R,x,j){if(M.segments.length>x.length){const Z=M.segments.slice(0,x.length);return!(!_n(Z,x)||R.hasChildren()||!Le(Z,x,j))}if(M.segments.length===x.length){if(!_n(M.segments,x)||!Le(M.segments,x,j))return!1;for(const Z in R.children)if(!M.children[Z]||!Gt(M.children[Z],R.children[Z],j))return!1;return!0}{const Z=x.slice(0,M.segments.length),ke=x.slice(M.segments.length);return!!(_n(M.segments,Z)&&Le(M.segments,Z,j)&&M.children[Qt])&&yt(M.children[Qt],R,ke,j)}}function Le(M,R,x){return R.every((j,Z)=>nt[x](M[Z].parameters,j.parameters))}class vt{constructor(R,x,j){this.root=R,this.queryParams=x,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return oe.serialize(this)}}class Ht{constructor(R,x){this.segments=R,this.children=x,this.parent=null,Qn(x,(j,Z)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return K(this)}}class un{constructor(R,x){this.path=R,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return We(this)}}function _n(M,R){return M.length===R.length&&M.every((x,j)=>x.path===R[j].path)}let Mt=(()=>{class M{}return M.\u0275fac=function(x){return new(x||M)},M.\u0275prov=m.Yz7({token:M,factory:function(){return new te},providedIn:"root"}),M})();class te{parse(R){const x=new Pe(R);return new vt(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(R){const x=`/${z(R.root,!0)}`,j=function Ce(M){const R=Object.keys(M).map(x=>{const j=M[x];return Array.isArray(j)?j.map(Z=>`${J(x)}=${J(Z)}`).join("&"):`${J(x)}=${J(j)}`}).filter(x=>!!x);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${x}${j}${"string"==typeof R.fragment?`#${function ft(M){return encodeURI(M)}(R.fragment)}`:""}`}}const oe=new te;function K(M){return M.segments.map(R=>We(R)).join("/")}function z(M,R){if(!M.hasChildren())return K(M);if(R){const x=M.children[Qt]?z(M.children[Qt],!1):"",j=[];return Qn(M.children,(Z,ke)=>{ke!==Qt&&j.push(`${ke}:${z(Z,!1)}`)}),j.length>0?`${x}(${j.join("//")})`:x}{const x=function Ot(M,R){let x=[];return Qn(M.children,(j,Z)=>{Z===Qt&&(x=x.concat(R(j,Z)))}),Qn(M.children,(j,Z)=>{Z!==Qt&&(x=x.concat(R(j,Z)))}),x}(M,(j,Z)=>Z===Qt?[z(M.children[Qt],!1)]:[`${Z}:${z(j,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Qt]?`${K(M)}/${x[0]}`:`${K(M)}/(${x.join("//")})`}}function ue(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(M){return ue(M).replace(/%3B/gi,";")}function it(M){return ue(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function It(M){return decodeURIComponent(M)}function Bt(M){return It(M.replace(/\+/g,"%20"))}function We(M){return`${it(M.path)}${function qe(M){return Object.keys(M).map(R=>`;${it(R)}=${it(M[R])}`).join("")}(M.parameters)}`}const Te=/^[^\/()?;=#]+/;function ne(M){const R=M.match(Te);return R?R[0]:""}const Ne=/^[^=?&#]+/,Ke=/^[^&#]+/;class Pe{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(R.length>0||Object.keys(x).length>0)&&(j[Qt]=new Ht(R,x)),j}parseSegment(){const R=ne(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(R),new un(It(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const x=ne(this.remaining);if(!x)return;this.capture(x);let j="";if(this.consumeOptional("=")){const Z=ne(this.remaining);Z&&(j=Z,this.capture(j))}R[It(x)]=It(j)}parseQueryParam(R){const x=function _t(M){const R=M.match(Ne);return R?R[0]:""}(this.remaining);if(!x)return;this.capture(x);let j="";if(this.consumeOptional("=")){const gt=function Ye(M){const R=M.match(Ke);return R?R[0]:""}(this.remaining);gt&&(j=gt,this.capture(j))}const Z=Bt(x),ke=Bt(j);if(R.hasOwnProperty(Z)){let gt=R[Z];Array.isArray(gt)||(gt=[gt],R[Z]=gt),gt.push(ke)}else R[Z]=ke}parseParens(R){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=ne(this.remaining),Z=this.remaining[j.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new m.vHH(4010,!1);let ke;j.indexOf(":")>-1?(ke=j.slice(0,j.indexOf(":")),this.capture(ke),this.capture(":")):R&&(ke=Qt);const gt=this.parseChildren();x[ke]=1===Object.keys(gt).length?gt[Qt]:new Ht([],gt),this.consumeOptional("//")}return x}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new m.vHH(4011,!1)}}function re(M){return M.segments.length>0?new Ht([],{[Qt]:M}):M}function de(M){const R={};for(const j of Object.keys(M.children)){const ke=de(M.children[j]);(ke.segments.length>0||ke.hasChildren())&&(R[j]=ke)}return function _e(M){if(1===M.numberOfChildren&&M.children[Qt]){const R=M.children[Qt];return new Ht(M.segments.concat(R.segments),R.children)}return M}(new Ht(M.segments,R))}function Ie(M){return M instanceof vt}function V(M,R,x,j,Z){if(0===x.length)return xe(R.root,R.root,R.root,j,Z);const ke=function ht(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new be(!0,0,M);let R=0,x=!1;const j=M.reduce((Z,ke,gt)=>{if("object"==typeof ke&&null!=ke){if(ke.outlets){const Dt={};return Qn(ke.outlets,(mn,Vn)=>{Dt[Vn]="string"==typeof mn?mn.split("/"):mn}),[...Z,{outlets:Dt}]}if(ke.segmentPath)return[...Z,ke.segmentPath]}return"string"!=typeof ke?[...Z,ke]:0===gt?(ke.split("/").forEach((Dt,mn)=>{0==mn&&"."===Dt||(0==mn&&""===Dt?x=!0:".."===Dt?R++:""!=Dt&&Z.push(Dt))}),Z):[...Z,ke]},[]);return new be(x,R,j)}(x);return ke.toRoot()?xe(R.root,R.root,new Ht([],{}),j,Z):function gt(mn){const Vn=function Re(M,R,x,j){if(M.isAbsolute)return new O(R.root,!0,0);if(-1===j)return new O(x,x===R.root,0);return function bt(M,R,x){let j=M,Z=R,ke=x;for(;ke>Z;){if(ke-=Z,j=j.parent,!j)throw new m.vHH(4005,!1);Z=j.segments.length}return new O(j,!1,Z-ke)}(x,j+(le(M.commands[0])?0:1),M.numberOfDoubleDots)}(ke,R,M.snapshot?._urlSegment,mn),Ri=Vn.processChildren?Di(Vn.segmentGroup,Vn.index,ke.commands):fi(Vn.segmentGroup,Vn.index,ke.commands);return xe(R.root,Vn.segmentGroup,Ri,j,Z)}(M.snapshot?._lastPathIndex)}function le(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Ve(M){return"object"==typeof M&&null!=M&&M.outlets}function xe(M,R,x,j,Z){let gt,ke={};j&&Qn(j,(mn,Vn)=>{ke[Vn]=Array.isArray(mn)?mn.map(Ri=>`${Ri}`):`${mn}`}),gt=M===R?x:St(M,R,x);const Dt=re(de(gt));return new vt(Dt,ke,Z)}function St(M,R,x){const j={};return Qn(M.children,(Z,ke)=>{j[ke]=Z===R?x:St(Z,R,x)}),new Ht(M.segments,j)}class be{constructor(R,x,j){if(this.isAbsolute=R,this.numberOfDoubleDots=x,this.commands=j,R&&j.length>0&&le(j[0]))throw new m.vHH(4003,!1);const Z=j.find(Ve);if(Z&&Z!==Hn(j))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class O{constructor(R,x,j){this.segmentGroup=R,this.processChildren=x,this.index=j}}function fi(M,R,x){if(M||(M=new Ht([],{})),0===M.segments.length&&M.hasChildren())return Di(M,R,x);const j=function Ks(M,R,x){let j=0,Z=R;const ke={match:!1,pathIndex:0,commandIndex:0};for(;Z<M.segments.length;){if(j>=x.length)return ke;const gt=M.segments[Z],Dt=x[j];if(Ve(Dt))break;const mn=`${Dt}`,Vn=j<x.length-1?x[j+1]:null;if(Z>0&&void 0===mn)break;if(mn&&Vn&&"object"==typeof Vn&&void 0===Vn.outlets){if(!es(mn,Vn,gt))return ke;j+=2}else{if(!es(mn,{},gt))return ke;j++}Z++}return{match:!0,pathIndex:Z,commandIndex:j}}(M,R,x),Z=x.slice(j.commandIndex);if(j.match&&j.pathIndex<M.segments.length){const ke=new Ht(M.segments.slice(0,j.pathIndex),{});return ke.children[Qt]=new Ht(M.segments.slice(j.pathIndex),M.children),Di(ke,0,Z)}return j.match&&0===Z.length?new Ht(M.segments,{}):j.match&&!M.hasChildren()?Ji(M,R,x):j.match?Di(M,0,Z):Ji(M,R,x)}function Di(M,R,x){if(0===x.length)return new Ht(M.segments,{});{const j=function Sn(M){return Ve(M[0])?M[0].outlets:{[Qt]:M}}(x),Z={};return Qn(j,(ke,gt)=>{"string"==typeof ke&&(ke=[ke]),null!==ke&&(Z[gt]=fi(M.children[gt],R,ke))}),Qn(M.children,(ke,gt)=>{void 0===j[gt]&&(Z[gt]=ke)}),new Ht(M.segments,Z)}}function Ji(M,R,x){const j=M.segments.slice(0,R);let Z=0;for(;Z<x.length;){const ke=x[Z];if(Ve(ke)){const mn=Is(ke.outlets);return new Ht(j,mn)}if(0===Z&&le(x[0])){j.push(new un(M.segments[R].path,as(x[0]))),Z++;continue}const gt=Ve(ke)?ke.outlets[Qt]:`${ke}`,Dt=Z<x.length-1?x[Z+1]:null;gt&&Dt&&le(Dt)?(j.push(new un(gt,as(Dt))),Z+=2):(j.push(new un(gt,{})),Z++)}return new Ht(j,{})}function Is(M){const R={};return Qn(M,(x,j)=>{"string"==typeof x&&(x=[x]),null!==x&&(R[j]=Ji(new Ht([],{}),0,x))}),R}function as(M){const R={};return Qn(M,(x,j)=>R[j]=`${x}`),R}function es(M,R,x){return M==x.path&&kn(R,x.parameters)}class Vt{constructor(R,x){this.id=R,this.url=x}}class Lt extends Vt{constructor(R,x,j="imperative",Z=null){super(R,x),this.type=0,this.navigationTrigger=j,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zt extends Vt{constructor(R,x,j){super(R,x),this.urlAfterRedirects=j,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yn extends Vt{constructor(R,x,j,Z){super(R,x),this.reason=j,this.code=Z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class In extends Vt{constructor(R,x,j,Z){super(R,x),this.error=j,this.target=Z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qn extends Vt{constructor(R,x,j,Z){super(R,x),this.urlAfterRedirects=j,this.state=Z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Vt{constructor(R,x,j,Z){super(R,x),this.urlAfterRedirects=j,this.state=Z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends Vt{constructor(R,x,j,Z,ke){super(R,x),this.urlAfterRedirects=j,this.state=Z,this.shouldActivate=ke,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pi extends Vt{constructor(R,x,j,Z){super(R,x),this.urlAfterRedirects=j,this.state=Z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr extends Vt{constructor(R,x,j,Z){super(R,x),this.urlAfterRedirects=j,this.state=Z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gl{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hs{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(R,x,j){this.routerEvent=R,this.position=x,this.anchor=j,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zl{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const x=this.pathFromRoot(R);return x.length>1?x[x.length-2]:null}children(R){const x=Co(R,this._root);return x?x.children.map(j=>j.value):[]}firstChild(R){const x=Co(R,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(R){const x=qa(R,this._root);return x.length<2?[]:x[x.length-2].children.map(Z=>Z.value).filter(Z=>Z!==R)}pathFromRoot(R){return qa(R,this._root).map(x=>x.value)}}function Co(M,R){if(M===R.value)return R;for(const x of R.children){const j=Co(M,x);if(j)return j}return null}function qa(M,R){if(M===R.value)return[R];for(const x of R.children){const j=qa(M,x);if(j.length)return j.unshift(R),j}return[]}class bs{constructor(R,x){this.value=R,this.children=x}toString(){return`TreeNode(${this.value})`}}function qs(M){const R={};return M&&M.children.forEach(x=>R[x.value.outlet]=x),R}class Us extends zl{constructor(R,x){super(R),this.snapshot=x,Ms(this,R)}toString(){return this.snapshot.toString()}}function ra(M,R){const x=function ro(M,R){const gt=new Qs([],{},{},"",{},Qt,R,null,M.root,-1,{});return new mr("",new bs(gt,[]))}(M,R),j=new Se.X([new un("",{})]),Z=new Se.X({}),ke=new Se.X({}),gt=new Se.X({}),Dt=new Se.X(""),mn=new so(j,Z,gt,Dt,ke,Qt,R,x.root);return mn.snapshot=x.root,new Us(new bs(mn,[]),x)}class so{constructor(R,x,j,Z,ke,gt,Dt,mn){this.url=R,this.params=x,this.queryParams=j,this.fragment=Z,this.data=ke,this.outlet=gt,this.component=Dt,this.title=this.data?.pipe((0,kt.U)(Vn=>Vn[Cn]))??(0,A.of)(void 0),this._futureSnapshot=mn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(R=>gn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(R=>gn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ws(M,R="emptyOnly"){const x=M.pathFromRoot;let j=0;if("always"!==R)for(j=x.length-1;j>=1;){const Z=x[j],ke=x[j-1];if(Z.routeConfig&&""===Z.routeConfig.path)j--;else{if(ke.component)break;j--}}return function sa(M){return M.reduce((R,x)=>({params:{...R.params,...x.params},data:{...R.data,...x.data},resolve:{...x.data,...R.resolve,...x.routeConfig?.data,...x._resolvedData}}),{params:{},data:{},resolve:{}})}(x.slice(j))}class Qs{constructor(R,x,j,Z,ke,gt,Dt,mn,Vn,Ri,ii,Gi){this.url=R,this.params=x,this.queryParams=j,this.fragment=Z,this.data=ke,this.outlet=gt,this.component=Dt,this.title=this.data?.[Cn],this.routeConfig=mn,this._urlSegment=Vn,this._lastPathIndex=Ri,this._correctedLastPathIndex=Gi??Ri,this._resolve=ii}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mr extends zl{constructor(R,x){super(x),this.url=R,Ms(this,x)}toString(){return oo(this._root)}}function Ms(M,R){R.value._routerState=M,R.children.forEach(x=>Ms(M,x))}function oo(M){const R=M.children.length>0?` { ${M.children.map(oo).join(", ")} } `:"";return`${M.value}${R}`}function Er(M){if(M.snapshot){const R=M.snapshot,x=M._futureSnapshot;M.snapshot=x,kn(R.queryParams,x.queryParams)||M.queryParams.next(x.queryParams),R.fragment!==x.fragment&&M.fragment.next(x.fragment),kn(R.params,x.params)||M.params.next(x.params),function Un(M,R){if(M.length!==R.length)return!1;for(let x=0;x<M.length;++x)if(!kn(M[x],R[x]))return!1;return!0}(R.url,x.url)||M.url.next(x.url),kn(R.data,x.data)||M.data.next(x.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Gs(M,R){const x=kn(M.params,R.params)&&function Rn(M,R){return _n(M,R)&&M.every((x,j)=>kn(x.parameters,R[j].parameters))}(M.url,R.url);return x&&!(!M.parent!=!R.parent)&&(!M.parent||Gs(M.parent,R.parent))}function ao(M,R,x){if(x&&M.shouldReuseRoute(R.value,x.value.snapshot)){const j=x.value;j._futureSnapshot=R.value;const Z=function Vo(M,R,x){return R.children.map(j=>{for(const Z of x.children)if(M.shouldReuseRoute(j.value,Z.value.snapshot))return ao(M,j,Z);return ao(M,j)})}(M,R,x);return new bs(j,Z)}{if(M.shouldAttach(R.value)){const ke=M.retrieve(R.value);if(null!==ke){const gt=ke.route;return gt.value._futureSnapshot=R.value,gt.children=R.children.map(Dt=>ao(M,Dt)),gt}}const j=function cs(M){return new so(new Se.X(M.url),new Se.X(M.params),new Se.X(M.queryParams),new Se.X(M.fragment),new Se.X(M.data),M.outlet,M.component,M)}(R.value),Z=R.children.map(ke=>ao(M,ke));return new bs(j,Z)}}const Da="ngNavigationCancelingError";function Do(M,R){const{redirectTo:x,navigationBehaviorOptions:j}=Ie(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,Z=$l(!1,0,R);return Z.url=x,Z.navigationBehaviorOptions=j,Z}function $l(M,R,x){const j=new Error("NavigationCancelingError: "+(M||""));return j[Da]=!0,j.cancellationCode=R,x&&(j.url=x),j}function Eo(M){return Wl(M)&&Ie(M.url)}function Wl(M){return M&&M[Da]}class ts{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Os,this.attachRef=null}}let Os=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(x,j){const Z=this.getOrCreateContext(x);Z.outlet=j,this.contexts.set(x,Z)}onChildOutletDestroyed(x){const j=this.getContext(x);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let j=this.getContext(x);return j||(j=new ts,this.contexts.set(x,j)),j}getContext(x){return this.contexts.get(x)||null}}return M.\u0275fac=function(x){return new(x||M)},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const cr=!1;let Xs=(()=>{class M{constructor(x,j,Z,ke,gt){this.parentContexts=x,this.location=j,this.changeDetector=ke,this.environmentInjector=gt,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=Z||Qt,x.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const x=this.parentContexts.getContext(this.name);x&&x.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,cr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,cr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,cr);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,j){this.activated=x,this._activatedRoute=j,this.location.insert(x.hostView),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,j){if(this.isActivated)throw new m.vHH(4013,cr);this._activatedRoute=x;const Z=this.location,gt=x._futureSnapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,mn=new Ho(x,Dt,Z.injector);if(j&&function ml(M){return!!M.resolveComponentFactory}(j)){const Vn=j.resolveComponentFactory(gt);this.activated=Z.createComponent(Vn,Z.length,mn)}else this.activated=Z.createComponent(gt,{index:Z.length,injector:mn,environmentInjector:j??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(x){return new(x||M)(m.Y36(Os),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},M.\u0275dir=m.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),M})();class Ho{constructor(R,x,j){this.route=R,this.childContexts=x,this.parent=j}get(R,x){return R===so?this.route:R===Os?this.childContexts:this.parent.get(R,x)}}let Zi=(()=>{class M{}return M.\u0275fac=function(x){return new(x||M)},M.\u0275cmp=m.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(x,j){1&x&&m._UZ(0,"router-outlet")},dependencies:[Xs],encapsulation:2}),M})();function Ea(M,R){return M.providers&&!M._injector&&(M._injector=(0,m.MMx)(M.providers,R,`Route: ${M.path}`)),M._injector??R}function Rs(M){const R=M.children&&M.children.map(Rs),x=R?{...M,children:R}:{...M};return!x.component&&!x.loadComponent&&(R||x.loadChildren)&&x.outlet&&x.outlet!==Qt&&(x.component=Zi),x}function Ur(M){return M.outlet||Qt}function Cs(M,R){const x=M.filter(j=>Ur(j)===R);return x.push(...M.filter(j=>Ur(j)!==R)),x}function lo(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let R=M.parent;R;R=R.parent){const x=R.routeConfig;if(x?._loadedInjector)return x._loadedInjector;if(x?._injector)return x._injector}return null}class yi{constructor(R,x,j,Z){this.routeReuseStrategy=R,this.futureState=x,this.currState=j,this.forwardEvent=Z}activate(R){const x=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,j,R),Er(this.futureState.root),this.activateChildRoutes(x,j,R)}deactivateChildRoutes(R,x,j){const Z=qs(x);R.children.forEach(ke=>{const gt=ke.value.outlet;this.deactivateRoutes(ke,Z[gt],j),delete Z[gt]}),Qn(Z,(ke,gt)=>{this.deactivateRouteAndItsChildren(ke,j)})}deactivateRoutes(R,x,j){const Z=R.value,ke=x?x.value:null;if(Z===ke)if(Z.component){const gt=j.getContext(Z.outlet);gt&&this.deactivateChildRoutes(R,x,gt.children)}else this.deactivateChildRoutes(R,x,j);else ke&&this.deactivateRouteAndItsChildren(x,j)}deactivateRouteAndItsChildren(R,x){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,x):this.deactivateRouteAndOutlet(R,x)}detachAndStoreRouteSubtree(R,x){const j=x.getContext(R.value.outlet),Z=j&&R.value.component?j.children:x,ke=qs(R);for(const gt of Object.keys(ke))this.deactivateRouteAndItsChildren(ke[gt],Z);if(j&&j.outlet){const gt=j.outlet.detach(),Dt=j.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:gt,route:R,contexts:Dt})}}deactivateRouteAndOutlet(R,x){const j=x.getContext(R.value.outlet),Z=j&&R.value.component?j.children:x,ke=qs(R);for(const gt of Object.keys(ke))this.deactivateRouteAndItsChildren(ke[gt],Z);j&&j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated(),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(R,x,j){const Z=qs(x);R.children.forEach(ke=>{this.activateRoutes(ke,Z[ke.value.outlet],j),this.forwardEvent(new ls(ke.value.snapshot))}),R.children.length&&this.forwardEvent(new Kr(R.value.snapshot))}activateRoutes(R,x,j){const Z=R.value,ke=x?x.value:null;if(Er(Z),Z===ke)if(Z.component){const gt=j.getOrCreateContext(Z.outlet);this.activateChildRoutes(R,x,gt.children)}else this.activateChildRoutes(R,x,j);else if(Z.component){const gt=j.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const Dt=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),gt.children.onOutletReAttached(Dt.contexts),gt.attachRef=Dt.componentRef,gt.route=Dt.route.value,gt.outlet&&gt.outlet.attach(Dt.componentRef,Dt.route.value),Er(Dt.route.value),this.activateChildRoutes(R,null,gt.children)}else{const Dt=lo(Z.snapshot),mn=Dt?.get(m._Vd)??null;gt.attachRef=null,gt.route=Z,gt.resolver=mn,gt.injector=Dt,gt.outlet&&gt.outlet.activateWith(Z,gt.injector),this.activateChildRoutes(R,null,gt.children)}}else this.activateChildRoutes(R,null,j)}}class So{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class oa{constructor(R,x){this.component=R,this.route=x}}function us(M,R,x){const j=M._root;return Ds(j,R?R._root:null,x,[j.value])}function is(M,R){const x=Symbol(),j=R.get(M,x);return j===x?"function"!=typeof M||(0,m.Z0I)(M)?R.get(M):M:j}function Ds(M,R,x,j,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ke=qs(R);return M.children.forEach(gt=>{(function Xa(M,R,x,j,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ke=M.value,gt=R?R.value:null,Dt=x?x.getContext(M.value.outlet):null;if(gt&&ke.routeConfig===gt.routeConfig){const mn=function rr(M,R,x){if("function"==typeof x)return x(M,R);switch(x){case"pathParamsChange":return!_n(M.url,R.url);case"pathParamsOrQueryParamsChange":return!_n(M.url,R.url)||!kn(M.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gs(M,R)||!kn(M.queryParams,R.queryParams);default:return!Gs(M,R)}}(gt,ke,ke.routeConfig.runGuardsAndResolvers);mn?Z.canActivateChecks.push(new So(j)):(ke.data=gt.data,ke._resolvedData=gt._resolvedData),Ds(M,R,ke.component?Dt?Dt.children:null:x,j,Z),mn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&Z.canDeactivateChecks.push(new oa(Dt.outlet.component,gt))}else gt&&Dn(R,Dt,Z),Z.canActivateChecks.push(new So(j)),Ds(M,null,ke.component?Dt?Dt.children:null:x,j,Z)})(gt,ke[gt.value.outlet],x,j.concat([gt.value]),Z),delete ke[gt.value.outlet]}),Qn(ke,(gt,Dt)=>Dn(gt,x.getContext(Dt),Z)),Z}function Dn(M,R,x){const j=qs(M),Z=M.value;Qn(j,(ke,gt)=>{Dn(ke,Z.component?R?R.children.getContext(gt):null:R,x)}),x.canDeactivateChecks.push(new oa(Z.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,Z))}function Ii(M){return"function"==typeof M}function mi(M){return M instanceof N.K||"EmptyError"===M?.name}const Tr=Symbol("INITIAL_VALUE");function Es(){return(0,at.w)(M=>(0,et.a)(M.map(R=>R.pipe((0,He.q)(1),(0,je.O)(Tr)))).pipe((0,kt.U)(R=>{for(const x of R)if(!0!==x){if(x===Tr)return Tr;if(!1===x||x instanceof vt)return x}return!0}),(0,$e.h)(R=>R!==Tr),(0,He.q)(1)))}function wc(M){return(0,ge.z)((0,st.b)(R=>{if(Ie(R))throw Do(0,R)}),(0,kt.U)(R=>!0===R))}const Aa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aa(M,R,x,j,Z){const ke=Ia(M,R,x);return ke.matched?function el(M,R,x,j){const Z=R.canMatch;if(!Z||0===Z.length)return(0,A.of)(!0);const ke=Z.map(gt=>{const Dt=is(gt,M);return vn(function $(M){return M&&Ii(M.canMatch)}(Dt)?Dt.canMatch(R,x):M.runInContext(()=>Dt(R,x)))});return(0,A.of)(ke).pipe(Es(),wc())}(j=Ea(R,j),R,x).pipe((0,kt.U)(gt=>!0===gt?ke:{...Aa})):(0,A.of)(ke)}function Ia(M,R,x){if(""===R.path)return"full"===R.pathMatch&&(M.hasChildren()||x.length>0)?{...Aa}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const Z=(R.matcher||An)(x,M,R);if(!Z)return{...Aa};const ke={};Qn(Z.posParams,(Dt,mn)=>{ke[mn]=Dt.path});const gt=Z.consumed.length>0?{...ke,...Z.consumed[Z.consumed.length-1].parameters}:ke;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:x.slice(Z.consumed.length),parameters:gt,positionalParamSegments:Z.posParams??{}}}function jo(M,R,x,j,Z="corrected"){if(x.length>0&&function Ma(M,R,x){return x.some(j=>yl(M,R,j)&&Ur(j)!==Qt)}(M,x,j)){const gt=new Ht(R,function vl(M,R,x,j){const Z={};Z[Qt]=j,j._sourceSegment=M,j._segmentIndexShift=R.length;for(const ke of x)if(""===ke.path&&Ur(ke)!==Qt){const gt=new Ht([],{});gt._sourceSegment=M,gt._segmentIndexShift=R.length,Z[Ur(ke)]=gt}return Z}(M,R,j,new Ht(x,M.children)));return gt._sourceSegment=M,gt._segmentIndexShift=R.length,{segmentGroup:gt,slicedSegments:[]}}if(0===x.length&&function Yl(M,R,x){return x.some(j=>yl(M,R,j))}(M,x,j)){const gt=new Ht(M.segments,function Qc(M,R,x,j,Z,ke){const gt={};for(const Dt of j)if(yl(M,x,Dt)&&!Z[Ur(Dt)]){const mn=new Ht([],{});mn._sourceSegment=M,mn._segmentIndexShift="legacy"===ke?M.segments.length:R.length,gt[Ur(Dt)]=mn}return{...Z,...gt}}(M,R,x,j,M.children,Z));return gt._sourceSegment=M,gt._segmentIndexShift=R.length,{segmentGroup:gt,slicedSegments:x}}const ke=new Ht(M.segments,M.children);return ke._sourceSegment=M,ke._segmentIndexShift=R.length,{segmentGroup:ke,slicedSegments:x}}function yl(M,R,x){return(!(M.hasChildren()||R.length>0)||"full"!==x.pathMatch)&&""===x.path}function U(M,R,x,j){return!!(Ur(M)===j||j!==Qt&&yl(R,x,M))&&("**"===M.path||Ia(R,M,x).matched)}function he(M,R,x){return 0===R.length&&!M.children[x]}const W=!1;class Me{constructor(R){this.segmentGroup=R||null}}class Et{constructor(R){this.urlTree=R}}function ln(M){return(0,X._)(new Me(M))}function pn(M){return(0,X._)(new Et(M))}class tr{constructor(R,x,j,Z,ke){this.injector=R,this.configLoader=x,this.urlSerializer=j,this.urlTree=Z,this.config=ke,this.allowRedirects=!0}apply(){const R=jo(this.urlTree.root,[],[],this.config).segmentGroup,x=new Ht(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,x,Qt).pipe((0,kt.U)(ke=>this.createUrlTree(de(ke),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,pt.K)(ke=>{if(ke instanceof Et)return this.allowRedirects=!1,this.match(ke.urlTree);throw ke instanceof Me?this.noMatchError(ke):ke}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,Qt).pipe((0,kt.U)(Z=>this.createUrlTree(de(Z),R.queryParams,R.fragment))).pipe((0,pt.K)(Z=>{throw Z instanceof Me?this.noMatchError(Z):Z}))}noMatchError(R){return new m.vHH(4002,W)}createUrlTree(R,x,j){const Z=re(R);return new vt(Z,x,j)}expandSegmentGroup(R,x,j,Z){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(R,x,j).pipe((0,kt.U)(ke=>new Ht([],ke))):this.expandSegment(R,j,x,j.segments,Z,!0)}expandChildren(R,x,j){const Z=[];for(const ke of Object.keys(j.children))"primary"===ke?Z.unshift(ke):Z.push(ke);return(0,h.D)(Z).pipe((0,ot.b)(ke=>{const gt=j.children[ke],Dt=Cs(x,ke);return this.expandSegmentGroup(R,Dt,gt,ke).pipe((0,kt.U)(mn=>({segment:mn,outlet:ke})))}),(0,Rt.R)((ke,gt)=>(ke[gt.outlet]=gt.segment,ke),{}),fn())}expandSegment(R,x,j,Z,ke,gt){return(0,h.D)(j).pipe((0,ot.b)(Dt=>this.expandSegmentAgainstRoute(R,x,j,Dt,Z,ke,gt).pipe((0,pt.K)(Vn=>{if(Vn instanceof Me)return(0,A.of)(null);throw Vn}))),(0,rt.P)(Dt=>!!Dt),(0,pt.K)((Dt,mn)=>{if(mi(Dt))return he(x,Z,ke)?(0,A.of)(new Ht([],{})):ln(x);throw Dt}))}expandSegmentAgainstRoute(R,x,j,Z,ke,gt,Dt){return U(Z,x,ke,gt)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(R,x,Z,ke,gt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,x,j,Z,ke,gt):ln(x):ln(x)}expandSegmentAgainstRouteUsingRedirect(R,x,j,Z,ke,gt){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,j,Z,gt):this.expandRegularSegmentAgainstRouteUsingRedirect(R,x,j,Z,ke,gt)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,x,j,Z){const ke=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?pn(ke):this.lineralizeSegments(j,ke).pipe((0,Oe.z)(gt=>{const Dt=new Ht(gt,{});return this.expandSegment(R,Dt,x,gt,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,x,j,Z,ke,gt){const{matched:Dt,consumedSegments:mn,remainingSegments:Vn,positionalParamSegments:Ri}=Ia(x,Z,ke);if(!Dt)return ln(x);const ii=this.applyRedirectCommands(mn,Z.redirectTo,Ri);return Z.redirectTo.startsWith("/")?pn(ii):this.lineralizeSegments(Z,ii).pipe((0,Oe.z)(Gi=>this.expandSegment(R,x,j,Gi.concat(Vn),gt,!1)))}matchSegmentAgainstRoute(R,x,j,Z,ke){return"**"===j.path?(R=Ea(j,R),j.loadChildren?(j._loadedRoutes?(0,A.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):this.configLoader.loadChildren(R,j)).pipe((0,kt.U)(Dt=>(j._loadedRoutes=Dt.routes,j._loadedInjector=Dt.injector,new Ht(Z,{})))):(0,A.of)(new Ht(Z,{}))):aa(x,j,Z,R).pipe((0,at.w)(({matched:gt,consumedSegments:Dt,remainingSegments:mn})=>gt?this.getChildConfig(R=j._injector??R,j,Z).pipe((0,Oe.z)(Ri=>{const ii=Ri.injector??R,Gi=Ri.routes,{segmentGroup:ds,slicedSegments:Ps}=jo(x,Dt,mn,Gi),ha=new Ht(ds.segments,ds.children);if(0===Ps.length&&ha.hasChildren())return this.expandChildren(ii,Gi,ha).pipe((0,kt.U)(Ql=>new Ht(Dt,Ql)));if(0===Gi.length&&0===Ps.length)return(0,A.of)(new Ht(Dt,{}));const Ss=Ur(j)===ke;return this.expandSegment(ii,ha,Gi,Ps,Ss?Qt:ke,!0).pipe((0,kt.U)(js=>new Ht(Dt.concat(js.segments),js.children)))})):ln(x)))}getChildConfig(R,x,j){return x.children?(0,A.of)({routes:x.children,injector:R}):x.loadChildren?void 0!==x._loadedRoutes?(0,A.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function Go(M,R,x,j){const Z=R.canLoad;if(void 0===Z||0===Z.length)return(0,A.of)(!0);const ke=Z.map(gt=>{const Dt=is(gt,M);return vn(function xa(M){return M&&Ii(M.canLoad)}(Dt)?Dt.canLoad(R,x):M.runInContext(()=>Dt(R,x)))});return(0,A.of)(ke).pipe(Es(),wc())}(R,x,j).pipe((0,Oe.z)(Z=>Z?this.configLoader.loadChildren(R,x).pipe((0,st.b)(ke=>{x._loadedRoutes=ke.routes,x._loadedInjector=ke.injector})):function er(M){return(0,X._)($l(W,3))}())):(0,A.of)({routes:[],injector:R})}lineralizeSegments(R,x){let j=[],Z=x.root;for(;;){if(j=j.concat(Z.segments),0===Z.numberOfChildren)return(0,A.of)(j);if(Z.numberOfChildren>1||!Z.children[Qt])return(0,X._)(new m.vHH(4e3,W));Z=Z.children[Qt]}}applyRedirectCommands(R,x,j){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),R,j)}applyRedirectCreateUrlTree(R,x,j,Z){const ke=this.createSegmentGroup(R,x.root,j,Z);return new vt(ke,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(R,x){const j={};return Qn(R,(Z,ke)=>{if("string"==typeof Z&&Z.startsWith(":")){const Dt=Z.substring(1);j[ke]=x[Dt]}else j[ke]=Z}),j}createSegmentGroup(R,x,j,Z){const ke=this.createSegments(R,x.segments,j,Z);let gt={};return Qn(x.children,(Dt,mn)=>{gt[mn]=this.createSegmentGroup(R,Dt,j,Z)}),new Ht(ke,gt)}createSegments(R,x,j,Z){return x.map(ke=>ke.path.startsWith(":")?this.findPosParam(R,ke,Z):this.findOrReturn(ke,j))}findPosParam(R,x,j){const Z=j[x.path.substring(1)];if(!Z)throw new m.vHH(4001,W);return Z}findOrReturn(R,x){let j=0;for(const Z of x){if(Z.path===R.path)return x.splice(j),Z;j++}return R}}class Xi{}class Js{constructor(R,x,j,Z,ke,gt,Dt,mn){this.injector=R,this.rootComponentType=x,this.config=j,this.urlTree=Z,this.url=ke,this.paramsInheritanceStrategy=gt,this.relativeLinkResolution=Dt,this.urlSerializer=mn}recognize(){const R=jo(this.urlTree.root,[],[],this.config.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Qt).pipe((0,kt.U)(x=>{if(null===x)return null;const j=new Qs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),Z=new bs(j,x),ke=new mr(this.url,Z);return this.inheritParamsAndData(ke._root),ke}))}inheritParamsAndData(R){const x=R.value,j=ws(x,this.paramsInheritanceStrategy);x.params=Object.freeze(j.params),x.data=Object.freeze(j.data),R.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(R,x,j,Z){return 0===j.segments.length&&j.hasChildren()?this.processChildren(R,x,j):this.processSegment(R,x,j,j.segments,Z)}processChildren(R,x,j){return(0,h.D)(Object.keys(j.children)).pipe((0,ot.b)(Z=>{const ke=j.children[Z],gt=Cs(x,Z);return this.processSegmentGroup(R,gt,ke,Z)}),(0,Rt.R)((Z,ke)=>Z&&ke?(Z.push(...ke),Z):null),function nn(M,R=!1){return(0,ut.e)((x,j)=>{let Z=0;x.subscribe((0,dt.x)(j,ke=>{const gt=M(ke,Z++);(gt||R)&&j.next(ke),!gt&&j.complete()}))})}(Z=>null!==Z),(0,Zt.d)(null),fn(),(0,kt.U)(Z=>{if(null===Z)return null;const ke=ps(Z);return function Ir(M){M.sort((R,x)=>R.value.outlet===Qt?-1:x.value.outlet===Qt?1:R.value.outlet.localeCompare(x.value.outlet))}(ke),ke}))}processSegment(R,x,j,Z,ke){return(0,h.D)(x).pipe((0,ot.b)(gt=>this.processSegmentAgainstRoute(gt._injector??R,gt,j,Z,ke)),(0,rt.P)(gt=>!!gt),(0,pt.K)(gt=>{if(mi(gt))return he(j,Z,ke)?(0,A.of)([]):(0,A.of)(null);throw gt}))}processSegmentAgainstRoute(R,x,j,Z,ke){if(x.redirectTo||!U(x,j,Z,ke))return(0,A.of)(null);let gt;if("**"===x.path){const Dt=Z.length>0?Hn(Z).parameters:{},mn=ur(j)+Z.length,Vn=new Qs(Z,Dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ju(x),Ur(x),x.component??x._loadedComponent??null,x,Bn(j),mn,ui(x),mn);gt=(0,A.of)({snapshot:Vn,consumedSegments:[],remainingSegments:[]})}else gt=aa(j,x,Z,R).pipe((0,kt.U)(({matched:Dt,consumedSegments:mn,remainingSegments:Vn,parameters:Ri})=>{if(!Dt)return null;const ii=ur(j)+mn.length;return{snapshot:new Qs(mn,Ri,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ju(x),Ur(x),x.component??x._loadedComponent??null,x,Bn(j),ii,ui(x),ii),consumedSegments:mn,remainingSegments:Vn}}));return gt.pipe((0,at.w)(Dt=>{if(null===Dt)return(0,A.of)(null);const{snapshot:mn,consumedSegments:Vn,remainingSegments:Ri}=Dt;R=x._injector??R;const ii=x._loadedInjector??R,Gi=function Ns(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(x),{segmentGroup:ds,slicedSegments:Ps}=jo(j,Vn,Ri,Gi.filter(Ss=>void 0===Ss.redirectTo),this.relativeLinkResolution);if(0===Ps.length&&ds.hasChildren())return this.processChildren(ii,Gi,ds).pipe((0,kt.U)(Ss=>null===Ss?null:[new bs(mn,Ss)]));if(0===Gi.length&&0===Ps.length)return(0,A.of)([new bs(mn,[])]);const ha=Ur(x)===ke;return this.processSegment(ii,Gi,ds,Ps,ha?Qt:ke).pipe((0,kt.U)(Ss=>null===Ss?null:[new bs(mn,Ss)]))}))}}function Zr(M){const R=M.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function ps(M){const R=[],x=new Set;for(const j of M){if(!Zr(j)){R.push(j);continue}const Z=R.find(ke=>j.value.routeConfig===ke.value.routeConfig);void 0!==Z?(Z.children.push(...j.children),x.add(Z)):R.push(j)}for(const j of x){const Z=ps(j.children);R.push(new bs(j.value,Z))}return R.filter(j=>!x.has(j))}function Bn(M){let R=M;for(;R._sourceSegment;)R=R._sourceSegment;return R}function ur(M){let R=M,x=R._segmentIndexShift??0;for(;R._sourceSegment;)R=R._sourceSegment,x+=R._segmentIndexShift??0;return x-1}function ju(M){return M.data||{}}function ui(M){return M.resolve||{}}function Xc(M){return"string"==typeof M.title||null===M.title}function zu(M){return(0,at.w)(R=>{const x=M(R);return x?(0,h.D)(x).pipe((0,kt.U)(()=>R)):(0,A.of)(R)})}let Oa=(()=>{class M{buildTitle(x){let j,Z=x.root;for(;void 0!==Z;)j=this.getResolvedTitleForRoute(Z)??j,Z=Z.children.find(ke=>ke.outlet===Qt);return j}getResolvedTitleForRoute(x){return x.data[Cn]}}return M.\u0275fac=function(x){return new(x||M)},M.\u0275prov=m.Yz7({token:M,factory:function(){return(0,m.f3M)(Uh)},providedIn:"root"}),M})(),Uh=(()=>{class M extends Oa{constructor(x){super(),this.title=x}updateTitle(x){const j=this.buildTitle(x);void 0!==j&&this.title.setTitle(j)}}return M.\u0275fac=function(x){return new(x||M)(m.LFG(rn.Dx))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class $u{}class Jc extends class Cc{shouldDetach(R){return!1}store(R,x){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,x){return R.routeConfig===x.routeConfig}}{}const Or=new m.OlP("",{providedIn:"root",factory:()=>({})}),ci=new m.OlP("ROUTES");let la=(()=>{class M{constructor(x,j){this.injector=x,this.compiler=j,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,A.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const j=vn(x.loadComponent()).pipe((0,st.b)(ke=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=ke}),(0,qt.x)(()=>{this.componentLoaders.delete(x)})),Z=new Ue(j,()=>new mt.x).pipe(Pt());return this.componentLoaders.set(x,Z),Z}loadChildren(x,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,A.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const ke=this.loadModuleFactoryOrRoutes(j.loadChildren).pipe((0,kt.U)(Dt=>{this.onLoadEndListener&&this.onLoadEndListener(j);let mn,Vn,Ri=!1;Array.isArray(Dt)?Vn=Dt:(mn=Dt.create(x).injector,Vn=$n(mn.get(ci,[],m.XFs.Self|m.XFs.Optional)));return{routes:Vn.map(Rs),injector:mn}}),(0,qt.x)(()=>{this.childrenLoaders.delete(j)})),gt=new Ue(ke,()=>new mt.x).pipe(Pt());return this.childrenLoaders.set(j,gt),gt}loadModuleFactoryOrRoutes(x){return vn(x()).pipe((0,Oe.z)(j=>j instanceof m.YKP||Array.isArray(j)?(0,A.of)(j):(0,h.D)(this.compiler.compileModuleAsync(j))))}}return M.\u0275fac=function(x){return new(x||M)(m.LFG(m.zs3),m.LFG(m.Sil))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Io{}class dr{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,x){return R}}function Ra(M){throw M}function Hi(M,R,x){return R.parse("/")}const eu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Na(){const M=(0,m.f3M)(Mt),R=(0,m.f3M)(Os),x=(0,m.f3M)(jt.Ye),j=(0,m.f3M)(m.zs3),Z=(0,m.f3M)(m.Sil),ke=(0,m.f3M)(ci,{optional:!0})??[],gt=(0,m.f3M)(Or,{optional:!0})??{},Dt=(0,m.f3M)(Uh),mn=(0,m.f3M)(Oa,{optional:!0}),Vn=(0,m.f3M)(Io,{optional:!0}),Ri=(0,m.f3M)($u,{optional:!0}),ii=new jr(null,M,R,x,j,Z,$n(ke));return Vn&&(ii.urlHandlingStrategy=Vn),Ri&&(ii.routeReuseStrategy=Ri),ii.titleStrategy=mn??Dt,function jn(M,R){M.errorHandler&&(R.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(R.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(R.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(R.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(R.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(R.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(R.canceledNavigationResolution=M.canceledNavigationResolution)}(gt,ii),ii}let jr=(()=>{class M{constructor(x,j,Z,ke,gt,Dt,mn){this.rootComponentType=x,this.urlSerializer=j,this.rootContexts=Z,this.location=ke,this.config=mn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mt.x,this.errorHandler=Ra,this.malformedUriErrorHandler=Hi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,A.of)(void 0),this.urlHandlingStrategy=new dr,this.routeReuseStrategy=new Jc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=gt.get(la),this.configLoader.onLoadEndListener=Gi=>this.triggerEvent(new gl(Gi)),this.configLoader.onLoadStartListener=Gi=>this.triggerEvent(new Zs(Gi)),this.ngModule=gt.get(m.h0i),this.console=gt.get(m.c2e);const ii=gt.get(m.R0b);this.isNgZoneEnabled=ii instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(mn),this.currentUrlTree=function ae(){return new vt(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ra(this.currentUrlTree,this.rootComponentType),this.transitions=new Se.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(x){const j=this.events;return x.pipe((0,$e.h)(Z=>0!==Z.id),(0,kt.U)(Z=>({...Z,extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,at.w)(Z=>{let ke=!1,gt=!1;return(0,A.of)(Z).pipe((0,st.b)(Dt=>{this.currentNavigation={id:Dt.id,initialUrl:Dt.rawUrl,extractedUrl:Dt.extractedUrl,trigger:Dt.source,extras:Dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,at.w)(Dt=>{const mn=this.browserUrlTree.toString(),Vn=!this.navigated||Dt.extractedUrl.toString()!==mn||mn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Vn)&&this.urlHandlingStrategy.shouldProcessUrl(Dt.rawUrl))return bl(Dt.source)&&(this.browserUrlTree=Dt.extractedUrl),(0,A.of)(Dt).pipe((0,at.w)(ii=>{const Gi=this.transitions.getValue();return j.next(new Lt(ii.id,this.serializeUrl(ii.extractedUrl),ii.source,ii.restoredState)),Gi!==this.transitions.getValue()?we.E:Promise.resolve(ii)}),function Vi(M,R,x,j){return(0,at.w)(Z=>function ji(M,R,x,j,Z){return new tr(M,R,x,j,Z).apply()}(M,R,x,Z.extractedUrl,j).pipe((0,kt.U)(ke=>({...Z,urlAfterRedirects:ke}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,st.b)(ii=>{this.currentNavigation={...this.currentNavigation,finalUrl:ii.urlAfterRedirects},Z.urlAfterRedirects=ii.urlAfterRedirects}),function Ei(M,R,x,j,Z,ke){return(0,Oe.z)(gt=>function Ao(M,R,x,j,Z,ke,gt="emptyOnly",Dt="legacy"){return new Js(M,R,x,j,Z,gt,Dt,ke).recognize().pipe((0,at.w)(mn=>null===mn?function Ar(M){return new ye.y(R=>R.error(M))}(new Xi):(0,A.of)(mn)))}(M,R,x,gt.urlAfterRedirects,j.serialize(gt.urlAfterRedirects),j,Z,ke).pipe((0,kt.U)(Dt=>({...gt,targetSnapshot:Dt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,st.b)(ii=>{if(Z.targetSnapshot=ii.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!ii.extras.skipLocationChange){const ds=this.urlHandlingStrategy.merge(ii.urlAfterRedirects,ii.rawUrl);this.setBrowserUrl(ds,ii)}this.browserUrlTree=ii.urlAfterRedirects}const Gi=new qn(ii.id,this.serializeUrl(ii.extractedUrl),this.serializeUrl(ii.urlAfterRedirects),ii.targetSnapshot);j.next(Gi)}));if(Vn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Gi,extractedUrl:ds,source:Ps,restoredState:ha,extras:Ss}=Dt,wl=new Lt(Gi,this.serializeUrl(ds),Ps,ha);j.next(wl);const js=ra(ds,this.rootComponentType).snapshot;return Z={...Dt,targetSnapshot:js,urlAfterRedirects:ds,extras:{...Ss,skipLocationChange:!1,replaceUrl:!1}},(0,A.of)(Z)}return this.rawUrlTree=Dt.rawUrl,Dt.resolve(null),we.E}),(0,st.b)(Dt=>{const mn=new Ai(Dt.id,this.serializeUrl(Dt.extractedUrl),this.serializeUrl(Dt.urlAfterRedirects),Dt.targetSnapshot);this.triggerEvent(mn)}),(0,kt.U)(Dt=>Z={...Dt,guards:us(Dt.targetSnapshot,Dt.currentSnapshot,this.rootContexts)}),function Ts(M,R){return(0,Oe.z)(x=>{const{targetSnapshot:j,currentSnapshot:Z,guards:{canActivateChecks:ke,canDeactivateChecks:gt}}=x;return 0===gt.length&&0===ke.length?(0,A.of)({...x,guardsResult:!0}):function xr(M,R,x,j){return(0,h.D)(M).pipe((0,Oe.z)(Z=>function _l(M,R,x,j,Z){const ke=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ke||0===ke.length)return(0,A.of)(!0);const gt=ke.map(Dt=>{const mn=lo(R)??Z,Vn=is(Dt,mn);return vn(function Y(M){return M&&Ii(M.canDeactivate)}(Vn)?Vn.canDeactivate(M,R,x,j):mn.runInContext(()=>Vn(M,R,x,j))).pipe((0,rt.P)())});return(0,A.of)(gt).pipe(Es())}(Z.component,Z.route,x,R,j)),(0,rt.P)(Z=>!0!==Z,!0))}(gt,j,Z,M).pipe((0,Oe.z)(Dt=>Dt&&function Zc(M){return"boolean"==typeof M}(Dt)?function co(M,R,x,j){return(0,h.D)(R).pipe((0,ot.b)(Z=>(0,tt.z)(function Ja(M,R){return null!==M&&R&&R(new Hs(M)),(0,A.of)(!0)}(Z.route.parent,j),function uo(M,R){return null!==M&&R&&R(new no(M)),(0,A.of)(!0)}(Z.route,j),function qc(M,R,x){const j=R[R.length-1],ke=R.slice(0,R.length-1).reverse().map(gt=>function xo(M){const R=M.routeConfig?M.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:M,guards:R}:null}(gt)).filter(gt=>null!==gt).map(gt=>(0,pe.P)(()=>{const Dt=gt.guards.map(mn=>{const Vn=lo(gt.node)??x,Ri=is(mn,Vn);return vn(function q(M){return M&&Ii(M.canActivateChild)}(Ri)?Ri.canActivateChild(j,M):Vn.runInContext(()=>Ri(j,M))).pipe((0,rt.P)())});return(0,A.of)(Dt).pipe(Es())}));return(0,A.of)(ke).pipe(Es())}(M,Z.path,x),function ho(M,R,x){const j=R.routeConfig?R.routeConfig.canActivate:null;if(!j||0===j.length)return(0,A.of)(!0);const Z=j.map(ke=>(0,pe.P)(()=>{const gt=lo(R)??x,Dt=is(ke,gt);return vn(function Gr(M){return M&&Ii(M.canActivate)}(Dt)?Dt.canActivate(R,M):gt.runInContext(()=>Dt(R,M))).pipe((0,rt.P)())}));return(0,A.of)(Z).pipe(Es())}(M,Z.route,x))),(0,rt.P)(Z=>!0!==Z,!0))}(j,ke,M,R):(0,A.of)(Dt)),(0,kt.U)(Dt=>({...x,guardsResult:Dt})))})}(this.ngModule.injector,Dt=>this.triggerEvent(Dt)),(0,st.b)(Dt=>{if(Z.guardsResult=Dt.guardsResult,Ie(Dt.guardsResult))throw Do(0,Dt.guardsResult);const mn=new gr(Dt.id,this.serializeUrl(Dt.extractedUrl),this.serializeUrl(Dt.urlAfterRedirects),Dt.targetSnapshot,!!Dt.guardsResult);this.triggerEvent(mn)}),(0,$e.h)(Dt=>!!Dt.guardsResult||(this.restoreHistory(Dt),this.cancelNavigationTransition(Dt,"",3),!1)),zu(Dt=>{if(Dt.guards.canActivateChecks.length)return(0,A.of)(Dt).pipe((0,st.b)(mn=>{const Vn=new Pi(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);this.triggerEvent(Vn)}),(0,at.w)(mn=>{let Vn=!1;return(0,A.of)(mn).pipe(function bp(M,R){return(0,Oe.z)(x=>{const{targetSnapshot:j,guards:{canActivateChecks:Z}}=x;if(!Z.length)return(0,A.of)(x);let ke=0;return(0,h.D)(Z).pipe((0,ot.b)(gt=>function Zn(M,R,x,j){const Z=M.routeConfig,ke=M._resolve;return void 0!==Z?.title&&!Xc(Z)&&(ke[Cn]=Z.title),function hn(M,R,x,j){const Z=function Nn(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===Z.length)return(0,A.of)({});const ke={};return(0,h.D)(Z).pipe((0,Oe.z)(gt=>function Lr(M,R,x,j){const Z=lo(R)??j,ke=is(M,Z);return vn(ke.resolve?ke.resolve(R,x):Z.runInContext(()=>ke(R,x)))}(M[gt],R,x,j).pipe((0,rt.P)(),(0,st.b)(Dt=>{ke[gt]=Dt}))),At(1),(0,wt.h)(ke),(0,pt.K)(gt=>mi(gt)?we.E:(0,X._)(gt)))}(ke,M,R,j).pipe((0,kt.U)(gt=>(M._resolvedData=gt,M.data=ws(M,x).resolve,Z&&Xc(Z)&&(M.data[Cn]=Z.title),null)))}(gt.route,j,M,R)),(0,st.b)(()=>ke++),At(1),(0,Oe.z)(gt=>ke===Z.length?(0,A.of)(x):we.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,st.b)({next:()=>Vn=!0,complete:()=>{Vn||(this.restoreHistory(mn),this.cancelNavigationTransition(mn,"",2))}}))}),(0,st.b)(mn=>{const Vn=new lr(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);this.triggerEvent(Vn)}))}),zu(Dt=>{const mn=Vn=>{const Ri=[];Vn.routeConfig?.loadComponent&&!Vn.routeConfig._loadedComponent&&Ri.push(this.configLoader.loadComponent(Vn.routeConfig).pipe((0,st.b)(ii=>{Vn.component=ii}),(0,kt.U)(()=>{})));for(const ii of Vn.children)Ri.push(...mn(ii));return Ri};return(0,et.a)(mn(Dt.targetSnapshot.root)).pipe((0,Zt.d)(),(0,He.q)(1))}),zu(()=>this.afterPreactivation()),(0,kt.U)(Dt=>{const mn=function zi(M,R,x){const j=ao(M,R._root,x?x._root:void 0);return new Us(j,R)}(this.routeReuseStrategy,Dt.targetSnapshot,Dt.currentRouterState);return Z={...Dt,targetRouterState:mn}}),(0,st.b)(Dt=>{this.currentUrlTree=Dt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Dt.urlAfterRedirects,Dt.rawUrl),this.routerState=Dt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Dt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Dt),this.browserUrlTree=Dt.urlAfterRedirects)}),((M,R,x)=>(0,kt.U)(j=>(new yi(R,j.targetRouterState,j.currentRouterState,x).activate(M),j)))(this.rootContexts,this.routeReuseStrategy,Dt=>this.triggerEvent(Dt)),(0,st.b)({next(){ke=!0},complete(){ke=!0}}),(0,qt.x)(()=>{ke||gt||this.cancelNavigationTransition(Z,"",1),this.currentNavigation?.id===Z.id&&(this.currentNavigation=null)}),(0,pt.K)(Dt=>{if(gt=!0,Wl(Dt)){Eo(Dt)||(this.navigated=!0,this.restoreHistory(Z,!0));const mn=new yn(Z.id,this.serializeUrl(Z.extractedUrl),Dt.message,Dt.cancellationCode);if(j.next(mn),Eo(Dt)){const Vn=this.urlHandlingStrategy.merge(Dt.url,this.rawUrlTree),Ri={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bl(Z.source)};this.scheduleNavigation(Vn,"imperative",null,Ri,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}else Z.resolve(!1)}else{this.restoreHistory(Z,!0);const mn=new In(Z.id,this.serializeUrl(Z.extractedUrl),Dt,Z.targetSnapshot??void 0);j.next(mn);try{Z.resolve(this.errorHandler(Dt))}catch(Vn){Z.reject(Vn)}}return we.E}))}))}resetRootComponentType(x){this.rootComponentType=x,this.routerState.root.component=this.rootComponentType}setTransition(x){this.transitions.next({...this.transitions.value,...x})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const j="popstate"===x.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{const Z={replaceUrl:!0},ke=x.state?.navigationId?x.state:null;if(ke){const Dt={...ke};delete Dt.navigationId,delete Dt.\u0275routerPageId,0!==Object.keys(Dt).length&&(Z.state=Dt)}const gt=this.parseUrl(x.url);this.scheduleNavigation(gt,j,ke,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(x){this.events.next(x)}resetConfig(x){this.config=x.map(Rs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,j={}){const{relativeTo:Z,queryParams:ke,fragment:gt,queryParamsHandling:Dt,preserveFragment:mn}=j,Vn=Z||this.routerState.root,Ri=mn?this.currentUrlTree.fragment:gt;let ii=null;switch(Dt){case"merge":ii={...this.currentUrlTree.queryParams,...ke};break;case"preserve":ii=this.currentUrlTree.queryParams;break;default:ii=ke||null}return null!==ii&&(ii=this.removeEmptyProps(ii)),V(Vn,this.currentUrlTree,x,ii,Ri??null)}navigateByUrl(x,j={skipLocationChange:!1}){const Z=Ie(x)?x:this.parseUrl(x),ke=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(ke,"imperative",null,j)}navigate(x,j={skipLocationChange:!1}){return function ca(M){for(let R=0;R<M.length;R++){if(null==M[R])throw new m.vHH(4008,false)}}(x),this.navigateByUrl(this.createUrlTree(x,j),j)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let j;try{j=this.urlSerializer.parse(x)}catch(Z){j=this.malformedUriErrorHandler(Z,this.urlSerializer,x)}return j}isActive(x,j){let Z;if(Z=!0===j?{...eu}:!1===j?{...kr}:j,Ie(x))return Ze(this.currentUrlTree,x,Z);const ke=this.parseUrl(x);return Ze(this.currentUrlTree,ke,Z)}removeEmptyProps(x){return Object.keys(x).reduce((j,Z)=>{const ke=x[Z];return null!=ke&&(j[Z]=ke),j},{})}processNavigations(){this.navigations.subscribe(x=>{this.navigated=!0,this.lastSuccessfulId=x.id,this.currentPageId=x.targetPageId,this.events.next(new zt(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),x.resolve(!0)},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}scheduleNavigation(x,j,Z,ke,gt){if(this.disposed)return Promise.resolve(!1);let Dt,mn,Vn;gt?(Dt=gt.resolve,mn=gt.reject,Vn=gt.promise):Vn=new Promise((Gi,ds)=>{Dt=Gi,mn=ds});const Ri=++this.navigationId;let ii;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Z=this.location.getState()),ii=Z&&Z.\u0275routerPageId?Z.\u0275routerPageId:ke.replaceUrl||ke.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):ii=0,this.setTransition({id:Ri,targetPageId:ii,source:j,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:x,extras:ke,resolve:Dt,reject:mn,promise:Vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vn.catch(Gi=>Promise.reject(Gi))}setBrowserUrl(x,j){const Z=this.urlSerializer.serialize(x),ke={...j.extras.state,...this.generateNgRouterState(j.id,j.targetPageId)};this.location.isCurrentPathEqualTo(Z)||j.extras.replaceUrl?this.location.replaceState(Z,"",ke):this.location.go(Z,"",ke)}restoreHistory(x,j=!1){if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-x.targetPageId;"popstate"!==x.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===Z?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===Z&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(x,j,Z){const ke=new yn(x.id,this.serializeUrl(x.extractedUrl),j,Z);this.triggerEvent(ke),x.resolve(!1)}generateNgRouterState(x,j){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:j}:{navigationId:x}}}return M.\u0275fac=function(x){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:function(){return Na()},providedIn:"root"}),M})();function bl(M){return"imperative"!==M}let Rr=(()=>{class M{constructor(x,j,Z,ke,gt){this.router=x,this.route=j,this.tabIndexAttribute=Z,this.renderer=ke,this.el=gt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new mt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(x){this._preserveFragment=(0,m.D6c)(x)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(x){this._skipLocationChange=(0,m.D6c)(x)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(x){this._replaceUrl=(0,m.D6c)(x)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(x){if(null!=this.tabIndexAttribute)return;const j=this.renderer,Z=this.el.nativeElement;null!==x?j.setAttribute(Z,"tabindex",x):j.removeAttribute(Z,"tabindex")}ngOnChanges(x){this.onChanges.next(this)}set routerLink(x){null!=x?(this.commands=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(x){return new(x||M)(m.Y36(jr),m.Y36(so),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},M.\u0275dir=m.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(x,j){1&x&&m.NdJ("click",function(){return j.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),M})(),Pa=(()=>{class M{constructor(x,j,Z){this.router=x,this.route=j,this.locationStrategy=Z,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new mt.x,this.subscription=x.events.subscribe(ke=>{ke instanceof zt&&this.updateTargetUrlAndHref()})}set preserveFragment(x){this._preserveFragment=(0,m.D6c)(x)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(x){this._skipLocationChange=(0,m.D6c)(x)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(x){this._replaceUrl=(0,m.D6c)(x)}get replaceUrl(){return this._replaceUrl}set routerLink(x){this.commands=null!=x?Array.isArray(x)?x:[x]:null}ngOnChanges(x){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(x,j,Z,ke,gt){return!!(0!==x||j||Z||ke||gt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(x){return new(x||M)(m.Y36(jr),m.Y36(so),m.Y36(jt.S$))},M.\u0275dir=m.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(x,j){1&x&&m.NdJ("click",function(ke){return j.onClick(ke.button,ke.ctrlKey,ke.shiftKey,ke.altKey,ke.metaKey)}),2&x&&m.uIk("target",j.target)("href",j.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),M})();class Fa{}let nl=(()=>{class M{constructor(x,j,Z,ke,gt){this.router=x,this.injector=Z,this.preloadingStrategy=ke,this.loader=gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(x=>x instanceof zt),(0,ot.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,j){const Z=[];for(const ke of j){ke.providers&&!ke._injector&&(ke._injector=(0,m.MMx)(ke.providers,x,`Route: ${ke.path}`));const gt=ke._injector??x,Dt=ke._loadedInjector??gt;ke.loadChildren&&!ke._loadedRoutes&&void 0===ke.canLoad||ke.loadComponent&&!ke._loadedComponent?Z.push(this.preloadConfig(gt,ke)):(ke.children||ke._loadedRoutes)&&Z.push(this.processRoutes(Dt,ke.children??ke._loadedRoutes))}return(0,h.D)(Z).pipe((0,$t.J)())}preloadConfig(x,j){return this.preloadingStrategy.preload(j,()=>{let Z;Z=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(x,j):(0,A.of)(null);const ke=Z.pipe((0,Oe.z)(gt=>null===gt?(0,A.of)(void 0):(j._loadedRoutes=gt.routes,j._loadedInjector=gt.injector,this.processRoutes(gt.injector??x,gt.routes))));if(j.loadComponent&&!j._loadedComponent){const gt=this.loader.loadComponent(j);return(0,h.D)([ke,gt]).pipe((0,$t.J)())}return ke})}}return M.\u0275fac=function(x){return new(x||M)(m.LFG(jr),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Fa),m.LFG(la))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const nu=new m.OlP("");let ua=(()=>{class M{constructor(x,j,Z={}){this.router=x,this.viewportScroller=j,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(x=>{x instanceof Lt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof zt&&(this.lastId=x.id,this.scheduleScrollEvent(x,this.router.parseUrl(x.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(x=>{x instanceof jl&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,j){this.router.triggerEvent(new jl(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(x){m.$Z()},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac}),M})();function zr(M,R){return{\u0275kind:M,\u0275providers:R}}function Dc(M){return[{provide:ci,multi:!0,useValue:M}]}function eo(){const M=(0,m.f3M)(m.zs3);return R=>{const x=M.get(m.z2F);if(R!==x.components[0])return;const j=M.get(jr),Z=M.get(Ec);1===M.get(Oo)&&j.initialNavigation(),M.get(jh,null,m.XFs.Optional)?.setUpPreloading(),M.get(nu,null,m.XFs.Optional)?.init(),j.resetRootComponentType(x.componentTypes[0]),Z.next(),Z.complete()}}const Ec=new m.OlP("",{factory:()=>new mt.x}),Oo=new m.OlP("",{providedIn:"root",factory:()=>1});const jh=new m.OlP("");function fo(M){return zr(0,[{provide:jh,useExisting:nl},{provide:Fa,useExisting:M}])}const hr=new m.OlP("ROUTER_FORROOT_GUARD"),iu=[jt.Ye,{provide:Mt,useClass:te},{provide:jr,useFactory:Na},Os,{provide:so,useFactory:function $o(M){return M.routerState.root},deps:[jr]},la];function gs(){return new m.PXZ("Router",jr)}let Mi=(()=>{class M{constructor(x){}static forRoot(x,j){return{ngModule:M,providers:[iu,[],Dc(x),{provide:hr,useFactory:Dp,deps:[[jr,new m.FiY,new m.tp0]]},{provide:Or,useValue:j||{}},j?.useHash?{provide:jt.S$,useClass:jt.Do}:{provide:jt.S$,useClass:jt.b0},{provide:nu,useFactory:()=>{const M=(0,m.f3M)(jr),R=(0,m.f3M)(jt.EM),x=(0,m.f3M)(Or);return x.scrollOffset&&R.setOffset(x.scrollOffset),new ua(M,R,x)}},j?.preloadingStrategy?fo(j.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:gs},j?.initialNavigation?Yn(j):[],[{provide:Wo,useFactory:eo},{provide:m.tb,multi:!0,useExisting:Wo}]]}}static forChild(x){return{ngModule:M,providers:[Dc(x)]}}}return M.\u0275fac=function(x){return new(x||M)(m.LFG(hr,8))},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[Zi]}),M})();function Dp(M){return"guarded"}function Yn(M){return["disabled"===M.initialNavigation?zr(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const R=(0,m.f3M)(jr);return()=>{R.setUpLocationChangeListener()}}},{provide:Oo,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?zr(2,[{provide:Oo,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:R=>{const x=R.get(jt.V_,Promise.resolve());let j=!1;return()=>x.then(()=>new Promise(ke=>{const gt=R.get(jr),Dt=R.get(Ec);(function Z(ke){R.get(jr).events.pipe((0,$e.h)(Dt=>Dt instanceof zt||Dt instanceof yn||Dt instanceof In),(0,kt.U)(Dt=>Dt instanceof zt||Dt instanceof yn&&(0===Dt.code||1===Dt.code)&&null),(0,$e.h)(Dt=>null!==Dt),(0,He.q)(1)).subscribe(()=>{ke()})})(()=>{ke(!0),j=!0}),gt.afterPreactivation=()=>(ke(!0),j||Dt.closed?(0,A.of)(void 0):Dt),gt.initialNavigation()}))}}]).\u0275providers:[]]}const Wo=new m.OlP("")},3942:(bn,Tt,S)=>{S.d(Tt,{Z:()=>dt});var m=S(2090),h=S(4859),A=S(9681),Se=S(1877);class N{constructor(Ue,mt){this._delegate=Ue,this.firebase=mt,(0,A._addComponent)(Ue,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(Ue,mt=A._DEFAULT_ENTRY_NAME){var jt;this._delegate.checkDestroyed();const kt=this._delegate.container.getProvider(Ue);return!kt.isInitialized()&&"EXPLICIT"===(null===(jt=kt.getComponent())||void 0===jt?void 0:jt.instantiationMode)&&kt.initialize(),kt.getImmediate({identifier:mt})}_removeServiceInstance(Ue,mt=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(mt)}_addComponent(Ue){(0,A._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,A._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const tt=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function ge(){const Pt=function pe(Pt){const Ue={},mt={__esModule:!0,initializeApp:function at(Oe,rt={}){const ot=A.initializeApp(Oe,rt);if((0,m.r3)(Ue,ot.name))return Ue[ot.name];const st=new Pt(ot,mt);return Ue[ot.name]=st,st},app:kt,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function je(Oe){const rt=Oe.name,ot=rt.replace("-compat","");if(A._registerComponent(Oe)&&"PUBLIC"===Oe.type){const st=(pt=kt())=>{if("function"!=typeof pt[ot])throw tt.create("invalid-app-argument",{appName:rt});return pt[ot]()};void 0!==Oe.serviceProps&&(0,m.ZB)(st,Oe.serviceProps),mt[ot]=st,Pt.prototype[ot]=function(...pt){return this._getService.bind(this,rt).apply(this,Oe.multipleInstances?pt:[])}}return"PUBLIC"===Oe.type?mt[ot]:null},removeApp:function jt(Oe){delete Ue[Oe]},useAsService:function $e(Oe,rt){return"serverAuth"===rt?null:rt},modularAPIs:A}};function kt(Oe){if(!(0,m.r3)(Ue,Oe=Oe||A._DEFAULT_ENTRY_NAME))throw tt.create("no-app",{appName:Oe});return Ue[Oe]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function He(){return Object.keys(Ue).map(Oe=>Ue[Oe])}}),kt.App=Pt,mt}(N);return Pt.INTERNAL=Object.assign(Object.assign({},Pt.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Ue(mt){(0,m.ZB)(Pt,mt)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Pt}(),ye=new Se.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=X;!function ut(Pt){(0,A.registerVersion)("@firebase/app-compat","0.1.37",Pt)}()},9681:(bn,Tt,S)=>{S.r(Tt),S.d(Tt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>$n,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>rn,_addOrOverwriteComponent:()=>Qt,_apps:()=>qt,_clearComponents:()=>An,_components:()=>$t,_getProvider:()=>Xt,_registerComponent:()=>Cn,_removeServiceInstance:()=>gn,deleteApp:()=>vn,getApp:()=>Gn,getApps:()=>Qn,initializeApp:()=>Hn,onLog:()=>me,registerVersion:()=>ae,setLogLevel:()=>nt});var m=S(5861),h=S(4859),A=S(1877),Se=S(2090),N=S(8766);class et{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function tt(ue){return"VERSION"===ue.getComponent()?.type}(ft)){const it=ft.getImmediate();return`${it.library}/${it.version}`}return null}).filter(ft=>ft).join(" ")}}const pe="@firebase/app",X=new A.Yd("@firebase/app"),nn="[DEFAULT]",wt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,$t=new Map;function rn(ue,J){try{ue.container.addComponent(J)}catch(ft){X.debug(`Component ${J.name} failed to register with FirebaseApp ${ue.name}`,ft)}}function Qt(ue,J){ue.container.addOrOverwriteComponent(J)}function Cn(ue){const J=ue.name;if($t.has(J))return X.debug(`There were multiple attempts to register component ${J}.`),!1;$t.set(J,ue);for(const ft of qt.values())rn(ft,ue);return!0}function Xt(ue,J){const ft=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return ft&&ft.triggerHeartbeat(),ue.container.getProvider(J)}function gn(ue,J,ft=nn){Xt(ue,J).clearInstance(ft)}function An(){$t.clear()}const kn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(J,ft,it){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const $n="9.12.1";function Hn(ue,J={}){let ft=ue;"object"!=typeof J&&(J={name:J});const it=Object.assign({name:nn,automaticDataCollectionEnabled:!1},J),It=it.name;if("string"!=typeof It||!It)throw kn.create("bad-app-name",{appName:String(It)});if(ft||(ft=(0,Se.aH)()),!ft)throw kn.create("no-options");const Bt=qt.get(It);if(Bt){if((0,Se.vZ)(ft,Bt.options)&&(0,Se.vZ)(it,Bt.config))return Bt;throw kn.create("duplicate-app",{appName:It})}const We=new h.H0(It);for(const Ce of $t.values())We.addComponent(Ce);const qe=new Wn(ft,it,We);return qt.set(It,qe),qe}function Gn(ue=nn){const J=qt.get(ue);if(!J&&ue===nn)return Hn();if(!J)throw kn.create("no-app",{appName:ue});return J}function Qn(){return Array.from(qt.values())}function vn(ue){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(ue){const J=ue.name;qt.has(J)&&(qt.delete(J),yield Promise.all(ue.container.getProviders().map(ft=>ft.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function ae(ue,J,ft){var it;let It=null!==(it=wt[ue])&&void 0!==it?it:ue;ft&&(It+=`-${ft}`);const Bt=It.match(/\s|\//),We=J.match(/\s|\//);if(Bt||We){const qe=[`Unable to register library "${It}" with version "${J}":`];return Bt&&qe.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Bt&&We&&qe.push("and"),We&&qe.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void X.warn(qe.join(" "))}Cn(new h.wA(`${It}-version`,()=>({library:It,version:J}),"VERSION"))}function me(ue,J){if(null!==ue&&"function"!=typeof ue)throw kn.create("invalid-log-argument");(0,A.Am)(ue,J)}function nt(ue){(0,A.Ub)(ue)}const Wt="firebase-heartbeat-store";let cn=null;function Gt(){return cn||(cn=(0,N.X3)("firebase-heartbeat-database",1,{upgrade:(ue,J)=>{0===J&&ue.createObjectStore(Wt)}}).catch(ue=>{throw kn.create("idb-open",{originalErrorMessage:ue.message})})),cn}function Le(){return(Le=(0,m.Z)(function*(ue){var J;try{return(yield Gt()).transaction(Wt).objectStore(Wt).get(un(ue))}catch(ft){if(ft instanceof Se.ZR)X.warn(ft.message);else{const it=kn.create("idb-get",{originalErrorMessage:null===(J=ft)||void 0===J?void 0:J.message});X.warn(it.message)}}})).apply(this,arguments)}function vt(ue,J){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(ue,J){var ft;try{const It=(yield Gt()).transaction(Wt,"readwrite");return yield It.objectStore(Wt).put(J,un(ue)),It.done}catch(it){if(it instanceof Se.ZR)X.warn(it.message);else{const It=kn.create("idb-set",{originalErrorMessage:null===(ft=it)||void 0===ft?void 0:ft.message});X.warn(It.message)}}})).apply(this,arguments)}function un(ue){return`${ue.name}!${ue.options.appId}`}class Ot{constructor(J){this.container=J,this._heartbeatsCache=null;const ft=this.container.getProvider("app").getImmediate();this._storage=new oe(ft),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var J=this;return(0,m.Z)(function*(){const it=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Mt();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==It&&!J._heartbeatsCache.heartbeats.some(Bt=>Bt.date===It))return J._heartbeatsCache.heartbeats.push({date:It,agent:it}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Bt=>{const We=new Date(Bt.date).valueOf();return Date.now()-We<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,m.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const ft=Mt(),{heartbeatsToSend:it,unsentEntries:It}=function te(ue,J=1024){const ft=[];let it=ue.slice();for(const It of ue){const Bt=ft.find(We=>We.agent===It.agent);if(Bt){if(Bt.dates.push(It.date),K(ft)>J){Bt.dates.pop();break}}else if(ft.push({agent:It.agent,dates:[It.date]}),K(ft)>J){ft.pop();break}it=it.slice(1)}return{heartbeatsToSend:ft,unsentEntries:it}}(J._heartbeatsCache.heartbeats),Bt=(0,Se.L)(JSON.stringify({version:2,heartbeats:it}));return J._heartbeatsCache.lastSentHeartbeatDate=ft,It.length>0?(J._heartbeatsCache.heartbeats=It,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Bt})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class oe{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,m.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function yt(ue){return Le.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var ft=this;return(0,m.Z)(function*(){var it;if(yield ft._canUseIndexedDBPromise){const Bt=yield ft.read();return vt(ft.app,{lastSentHeartbeatDate:null!==(it=J.lastSentHeartbeatDate)&&void 0!==it?it:Bt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var ft=this;return(0,m.Z)(function*(){var it;if(yield ft._canUseIndexedDBPromise){const Bt=yield ft.read();return vt(ft.app,{lastSentHeartbeatDate:null!==(it=J.lastSentHeartbeatDate)&&void 0!==it?it:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...J.heartbeats]})}})()}}function K(ue){return(0,Se.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function z(ue){Cn(new h.wA("platform-logger",J=>new et(J),"PRIVATE")),Cn(new h.wA("heartbeat",J=>new Ot(J),"PRIVATE")),ae(pe,"0.8.2",ue),ae(pe,"0.8.2","esm2017"),ae("fire-js","")}("")},4859:(bn,Tt,S)=>{S.d(Tt,{H0:()=>pe,wA:()=>A});var m=S(5861),h=S(2090);class A{constructor(X,ye,we){this.name=X,this.instanceFactory=ye,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Se="[DEFAULT]";class N{constructor(X,ye){this.name=X,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ye=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ye)){const we=new h.BH;if(this.instancesDeferred.set(ye,we),this.isInitialized(ye)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:ye});Ge&&we.resolve(Ge)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(X){var ye;const we=this.normalizeInstanceIdentifier(X?.identifier),Ge=null!==(ye=X?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(ut){if(Ge)return null;throw ut}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function tt(ge){return"EAGER"===ge.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[ye,we]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(ye);try{const ut=this.getOrInitializeService({instanceIdentifier:Ge});we.resolve(ut)}catch{}}}}clearInstance(X=Se){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,m.Z)(function*(){const ye=Array.from(X.instances.values());yield Promise.all([...ye.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...ye.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Se){return this.instances.has(X)}getOptions(X=Se){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ye={}}=X,we=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:we,options:ye});for(const[ut,dt]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(ut)&&dt.resolve(Ge);return Ge}onInit(X,ye){var we;const Ge=this.normalizeInstanceIdentifier(ye),ut=null!==(we=this.onInitCallbacks.get(Ge))&&void 0!==we?we:new Set;ut.add(X),this.onInitCallbacks.set(Ge,ut);const dt=this.instances.get(Ge);return dt&&X(dt,Ge),()=>{ut.delete(X)}}invokeOnInitCallbacks(X,ye){const we=this.onInitCallbacks.get(ye);if(we)for(const Ge of we)try{Ge(X,ye)}catch{}}getOrInitializeService({instanceIdentifier:X,options:ye={}}){let we=this.instances.get(X);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=X,ge===Se?void 0:ge),options:ye}),this.instances.set(X,we),this.instancesOptions.set(X,ye),this.invokeOnInitCallbacks(we,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,we)}catch{}var ge;return we||null}normalizeInstanceIdentifier(X=Se){return this.component?this.component.multipleInstances?X:Se:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ye=this.getProvider(X.name);if(ye.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ye.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ye=new N(X,this);return this.providers.set(X,ye),ye}getProviders(){return Array.from(this.providers.values())}}},2833:(bn,Tt,S)=>{var m=S(5861),h=S(9681),A=S(4859),Se=S(2090),N=S(8766);const et="@firebase/installations",tt="0.5.15",ge=`w:${tt}`,X="FIS_v2",Pt=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(xe){return xe instanceof Se.ZR&&xe.code.includes("request-failed")}function mt({projectId:xe}){return`https://firebaseinstallations.googleapis.com/v1/projects/${xe}/installations`}function jt(xe){return{token:xe.token,requestStatus:2,expiresIn:rt(xe.expiresIn),creationTime:Date.now()}}function kt(xe,St){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(xe,St){const ht=(yield St.json()).error;return Pt.create("request-failed",{requestName:xe,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function He({apiKey:xe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":xe})}function je(xe,{refreshToken:St}){const be=He(xe);return be.append("Authorization",function ot(xe){return`${X} ${xe}`}(St)),be}function $e(xe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,m.Z)(function*(xe){const St=yield xe();return St.status>=500&&St.status<600?xe():St})).apply(this,arguments)}function rt(xe){return Number(xe.replace("s","000"))}function st(xe,St){return pt.apply(this,arguments)}function pt(){return(pt=(0,m.Z)(function*({appConfig:xe,heartbeatServiceProvider:St},{fid:be}){const ht=mt(xe),O=He(xe),ie=St.getImmediate({optional:!0});if(ie){const fi=yield ie.getHeartbeatsHeader();fi&&O.append("x-firebase-client",fi)}const bt={method:"POST",headers:O,body:JSON.stringify({fid:be,authVersion:X,appId:xe.appId,sdkVersion:ge})},Sn=yield $e(()=>fetch(ht,bt));if(Sn.ok){const fi=yield Sn.json();return{fid:fi.fid||be,registrationStatus:2,refreshToken:fi.refreshToken,authToken:jt(fi.authToken)}}throw yield kt("Create Installation",Sn)})).apply(this,arguments)}function Rt(xe){return new Promise(St=>{setTimeout(St,xe)})}const Jt=/^[cdef][\w-]{21}$/;function on(){try{const xe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(xe),xe[0]=112+xe[0]%16;const be=function fn(xe){return function At(xe){return btoa(String.fromCharCode(...xe)).replace(/\+/g,"-").replace(/\//g,"_")}(xe).substr(0,22)}(xe);return Jt.test(be)?be:""}catch{return""}}function nn(xe){return`${xe.appName}!${xe.appId}`}const wt=new Map;function qt(xe,St){const be=nn(xe);Qt(be,St),function Cn(xe,St){const be=function gn(){return!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=xe=>{Qt(xe.data.key,xe.data.fid)}),Xt}();be&&be.postMessage({key:xe,fid:St}),function An(){0===wt.size&&Xt&&(Xt.close(),Xt=null)}()}(be,St)}function Qt(xe,St){const be=wt.get(xe);if(be)for(const ht of be)ht(St)}let Xt=null;const Wn="firebase-installations-store";let $n=null;function Hn(){return $n||($n=(0,N.X3)("firebase-installations-database",1,{upgrade:(xe,St)=>{0===St&&xe.createObjectStore(Wn)}})),$n}function Gn(xe,St){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,m.Z)(function*(xe,St){const be=nn(xe),O=(yield Hn()).transaction(Wn,"readwrite"),ie=O.objectStore(Wn),Re=yield ie.get(be);return yield ie.put(St,be),yield O.done,(!Re||Re.fid!==St.fid)&&qt(xe,St.fid),St})).apply(this,arguments)}function vn(xe){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(xe){const St=nn(xe),ht=(yield Hn()).transaction(Wn,"readwrite");yield ht.objectStore(Wn).delete(St),yield ht.done})).apply(this,arguments)}function ae(xe,St){return me.apply(this,arguments)}function me(){return(me=(0,m.Z)(function*(xe,St){const be=nn(xe),O=(yield Hn()).transaction(Wn,"readwrite"),ie=O.objectStore(Wn),Re=yield ie.get(be),bt=St(Re);return void 0===bt?yield ie.delete(be):yield ie.put(bt,be),yield O.done,bt&&(!Re||Re.fid!==bt.fid)&&qt(xe,bt.fid),bt})).apply(this,arguments)}function nt(xe){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,m.Z)(function*(xe){let St;const be=yield ae(xe.appConfig,ht=>{const O=Ct(ht),ie=Wt(xe,O);return St=ie.registrationPromise,ie.installationEntry});return""===be.fid?{installationEntry:yield St}:{installationEntry:be,registrationPromise:St}})).apply(this,arguments)}function Ct(xe){return Ht(xe||{fid:on(),registrationStatus:0})}function Wt(xe,St){if(0===St.registrationStatus){if(!navigator.onLine)return{installationEntry:St,registrationPromise:Promise.reject(Pt.create("app-offline"))};const be={fid:St.fid,registrationStatus:1,registrationTime:Date.now()},ht=function cn(xe,St){return Gt.apply(this,arguments)}(xe,be);return{installationEntry:be,registrationPromise:ht}}return 1===St.registrationStatus?{installationEntry:St,registrationPromise:yt(xe)}:{installationEntry:St}}function Gt(){return(Gt=(0,m.Z)(function*(xe,St){try{const be=yield st(xe,St);return Gn(xe.appConfig,be)}catch(be){throw Ue(be)&&409===be.customData.serverCode?yield vn(xe.appConfig):yield Gn(xe.appConfig,{fid:St.fid,registrationStatus:0}),be}})).apply(this,arguments)}function yt(xe){return Le.apply(this,arguments)}function Le(){return(Le=(0,m.Z)(function*(xe){let St=yield vt(xe.appConfig);for(;1===St.registrationStatus;)yield Rt(100),St=yield vt(xe.appConfig);if(0===St.registrationStatus){const{installationEntry:be,registrationPromise:ht}=yield nt(xe);return ht||be}return St})).apply(this,arguments)}function vt(xe){return ae(xe,St=>{if(!St)throw Pt.create("installation-not-found");return Ht(St)})}function Ht(xe){return function un(xe){return 1===xe.registrationStatus&&xe.registrationTime+1e4<Date.now()}(xe)?{fid:xe.fid,registrationStatus:0}:xe}function Rn(xe,St){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*({appConfig:xe,heartbeatServiceProvider:St},be){const ht=Ot(xe,be),O=je(xe,be),ie=St.getImmediate({optional:!0});if(ie){const fi=yield ie.getHeartbeatsHeader();fi&&O.append("x-firebase-client",fi)}const bt={method:"POST",headers:O,body:JSON.stringify({installation:{sdkVersion:ge,appId:xe.appId}})},Sn=yield $e(()=>fetch(ht,bt));if(Sn.ok)return jt(yield Sn.json());throw yield kt("Generate Auth Token",Sn)})).apply(this,arguments)}function Ot(xe,{fid:St}){return`${mt(xe)}/${St}/authTokens:generate`}function Mt(xe){return te.apply(this,arguments)}function te(){return(te=(0,m.Z)(function*(xe,St=!1){let be;const ht=yield ae(xe.appConfig,ie=>{if(!ft(ie))throw Pt.create("not-registered");const Re=ie.authToken;if(!St&&it(Re))return ie;if(1===Re.requestStatus)return be=oe(xe,St),ie;{if(!navigator.onLine)throw Pt.create("app-offline");const bt=Bt(ie);return be=ue(xe,bt),bt}});return be?yield be:ht.authToken})).apply(this,arguments)}function oe(xe,St){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(xe,St){let be=yield z(xe.appConfig);for(;1===be.authToken.requestStatus;)yield Rt(100),be=yield z(xe.appConfig);const ht=be.authToken;return 0===ht.requestStatus?Mt(xe,St):ht})).apply(this,arguments)}function z(xe){return ae(xe,St=>{if(!ft(St))throw Pt.create("not-registered");return function We(xe){return 1===xe.requestStatus&&xe.requestTime+1e4<Date.now()}(St.authToken)?Object.assign(Object.assign({},St),{authToken:{requestStatus:0}}):St})}function ue(xe,St){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(xe,St){try{const be=yield Rn(xe,St),ht=Object.assign(Object.assign({},St),{authToken:be});return yield Gn(xe.appConfig,ht),be}catch(be){if(!Ue(be)||401!==be.customData.serverCode&&404!==be.customData.serverCode){const ht=Object.assign(Object.assign({},St),{authToken:{requestStatus:0}});yield Gn(xe.appConfig,ht)}else yield vn(xe.appConfig);throw be}})).apply(this,arguments)}function ft(xe){return void 0!==xe&&2===xe.registrationStatus}function it(xe){return 2===xe.requestStatus&&!function It(xe){const St=Date.now();return St<xe.creationTime||xe.creationTime+xe.expiresIn<St+36e5}(xe)}function Bt(xe){const St={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},xe),{authToken:St})}function Ce(){return(Ce=(0,m.Z)(function*(xe){const St=xe,{installationEntry:be,registrationPromise:ht}=yield nt(St);return ht?ht.catch(console.error):Mt(St).catch(console.error),be.fid})).apply(this,arguments)}function ne(){return(ne=(0,m.Z)(function*(xe,St=!1){const be=xe;return yield Ne(be),(yield Mt(be,St)).token})).apply(this,arguments)}function Ne(xe){return _t.apply(this,arguments)}function _t(){return(_t=(0,m.Z)(function*(xe){const{registrationPromise:St}=yield nt(xe);St&&(yield St)})).apply(this,arguments)}function Ee(xe){return Pt.create("missing-app-config-values",{valueName:xe})}const H="installations",V=xe=>{const St=xe.getProvider("app").getImmediate(),be=function ve(xe){if(!xe||!xe.options)throw Ee("App Configuration");if(!xe.name)throw Ee("App Name");const St=["projectId","apiKey","appId"];for(const be of St)if(!xe.options[be])throw Ee(be);return{appName:xe.name,projectId:xe.options.projectId,apiKey:xe.options.apiKey,appId:xe.options.appId}}(St);return{app:St,appConfig:be,heartbeatServiceProvider:(0,h._getProvider)(St,"heartbeat"),_delete:()=>Promise.resolve()}},le=xe=>{const St=xe.getProvider("app").getImmediate(),be=(0,h._getProvider)(St,H).getImmediate();return{getId:()=>function qe(xe){return Ce.apply(this,arguments)}(be),getToken:O=>function Te(xe){return ne.apply(this,arguments)}(be,O)}};(function Ve(){(0,h._registerComponent)(new A.wA(H,V,"PUBLIC")),(0,h._registerComponent)(new A.wA("installations-internal",le,"PRIVATE"))})(),(0,h.registerVersion)(et,tt),(0,h.registerVersion)(et,tt,"esm2017")},1877:(bn,Tt,S)=>{S.d(Tt,{Am:()=>ge,Ub:()=>pe,Yd:()=>tt,in:()=>h});const m=[];var h=(()=>{return(X=h||(h={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",h;var X})();const A={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Se=h.INFO,N={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},et=(X,ye,...we)=>{if(ye<X.logLevel)return;const Ge=(new Date).toISOString(),ut=N[ye];if(!ut)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[ut](`[${Ge}]  ${X.name}:`,...we)};class tt{constructor(ye){this.name=ye,this._logLevel=Se,this._logHandler=et,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in h))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?A[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ye),this._logHandler(this,h.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ye),this._logHandler(this,h.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ye),this._logHandler(this,h.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ye),this._logHandler(this,h.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ye),this._logHandler(this,h.ERROR,...ye)}}function pe(X){m.forEach(ye=>{ye.setLogLevel(X)})}function ge(X,ye){for(const we of m){let Ge=null;ye&&ye.level&&(Ge=A[ye.level]),we.userLogHandler=null===X?null:(ut,dt,...Pt)=>{const Ue=Pt.map(mt=>{if(null==mt)return null;if("string"==typeof mt)return mt;if("number"==typeof mt||"boolean"==typeof mt)return mt.toString();if(mt instanceof Error)return mt.message;try{return JSON.stringify(mt)}catch{return null}}).filter(mt=>mt).join(" ");dt>=(Ge??ut.logLevel)&&X({level:h[dt].toLowerCase(),message:Ue,args:Pt,type:ut.name})}}}},8766:(bn,Tt,S)=>{S.d(Tt,{Lj:()=>at,X3:()=>kt});var m=S(5861);let A,Se;const tt=new WeakMap,pe=new WeakMap,ge=new WeakMap,X=new WeakMap,ye=new WeakMap;let ut={get(rt,ot,st){if(rt instanceof IDBTransaction){if("done"===ot)return pe.get(rt);if("objectStoreNames"===ot)return rt.objectStoreNames||ge.get(rt);if("store"===ot)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return mt(rt[ot])},set:(rt,ot,st)=>(rt[ot]=st,!0),has:(rt,ot)=>rt instanceof IDBTransaction&&("done"===ot||"store"===ot)||ot in rt};function Ue(rt){return"function"==typeof rt?function Pt(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...ot){return rt.apply(jt(this),ot),mt(tt.get(this))}:function(...ot){return mt(rt.apply(jt(this),ot))}:function(ot,...st){const pt=rt.call(jt(this),ot,...st);return ge.set(pt,ot.sort?ot.sort():[ot]),mt(pt)}}(rt):(rt instanceof IDBTransaction&&function Ge(rt){if(pe.has(rt))return;const ot=new Promise((st,pt)=>{const Rt=()=>{rt.removeEventListener("complete",At),rt.removeEventListener("error",Jt),rt.removeEventListener("abort",Jt)},At=()=>{st(),Rt()},Jt=()=>{pt(rt.error||new DOMException("AbortError","AbortError")),Rt()};rt.addEventListener("complete",At),rt.addEventListener("error",Jt),rt.addEventListener("abort",Jt)});pe.set(rt,ot)}(rt),((rt,ot)=>ot.some(st=>rt instanceof st))(rt,function N(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,ut):rt)}function mt(rt){if(rt instanceof IDBRequest)return function we(rt){const ot=new Promise((st,pt)=>{const Rt=()=>{rt.removeEventListener("success",At),rt.removeEventListener("error",Jt)},At=()=>{st(mt(rt.result)),Rt()},Jt=()=>{pt(rt.error),Rt()};rt.addEventListener("success",At),rt.addEventListener("error",Jt)});return ot.then(st=>{st instanceof IDBCursor&&tt.set(st,rt)}).catch(()=>{}),ye.set(ot,rt),ot}(rt);if(X.has(rt))return X.get(rt);const ot=Ue(rt);return ot!==rt&&(X.set(rt,ot),ye.set(ot,rt)),ot}const jt=rt=>ye.get(rt);function kt(rt,ot,{blocked:st,upgrade:pt,blocking:Rt,terminated:At}={}){const Jt=indexedDB.open(rt,ot),Zt=mt(Jt);return pt&&Jt.addEventListener("upgradeneeded",on=>{pt(mt(Jt.result),on.oldVersion,on.newVersion,mt(Jt.transaction))}),st&&Jt.addEventListener("blocked",()=>st()),Zt.then(on=>{At&&on.addEventListener("close",()=>At()),Rt&&on.addEventListener("versionchange",()=>Rt())}).catch(()=>{}),Zt}function at(rt,{blocked:ot}={}){const st=indexedDB.deleteDatabase(rt);return ot&&st.addEventListener("blocked",()=>ot()),mt(st).then(()=>{})}const He=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],$e=new Map;function Oe(rt,ot){if(!(rt instanceof IDBDatabase)||ot in rt||"string"!=typeof ot)return;if($e.get(ot))return $e.get(ot);const st=ot.replace(/FromIndex$/,""),pt=ot!==st,Rt=je.includes(st);if(!(st in(pt?IDBIndex:IDBObjectStore).prototype)||!Rt&&!He.includes(st))return;const At=function(){var Jt=(0,m.Z)(function*(Zt,...on){const fn=this.transaction(Zt,Rt?"readwrite":"readonly");let nn=fn.store;return pt&&(nn=nn.index(on.shift())),(yield Promise.all([nn[st](...on),Rt&&fn.done]))[0]});return function(on){return Jt.apply(this,arguments)}}();return $e.set(ot,At),At}!function dt(rt){ut=rt(ut)}(rt=>({...rt,get:(ot,st,pt)=>Oe(ot,st)||rt.get(ot,st,pt),has:(ot,st)=>!!Oe(ot,st)||rt.has(ot,st)}))},8345:(bn,Tt,S)=>{S.d(Tt,{J:()=>ve,U:()=>Ee});var m=S(4006),h=S(4650),A=S(9549),Se=S(2693),N=S(8184),et=S(3353),tt=S(4080),pe=S(6895),ge=S(9521),X=S(7579),ye=S(9770),we=S(9646),Ge=S(445),ut=S(8675);function dt(H,ce){}class Pt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let mt=(()=>{class H extends tt.en{constructor(V,le,Ve,xe,St,be,ht,O){super(),this._elementRef=V,this._focusTrapFactory=le,this._config=xe,this._interactivityChecker=St,this._ngZone=be,this._overlayRef=ht,this._focusMonitor=O,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=ie=>{this._portalOutlet.hasAttached();const Re=this._portalOutlet.attachDomPortal(ie);return this._contentAttached(),Re},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=Ve}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(V){this._portalOutlet.hasAttached();const le=this._portalOutlet.attachComponentPortal(V);return this._contentAttached(),le}attachTemplatePortal(V){this._portalOutlet.hasAttached();const le=this._portalOutlet.attachTemplatePortal(V);return this._contentAttached(),le}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(V,le){this._interactivityChecker.isFocusable(V)||(V.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ve=()=>{V.removeEventListener("blur",Ve),V.removeEventListener("mousedown",Ve),V.removeAttribute("tabindex")};V.addEventListener("blur",Ve),V.addEventListener("mousedown",Ve)})),V.focus(le)}_focusByCssSelector(V,le){let Ve=this._elementRef.nativeElement.querySelector(V);Ve&&this._forceFocus(Ve,le)}_trapFocus(){const V=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||V.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(le=>{le||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const V=this._config.restoreFocus;let le=null;if("string"==typeof V?le=this._document.querySelector(V):"boolean"==typeof V?le=V?this._elementFocusedBeforeDialogWasOpened:null:V&&(le=V),this._config.restoreFocus&&le&&"function"==typeof le.focus){const Ve=(0,et.ht)(),xe=this._elementRef.nativeElement;(!Ve||Ve===this._document.body||Ve===xe||xe.contains(Ve))&&(this._focusMonitor?(this._focusMonitor.focusVia(le,this._closeInteractionType),this._closeInteractionType=null):le.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const V=this._elementRef.nativeElement,le=(0,et.ht)();return V===le||V.contains(le)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,et.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(h.SBq),h.Y36(Se.qV),h.Y36(pe.K0,8),h.Y36(Pt),h.Y36(Se.ic),h.Y36(h.R0b),h.Y36(N.Iu),h.Y36(Se.tE))},H.\u0275cmp=h.Xpm({type:H,selectors:[["cdk-dialog-container"]],viewQuery:function(V,le){if(1&V&&h.Gf(tt.Pl,7),2&V){let Ve;h.iGM(Ve=h.CRH())&&(le._portalOutlet=Ve.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(V,le){2&V&&h.uIk("id",le._config.id||null)("role",le._config.role)("aria-modal",le._config.ariaModal)("aria-labelledby",le._config.ariaLabel?null:le._ariaLabelledBy)("aria-label",le._config.ariaLabel)("aria-describedby",le._config.ariaDescribedBy||null)},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(V,le){1&V&&h.YNc(0,dt,0,0,"ng-template",0)},dependencies:[tt.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),H})();class jt{constructor(ce,V){this.overlayRef=ce,this.config=V,this.closed=new X.x,this.disableClose=V.disableClose,this.backdropClick=ce.backdropClick(),this.keydownEvents=ce.keydownEvents(),this.outsidePointerEvents=ce.outsidePointerEvents(),this.id=V.id,this.keydownEvents.subscribe(le=>{le.keyCode===ge.hY&&!this.disableClose&&!(0,ge.Vb)(le)&&(le.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(ce,V){if(this.containerInstance){const le=this.closed;this.containerInstance._closeInteractionType=V?.focusOrigin||"program",this.overlayRef.dispose(),le.next(ce),le.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(ce="",V=""){return this.overlayRef.updateSize({width:ce,height:V}),this}addPanelClass(ce){return this.overlayRef.addPanelClass(ce),this}removePanelClass(ce){return this.overlayRef.removePanelClass(ce),this}}const kt=new h.OlP("DialogScrollStrategy"),at=new h.OlP("DialogData"),He=new h.OlP("DefaultDialogConfig"),$e={provide:kt,deps:[N.aV],useFactory:function je(H){return()=>H.scrollStrategies.block()}};let Oe=0,rt=(()=>{class H{constructor(V,le,Ve,xe,St,be){this._overlay=V,this._injector=le,this._defaultOptions=Ve,this._parentDialog=xe,this._overlayContainer=St,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new X.x,this._afterOpenedAtThisLevel=new X.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ye.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ut.O)(void 0))),this._scrollStrategy=be}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(V,le){(le={...this._defaultOptions||new Pt,...le}).id=le.id||"cdk-dialog-"+Oe++,le.id&&this.getDialogById(le.id);const xe=this._getOverlayConfig(le),St=this._overlay.create(xe),be=new jt(St,le),ht=this._attachContainer(St,be,le);return be.containerInstance=ht,this._attachDialogContent(V,be,ht,le),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(be),be.closed.subscribe(()=>this._removeOpenDialog(be,!0)),this.afterOpened.next(be),be}closeAll(){ot(this.openDialogs,V=>V.close())}getDialogById(V){return this.openDialogs.find(le=>le.id===V)}ngOnDestroy(){ot(this._openDialogsAtThisLevel,V=>{!1===V.config.closeOnDestroy&&this._removeOpenDialog(V,!1)}),ot(this._openDialogsAtThisLevel,V=>V.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(V){const le=new N.X_({positionStrategy:V.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:V.scrollStrategy||this._scrollStrategy(),panelClass:V.panelClass,hasBackdrop:V.hasBackdrop,direction:V.direction,minWidth:V.minWidth,minHeight:V.minHeight,maxWidth:V.maxWidth,maxHeight:V.maxHeight,width:V.width,height:V.height,disposeOnNavigation:V.closeOnNavigation});return V.backdropClass&&(le.backdropClass=V.backdropClass),le}_attachContainer(V,le,Ve){const xe=Ve.injector||Ve.viewContainerRef?.injector,St=[{provide:Pt,useValue:Ve},{provide:jt,useValue:le},{provide:N.Iu,useValue:V}];let be;Ve.container?"function"==typeof Ve.container?be=Ve.container:(be=Ve.container.type,St.push(...Ve.container.providers(Ve))):be=mt;const ht=new tt.C5(be,Ve.viewContainerRef,h.zs3.create({parent:xe||this._injector,providers:St}),Ve.componentFactoryResolver);return V.attach(ht).instance}_attachDialogContent(V,le,Ve,xe){if(V instanceof h.Rgc){const St=this._createInjector(xe,le,Ve,void 0);let be={$implicit:xe.data,dialogRef:le};xe.templateContext&&(be={...be,..."function"==typeof xe.templateContext?xe.templateContext():xe.templateContext}),Ve.attachTemplatePortal(new tt.UE(V,null,be,St))}else{const St=this._createInjector(xe,le,Ve,this._injector),be=Ve.attachComponentPortal(new tt.C5(V,xe.viewContainerRef,St,xe.componentFactoryResolver));le.componentInstance=be.instance}}_createInjector(V,le,Ve,xe){const St=V.injector||V.viewContainerRef?.injector,be=[{provide:at,useValue:V.data},{provide:jt,useValue:le}];return V.providers&&("function"==typeof V.providers?be.push(...V.providers(le,V,Ve)):be.push(...V.providers)),V.direction&&(!St||!St.get(Ge.Is,null,h.XFs.Optional))&&be.push({provide:Ge.Is,useValue:{value:V.direction,change:(0,we.of)()}}),h.zs3.create({parent:St||xe,providers:be})}_removeOpenDialog(V,le){const Ve=this.openDialogs.indexOf(V);Ve>-1&&(this.openDialogs.splice(Ve,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((xe,St)=>{xe?St.setAttribute("aria-hidden",xe):St.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),le&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const V=this._overlayContainer.getContainerElement();if(V.parentElement){const le=V.parentElement.children;for(let Ve=le.length-1;Ve>-1;Ve--){const xe=le[Ve];xe!==V&&"SCRIPT"!==xe.nodeName&&"STYLE"!==xe.nodeName&&!xe.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(xe,xe.getAttribute("aria-hidden")),xe.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const V=this._parentDialog;return V?V._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return H.\u0275fac=function(V){return new(V||H)(h.LFG(N.aV),h.LFG(h.zs3),h.LFG(He,8),h.LFG(H,12),h.LFG(N.Xj),h.LFG(kt))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),H})();function ot(H,ce){let V=H.length;for(;V--;)ce(H[V])}let st=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({providers:[rt,$e],imports:[N.U8,tt.eL,Se.rt,tt.eL]}),H})();var pt=S(3238),Rt=S(6451),At=S(9300),Jt=S(5698),Zt=S(7340);function on(H,ce){}const fn={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},nn={dialogContainer:(0,Zt.X$)("dialogContainer",[(0,Zt.SB)("void, exit",(0,Zt.oB)({opacity:0,transform:"scale(0.7)"})),(0,Zt.SB)("enter",(0,Zt.oB)({transform:"none"})),(0,Zt.eR)("* => enter",(0,Zt.ru)([(0,Zt.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Zt.oB)({transform:"none",opacity:1})),(0,Zt.IO)("@*",(0,Zt.pV)(),{optional:!0})]),fn),(0,Zt.eR)("* => void, * => exit",(0,Zt.ru)([(0,Zt.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Zt.oB)({opacity:0})),(0,Zt.IO)("@*",(0,Zt.pV)(),{optional:!0})]),fn)])};class wt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=fn.params.enterAnimationDuration,this.exitAnimationDuration=fn.params.exitAnimationDuration}}let qt=(()=>{class H extends mt{constructor(V,le,Ve,xe,St,be,ht,O){super(V,le,Ve,xe,St,be,ht,O),this._animationStateChanged=new h.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(V){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:V})}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(h.SBq),h.Y36(Se.qV),h.Y36(pe.K0,8),h.Y36(wt),h.Y36(Se.ic),h.Y36(h.R0b),h.Y36(N.Iu),h.Y36(Se.tE))},H.\u0275cmp=h.Xpm({type:H,selectors:[["ng-component"]],features:[h.qOj],decls:0,vars:0,template:function(V,le){},encapsulation:2}),H})(),$t=(()=>{class H extends qt{constructor(V,le,Ve,xe,St,be,ht,O,ie){super(V,le,Ve,xe,St,be,ht,ie),this._changeDetectorRef=O,this._state="enter"}_onAnimationDone({toState:V,totalTime:le}){"enter"===V?this._openAnimationDone(le):"exit"===V&&this._animationStateChanged.next({state:"closed",totalTime:le})}_onAnimationStart({toState:V,totalTime:le}){"enter"===V?this._animationStateChanged.next({state:"opening",totalTime:le}):("exit"===V||"void"===V)&&this._animationStateChanged.next({state:"closing",totalTime:le})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||fn.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||fn.params.exitAnimationDuration}}}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(h.SBq),h.Y36(Se.qV),h.Y36(pe.K0,8),h.Y36(wt),h.Y36(Se.ic),h.Y36(h.R0b),h.Y36(N.Iu),h.Y36(h.sBO),h.Y36(Se.tE))},H.\u0275cmp=h.Xpm({type:H,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(V,le){1&V&&h.WFA("@dialogContainer.start",function(xe){return le._onAnimationStart(xe)})("@dialogContainer.done",function(xe){return le._onAnimationDone(xe)}),2&V&&(h.Ikx("id",le._config.id),h.uIk("aria-modal",le._config.ariaModal)("role",le._config.role)("aria-labelledby",le._config.ariaLabel?null:le._ariaLabelledBy)("aria-label",le._config.ariaLabel)("aria-describedby",le._config.ariaDescribedBy||null),h.d8E("@dialogContainer",le._getAnimationState()))},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(V,le){1&V&&h.YNc(0,on,0,0,"ng-template",0)},dependencies:[tt.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[nn.dialogContainer]}}),H})();class rn{constructor(ce,V,le){this._ref=ce,this._containerInstance=le,this._afterOpened=new X.x,this._beforeClosed=new X.x,this._state=0,this.disableClose=V.disableClose,this.id=ce.id,le._animationStateChanged.pipe((0,At.h)(Ve=>"opened"===Ve.state),(0,Jt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),le._animationStateChanged.pipe((0,At.h)(Ve=>"closed"===Ve.state),(0,Jt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ce.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Rt.T)(this.backdropClick(),this.keydownEvents().pipe((0,At.h)(Ve=>Ve.keyCode===ge.hY&&!this.disableClose&&!(0,ge.Vb)(Ve)))).subscribe(Ve=>{this.disableClose||(Ve.preventDefault(),function Qt(H,ce,V){H._closeInteractionType=ce,H.close(V)}(this,"keydown"===Ve.type?"keyboard":"mouse"))})}close(ce){this._result=ce,this._containerInstance._animationStateChanged.pipe((0,At.h)(V=>"closing"===V.state),(0,Jt.q)(1)).subscribe(V=>{this._beforeClosed.next(ce),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),V.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(ce){let V=this._ref.config.positionStrategy;return ce&&(ce.left||ce.right)?ce.left?V.left(ce.left):V.right(ce.right):V.centerHorizontally(),ce&&(ce.top||ce.bottom)?ce.top?V.top(ce.top):V.bottom(ce.bottom):V.centerVertically(),this._ref.updatePosition(),this}updateSize(ce="",V=""){return this._ref.updateSize(ce,V),this}addPanelClass(ce){return this._ref.addPanelClass(ce),this}removePanelClass(ce){return this._ref.removePanelClass(ce),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Cn=new h.OlP("MatDialogData"),Xt=new h.OlP("mat-dialog-default-options"),gn=new h.OlP("mat-dialog-scroll-strategy"),kn={provide:gn,deps:[N.aV],useFactory:function Un(H){return()=>H.scrollStrategies.block()}};let Wn=0,$n=(()=>{class H{constructor(V,le,Ve,xe,St,be,ht,O,ie,Re){this._overlay=V,this._defaultOptions=Ve,this._parentDialog=xe,this._dialogRefConstructor=ht,this._dialogContainerType=O,this._dialogDataToken=ie,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new X.x,this._afterOpenedAtThisLevel=new X.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,ye.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ut.O)(void 0))),this._scrollStrategy=be,this._dialog=le.get(rt)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const V=this._parentDialog;return V?V._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(V,le){let Ve;(le={...this._defaultOptions||new wt,...le}).id=le.id||`${this._idPrefix}${Wn++}`,le.scrollStrategy=le.scrollStrategy||this._scrollStrategy();const xe=this._dialog.open(V,{...le,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:wt,useValue:le},{provide:Pt,useValue:le}]},templateContext:()=>({dialogRef:Ve}),providers:(St,be,ht)=>(Ve=new this._dialogRefConstructor(St,le,ht),Ve.updatePosition(le?.position),[{provide:this._dialogContainerType,useValue:ht},{provide:this._dialogDataToken,useValue:be.data},{provide:this._dialogRefConstructor,useValue:Ve}])});return Ve.componentInstance=xe.componentInstance,this.openDialogs.push(Ve),this.afterOpened.next(Ve),Ve.afterClosed().subscribe(()=>{const St=this.openDialogs.indexOf(Ve);St>-1&&(this.openDialogs.splice(St,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ve}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(V){return this.openDialogs.find(le=>le.id===V)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(V){let le=V.length;for(;le--;)V[le].close()}}return H.\u0275fac=function(V){h.$Z()},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),H})(),Hn=(()=>{class H extends $n{constructor(V,le,Ve,xe,St,be,ht,O){super(V,le,xe,be,ht,St,rn,$t,Cn,O)}}return H.\u0275fac=function(V){return new(V||H)(h.LFG(N.aV),h.LFG(h.zs3),h.LFG(pe.Ye,8),h.LFG(Xt,8),h.LFG(gn),h.LFG(H,12),h.LFG(N.Xj),h.LFG(h.QbO,8))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),H})(),Be=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275dir=h.lG2({type:H,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),H})(),ae=(()=>{class H{constructor(){this.align="start"}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275dir=h.lG2({type:H,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(V,le){2&V&&h.ekj("mat-dialog-actions-align-center","center"===le.align)("mat-dialog-actions-align-end","end"===le.align)},inputs:{align:"align"}}),H})(),nt=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({providers:[Hn,kn],imports:[st,N.U8,tt.eL,pt.BQ,pt.BQ]}),H})();var Ze=S(9101),Ct=S(3683),Wt=S(2722),cn=S(590),Gt=S(1281),yt=S(3336),Le=S(4144);function vt(H,ce){1&H&&(h.ynx(0),h._uU(1,"\xb7"),h.BQk())}function Ht(H,ce){1&H&&(h.ynx(0),h._uU(1,"\xb7"),h.BQk())}const un=function(H,ce){return{selected:H,disabled:ce}};function Rn(H,ce){if(1&H&&(h.ynx(0),h.TgZ(1,"button",8),h.YNc(2,Ht,2,0,"ng-container",6),h.qZA(),h.BQk()),2&H){const V=ce.$implicit,le=h.oxw();h.xp6(1),h.Udp("transform","translate("+V.translateX+"px, "+V.translateY+"px)"),h.Q6J("ngClass",h.WLB(4,un,le.formattedValue===V.display||0===V.display&&0===le.formattedValue,!le.isAvailable(60===V.display?0:V.display))),h.xp6(1),h.Q6J("ngIf",V.display%5!=0)}}function _n(H,ce){if(1&H&&h._uU(0),2&H){const V=h.oxw().$implicit;h.Oqu(V.display)}}function Ot(H,ce){if(1&H&&h._uU(0),2&H){const V=h.oxw().$implicit;h.Oqu(60===V.display?"00":V.display)}}function Mt(H,ce){1&H&&h.GkF(0)}function te(H,ce){if(1&H&&(h.ynx(0),h.TgZ(1,"button",9),h.YNc(2,_n,1,1,"ng-template",null,10,h.W1O),h.YNc(4,Ot,1,1,"ng-template",null,11,h.W1O),h.YNc(6,Mt,1,0,"ng-container",12),h.qZA(),h.BQk()),2&H){const V=ce.$implicit,le=h.MAs(3),Ve=h.MAs(5),xe=h.oxw();h.xp6(1),h.Udp("transform","translate("+V.translateX+"px, "+V.translateY+"px)"),h.Q6J("ngClass",h.WLB(6,un,xe.formattedValue===V.display||60===V.display&&0===xe.formattedValue,!xe.isAvailable(60===V.display?0:V.display))),h.xp6(5),h.Q6J("ngIf","minutes"===xe.viewType)("ngIfThen",Ve)("ngIfElse",le)}}function oe(H,ce){if(1&H&&(h.ynx(0),h.TgZ(1,"button",13),h._uU(2),h.qZA(),h.BQk()),2&H){const V=ce.$implicit,le=h.oxw();h.xp6(1),h.Udp("transform","translate("+V.translateX+"px, "+V.translateY+"px)"),h.Q6J("ngClass",h.WLB(4,un,le.formattedValue===V.display||24===V.display&&0===le.formattedValue,!le.isAvailable(24===V.display?0:V.display))),h.xp6(1),h.hij(" ",24===V.display?"00":V.display," ")}}const K=function(H,ce){return{"small-pointer":H,"animated-pointer":ce}},z=function(H){return{"outer-dot-odd":H}};function ue(H,ce){if(1&H){const V=h.EpF();h.TgZ(0,"button",14),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.cancelClickHandler())}),h._uU(1),h.qZA()}if(2&H){const V=h.oxw();h.Q6J("color",V.color),h.xp6(1),h.Oqu(V.cancelLabel)}}function J(H,ce){if(1&H){const V=h.EpF();h.TgZ(0,"button",15),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.okClickHandler())}),h._uU(1),h.qZA()}if(2&H){const V=h.oxw();h.Q6J("disabled",V.invalidSelection)("color",V.color),h.xp6(1),h.Oqu(V.okLabel)}}function ft(H,ce){1&H&&h.GkF(0)}function it(H,ce){1&H&&h._UZ(0,"div",4)}const It=function(H){return{select:H}};function Bt(H,ce){if(1&H){const V=h.EpF();h.TgZ(0,"div",16)(1,"span",17),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.setPm())}),h._uU(2),h.ALo(3,"uppercase"),h.qZA(),h.TgZ(4,"span",17),h.NdJ("click",function(){h.CHM(V);const Ve=h.oxw();return h.KtG(Ve.setAm())}),h._uU(5),h.ALo(6,"uppercase"),h.qZA()()}if(2&H){const V=h.oxw();h.xp6(1),h.Q6J("ngClass",h.VKq(8,It,V.isPm)),h.xp6(1),h.Oqu(h.lcZ(3,4,V.postMeridiemAbbreviation)),h.xp6(2),h.Q6J("ngClass",h.VKq(10,It,!V.isPm)),h.xp6(1),h.Oqu(h.lcZ(6,6,V.anteMeridiemAbbreviation))}}function We(H,ce){1&H&&h.GkF(0)}function qe(H,ce){1&H&&h.GkF(0)}const Ce=function(H,ce){return{label:H,$implicit:ce}};function Te(H){return H<10?`0${H}`:`${H}`}function Ne(H,ce){const V=H>=12;return"24h"===ce?{hour:H,isPm:V}:0===H||12===H?{hour:12,isPm:V}:H<12?{hour:H,isPm:V}:{hour:H-12,isPm:V}}function Ye(H,ce,V){const le=+V;return(!H||+H<=le)&&(!ce||le<=+ce)}function re(H,ce,V,le,Ve,xe){if(H>24||H<0||ce>60||ce<0)return!1;if(!V&&!le)return!0;"12h"===Ve&&(12===H&&"AM"===xe&&(H=0),H>12&&(H-=12));const St=new Date;return St.setHours(H),St.setMinutes(ce),St.setSeconds(0),St.setMilliseconds(0),Ye(V,le,St)}let _e=(()=>{class H{constructor(){this.color="primary",this.changeEvent=new h.vpe,this.unavailableSelection=new h.vpe,this.invalidMeridiem=new h.vpe,this.invalidSelection=new h.vpe,this.clearInvalidMeridiem=new h.vpe,this.allowed12HourMap=null,this.allowed24HourMap=null,this.isFormattedValueAllowed=!0,this.meridiem=null,this.touching=!1,this.numbers=[],this.secondaryNumbers=[],this.minuteDots=[],this.invalidMeridiemEmitted=!0,this.handleTouchMove=V=>{V.preventDefault();const le=V.target.getBoundingClientRect();this.movePointer(V.changedTouches[0].clientX-le.left,V.changedTouches[0].clientY-le.top)}}initIsAllowedFn(){!this.allowed12HourMap&&!this.allowed24HourMap||(this.isAvailableFn=function de(H,ce,V){return(le,Ve,xe,St)=>{const be="hours"===Ve,[ht,O]=be?[le,null]:[St,le];if("12h"===V){if(!H)return!0;const ie=xe?"pm":"am";return be?!!Object.values(H[ie][ht]).find(Re=>!0===Re):H[ie][ht][O]}return!ce||(be?!!Object.values(ce[ht]).find(ie=>!0===ie):ce[ht][O])}}(this.allowed12HourMap,this.allowed24HourMap,this.mode))}isAvailable(V){return!this.isAvailableFn||this.isAvailableFn(V,this.viewType,this.isPm,this.formattedHours)}ngOnChanges(V){(V.allowed12HourMap||V.allowed24HourMap||V.mode&&!V.mode.firstChange)&&this.initIsAllowedFn(),this.calculateAngule(),this.setNumbers(),this.meridiem=this.isPm?"PM":"AM",V.formattedValue&&(this.allowed12HourMap||this.allowed24HourMap)&&(this.isFormattedValueAllowed=this.isAvailable(this.formattedValue));const le=!this.isAvailableFn||this.isAvailableFn(this.minutes,"minutes",this.isPm,this.formattedHours);le&&this.invalidMeridiemEmitted&&(this.clearInvalidMeridiem.emit(),this.invalidMeridiemEmitted=!1),this.invalidSelection.emit(!le)}calculateAngule(){this.angle=this.getPointerAngle(this.formattedValue,this.viewType)}setNumbers(){if("hours"===this.viewType){if("12h"===this.mode){const V=this.isPm?"pm":"am";this.numbers=this.getNumbers(12,{size:256},this.allowed12HourMap?Ve=>this.allowed12HourMap[V][Ve+1][0]:void 0),this.secondaryNumbers=[],this.minuteDots=[]}else if("24h"===this.mode){const V=this.allowed24HourMap?le=>this.allowed24HourMap[le][0]:void 0;this.numbers=this.getNumbers(12,{size:256},V),this.secondaryNumbers=this.getNumbers(12,{size:192,start:13},V),this.minuteDots=[]}}else{const V=this.isPm?"pm":"am",le=this.allowed12HourMap?Ve=>this.allowed12HourMap[V][this.formattedHours][Ve]:this.allowed24HourMap?Ve=>this.allowed24HourMap[this.formattedHours][Ve]:void 0;this.numbers=this.getNumbers(12,{size:256,start:5,step:5},le),this.minuteDots=this.getNumbers(60,{size:256,start:13}).map(Ve=>Ve.display<=59?(Ve.allowed=!le||le(Ve.display),Ve):(Ve.display=Ve.display-60,Ve.allowed=!le||le(Ve.display),Ve)),this.secondaryNumbers=[]}}disableAnimatedPointer(){this.touching=!0}enableAnimatedPointer(){this.touching=!1}handleTouchEnd(V){this.handleTouchMove(V),this.enableAnimatedPointer()}handleMouseMove(V){if((1===V.buttons||1===V.which)&&this.touching){const le=V.target.getBoundingClientRect();this.movePointer(V.clientX-le.left,V.clientY-le.top)}}handleClick(V){const le=V.target.getBoundingClientRect();this.movePointer(V.clientX-le.left,V.clientY-le.top)}movePointer(V,le){const Ve=this.getPointerValue(V,le,256);this.isAvailable(Ve)?Ve!==this.formattedValue&&(this.changeEvent.emit({value:Ve,type:this.viewType}),"minutes"!==this.viewType&&(this.isAvailable(Ve)||(this.minDate&&this.isAvailable(Ve)?this.changeEvent.emit({value:this.minDate.getMinutes(),type:"minutes"}):this.maxDate&&this.isAvailable(Ve)&&this.changeEvent.emit({value:this.maxDate.getMinutes(),type:"minutes"})))):this.unavailableSelection.emit()}getNumbers(V,{size:le,start:Ve=1,step:xe=1},St){return Array.apply(null,Array(V)).map((be,ht)=>({display:ht*xe+Ve,translateX:(le/2-20)*Math.cos(2*Math.PI*(ht-2)/V),translateY:(le/2-20)*Math.sin(2*Math.PI*(ht-2)/V),allowed:!St||St(ht)}))}getPointerAngle(V,le){return"hours"===this.viewType?"12h"===this.mode?30*(V-3):30*(V%12-3):6*(V-15)}getPointerValue(V,le,Ve){let xe,St=Math.atan2(Ve/2-V,Ve/2-le)/Math.PI*180;if(St<0&&(St=360+St),"hours"===this.viewType){if("12h"===this.mode)return xe=12-Math.round(12*St/360),0===xe?12:xe;const be=Math.sqrt(Math.pow(Ve/2-V,2)+Math.pow(Ve/2-le,2));return xe=12-Math.round(12*St/360),0===xe&&(xe=12),be<Ve/2-32&&(xe=12===xe?0:xe+12),xe}return xe=Math.round(60-60*St/360),60===xe?0:xe}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275cmp=h.Xpm({type:H,selectors:[["mat-clock"]],inputs:{mode:"mode",viewType:"viewType",color:"color",formattedValue:"formattedValue",minDate:"minDate",maxDate:"maxDate",isPm:"isPm",formattedHours:"formattedHours",minutes:"minutes",allowed12HourMap:"allowed12HourMap",allowed24HourMap:"allowed24HourMap"},outputs:{changeEvent:"changeEvent",unavailableSelection:"unavailableSelection",invalidMeridiem:"invalidMeridiem",invalidSelection:"invalidSelection",clearInvalidMeridiem:"clearInvalidMeridiem"},features:[h.TTD],decls:10,vars:16,consts:[[1,"root"],[1,"circle",3,"touchmove","mousemove","touchstart","mousedown","touchend","mouseup","click"],[1,"pointer-container",3,"ngClass"],["mat-mini-fab","",1,"inner-dot",3,"color"],[1,"pointer",3,"color"],["mat-mini-fab","",1,"outer-dot",3,"color","ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"number","minute-dot",3,"ngClass"],[1,"number",3,"ngClass"],["hoursTemplate",""],["minutesTemplate",""],[4,"ngIf","ngIfThen","ngIfElse"],[1,"number","small-number",3,"ngClass"]],template:function(V,le){1&V&&(h.TgZ(0,"div",0)(1,"div",1),h.NdJ("touchmove",function(xe){return le.handleTouchMove(xe)})("mousemove",function(xe){return le.handleMouseMove(xe)})("touchstart",function(){return le.disableAnimatedPointer()})("mousedown",function(){return le.disableAnimatedPointer()})("touchend",function(xe){return le.handleTouchEnd(xe)})("mouseup",function(){return le.enableAnimatedPointer()})("click",function(xe){return le.handleClick(xe)}),h.TgZ(2,"div",2),h._UZ(3,"button",3),h.TgZ(4,"mat-toolbar",4)(5,"button",5),h.YNc(6,vt,2,0,"ng-container",6),h.qZA()()(),h.YNc(7,Rn,3,7,"ng-container",7),h.YNc(8,te,7,9,"ng-container",7),h.YNc(9,oe,3,7,"ng-container",7),h.qZA()()),2&V&&(h.xp6(2),h.Udp("transform","rotate("+le.angle+"deg)"),h.Q6J("ngClass",h.WLB(11,K,"24h"===le.mode&&"hours"===le.viewType&&(0===le.formattedValue||le.formattedValue>12),!le.touching)),h.xp6(1),h.Q6J("color",le.color),h.xp6(1),h.Q6J("color",le.color),h.xp6(1),h.Q6J("color",le.color)("ngClass",h.VKq(14,z,"minutes"===le.viewType&&le.formattedValue%5!=0)),h.xp6(1),h.Q6J("ngIf","minutes"===le.viewType&&le.formattedValue%5!=0),h.xp6(1),h.Q6J("ngForOf",le.minuteDots),h.xp6(1),h.Q6J("ngForOf",le.numbers),h.xp6(1),h.Q6J("ngForOf",le.secondaryNumbers))},dependencies:[pe.mk,pe.sg,pe.O5,Ze.lW,Ct.Ye],styles:[".root[_ngcontent-%COMP%]{width:256px;height:256px;cursor:default}.circle[_ngcontent-%COMP%]{width:256px;height:256px;border-radius:50%;position:relative;background:#ededed;cursor:pointer}.number[_ngcontent-%COMP%]{width:32px;height:32px;border:0px;left:calc(50% - 16px);top:calc(50% - 16px);position:absolute;text-align:center;line-height:32px;cursor:pointer;font-size:14px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:transparent!important;background:transparent!important;box-shadow:0 -1px 5px -200px #000!important;-webkit-box-shadow:0px -1px 5px -200px rgb(0,0,0)!important;-moz-box-shadow:0px -1px 5px -200px rgb(0,0,0)!important}.number.disabled[_ngcontent-%COMP%]{color:#0101011a}.number[_ngcontent-%COMP%]:not(.selected):not(.disabled){color:#000000de}.number[_ngcontent-%COMP%]:not(.disabled).minute-dot{color:#010101b3}.number[_ngcontent-%COMP%]:not(.disabled).minute-dot.selected{color:transparent}.small-number[_ngcontent-%COMP%]{font-size:12px}.small-number[_ngcontent-%COMP%]:not(.selected):not(.disabled){color:#000000ab}.pointer-container[_ngcontent-%COMP%]{width:calc(50% - 20px);height:2;position:absolute;left:50%;top:calc(50% - 1px);transform-origin:left center;pointer-events:none}.pointer-container.disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:transparent}.pointer[_ngcontent-%COMP%]{height:1px}.animated-pointer[_ngcontent-%COMP%]{transition:all .2s ease-out}.small-pointer[_ngcontent-%COMP%]{width:calc(50% - 52px)}.inner-dot[_ngcontent-%COMP%]{position:absolute;top:-3px;left:-4px;width:8px;height:8px;border-radius:50%;box-shadow:0 3px 5px -1px #0000,0 6px 10px #0000,0 1px 18px #0000!important;-webkit-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important;-moz-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important}.outer-dot[_ngcontent-%COMP%]{width:32px;height:32px;position:absolute;right:-16px;border-radius:50%;box-sizing:content-box;box-shadow:0 3px 5px -1px #0000,0 6px 10px #0000,0 1px 18px #0000!important;-webkit-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important;-moz-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important}.outer-dot-odd[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-shadow:0 3px 5px -1px #0000,0 6px 10px #0000,0 1px 18px #0000!important;-webkit-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important;-moz-box-shadow:0px 3px 5px -1px rgba(0,0,0,0),0px 6px 10px 0px rgba(0,0,0,0),0px 1px 18px 0px rgba(0,0,0,0)!important}"],changeDetection:0}),H})(),Ie=(()=>{class H{constructor(V){this.data=V,this.twoDigits=Te,this.changeEvent=new h.vpe,this.okClickEvent=new h.vpe,this.cancelClickEvent=new h.vpe,this.allowed24HourMap=null,this.allowed12HourMap=null,this.invalidSelection=!1,this.viewType="hours",this.isPm=!1,this.skipMinuteAutoSwitch=!1,this.autoSwitchID=null,this.invalidMedianID=null,this.hasInvalidMeridiem=!1,this.editHoursClicked=!1,this.isClosing=!1,this.okClickHandler=()=>{this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.okClickEvent.emit(this.value)},this.cancelClickHandler=()=>{this.cancelClickEvent.emit()},this.isPm=V.isPm,this.bindData(V),this.value=V.value}set value(V){V=V||this.minDate||this.maxDate||new Date,this.hours=V.getHours(),this.minutes=V.getMinutes(),this._value=V}get value(){return this._value}set hours(V){this._hours=V,this._formattedHour=Ne(this.hours,this.mode).hour}get hours(){return this._hours}get formattedHours(){return this._formattedHour}bindData(V){this.mode=V.mode,this.okLabel=V.okLabel,this.cancelLabel=V.cancelLabel,this.okButtonTemplate=V.okButtonTemplate,this.cancelButtonTemplate=V.cancelButtonTemplate,this.anteMeridiemAbbreviation=V.anteMeridiemAbbreviation,this.postMeridiemAbbreviation=V.postMeridiemAbbreviation,this.color=V.color,this.minDate=V.minDate,this.maxDate=V.maxDate,this.allowed12HourMap=V.allowed12HourMap,this.allowed24HourMap=V.allowed24HourMap}ngDoCheck(){this.bindData(this.data)}handleClockChange({value:V,type:le}){(this.hasInvalidMeridiem&&"12h"===this.mode||"24h"===this.mode&&"hours"===le&&(this.hours>=12&&V<12||this.hours<12&&V>=12))&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),le&&"hours"===le||!le&&"hours"===this.viewType?this.hours=V:(le&&"minutes"===le||!le&&"minutes"===this.viewType)&&(this.minutes=V);const xe=new Date;xe.setHours(this.isPm?this.hours<12?this.hours+12:this.hours:12===this.hours?0:this.hours),xe.setMinutes(this.minutes),xe.setSeconds(0),xe.setMilliseconds(0),this.value=xe,this.changeEvent.emit(xe)}clearInvalidMeridiem(){this.hasInvalidMeridiem=!1}handleUnavailableSelection(){clearTimeout(this.autoSwitchID)}handleClockChangeDone(V){V.preventDefault(),"hours"===this.viewType&&!this.skipMinuteAutoSwitch&&(this.autoSwitchID=setTimeout(()=>{this.editMinutes(),this.autoSwitchID=null},300))}editHours(){this.viewType="hours",this.editHoursClicked=!0,setTimeout(()=>{this.editHoursClicked=!1},0)}editMinutes(){this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.viewType="minutes"}invalidSelectionHandler(V){this.invalidSelection=V}invalidMeridiem(){if("minutes"!==this.viewType&&this.editHoursClicked){if(this.invalidMedianID)return;this.invalidMedianID=setTimeout(()=>{this.isPm=!this.isPm,this.hasInvalidMeridiem=!1},0)}else this.hasInvalidMeridiem=!0}meridiemChange(V){const le={type:this.viewType,value:"hours"===this.viewType?V:this.value.getMinutes()};this.handleClockChange(le)}setAm(){this.hours>=12&&(this.hours=this.hours-12),this.isPm=!1,this.meridiemChange(this.hours)}setPm(){this.hours<12&&(this.hours=this.hours+12),this.isPm=!0,this.meridiemChange(this.hours)}}return H.\u0275fac=function(V){return new(V||H)(h.Y36(Cn))},H.\u0275cmp=h.Xpm({type:H,selectors:[["mat-timepicker-dialog"]],outputs:{changeEvent:"changeEvent",okClickEvent:"okClickEvent",cancelClickEvent:"cancelClickEvent"},decls:25,vars:33,consts:[["defaultCancelButtonTemplate",""],["defaultOkButtonTemplate",""],[1,"root"],[1,"header",3,"color"],[1,"placeholder"],[1,"time-frame"],[1,"time","fixed-font-size",3,"ngClass","click"],[1,"fixed-font-size"],[4,"ngIf","ngIfThen","ngIfElse"],["normal",""],["ampm",""],[1,"body"],[3,"allowed12HourMap","allowed24HourMap","minDate","maxDate","color","viewType","mode","formattedHours","minutes","formattedValue","isPm","changeEvent","unavailableSelection","invalidMeridiem","mouseup","clearInvalidMeridiem","touchend","invalidSelection"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",3,"color","click"],["mat-button","",3,"disabled","color","click"],[1,"ampm"],[1,"time",3,"ngClass","click"]],template:function(V,le){if(1&V&&(h.YNc(0,ue,2,2,"ng-template",null,0,h.W1O),h.YNc(2,J,2,3,"ng-template",null,1,h.W1O),h.TgZ(4,"mat-dialog-content")(5,"div",2)(6,"mat-toolbar",3),h._UZ(7,"div",4),h.TgZ(8,"div",5)(9,"span",6),h.NdJ("click",function(){return le.editHours()}),h._uU(10),h.qZA(),h.TgZ(11,"span",7),h._uU(12,":"),h.qZA(),h.TgZ(13,"span",6),h.NdJ("click",function(){return le.editMinutes()}),h._uU(14),h.qZA()(),h.YNc(15,ft,1,0,"ng-container",8),h.YNc(16,it,1,0,"ng-template",null,9,h.W1O),h.YNc(18,Bt,7,12,"ng-template",null,10,h.W1O),h.qZA(),h.TgZ(20,"div",11)(21,"mat-clock",12),h.NdJ("changeEvent",function(xe){return le.handleClockChange(xe)})("unavailableSelection",function(){return le.handleUnavailableSelection()})("invalidMeridiem",function(){return le.invalidMeridiem()})("mouseup",function(xe){return le.handleClockChangeDone(xe)})("clearInvalidMeridiem",function(){return le.clearInvalidMeridiem()})("touchend",function(xe){return le.handleClockChangeDone(xe)})("invalidSelection",function(xe){return le.invalidSelectionHandler(xe)}),h.qZA()()()(),h.TgZ(22,"mat-dialog-actions"),h.YNc(23,We,1,0,"ng-container",13),h.YNc(24,qe,1,0,"ng-container",13),h.qZA()),2&V){const Ve=h.MAs(1),xe=h.MAs(3),St=h.MAs(17),be=h.MAs(19);h.xp6(6),h.Q6J("color",le.color),h.xp6(3),h.Q6J("ngClass",h.VKq(23,It,"hours"===le.viewType&&"active")),h.xp6(1),h.hij(" ",le.twoDigits(le.formattedHours)," "),h.xp6(3),h.Q6J("ngClass",h.VKq(25,It,"minutes"===le.viewType&&"active")),h.xp6(1),h.hij(" ",le.twoDigits(le.minutes)," "),h.xp6(1),h.Q6J("ngIf","12h"===le.mode)("ngIfThen",be)("ngIfElse",St),h.xp6(6),h.Q6J("allowed12HourMap",le.allowed12HourMap)("allowed24HourMap",le.allowed24HourMap)("minDate",le.minDate)("maxDate",le.maxDate)("color",le.color)("viewType",le.viewType)("mode",le.mode)("formattedHours",le.formattedHours)("minutes",le.minutes)("formattedValue","minutes"===le.viewType?le.minutes:le.formattedHours)("isPm",le.isPm),h.xp6(2),h.Q6J("ngTemplateOutlet",le.cancelButtonTemplate||Ve)("ngTemplateOutletContext",h.WLB(27,Ce,le.cancelLabel,le.cancelClickHandler)),h.xp6(1),h.Q6J("ngTemplateOutlet",le.okButtonTemplate||xe)("ngTemplateOutletContext",h.WLB(30,Ce,le.okLabel,le.okClickHandler))}},dependencies:[pe.mk,pe.O5,pe.tP,Be,ae,Ze.lW,Ct.Ye,_e,pe.gd],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-height:395px;padding:0;margin-top:-24px;overflow:hidden}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-right:-8px;margin-left:-8px}.root[_ngcontent-%COMP%]{min-width:282px}.header[_ngcontent-%COMP%]{border-top-left-radius:2px;border-top-right-radius:2px;padding:20px 0;line-height:58px;font-size:58px;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;height:98px}.header[_ngcontent-%COMP%]   .fixed-font-size[_ngcontent-%COMP%]{font-size:58px}.header[_ngcontent-%COMP%]   .time-frame[_ngcontent-%COMP%]{height:60px}.time[_ngcontent-%COMP%]{transition:all .2s ease-out;cursor:pointer}.time[_ngcontent-%COMP%]:not(.select){opacity:.6}.placeholder[_ngcontent-%COMP%]{flex:1}.ampm[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;flex:1;font-size:14px;line-height:20px;margin-left:16px;font-weight:700px}.select[_ngcontent-%COMP%]{color:#fff}.body[_ngcontent-%COMP%]{padding:24px 16px 20px;display:flex;justify-content:center}"]}),H})(),ve=(()=>{class H{constructor(V,le,Ve,xe,St,be,ht,O,ie,Re,bt){this.ngControl=V,this.dialog=le,this.renderer=Ve,this.zone=xe,this.fm=St,this.elRef=be,this._platform=ht,this._parentForm=O,this._matFormFiled=ie,this._parentFormGroup=Re,this._errorState=!1,this._disabled=!1,this._readonly=!1,this.isAlive=new X.x,this.stateChanges=new X.x,this._uid="mat-time-picker-"+H.nextId++,this.describedBy="",this._required=!1,this.focused=!1,this.allowed24HourMap=null,this.allowed12HourMap=null,this.isInputFocused=!1,this.okButtonTemplate=null,this.cancelButtonTemplate=null,this.okLabel="Ok",this.cancelLabel="Cancel",this.anteMeridiemAbbreviation="am",this.postMeridiemAbbreviation="pm",this.mode="24h",this.color="primary",this.disableDialogOpenOnClick=!1,this.strict=!0,this.controlType="angular-material-timepicker",this.listeners=[],this._skipValueChangeEmission=!0,this.combination=[],this.timeChange=new h.vpe,this.invalidInput=new h.vpe,this.clickHandler=Sn=>{this.modalRef&&this.modalRef.componentInstance.isClosing||this.disabled||this.disableDialogOpenOnClick||!this.modalRef&&!this.disableDialogOpenOnClick&&this.showDialog()},this.handleChange=Sn=>{if(!(Sn instanceof Date))return;const fi=this.value instanceof Date?new Date(this.value.getTime()):new Date;fi.setHours(Sn.getHours()),fi.setMinutes(Sn.getMinutes()),fi.setSeconds(0),fi.setMilliseconds(0),this.currentValue=fi},this.handleOk=Sn=>{!this.currentValue&&Sn&&(this.currentValue=Sn),this.onChangeFn&&this.onChangeFn(this.currentValue),this.value=this.currentValue,this.modalRef.close()},this.handleCancel=()=>{this.modalRef.close()},this.id=this.id,this.errorStateMatcher=bt,null!=this.ngControl&&(this.ngControl.valueAccessor=this),ht.IOS&&xe.runOutsideAngular(()=>{be.nativeElement.addEventListener("keyup",Sn=>{const fi=Sn.target;!fi.value&&!fi.selectionStart&&!fi.selectionEnd&&(fi.setSelectionRange(1,1),fi.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser}get errorState(){const V=this._errorState,xe=this.errorStateMatcher?this.errorStateMatcher.isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm):V;return xe!==V&&(this._errorState=xe,this.stateChanges.next()),xe}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(V){this._disabled=(0,Gt.Ig)(V),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(V){this._id=V||this._uid}get readonly(){return this._readonly}set readonly(V){this._readonly=(0,Gt.Ig)(V)}get shouldLabelFloat(){return this.focused||!this.empty}get required(){return this._required}set required(V){this._required=(0,Gt.Ig)(V),this.stateChanges.next()}get placeholder(){return this._placeholder}set placeholder(V){this._placeholder=V,this.stateChanges.next()}set value(V){if(V===this._value)return;if(this._value=V,!V)return this._formattedValueString=null,this.setInputElementValue(""),void(this.currentValue=V);const{hour:le,isPm:Ve}=Ne(V.getHours(),this.mode);this._isPm=Ve,this._formattedValueString="12h"===this.mode?`${le}:${Te(V.getMinutes())} ${Ve?this.postMeridiemAbbreviation:this.anteMeridiemAbbreviation}`:`${Te(V.getHours())}:${Te(V.getMinutes())}`,this.isInputFocused||this.setInputElementValue(this.formattedValueString),this.currentValue=V,this.stateChanges.next(),!this._skipValueChangeEmission&&this.timeChange.emit(this.currentValue)}get value(){return this._value}get isPm(){return this._isPm}get empty(){return!(this.currentValue instanceof Date)}get formattedValueString(){return this._formattedValueString}inputHandler(){let V=this.elRef.nativeElement.value;const le=V.length;if(0===le)return this.writeValue(null,!0),void(this.onChangeFn&&this.onChangeFn(null));const Ve=V.match(/am|pm/i);let xe=null;Ve&&(V=V.replace(Ve[0],""),[xe]=Ve);const St=V.includes(":");let[be,ht]=1===le?[V,0]:2!==le||St?St?V.split(":"):V.split(/(\d\d)/).filter(Re=>Re):[V,0];if(be=+be,/\s/.test(ht)){let Re;[ht,Re]=ht.split(/\s/),"pm"===Re&&!isNaN(be)&&be<12&&(be+=12)}if(ht=+ht,isNaN(be)||isNaN(ht))return void this.writeValue(null,!0);be<12&&xe&&"pm"===xe.toLowerCase()?be+=12:be>=12&&xe&&"am"===xe.toLowerCase()&&(be-=12),"12h"===this.mode&&+be<0?be="0":+be>24?be="24":+be<0&&(be="0"),+ht>59?ht="59":+ht<0&&(ht="0");const O=this.value?new Date(this.value.getTime()):new Date;O.setHours(+be),O.setMinutes(+ht),O.setSeconds(0),O.setMilliseconds(0),Ye(this.minDate,this.maxDate,O)||this.invalidInput.emit(),this.writeValue(O,!0),this.onChangeFn&&this.onChangeFn(O)}keydownHandler(V){if(V.metaKey||V.ctrlKey||V.altKey)return void(this.combination=this.combination.concat(V.code));if(!/^[0-9a-zA-Z\s]{0,1}$/.test(V.key))return;const le=V.target,Ve=le.value;if(`${Ve.slice(0,le.selectionStart)}${V.key}${Ve.slice(le.selectionEnd)}`.match(this.pattern)||this.combination.length>0)return!0;V.preventDefault(),V.stopImmediatePropagation()}keyupHandler(V){this.combination=this.combination.filter(le=>le!==V.code)}focusHandler(){this.isInputFocused=!0}focusoutHandler(){this.isInputFocused=!1,this.setInputElementValue(this.formattedValueString),this.onTouchedFn&&!this.modalRef&&this.onTouchedFn()}setDescribedByIds(V){this.describedBy=V.join(" ")}onContainerClick(V){"input"!==V.target.tagName.toLowerCase()&&this.elRef.nativeElement.focus()}setInputElementValue(V){null==V&&(V=""),Promise.resolve().then(()=>{this.zone.runOutsideAngular(()=>{this.renderer.setProperty(this.elRef.nativeElement,"value",V)})})}validate(){return null==this.currentValue||(this.strict?Ye(this.minDate,this.maxDate,this.currentValue):function Pe(H,ce,V){if(H instanceof Date){const Ve=new Date;Ve.setHours(H.getHours()),Ve.setMinutes(H.getMinutes()),Ve.setSeconds(0),Ve.setMilliseconds(0),H=Ve}if(ce instanceof Date){const Ve=new Date;Ve.setHours(ce.getHours()),Ve.setMinutes(ce.getMinutes()),Ve.setSeconds(0),Ve.setMilliseconds(0),ce=Ve}if(V instanceof Date){const Ve=new Date;Ve.setHours(V.getHours()),Ve.setMinutes(V.getMinutes()),Ve.setSeconds(0),Ve.setMilliseconds(0),V=Ve}const le=+V;return(!H||+H<=le)&&(!ce||le<=+ce)}(this.minDate,this.maxDate,this.currentValue))?null:{dateRange:!0}}ngAfterViewInit(){this.listeners.push(this.renderer.listen(this._matFormFiled?this._matFormFiled._elementRef.nativeElement:this.elRef.nativeElement,"click",this.clickHandler))}ngOnInit(){if(this.ngControl&&this.ngControl.control?.parent){const[Ve]=Object.entries(this.ngControl.control.parent.controls).find(([,St])=>St===this.ngControl.control),xe=this.ngControl.control.parent.get(Ve);this.required=!!xe?.hasValidator(m.kI.required)}else if(this.ngControl){const Ve=this.ngControl?.formDirective?.control?.get(this.ngControl.path)||null;this.required=!!Ve?.hasValidator(m.kI.required)}this._platform.isBrowser&&this.fm.monitor(this.elRef.nativeElement,!0).subscribe(Ve=>{this.focused=!!Ve,this.stateChanges.next()});const V=!!this.maxDate,le=!!this.minDate;(le||V)&&(le&&(this.minDate.setSeconds(0),this.minDate.setMilliseconds(0)),V&&(this.maxDate.setSeconds(0),this.maxDate.setMilliseconds(0)),Promise.resolve().then(()=>this.generateAllowedMap()),this.ngControl._rawValidators.find(Ve=>Ve===this)||(this.ngControl.control.setValidators(this.ngControl._rawValidators.concat(this)),this.ngControl.control.updateValueAndValidity())),this._skipValueChangeEmission=!1}generateAllowedMap(){const V=this.strict&&this.value instanceof Date;if("24h"===this.mode){this.allowed24HourMap={};for(let le=0;le<24;le++)for(let Ve=0;Ve<60;Ve++){const xe=this.allowed24HourMap[le]||{};if(V){const St=new Date(this.value.getTime());St.setHours(le),St.setMinutes(Ve),St.setSeconds(0),St.setMilliseconds(0),xe[Ve]=Ye(this.minDate,this.maxDate,St)}else xe[Ve]=re(le,Ve,this.minDate,this.maxDate,"24h");this.allowed24HourMap[le]=xe}}else{this.allowed12HourMap={am:{},pm:{}};for(let le=0;le<24;le++){const Ve=le<12?"am":"pm";for(let xe=0;xe<60;xe++){const St=le>12?le-12:0===le?12:le,be=this.allowed12HourMap[Ve][St]||{};if(V){const ht=new Date(this.value.getTime());ht.setHours(le),ht.setMinutes(xe),ht.setSeconds(0),ht.setMilliseconds(0),be[xe]=Ye(this.minDate,this.maxDate,ht)}else be[xe]=re(le,xe,this.minDate,this.maxDate,"24h");this.allowed12HourMap[Ve][St]=be}}}}ngOnChanges(V){this.pattern="24h"===this.mode?/^[0-9]{1,2}:?([0-9]{1,2})?$/:/^[0-9]{1,2}:?([0-9]{1,2})?\s?(a|p)?m?$/,(V.minDate&&!V.minDate.isFirstChange()&&+V.minDate.currentValue!==V.minDate.previousValue||V.maxDate&&!V.maxDate.isFirstChange()&&+V.maxDate.currentValue!==V.maxDate.previousValue||V.disableLimitBase&&!V.disableLimitBase.isFirstChange()&&+V.disableLimitBase.currentValue!==V.disableLimitBase.previousValue)&&(this.generateAllowedMap(),this.ngControl.control.updateValueAndValidity()),this.modalRef&&this.modalRef.componentInstance&&(this.modalRef.componentInstance.data={mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,okButtonTemplate:this.okButtonTemplate,cancelButtonTemplate:this.cancelButtonTemplate,anteMeridiemAbbreviation:this.anteMeridiemAbbreviation,postMeridiemAbbreviation:this.postMeridiemAbbreviation,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap})}checkValidity(V){return!!V&&re(V.getHours(),V.getMinutes(),this.minDate,this.maxDate,this.mode,this.isPm?"PM":"AM")}writeValue(V,le=!1){le||(this._skipValueChangeEmission=!0,Promise.resolve().then(()=>this._skipValueChangeEmission=!1)),V&&(V.setSeconds(0),V.setMilliseconds(0)),+this.value!=+V&&(this.value=V)}registerOnChange(V){this.onChangeFn=V}registerOnTouched(V){this.onTouchedFn=V}setDisabledState(V){this.disabled=V}showDialog(){if(this.disabled)return;this.isInputFocused=!1,this.modalRef=this.dialog.open(Ie,{autoFocus:!1,data:{mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,okButtonTemplate:this.okButtonTemplate,cancelButtonTemplate:this.cancelButtonTemplate,anteMeridiemAbbreviation:this.anteMeridiemAbbreviation,postMeridiemAbbreviation:this.postMeridiemAbbreviation,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap}});const V=this.modalRef.componentInstance;V.changeEvent.pipe((0,Wt.R)(this.isAlive)).subscribe(this.handleChange),V.okClickEvent.pipe((0,Wt.R)(this.isAlive)).subscribe(this.handleOk),V.cancelClickEvent.pipe((0,Wt.R)(this.isAlive)).subscribe(this.handleCancel),this.modalRef.beforeClosed().pipe((0,cn.P)()).subscribe(()=>V.isClosing=!0),this.modalRef.afterClosed().pipe((0,cn.P)()).subscribe(()=>{this.onTouchedFn&&this.onTouchedFn(),this.modalRef=null,this.elRef.nativeElement.focus()}),this.currentValue=this.value}ngOnDestroy(){this.isAlive.next(),this.isAlive.complete(),this.stateChanges.complete(),this._platform.isBrowser&&this.fm.stopMonitoring(this.elRef.nativeElement),this.listeners.forEach(V=>V())}}return H.nextId=0,H.\u0275fac=function(V){return new(V||H)(h.Y36(m.a5,10),h.Y36(Hn),h.Y36(h.Qsj),h.Y36(h.R0b),h.Y36(Se.tE),h.Y36(h.SBq),h.Y36(et.t4),h.Y36(m.F,8),h.Y36(A.KE,8),h.Y36(m.sg,8),h.Y36(pt.rD))},H.\u0275dir=h.lG2({type:H,selectors:[["input","matTimepicker",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(V,le){1&V&&h.NdJ("input",function(){return le.inputHandler()})("keydown",function(xe){return le.keydownHandler(xe)})("keyup",function(xe){return le.keyupHandler(xe)})("focus",function(){return le.focusHandler()})("focusout",function(){return le.focusoutHandler()}),2&V&&(h.Ikx("disabled",le.disabled)("required",le.required),h.uIk("id",le.id)("placeholder",le.placeholder)("readonly",le.readonly||null)("aria-invalid",le.errorState)("aria-required",le.required.toString())("aria-describedby",le.describedBy),h.ekj("mat-input-server",le._isServer)("floating",le.shouldLabelFloat))},inputs:{disabled:"disabled",id:"id",readonly:"readonly",errorStateMatcher:"errorStateMatcher",required:"required",placeholder:"placeholder",okButtonTemplate:"okButtonTemplate",cancelButtonTemplate:"cancelButtonTemplate",okLabel:"okLabel",cancelLabel:"cancelLabel",anteMeridiemAbbreviation:"anteMeridiemAbbreviation",postMeridiemAbbreviation:"postMeridiemAbbreviation",mode:"mode",color:"color",disableDialogOpenOnClick:"disableDialogOpenOnClick",strict:"strict",minDate:"minDate",maxDate:"maxDate",value:"value"},outputs:{timeChange:"timeChange",invalidInput:"invalidInput"},exportAs:["matTimepicker"],features:[h._Bn([{provide:A.Eo,useExisting:H}]),h.TTD]}),H})(),Ee=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({imports:[pe.ez,nt,Ze.ot,Ct.g0,yt.Ps,Le.c]}),H})()},5861:(bn,Tt,S)=>{function m(A,Se,N,et,tt,pe,ge){try{var X=A[pe](ge),ye=X.value}catch(we){return void N(we)}X.done?Se(ye):Promise.resolve(ye).then(et,tt)}function h(A){return function(){var Se=this,N=arguments;return new Promise(function(et,tt){var pe=A.apply(Se,N);function ge(ye){m(pe,et,tt,ge,X,"next",ye)}function X(ye){m(pe,et,tt,ge,X,"throw",ye)}ge(void 0)})}}S.d(Tt,{Z:()=>h})}},bn=>{bn(bn.s=5085)}]);